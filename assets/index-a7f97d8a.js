(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Ju(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const vt={},Pr=[],Pe=()=>{},e0=()=>!1,n0=/^on[^a-z]/,ko=e=>n0.test(e),Zu=e=>e.startsWith("onUpdate:"),Vt=Object.assign,tl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},r0=Object.prototype.hasOwnProperty,ot=(e,t)=>r0.call(e,t),K=Array.isArray,Sr=e=>si(e)==="[object Map]",xo=e=>si(e)==="[object Set]",Fc=e=>si(e)==="[object Date]",J=e=>typeof e=="function",Nt=e=>typeof e=="string",xs=e=>typeof e=="symbol",yt=e=>e!==null&&typeof e=="object",Gd=e=>yt(e)&&J(e.then)&&J(e.catch),Wd=Object.prototype.toString,si=e=>Wd.call(e),s0=e=>si(e).slice(8,-1),As=e=>si(e)==="[object Object]",el=e=>Nt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ki=Ju(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),No=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},i0=/-(\w)/g,We=No(e=>e.replace(i0,(t,n)=>n?n.toUpperCase():"")),o0=/\B([A-Z])/g,Yr=No(e=>e.replace(o0,"-$1").toLowerCase()),Fo=No(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pa=No(e=>e?`on${Fo(e)}`:""),Ns=(e,t)=>!Object.is(e,t),Gi=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ro=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},so=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Oc;const ru=()=>Oc||(Oc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nl(e){if(K(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Nt(r)?c0(r):nl(r);if(s)for(const i in s)t[i]=s[i]}return t}else{if(Nt(e))return e;if(yt(e))return e}}const a0=/;(?![^(]*\))/g,u0=/:([^]+)/,l0=/\/\*[^]*?\*\//g;function c0(e){const t={};return e.replace(l0,"").split(a0).forEach(n=>{if(n){const r=n.split(u0);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function rl(e){let t="";if(Nt(e))t=e;else if(K(e))for(let n=0;n<e.length;n++){const r=rl(e[n]);r&&(t+=r+" ")}else if(yt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const h0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",d0=Ju(h0);function Qd(e){return!!e||e===""}function f0(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Oo(e[r],t[r]);return n}function Oo(e,t){if(e===t)return!0;let n=Fc(e),r=Fc(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=xs(e),r=xs(t),n||r)return e===t;if(n=K(e),r=K(t),n||r)return n&&r?f0(e,t):!1;if(n=yt(e),r=yt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),u=t.hasOwnProperty(o);if(a&&!u||!a&&u||!Oo(e[o],t[o]))return!1}}return String(e)===String(t)}function p0(e,t){return e.findIndex(n=>Oo(n,t))}const et=e=>Nt(e)?e:e==null?"":K(e)||yt(e)&&(e.toString===Wd||!J(e.toString))?JSON.stringify(e,Xd,2):String(e),Xd=(e,t)=>t&&t.__v_isRef?Xd(e,t.value):Sr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:xo(t)?{[`Set(${t.size})`]:[...t.values()]}:yt(t)&&!K(t)&&!As(t)?String(t):t;let Re;class m0{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Re,!t&&Re&&(this.index=(Re.scopes||(Re.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Re;try{return Re=this,t()}finally{Re=n}}}on(){Re=this}off(){Re=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function g0(e,t=Re){t&&t.active&&t.effects.push(e)}function C0(){return Re}const sl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Yd=e=>(e.w&Pn)>0,Jd=e=>(e.n&Pn)>0,_0=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Pn},y0=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];Yd(s)&&!Jd(s)?s.delete(e):t[n++]=s,s.w&=~Pn,s.n&=~Pn}t.length=n}},su=new WeakMap;let ms=0,Pn=1;const iu=30;let Be;const Zn=Symbol(""),ou=Symbol("");class il{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,g0(this,r)}run(){if(!this.active)return this.fn();let t=Be,n=In;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Be,Be=this,In=!0,Pn=1<<++ms,ms<=iu?_0(this):Vc(this),this.fn()}finally{ms<=iu&&y0(this),Pn=1<<--ms,Be=this.parent,In=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Be===this?this.deferStop=!0:this.active&&(Vc(this),this.onStop&&this.onStop(),this.active=!1)}}function Vc(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let In=!0;const Zd=[];function Jr(){Zd.push(In),In=!1}function Zr(){const e=Zd.pop();In=e===void 0?!0:e}function pe(e,t,n){if(In&&Be){let r=su.get(e);r||su.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=sl()),tf(s)}}function tf(e,t){let n=!1;ms<=iu?Jd(e)||(e.n|=Pn,n=!Yd(e)):n=!e.has(Be),n&&(e.add(Be),Be.deps.push(e))}function ln(e,t,n,r,s,i){const o=su.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&K(e)){const u=Number(r);o.forEach((l,c)=>{(c==="length"||c>=u)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":K(e)?el(n)&&a.push(o.get("length")):(a.push(o.get(Zn)),Sr(e)&&a.push(o.get(ou)));break;case"delete":K(e)||(a.push(o.get(Zn)),Sr(e)&&a.push(o.get(ou)));break;case"set":Sr(e)&&a.push(o.get(Zn));break}if(a.length===1)a[0]&&au(a[0]);else{const u=[];for(const l of a)l&&u.push(...l);au(sl(u))}}function au(e,t){const n=K(e)?e:[...e];for(const r of n)r.computed&&Mc(r);for(const r of n)r.computed||Mc(r)}function Mc(e,t){(e!==Be||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const v0=Ju("__proto__,__v_isRef,__isVue"),ef=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(xs)),E0=ol(),A0=ol(!1,!0),w0=ol(!0),Lc=T0();function T0(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ht(this);for(let i=0,o=this.length;i<o;i++)pe(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(ht)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Jr();const r=ht(this)[t].apply(this,n);return Zr(),r}}),e}function I0(e){const t=ht(this);return pe(t,"has",e),t.hasOwnProperty(e)}function ol(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?$0:af:t?of:sf).get(r))return r;const o=K(r);if(!e){if(o&&ot(Lc,s))return Reflect.get(Lc,s,i);if(s==="hasOwnProperty")return I0}const a=Reflect.get(r,s,i);return(xs(s)?ef.has(s):v0(s))||(e||pe(r,"get",s),t)?a:Xt(a)?o&&el(s)?a:a.value:yt(a)?e?uf(a):ii(a):a}}const b0=nf(),R0=nf(!0);function nf(e=!1){return function(n,r,s,i){let o=n[r];if(Mr(o)&&Xt(o)&&!Xt(s))return!1;if(!e&&(!io(s)&&!Mr(s)&&(o=ht(o),s=ht(s)),!K(n)&&Xt(o)&&!Xt(s)))return o.value=s,!0;const a=K(n)&&el(r)?Number(r)<n.length:ot(n,r),u=Reflect.set(n,r,s,i);return n===ht(i)&&(a?Ns(s,o)&&ln(n,"set",r,s):ln(n,"add",r,s)),u}}function B0(e,t){const n=ot(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&ln(e,"delete",t,void 0),r}function D0(e,t){const n=Reflect.has(e,t);return(!xs(t)||!ef.has(t))&&pe(e,"has",t),n}function P0(e){return pe(e,"iterate",K(e)?"length":Zn),Reflect.ownKeys(e)}const rf={get:E0,set:b0,deleteProperty:B0,has:D0,ownKeys:P0},S0={get:w0,set(e,t){return!0},deleteProperty(e,t){return!0}},k0=Vt({},rf,{get:A0,set:R0}),al=e=>e,Vo=e=>Reflect.getPrototypeOf(e);function Ii(e,t,n=!1,r=!1){e=e.__v_raw;const s=ht(e),i=ht(t);n||(t!==i&&pe(s,"get",t),pe(s,"get",i));const{has:o}=Vo(s),a=r?al:n?cl:Fs;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function bi(e,t=!1){const n=this.__v_raw,r=ht(n),s=ht(e);return t||(e!==s&&pe(r,"has",e),pe(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Ri(e,t=!1){return e=e.__v_raw,!t&&pe(ht(e),"iterate",Zn),Reflect.get(e,"size",e)}function Uc(e){e=ht(e);const t=ht(this);return Vo(t).has.call(t,e)||(t.add(e),ln(t,"add",e,e)),this}function $c(e,t){t=ht(t);const n=ht(this),{has:r,get:s}=Vo(n);let i=r.call(n,e);i||(e=ht(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?Ns(t,o)&&ln(n,"set",e,t):ln(n,"add",e,t),this}function jc(e){const t=ht(this),{has:n,get:r}=Vo(t);let s=n.call(t,e);s||(e=ht(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&ln(t,"delete",e,void 0),i}function zc(){const e=ht(this),t=e.size!==0,n=e.clear();return t&&ln(e,"clear",void 0,void 0),n}function Bi(e,t){return function(r,s){const i=this,o=i.__v_raw,a=ht(o),u=t?al:e?cl:Fs;return!e&&pe(a,"iterate",Zn),o.forEach((l,c)=>r.call(s,u(l),u(c),i))}}function Di(e,t,n){return function(...r){const s=this.__v_raw,i=ht(s),o=Sr(i),a=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,l=s[e](...r),c=n?al:t?cl:Fs;return!t&&pe(i,"iterate",u?ou:Zn),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function _n(e){return function(...t){return e==="delete"?!1:this}}function x0(){const e={get(i){return Ii(this,i)},get size(){return Ri(this)},has:bi,add:Uc,set:$c,delete:jc,clear:zc,forEach:Bi(!1,!1)},t={get(i){return Ii(this,i,!1,!0)},get size(){return Ri(this)},has:bi,add:Uc,set:$c,delete:jc,clear:zc,forEach:Bi(!1,!0)},n={get(i){return Ii(this,i,!0)},get size(){return Ri(this,!0)},has(i){return bi.call(this,i,!0)},add:_n("add"),set:_n("set"),delete:_n("delete"),clear:_n("clear"),forEach:Bi(!0,!1)},r={get(i){return Ii(this,i,!0,!0)},get size(){return Ri(this,!0)},has(i){return bi.call(this,i,!0)},add:_n("add"),set:_n("set"),delete:_n("delete"),clear:_n("clear"),forEach:Bi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Di(i,!1,!1),n[i]=Di(i,!0,!1),t[i]=Di(i,!1,!0),r[i]=Di(i,!0,!0)}),[e,n,t,r]}const[N0,F0,O0,V0]=x0();function ul(e,t){const n=t?e?V0:O0:e?F0:N0;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(ot(n,s)&&s in r?n:r,s,i)}const M0={get:ul(!1,!1)},L0={get:ul(!1,!0)},U0={get:ul(!0,!1)},sf=new WeakMap,of=new WeakMap,af=new WeakMap,$0=new WeakMap;function j0(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function z0(e){return e.__v_skip||!Object.isExtensible(e)?0:j0(s0(e))}function ii(e){return Mr(e)?e:ll(e,!1,rf,M0,sf)}function q0(e){return ll(e,!1,k0,L0,of)}function uf(e){return ll(e,!0,S0,U0,af)}function ll(e,t,n,r,s){if(!yt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=z0(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function kr(e){return Mr(e)?kr(e.__v_raw):!!(e&&e.__v_isReactive)}function Mr(e){return!!(e&&e.__v_isReadonly)}function io(e){return!!(e&&e.__v_isShallow)}function lf(e){return kr(e)||Mr(e)}function ht(e){const t=e&&e.__v_raw;return t?ht(t):e}function cf(e){return ro(e,"__v_skip",!0),e}const Fs=e=>yt(e)?ii(e):e,cl=e=>yt(e)?uf(e):e;function hf(e){In&&Be&&(e=ht(e),tf(e.dep||(e.dep=sl())))}function df(e,t){e=ht(e);const n=e.dep;n&&au(n)}function Xt(e){return!!(e&&e.__v_isRef===!0)}function H0(e){return ff(e,!1)}function K0(e){return ff(e,!0)}function ff(e,t){return Xt(e)?e:new G0(e,t)}class G0{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ht(t),this._value=n?t:Fs(t)}get value(){return hf(this),this._value}set value(t){const n=this.__v_isShallow||io(t)||Mr(t);t=n?t:ht(t),Ns(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Fs(t),df(this))}}function tr(e){return Xt(e)?e.value:e}const W0={get:(e,t,n)=>tr(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Xt(s)&&!Xt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function pf(e){return kr(e)?e:new Proxy(e,W0)}class Q0{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new il(t,()=>{this._dirty||(this._dirty=!0,df(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=ht(this);return hf(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function X0(e,t,n=!1){let r,s;const i=J(e);return i?(r=e,s=Pe):(r=e.get,s=e.set),new Q0(r,s,i||!s,n)}function bn(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Mo(i,t,n)}return s}function Se(e,t,n,r){if(J(e)){const i=bn(e,t,n,r);return i&&Gd(i)&&i.catch(o=>{Mo(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Se(e[i],t,n,r));return s}function Mo(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](e,o,a)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){bn(u,null,10,[e,o,a]);return}}Y0(e,n,s,r)}function Y0(e,t,n,r=!0){console.error(e)}let Os=!1,uu=!1;const Wt=[];let je=0;const xr=[];let en=null,Hn=0;const mf=Promise.resolve();let hl=null;function oo(e){const t=hl||mf;return e?t.then(this?e.bind(this):e):t}function J0(e){let t=je+1,n=Wt.length;for(;t<n;){const r=t+n>>>1;Vs(Wt[r])<e?t=r+1:n=r}return t}function dl(e){(!Wt.length||!Wt.includes(e,Os&&e.allowRecurse?je+1:je))&&(e.id==null?Wt.push(e):Wt.splice(J0(e.id),0,e),gf())}function gf(){!Os&&!uu&&(uu=!0,hl=mf.then(_f))}function Z0(e){const t=Wt.indexOf(e);t>je&&Wt.splice(t,1)}function tC(e){K(e)?xr.push(...e):(!en||!en.includes(e,e.allowRecurse?Hn+1:Hn))&&xr.push(e),gf()}function qc(e,t=Os?je+1:0){for(;t<Wt.length;t++){const n=Wt[t];n&&n.pre&&(Wt.splice(t,1),t--,n())}}function Cf(e){if(xr.length){const t=[...new Set(xr)];if(xr.length=0,en){en.push(...t);return}for(en=t,en.sort((n,r)=>Vs(n)-Vs(r)),Hn=0;Hn<en.length;Hn++)en[Hn]();en=null,Hn=0}}const Vs=e=>e.id==null?1/0:e.id,eC=(e,t)=>{const n=Vs(e)-Vs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function _f(e){uu=!1,Os=!0,Wt.sort(eC);const t=Pe;try{for(je=0;je<Wt.length;je++){const n=Wt[je];n&&n.active!==!1&&bn(n,null,14)}}finally{je=0,Wt.length=0,Cf(),Os=!1,hl=null,(Wt.length||xr.length)&&_f()}}function nC(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||vt;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=r[c]||vt;d&&(s=n.map(g=>Nt(g)?g.trim():g)),h&&(s=n.map(so))}let a,u=r[a=Pa(t)]||r[a=Pa(We(t))];!u&&i&&(u=r[a=Pa(Yr(t))]),u&&Se(u,e,6,s);const l=r[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Se(l,e,6,s)}}function yf(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!J(e)){const u=l=>{const c=yf(l,t,!0);c&&(a=!0,Vt(o,c))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!a?(yt(e)&&r.set(e,null),null):(K(i)?i.forEach(u=>o[u]=null):Vt(o,i),yt(e)&&r.set(e,o),o)}function Lo(e,t){return!e||!ko(t)?!1:(t=t.slice(2).replace(/Once$/,""),ot(e,t[0].toLowerCase()+t.slice(1))||ot(e,Yr(t))||ot(e,t))}let Te=null,Uo=null;function ao(e){const t=Te;return Te=e,Uo=e&&e.type.__scopeId||null,t}function vf(e){Uo=e}function Ef(){Uo=null}function er(e,t=Te,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&eh(-1);const i=ao(t);let o;try{o=e(...s)}finally{ao(i),r._d&&eh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Sa(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:u,emit:l,render:c,renderCache:h,data:d,setupState:g,ctx:y,inheritAttrs:w}=e;let E,B;const S=ao(e);try{if(n.shapeFlag&4){const P=s||r;E=$e(c.call(P,P,h,i,g,d,y)),B=u}else{const P=t;E=$e(P.length>1?P(i,{attrs:u,slots:a,emit:l}):P(i,null)),B=t.props?u:rC(u)}}catch(P){Ts.length=0,Mo(P,e,1),E=St(ir)}let V=E;if(B&&w!==!1){const P=Object.keys(B),{shapeFlag:at}=V;P.length&&at&7&&(o&&P.some(Zu)&&(B=sC(B,o)),V=Lr(V,B))}return n.dirs&&(V=Lr(V),V.dirs=V.dirs?V.dirs.concat(n.dirs):n.dirs),n.transition&&(V.transition=n.transition),E=V,ao(S),E}const rC=e=>{let t;for(const n in e)(n==="class"||n==="style"||ko(n))&&((t||(t={}))[n]=e[n]);return t},sC=(e,t)=>{const n={};for(const r in e)(!Zu(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function iC(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:u}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Hc(r,o,l):!!o;if(u&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==r[d]&&!Lo(l,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Hc(r,o,l):!0:!!o;return!1}function Hc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Lo(n,i))return!0}return!1}function oC({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const aC=e=>e.__isSuspense;function uC(e,t){t&&t.pendingBranch?K(e)?t.effects.push(...e):t.effects.push(e):tC(e)}const Pi={};function Wi(e,t,n){return Af(e,t,n)}function Af(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=vt){var a;const u=C0()===((a=jt)==null?void 0:a.scope)?jt:null;let l,c=!1,h=!1;if(Xt(e)?(l=()=>e.value,c=io(e)):kr(e)?(l=()=>e,r=!0):K(e)?(h=!0,c=e.some(P=>kr(P)||io(P)),l=()=>e.map(P=>{if(Xt(P))return P.value;if(kr(P))return Qn(P);if(J(P))return bn(P,u,2)})):J(e)?t?l=()=>bn(e,u,2):l=()=>{if(!(u&&u.isUnmounted))return d&&d(),Se(e,u,3,[g])}:l=Pe,t&&r){const P=l;l=()=>Qn(P())}let d,g=P=>{d=S.onStop=()=>{bn(P,u,4)}},y;if(Ls)if(g=Pe,t?n&&Se(t,u,3,[l(),h?[]:void 0,g]):l(),s==="sync"){const P=e_();y=P.__watcherHandles||(P.__watcherHandles=[])}else return Pe;let w=h?new Array(e.length).fill(Pi):Pi;const E=()=>{if(S.active)if(t){const P=S.run();(r||c||(h?P.some((at,it)=>Ns(at,w[it])):Ns(P,w)))&&(d&&d(),Se(t,u,3,[P,w===Pi?void 0:h&&w[0]===Pi?[]:w,g]),w=P)}else S.run()};E.allowRecurse=!!t;let B;s==="sync"?B=E:s==="post"?B=()=>he(E,u&&u.suspense):(E.pre=!0,u&&(E.id=u.uid),B=()=>dl(E));const S=new il(l,B);t?n?E():w=S.run():s==="post"?he(S.run.bind(S),u&&u.suspense):S.run();const V=()=>{S.stop(),u&&u.scope&&tl(u.scope.effects,S)};return y&&y.push(V),V}function lC(e,t,n){const r=this.proxy,s=Nt(e)?e.includes(".")?wf(r,e):()=>r[e]:e.bind(r,r);let i;J(t)?i=t:(i=t.handler,n=t);const o=jt;Ur(this);const a=Af(s,i.bind(r),n);return o?Ur(o):nr(),a}function wf(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Qn(e,t){if(!yt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Xt(e))Qn(e.value,t);else if(K(e))for(let n=0;n<e.length;n++)Qn(e[n],t);else if(xo(e)||Sr(e))e.forEach(n=>{Qn(n,t)});else if(As(e))for(const n in e)Qn(e[n],t);return e}function le(e,t){const n=Te;if(n===null)return e;const r=Ho(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,u,l=vt]=t[i];o&&(J(o)&&(o={mounted:o,updated:o}),o.deep&&Qn(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:u,modifiers:l}))}return e}function jn(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let u=a.dir[r];u&&(Jr(),Se(u,n,8,[e.el,a,e,t]),Zr())}}function $o(e,t){return J(e)?(()=>Vt({name:e.name},t,{setup:e}))():e}const Qi=e=>!!e.type.__asyncLoader,Tf=e=>e.type.__isKeepAlive;function cC(e,t){If(e,"a",t)}function hC(e,t){If(e,"da",t)}function If(e,t,n=jt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(jo(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Tf(s.parent.vnode)&&dC(r,t,n,s),s=s.parent}}function dC(e,t,n,r){const s=jo(t,e,r,!0);bf(()=>{tl(r[t],s)},n)}function jo(e,t,n=jt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Jr(),Ur(n);const a=Se(t,n,e,o);return nr(),Zr(),a});return r?s.unshift(i):s.push(i),i}}const pn=e=>(t,n=jt)=>(!Ls||e==="sp")&&jo(e,(...r)=>t(...r),n),fC=pn("bm"),pC=pn("m"),mC=pn("bu"),gC=pn("u"),CC=pn("bum"),bf=pn("um"),_C=pn("sp"),yC=pn("rtg"),vC=pn("rtc");function EC(e,t=jt){jo("ec",e,t)}const Rf="components";function Bf(e,t){return wC(Rf,e,!0,t)||e}const AC=Symbol.for("v-ndc");function wC(e,t,n=!0,r=!1){const s=Te||jt;if(s){const i=s.type;if(e===Rf){const a=JC(i,!1);if(a&&(a===t||a===We(t)||a===Fo(We(t))))return i}const o=Kc(s[e]||i[e],t)||Kc(s.appContext[e],t);return!o&&r?i:o}}function Kc(e,t){return e&&(e[t]||e[We(t)]||e[Fo(We(t))])}function de(e,t,n,r){let s;const i=n&&n[r];if(K(e)||Nt(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(yt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,u=o.length;a<u;a++){const l=o[a];s[a]=t(e[l],l,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}const lu=e=>e?Lf(e)?Ho(e)||e.proxy:lu(e.parent):null,ws=Vt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>lu(e.parent),$root:e=>lu(e.root),$emit:e=>e.emit,$options:e=>fl(e),$forceUpdate:e=>e.f||(e.f=()=>dl(e.update)),$nextTick:e=>e.n||(e.n=oo.bind(e.proxy)),$watch:e=>lC.bind(e)}),ka=(e,t)=>e!==vt&&!e.__isScriptSetup&&ot(e,t),TC={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:u}=e;let l;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(ka(r,t))return o[t]=1,r[t];if(s!==vt&&ot(s,t))return o[t]=2,s[t];if((l=e.propsOptions[0])&&ot(l,t))return o[t]=3,i[t];if(n!==vt&&ot(n,t))return o[t]=4,n[t];cu&&(o[t]=0)}}const c=ws[t];let h,d;if(c)return t==="$attrs"&&pe(e,"get",t),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==vt&&ot(n,t))return o[t]=4,n[t];if(d=u.config.globalProperties,ot(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return ka(s,t)?(s[t]=n,!0):r!==vt&&ot(r,t)?(r[t]=n,!0):ot(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==vt&&ot(e,o)||ka(t,o)||(a=i[0])&&ot(a,o)||ot(r,o)||ot(ws,o)||ot(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ot(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Gc(e){return K(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let cu=!0;function IC(e){const t=fl(e),n=e.proxy,r=e.ctx;cu=!1,t.beforeCreate&&Wc(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:u,inject:l,created:c,beforeMount:h,mounted:d,beforeUpdate:g,updated:y,activated:w,deactivated:E,beforeDestroy:B,beforeUnmount:S,destroyed:V,unmounted:P,render:at,renderTracked:it,renderTriggered:ne,errorCaptured:ae,serverPrefetch:mn,expose:ge,inheritAttrs:gn,components:$n,directives:Oe,filters:us}=t;if(l&&bC(l,r,null),o)for(const Ct in o){const dt=o[Ct];J(dt)&&(r[Ct]=dt.bind(n))}if(s){const Ct=s.call(n,n);yt(Ct)&&(e.data=ii(Ct))}if(cu=!0,i)for(const Ct in i){const dt=i[Ct],Je=J(dt)?dt.bind(n,n):J(dt.get)?dt.get.bind(n,n):Pe,Cn=!J(dt)&&J(dt.set)?dt.set.bind(n):Pe,Ve=Ae({get:Je,set:Cn});Object.defineProperty(r,Ct,{enumerable:!0,configurable:!0,get:()=>Ve.value,set:ue=>Ve.value=ue})}if(a)for(const Ct in a)Df(a[Ct],r,n,Ct);if(u){const Ct=J(u)?u.call(n):u;Reflect.ownKeys(Ct).forEach(dt=>{Xi(dt,Ct[dt])})}c&&Wc(c,e,"c");function Ft(Ct,dt){K(dt)?dt.forEach(Je=>Ct(Je.bind(n))):dt&&Ct(dt.bind(n))}if(Ft(fC,h),Ft(pC,d),Ft(mC,g),Ft(gC,y),Ft(cC,w),Ft(hC,E),Ft(EC,ae),Ft(vC,it),Ft(yC,ne),Ft(CC,S),Ft(bf,P),Ft(_C,mn),K(ge))if(ge.length){const Ct=e.exposed||(e.exposed={});ge.forEach(dt=>{Object.defineProperty(Ct,dt,{get:()=>n[dt],set:Je=>n[dt]=Je})})}else e.exposed||(e.exposed={});at&&e.render===Pe&&(e.render=at),gn!=null&&(e.inheritAttrs=gn),$n&&(e.components=$n),Oe&&(e.directives=Oe)}function bC(e,t,n=Pe){K(e)&&(e=hu(e));for(const r in e){const s=e[r];let i;yt(s)?"default"in s?i=an(s.from||r,s.default,!0):i=an(s.from||r):i=an(s),Xt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Wc(e,t,n){Se(K(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Df(e,t,n,r){const s=r.includes(".")?wf(n,r):()=>n[r];if(Nt(e)){const i=t[e];J(i)&&Wi(s,i)}else if(J(e))Wi(s,e.bind(n));else if(yt(e))if(K(e))e.forEach(i=>Df(i,t,n,r));else{const i=J(e.handler)?e.handler.bind(n):t[e.handler];J(i)&&Wi(s,i,e)}}function fl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let u;return a?u=a:!s.length&&!n&&!r?u=t:(u={},s.length&&s.forEach(l=>uo(u,l,o,!0)),uo(u,t,o)),yt(t)&&i.set(t,u),u}function uo(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&uo(e,i,n,!0),s&&s.forEach(o=>uo(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=RC[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const RC={data:Qc,props:Xc,emits:Xc,methods:gs,computed:gs,beforeCreate:se,created:se,beforeMount:se,mounted:se,beforeUpdate:se,updated:se,beforeDestroy:se,beforeUnmount:se,destroyed:se,unmounted:se,activated:se,deactivated:se,errorCaptured:se,serverPrefetch:se,components:gs,directives:gs,watch:DC,provide:Qc,inject:BC};function Qc(e,t){return t?e?function(){return Vt(J(e)?e.call(this,this):e,J(t)?t.call(this,this):t)}:t:e}function BC(e,t){return gs(hu(e),hu(t))}function hu(e){if(K(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function se(e,t){return e?[...new Set([].concat(e,t))]:t}function gs(e,t){return e?Vt(Object.create(null),e,t):t}function Xc(e,t){return e?K(e)&&K(t)?[...new Set([...e,...t])]:Vt(Object.create(null),Gc(e),Gc(t??{})):t}function DC(e,t){if(!e)return t;if(!t)return e;const n=Vt(Object.create(null),e);for(const r in t)n[r]=se(e[r],t[r]);return n}function Pf(){return{app:null,config:{isNativeTag:e0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let PC=0;function SC(e,t){return function(r,s=null){J(r)||(r=Vt({},r)),s!=null&&!yt(s)&&(s=null);const i=Pf(),o=new Set;let a=!1;const u=i.app={_uid:PC++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:n_,get config(){return i.config},set config(l){},use(l,...c){return o.has(l)||(l&&J(l.install)?(o.add(l),l.install(u,...c)):J(l)&&(o.add(l),l(u,...c))),u},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),u},component(l,c){return c?(i.components[l]=c,u):i.components[l]},directive(l,c){return c?(i.directives[l]=c,u):i.directives[l]},mount(l,c,h){if(!a){const d=St(r,s);return d.appContext=i,c&&t?t(d,l):e(d,l,h),a=!0,u._container=l,l.__vue_app__=u,Ho(d.component)||d.component.proxy}},unmount(){a&&(e(null,u._container),delete u._container.__vue_app__)},provide(l,c){return i.provides[l]=c,u},runWithContext(l){lo=u;try{return l()}finally{lo=null}}};return u}}let lo=null;function Xi(e,t){if(jt){let n=jt.provides;const r=jt.parent&&jt.parent.provides;r===n&&(n=jt.provides=Object.create(r)),n[e]=t}}function an(e,t,n=!1){const r=jt||Te;if(r||lo){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:lo._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&J(t)?t.call(r&&r.proxy):t}}function kC(e,t,n,r=!1){const s={},i={};ro(i,qo,1),e.propsDefaults=Object.create(null),Sf(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:q0(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function xC(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=ht(s),[u]=e.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(Lo(e.emitsOptions,d))continue;const g=t[d];if(u)if(ot(i,d))g!==i[d]&&(i[d]=g,l=!0);else{const y=We(d);s[y]=du(u,a,y,g,e,!1)}else g!==i[d]&&(i[d]=g,l=!0)}}}else{Sf(e,t,s,i)&&(l=!0);let c;for(const h in a)(!t||!ot(t,h)&&((c=Yr(h))===h||!ot(t,c)))&&(u?n&&(n[h]!==void 0||n[c]!==void 0)&&(s[h]=du(u,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!ot(t,h))&&(delete i[h],l=!0)}l&&ln(e,"set","$attrs")}function Sf(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let u in t){if(Ki(u))continue;const l=t[u];let c;s&&ot(s,c=We(u))?!i||!i.includes(c)?n[c]=l:(a||(a={}))[c]=l:Lo(e.emitsOptions,u)||(!(u in r)||l!==r[u])&&(r[u]=l,o=!0)}if(i){const u=ht(n),l=a||vt;for(let c=0;c<i.length;c++){const h=i[c];n[h]=du(s,u,h,l[h],e,!ot(l,h))}}return o}function du(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=ot(o,"default");if(a&&r===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&J(u)){const{propsDefaults:l}=s;n in l?r=l[n]:(Ur(s),r=l[n]=u.call(null,t),nr())}else r=u}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Yr(n))&&(r=!0))}return r}function kf(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let u=!1;if(!J(e)){const c=h=>{u=!0;const[d,g]=kf(h,t,!0);Vt(o,d),g&&a.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!u)return yt(e)&&r.set(e,Pr),Pr;if(K(i))for(let c=0;c<i.length;c++){const h=We(i[c]);Yc(h)&&(o[h]=vt)}else if(i)for(const c in i){const h=We(c);if(Yc(h)){const d=i[c],g=o[h]=K(d)||J(d)?{type:d}:Vt({},d);if(g){const y=th(Boolean,g.type),w=th(String,g.type);g[0]=y>-1,g[1]=w<0||y<w,(y>-1||ot(g,"default"))&&a.push(h)}}}const l=[o,a];return yt(e)&&r.set(e,l),l}function Yc(e){return e[0]!=="$"}function Jc(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Zc(e,t){return Jc(e)===Jc(t)}function th(e,t){return K(t)?t.findIndex(n=>Zc(n,e)):J(t)&&Zc(t,e)?0:-1}const xf=e=>e[0]==="_"||e==="$stable",pl=e=>K(e)?e.map($e):[$e(e)],NC=(e,t,n)=>{if(t._n)return t;const r=er((...s)=>pl(t(...s)),n);return r._c=!1,r},Nf=(e,t,n)=>{const r=e._ctx;for(const s in e){if(xf(s))continue;const i=e[s];if(J(i))t[s]=NC(s,i,r);else if(i!=null){const o=pl(i);t[s]=()=>o}}},Ff=(e,t)=>{const n=pl(t);e.slots.default=()=>n},FC=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ht(t),ro(t,"_",n)):Nf(t,e.slots={})}else e.slots={},t&&Ff(e,t);ro(e.slots,qo,1)},OC=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=vt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Vt(s,t),!n&&a===1&&delete s._):(i=!t.$stable,Nf(t,s)),o=t}else t&&(Ff(e,t),o={default:1});if(i)for(const a in s)!xf(a)&&!(a in o)&&delete s[a]};function fu(e,t,n,r,s=!1){if(K(e)){e.forEach((d,g)=>fu(d,t&&(K(t)?t[g]:t),n,r,s));return}if(Qi(r)&&!s)return;const i=r.shapeFlag&4?Ho(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:u}=e,l=t&&t.r,c=a.refs===vt?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==u&&(Nt(l)?(c[l]=null,ot(h,l)&&(h[l]=null)):Xt(l)&&(l.value=null)),J(u))bn(u,a,12,[o,c]);else{const d=Nt(u),g=Xt(u);if(d||g){const y=()=>{if(e.f){const w=d?ot(h,u)?h[u]:c[u]:u.value;s?K(w)&&tl(w,i):K(w)?w.includes(i)||w.push(i):d?(c[u]=[i],ot(h,u)&&(h[u]=c[u])):(u.value=[i],e.k&&(c[e.k]=u.value))}else d?(c[u]=o,ot(h,u)&&(h[u]=o)):g&&(u.value=o,e.k&&(c[e.k]=o))};o?(y.id=-1,he(y,n)):y()}}}const he=uC;function VC(e){return MC(e)}function MC(e,t){const n=ru();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:u,setText:l,setElementText:c,parentNode:h,nextSibling:d,setScopeId:g=Pe,insertStaticContent:y}=e,w=(p,m,C,_=null,A=null,T=null,F=!1,D=null,k=!!m.dynamicChildren)=>{if(p===m)return;p&&!cs(p,m)&&(_=v(p),ue(p,A,T,!0),p=null),m.patchFlag===-2&&(k=!1,m.dynamicChildren=null);const{type:b,ref:j,shapeFlag:M}=m;switch(b){case zo:E(p,m,C,_);break;case ir:B(p,m,C,_);break;case Yi:p==null&&S(m,C,_,F);break;case ct:$n(p,m,C,_,A,T,F,D,k);break;default:M&1?at(p,m,C,_,A,T,F,D,k):M&6?Oe(p,m,C,_,A,T,F,D,k):(M&64||M&128)&&b.process(p,m,C,_,A,T,F,D,k,x)}j!=null&&A&&fu(j,p&&p.ref,T,m||p,!m)},E=(p,m,C,_)=>{if(p==null)r(m.el=a(m.children),C,_);else{const A=m.el=p.el;m.children!==p.children&&l(A,m.children)}},B=(p,m,C,_)=>{p==null?r(m.el=u(m.children||""),C,_):m.el=p.el},S=(p,m,C,_)=>{[p.el,p.anchor]=y(p.children,m,C,_,p.el,p.anchor)},V=({el:p,anchor:m},C,_)=>{let A;for(;p&&p!==m;)A=d(p),r(p,C,_),p=A;r(m,C,_)},P=({el:p,anchor:m})=>{let C;for(;p&&p!==m;)C=d(p),s(p),p=C;s(m)},at=(p,m,C,_,A,T,F,D,k)=>{F=F||m.type==="svg",p==null?it(m,C,_,A,T,F,D,k):mn(p,m,A,T,F,D,k)},it=(p,m,C,_,A,T,F,D)=>{let k,b;const{type:j,props:M,shapeFlag:z,transition:X,dirs:tt}=p;if(k=p.el=o(p.type,T,M&&M.is,M),z&8?c(k,p.children):z&16&&ae(p.children,k,null,_,A,T&&j!=="foreignObject",F,D),tt&&jn(p,null,_,"created"),ne(k,p,p.scopeId,F,_),M){for(const gt in M)gt!=="value"&&!Ki(gt)&&i(k,gt,null,M[gt],T,p.children,_,A,qt);"value"in M&&i(k,"value",null,M.value),(b=M.onVnodeBeforeMount)&&Le(b,_,p)}tt&&jn(p,null,_,"beforeMount");const _t=(!A||A&&!A.pendingBranch)&&X&&!X.persisted;_t&&X.beforeEnter(k),r(k,m,C),((b=M&&M.onVnodeMounted)||_t||tt)&&he(()=>{b&&Le(b,_,p),_t&&X.enter(k),tt&&jn(p,null,_,"mounted")},A)},ne=(p,m,C,_,A)=>{if(C&&g(p,C),_)for(let T=0;T<_.length;T++)g(p,_[T]);if(A){let T=A.subTree;if(m===T){const F=A.vnode;ne(p,F,F.scopeId,F.slotScopeIds,A.parent)}}},ae=(p,m,C,_,A,T,F,D,k=0)=>{for(let b=k;b<p.length;b++){const j=p[b]=D?En(p[b]):$e(p[b]);w(null,j,m,C,_,A,T,F,D)}},mn=(p,m,C,_,A,T,F)=>{const D=m.el=p.el;let{patchFlag:k,dynamicChildren:b,dirs:j}=m;k|=p.patchFlag&16;const M=p.props||vt,z=m.props||vt;let X;C&&zn(C,!1),(X=z.onVnodeBeforeUpdate)&&Le(X,C,m,p),j&&jn(m,p,C,"beforeUpdate"),C&&zn(C,!0);const tt=A&&m.type!=="foreignObject";if(b?ge(p.dynamicChildren,b,D,C,_,tt,T):F||dt(p,m,D,null,C,_,tt,T,!1),k>0){if(k&16)gn(D,m,M,z,C,_,A);else if(k&2&&M.class!==z.class&&i(D,"class",null,z.class,A),k&4&&i(D,"style",M.style,z.style,A),k&8){const _t=m.dynamicProps;for(let gt=0;gt<_t.length;gt++){const Bt=_t[gt],be=M[Bt],Ar=z[Bt];(Ar!==be||Bt==="value")&&i(D,Bt,be,Ar,A,p.children,C,_,qt)}}k&1&&p.children!==m.children&&c(D,m.children)}else!F&&b==null&&gn(D,m,M,z,C,_,A);((X=z.onVnodeUpdated)||j)&&he(()=>{X&&Le(X,C,m,p),j&&jn(m,p,C,"updated")},_)},ge=(p,m,C,_,A,T,F)=>{for(let D=0;D<m.length;D++){const k=p[D],b=m[D],j=k.el&&(k.type===ct||!cs(k,b)||k.shapeFlag&70)?h(k.el):C;w(k,b,j,null,_,A,T,F,!0)}},gn=(p,m,C,_,A,T,F)=>{if(C!==_){if(C!==vt)for(const D in C)!Ki(D)&&!(D in _)&&i(p,D,C[D],null,F,m.children,A,T,qt);for(const D in _){if(Ki(D))continue;const k=_[D],b=C[D];k!==b&&D!=="value"&&i(p,D,b,k,F,m.children,A,T,qt)}"value"in _&&i(p,"value",C.value,_.value)}},$n=(p,m,C,_,A,T,F,D,k)=>{const b=m.el=p?p.el:a(""),j=m.anchor=p?p.anchor:a("");let{patchFlag:M,dynamicChildren:z,slotScopeIds:X}=m;X&&(D=D?D.concat(X):X),p==null?(r(b,C,_),r(j,C,_),ae(m.children,C,j,A,T,F,D,k)):M>0&&M&64&&z&&p.dynamicChildren?(ge(p.dynamicChildren,z,C,A,T,F,D),(m.key!=null||A&&m===A.subTree)&&Of(p,m,!0)):dt(p,m,C,j,A,T,F,D,k)},Oe=(p,m,C,_,A,T,F,D,k)=>{m.slotScopeIds=D,p==null?m.shapeFlag&512?A.ctx.activate(m,C,_,F,k):us(m,C,_,A,T,F,k):yr(p,m,k)},us=(p,m,C,_,A,T,F)=>{const D=p.component=GC(p,_,A);if(Tf(p)&&(D.ctx.renderer=x),WC(D),D.asyncDep){if(A&&A.registerDep(D,Ft),!p.el){const k=D.subTree=St(ir);B(null,k,m,C)}return}Ft(D,p,m,C,A,T,F)},yr=(p,m,C)=>{const _=m.component=p.component;if(iC(p,m,C))if(_.asyncDep&&!_.asyncResolved){Ct(_,m,C);return}else _.next=m,Z0(_.update),_.update();else m.el=p.el,_.vnode=m},Ft=(p,m,C,_,A,T,F)=>{const D=()=>{if(p.isMounted){let{next:j,bu:M,u:z,parent:X,vnode:tt}=p,_t=j,gt;zn(p,!1),j?(j.el=tt.el,Ct(p,j,F)):j=tt,M&&Gi(M),(gt=j.props&&j.props.onVnodeBeforeUpdate)&&Le(gt,X,j,tt),zn(p,!0);const Bt=Sa(p),be=p.subTree;p.subTree=Bt,w(be,Bt,h(be.el),v(be),p,A,T),j.el=Bt.el,_t===null&&oC(p,Bt.el),z&&he(z,A),(gt=j.props&&j.props.onVnodeUpdated)&&he(()=>Le(gt,X,j,tt),A)}else{let j;const{el:M,props:z}=m,{bm:X,m:tt,parent:_t}=p,gt=Qi(m);if(zn(p,!1),X&&Gi(X),!gt&&(j=z&&z.onVnodeBeforeMount)&&Le(j,_t,m),zn(p,!0),M&&ft){const Bt=()=>{p.subTree=Sa(p),ft(M,p.subTree,p,A,null)};gt?m.type.__asyncLoader().then(()=>!p.isUnmounted&&Bt()):Bt()}else{const Bt=p.subTree=Sa(p);w(null,Bt,C,_,p,A,T),m.el=Bt.el}if(tt&&he(tt,A),!gt&&(j=z&&z.onVnodeMounted)){const Bt=m;he(()=>Le(j,_t,Bt),A)}(m.shapeFlag&256||_t&&Qi(_t.vnode)&&_t.vnode.shapeFlag&256)&&p.a&&he(p.a,A),p.isMounted=!0,m=C=_=null}},k=p.effect=new il(D,()=>dl(b),p.scope),b=p.update=()=>k.run();b.id=p.uid,zn(p,!0),b()},Ct=(p,m,C)=>{m.component=p;const _=p.vnode.props;p.vnode=m,p.next=null,xC(p,m.props,_,C),OC(p,m.children,C),Jr(),qc(),Zr()},dt=(p,m,C,_,A,T,F,D,k=!1)=>{const b=p&&p.children,j=p?p.shapeFlag:0,M=m.children,{patchFlag:z,shapeFlag:X}=m;if(z>0){if(z&128){Cn(b,M,C,_,A,T,F,D,k);return}else if(z&256){Je(b,M,C,_,A,T,F,D,k);return}}X&8?(j&16&&qt(b,A,T),M!==b&&c(C,M)):j&16?X&16?Cn(b,M,C,_,A,T,F,D,k):qt(b,A,T,!0):(j&8&&c(C,""),X&16&&ae(M,C,_,A,T,F,D,k))},Je=(p,m,C,_,A,T,F,D,k)=>{p=p||Pr,m=m||Pr;const b=p.length,j=m.length,M=Math.min(b,j);let z;for(z=0;z<M;z++){const X=m[z]=k?En(m[z]):$e(m[z]);w(p[z],X,C,null,A,T,F,D,k)}b>j?qt(p,A,T,!0,!1,M):ae(m,C,_,A,T,F,D,k,M)},Cn=(p,m,C,_,A,T,F,D,k)=>{let b=0;const j=m.length;let M=p.length-1,z=j-1;for(;b<=M&&b<=z;){const X=p[b],tt=m[b]=k?En(m[b]):$e(m[b]);if(cs(X,tt))w(X,tt,C,null,A,T,F,D,k);else break;b++}for(;b<=M&&b<=z;){const X=p[M],tt=m[z]=k?En(m[z]):$e(m[z]);if(cs(X,tt))w(X,tt,C,null,A,T,F,D,k);else break;M--,z--}if(b>M){if(b<=z){const X=z+1,tt=X<j?m[X].el:_;for(;b<=z;)w(null,m[b]=k?En(m[b]):$e(m[b]),C,tt,A,T,F,D,k),b++}}else if(b>z)for(;b<=M;)ue(p[b],A,T,!0),b++;else{const X=b,tt=b,_t=new Map;for(b=tt;b<=z;b++){const Ce=m[b]=k?En(m[b]):$e(m[b]);Ce.key!=null&&_t.set(Ce.key,b)}let gt,Bt=0;const be=z-tt+1;let Ar=!1,kc=0;const ls=new Array(be);for(b=0;b<be;b++)ls[b]=0;for(b=X;b<=M;b++){const Ce=p[b];if(Bt>=be){ue(Ce,A,T,!0);continue}let Me;if(Ce.key!=null)Me=_t.get(Ce.key);else for(gt=tt;gt<=z;gt++)if(ls[gt-tt]===0&&cs(Ce,m[gt])){Me=gt;break}Me===void 0?ue(Ce,A,T,!0):(ls[Me-tt]=b+1,Me>=kc?kc=Me:Ar=!0,w(Ce,m[Me],C,null,A,T,F,D,k),Bt++)}const xc=Ar?LC(ls):Pr;for(gt=xc.length-1,b=be-1;b>=0;b--){const Ce=tt+b,Me=m[Ce],Nc=Ce+1<j?m[Ce+1].el:_;ls[b]===0?w(null,Me,C,Nc,A,T,F,D,k):Ar&&(gt<0||b!==xc[gt]?Ve(Me,C,Nc,2):gt--)}}},Ve=(p,m,C,_,A=null)=>{const{el:T,type:F,transition:D,children:k,shapeFlag:b}=p;if(b&6){Ve(p.component.subTree,m,C,_);return}if(b&128){p.suspense.move(m,C,_);return}if(b&64){F.move(p,m,C,x);return}if(F===ct){r(T,m,C);for(let M=0;M<k.length;M++)Ve(k[M],m,C,_);r(p.anchor,m,C);return}if(F===Yi){V(p,m,C);return}if(_!==2&&b&1&&D)if(_===0)D.beforeEnter(T),r(T,m,C),he(()=>D.enter(T),A);else{const{leave:M,delayLeave:z,afterLeave:X}=D,tt=()=>r(T,m,C),_t=()=>{M(T,()=>{tt(),X&&X()})};z?z(T,tt,_t):_t()}else r(T,m,C)},ue=(p,m,C,_=!1,A=!1)=>{const{type:T,props:F,ref:D,children:k,dynamicChildren:b,shapeFlag:j,patchFlag:M,dirs:z}=p;if(D!=null&&fu(D,null,C,p,!0),j&256){m.ctx.deactivate(p);return}const X=j&1&&z,tt=!Qi(p);let _t;if(tt&&(_t=F&&F.onVnodeBeforeUnmount)&&Le(_t,m,p),j&6)Ti(p.component,C,_);else{if(j&128){p.suspense.unmount(C,_);return}X&&jn(p,null,m,"beforeUnmount"),j&64?p.type.remove(p,m,C,A,x,_):b&&(T!==ct||M>0&&M&64)?qt(b,m,C,!1,!0):(T===ct&&M&384||!A&&j&16)&&qt(k,m,C),_&&vr(p)}(tt&&(_t=F&&F.onVnodeUnmounted)||X)&&he(()=>{_t&&Le(_t,m,p),X&&jn(p,null,m,"unmounted")},C)},vr=p=>{const{type:m,el:C,anchor:_,transition:A}=p;if(m===ct){Er(C,_);return}if(m===Yi){P(p);return}const T=()=>{s(C),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(p.shapeFlag&1&&A&&!A.persisted){const{leave:F,delayLeave:D}=A,k=()=>F(C,T);D?D(p.el,T,k):k()}else T()},Er=(p,m)=>{let C;for(;p!==m;)C=d(p),s(p),p=C;s(m)},Ti=(p,m,C)=>{const{bum:_,scope:A,update:T,subTree:F,um:D}=p;_&&Gi(_),A.stop(),T&&(T.active=!1,ue(F,p,m,C)),D&&he(D,m),he(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},qt=(p,m,C,_=!1,A=!1,T=0)=>{for(let F=T;F<p.length;F++)ue(p[F],m,C,_,A)},v=p=>p.shapeFlag&6?v(p.component.subTree):p.shapeFlag&128?p.suspense.next():d(p.anchor||p.el),O=(p,m,C)=>{p==null?m._vnode&&ue(m._vnode,null,null,!0):w(m._vnode||null,p,m,null,null,null,C),qc(),Cf(),m._vnode=p},x={p:w,um:ue,m:Ve,r:vr,mt:us,mc:ae,pc:dt,pbc:ge,n:v,o:e};let U,ft;return t&&([U,ft]=t(x)),{render:O,hydrate:U,createApp:SC(O,U)}}function zn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Of(e,t,n=!1){const r=e.children,s=t.children;if(K(r)&&K(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=En(s[i]),a.el=o.el),n||Of(o,a)),a.type===zo&&(a.el=o.el)}}function LC(e){const t=e.slice(),n=[0];let r,s,i,o,a;const u=e.length;for(r=0;r<u;r++){const l=e[r];if(l!==0){if(s=n[n.length-1],e[s]<l){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<l?i=a+1:o=a;l<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const UC=e=>e.__isTeleport,ct=Symbol.for("v-fgt"),zo=Symbol.for("v-txt"),ir=Symbol.for("v-cmt"),Yi=Symbol.for("v-stc"),Ts=[];let De=null;function q(e=!1){Ts.push(De=e?null:[])}function $C(){Ts.pop(),De=Ts[Ts.length-1]||null}let Ms=1;function eh(e){Ms+=e}function Vf(e){return e.dynamicChildren=Ms>0?De||Pr:null,$C(),Ms>0&&De&&De.push(e),e}function G(e,t,n,r,s,i){return Vf(f(e,t,n,r,s,i,!0))}function co(e,t,n,r,s){return Vf(St(e,t,n,r,s,!0))}function pu(e){return e?e.__v_isVNode===!0:!1}function cs(e,t){return e.type===t.type&&e.key===t.key}const qo="__vInternal",Mf=({key:e})=>e??null,Ji=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Nt(e)||Xt(e)||J(e)?{i:Te,r:e,k:t,f:!!n}:e:null);function f(e,t=null,n=null,r=0,s=null,i=e===ct?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Mf(t),ref:t&&Ji(t),scopeId:Uo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Te};return a?(ml(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=Nt(n)?8:16),Ms>0&&!o&&De&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&De.push(u),u}const St=jC;function jC(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===AC)&&(e=ir),pu(e)){const a=Lr(e,t,!0);return n&&ml(a,n),Ms>0&&!i&&De&&(a.shapeFlag&6?De[De.indexOf(e)]=a:De.push(a)),a.patchFlag|=-2,a}if(ZC(e)&&(e=e.__vccOpts),t){t=zC(t);let{class:a,style:u}=t;a&&!Nt(a)&&(t.class=rl(a)),yt(u)&&(lf(u)&&!K(u)&&(u=Vt({},u)),t.style=nl(u))}const o=Nt(e)?1:aC(e)?128:UC(e)?64:yt(e)?4:J(e)?2:0;return f(e,t,n,r,s,o,i,!0)}function zC(e){return e?lf(e)||qo in e?Vt({},e):e:null}function Lr(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?qC(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Mf(a),ref:t&&t.ref?n&&s?K(s)?s.concat(Ji(t)):[s,Ji(t)]:Ji(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ct?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Lr(e.ssContent),ssFallback:e.ssFallback&&Lr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ue(e=" ",t=0){return St(zo,null,e,t)}function On(e,t){const n=St(Yi,null,e);return n.staticCount=t,n}function vn(e="",t=!1){return t?(q(),co(ir,null,e)):St(ir,null,e)}function $e(e){return e==null||typeof e=="boolean"?St(ir):K(e)?St(ct,null,e.slice()):typeof e=="object"?En(e):St(zo,null,String(e))}function En(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Lr(e)}function ml(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(K(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),ml(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(qo in t)?t._ctx=Te:s===3&&Te&&(Te.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else J(t)?(t={default:t,_ctx:Te},n=32):(t=String(t),r&64?(n=16,t=[Ue(t)]):n=8);e.children=t,e.shapeFlag|=n}function qC(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=rl([t.class,r.class]));else if(s==="style")t.style=nl([t.style,r.style]);else if(ko(s)){const i=t[s],o=r[s];o&&i!==o&&!(K(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function Le(e,t,n,r=null){Se(e,t,7,[n,r])}const HC=Pf();let KC=0;function GC(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||HC,i={uid:KC++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new m0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kf(r,s),emitsOptions:yf(r,s),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:r.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=nC.bind(null,i),e.ce&&e.ce(i),i}let jt=null,gl,wr,nh="__VUE_INSTANCE_SETTERS__";(wr=ru()[nh])||(wr=ru()[nh]=[]),wr.push(e=>jt=e),gl=e=>{wr.length>1?wr.forEach(t=>t(e)):wr[0](e)};const Ur=e=>{gl(e),e.scope.on()},nr=()=>{jt&&jt.scope.off(),gl(null)};function Lf(e){return e.vnode.shapeFlag&4}let Ls=!1;function WC(e,t=!1){Ls=t;const{props:n,children:r}=e.vnode,s=Lf(e);kC(e,n,s,t),FC(e,r);const i=s?QC(e,t):void 0;return Ls=!1,i}function QC(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=cf(new Proxy(e.ctx,TC));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?YC(e):null;Ur(e),Jr();const i=bn(r,e,0,[e.props,s]);if(Zr(),nr(),Gd(i)){if(i.then(nr,nr),t)return i.then(o=>{rh(e,o,t)}).catch(o=>{Mo(o,e,0)});e.asyncDep=i}else rh(e,i,t)}else Uf(e,t)}function rh(e,t,n){J(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:yt(t)&&(e.setupState=pf(t)),Uf(e,n)}let sh;function Uf(e,t,n){const r=e.type;if(!e.render){if(!t&&sh&&!r.render){const s=r.template||fl(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:u}=r,l=Vt(Vt({isCustomElement:i,delimiters:a},o),u);r.render=sh(s,l)}}e.render=r.render||Pe}Ur(e),Jr(),IC(e),Zr(),nr()}function XC(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return pe(e,"get","$attrs"),t[n]}}))}function YC(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return XC(e)},slots:e.slots,emit:e.emit,expose:t}}function Ho(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(pf(cf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ws)return ws[n](e)},has(t,n){return n in t||n in ws}}))}function JC(e,t=!0){return J(e)?e.displayName||e.name:e.name||t&&e.__name}function ZC(e){return J(e)&&"__vccOpts"in e}const Ae=(e,t)=>X0(e,t,Ls);function $f(e,t,n){const r=arguments.length;return r===2?yt(t)&&!K(t)?pu(t)?St(e,null,[t]):St(e,t):St(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&pu(n)&&(n=[n]),St(e,t,n))}const t_=Symbol.for("v-scx"),e_=()=>an(t_),n_="3.3.4",r_="http://www.w3.org/2000/svg",Kn=typeof document<"u"?document:null,ih=Kn&&Kn.createElement("template"),s_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?Kn.createElementNS(r_,e):Kn.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Kn.createTextNode(e),createComment:e=>Kn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Kn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{ih.innerHTML=r?`<svg>${e}</svg>`:e;const a=ih.content;if(r){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function i_(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function o_(e,t,n){const r=e.style,s=Nt(n);if(n&&!s){if(t&&!Nt(t))for(const i in t)n[i]==null&&mu(r,i,"");for(const i in n)mu(r,i,n[i])}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const oh=/\s*!important$/;function mu(e,t,n){if(K(n))n.forEach(r=>mu(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=a_(e,t);oh.test(n)?e.setProperty(Yr(r),n.replace(oh,""),"important"):e[r]=n}}const ah=["Webkit","Moz","ms"],xa={};function a_(e,t){const n=xa[t];if(n)return n;let r=We(t);if(r!=="filter"&&r in e)return xa[t]=r;r=Fo(r);for(let s=0;s<ah.length;s++){const i=ah[s]+r;if(i in e)return xa[t]=i}return t}const uh="http://www.w3.org/1999/xlink";function u_(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(uh,t.slice(6,t.length)):e.setAttributeNS(uh,t,n);else{const i=d0(t);n==null||i&&!Qd(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function l_(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const l=a==="OPTION"?e.getAttribute("value"):e.value,c=n??"";l!==c&&(e.value=c),n==null&&e.removeAttribute(t);return}let u=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Qd(n):n==null&&l==="string"?(n="",u=!0):l==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function Gn(e,t,n,r){e.addEventListener(t,n,r)}function c_(e,t,n,r){e.removeEventListener(t,n,r)}function h_(e,t,n,r,s=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[a,u]=d_(t);if(r){const l=i[t]=m_(r,s);Gn(e,a,l,u)}else o&&(c_(e,a,o,u),i[t]=void 0)}}const lh=/(?:Once|Passive|Capture)$/;function d_(e){let t;if(lh.test(e)){t={};let r;for(;r=e.match(lh);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yr(e.slice(2)),t]}let Na=0;const f_=Promise.resolve(),p_=()=>Na||(f_.then(()=>Na=0),Na=Date.now());function m_(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Se(g_(r,n.value),t,5,[r])};return n.value=e,n.attached=p_(),n}function g_(e,t){if(K(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const ch=/^on[a-z]/,C_=(e,t,n,r,s=!1,i,o,a,u)=>{t==="class"?i_(e,r,s):t==="style"?o_(e,n,r):ko(t)?Zu(t)||h_(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):__(e,t,r,s))?l_(e,t,r,i,o,a,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),u_(e,t,r,s))};function __(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&ch.test(t)&&J(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ch.test(t)&&Nt(n)?!1:t in e}const ho=e=>{const t=e.props["onUpdate:modelValue"]||!1;return K(t)?n=>Gi(t,n):t};function y_(e){e.target.composing=!0}function hh(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _e={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=ho(s);const i=r||s.props&&s.props.type==="number";Gn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=so(a)),e._assign(a)}),n&&Gn(e,"change",()=>{e.value=e.value.trim()}),t||(Gn(e,"compositionstart",y_),Gn(e,"compositionend",hh),Gn(e,"change",hh))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e._assign=ho(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&so(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},v_={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=xo(t);Gn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?so(fo(o)):fo(o));e._assign(e.multiple?s?new Set(i):i:i[0])}),e._assign=ho(r)},mounted(e,{value:t}){dh(e,t)},beforeUpdate(e,t,n){e._assign=ho(n)},updated(e,{value:t}){dh(e,t)}};function dh(e,t){const n=e.multiple;if(!(n&&!K(t)&&!xo(t))){for(let r=0,s=e.options.length;r<s;r++){const i=e.options[r],o=fo(i);if(n)K(t)?i.selected=p0(t,o)>-1:i.selected=t.has(o);else if(Oo(fo(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function fo(e){return"_value"in e?e._value:e.value}const E_=Vt({patchProp:C_},s_);let fh;function A_(){return fh||(fh=VC(E_))}const w_=(...e)=>{const t=A_().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=T_(r);if(!s)return;const i=t._component;!J(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function T_(e){return Nt(e)?document.querySelector(e):e}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ir=typeof window<"u";function I_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const pt=Object.assign;function Fa(e,t){const n={};for(const r in t){const s=t[r];n[r]=Ne(s)?s.map(e):e(s)}return n}const Is=()=>{},Ne=Array.isArray,b_=/\/$/,R_=e=>e.replace(b_,"");function Oa(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let u=t.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(r=t.slice(0,u),i=t.slice(u+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=S_(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function B_(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ph(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function D_(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&$r(t.matched[r],n.matched[s])&&jf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function $r(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function jf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!P_(e[n],t[n]))return!1;return!0}function P_(e,t){return Ne(e)?mh(e,t):Ne(t)?mh(t,e):e===t}function mh(e,t){return Ne(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function S_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Us;(function(e){e.pop="pop",e.push="push"})(Us||(Us={}));var bs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(bs||(bs={}));function k_(e){if(!e)if(Ir){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),R_(e)}const x_=/^[^#]+#/;function N_(e,t){return e.replace(x_,"#")+t}function F_(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ko=()=>({left:window.pageXOffset,top:window.pageYOffset});function O_(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=F_(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function gh(e,t){return(history.state?history.state.position-t:-1)+e}const gu=new Map;function V_(e,t){gu.set(e,t)}function M_(e){const t=gu.get(e);return gu.delete(e),t}let L_=()=>location.protocol+"//"+location.host;function zf(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,u=s.slice(a);return u[0]!=="/"&&(u="/"+u),ph(u,"")}return ph(n,e)+r+s}function U_(e,t,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const g=zf(e,location),y=n.value,w=t.value;let E=0;if(d){if(n.value=g,t.value=d,o&&o===y){o=null;return}E=w?d.position-w.position:0}else r(g);s.forEach(B=>{B(n.value,y,{delta:E,type:Us.pop,direction:E?E>0?bs.forward:bs.back:bs.unknown})})};function u(){o=n.value}function l(d){s.push(d);const g=()=>{const y=s.indexOf(d);y>-1&&s.splice(y,1)};return i.push(g),g}function c(){const{history:d}=window;d.state&&d.replaceState(pt({},d.state,{scroll:Ko()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:u,listen:l,destroy:h}}function Ch(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Ko():null}}function $_(e){const{history:t,location:n}=window,r={value:zf(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,l,c){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+u:L_()+e+u;try{t[c?"replaceState":"pushState"](l,"",d),s.value=l}catch(g){console.error(g),n[c?"replace":"assign"](d)}}function o(u,l){const c=pt({},t.state,Ch(s.value.back,u,s.value.forward,!0),l,{position:s.value.position});i(u,c,!0),r.value=u}function a(u,l){const c=pt({},s.value,t.state,{forward:u,scroll:Ko()});i(c.current,c,!0);const h=pt({},Ch(r.value,u,null),{position:c.position+1},l);i(u,h,!1),r.value=u}return{location:r,state:s,push:a,replace:o}}function j_(e){e=k_(e);const t=$_(e),n=U_(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=pt({location:"",base:e,go:r,createHref:N_.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function z_(e){return typeof e=="string"||e&&typeof e=="object"}function qf(e){return typeof e=="string"||typeof e=="symbol"}const yn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Hf=Symbol("");var _h;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(_h||(_h={}));function jr(e,t){return pt(new Error,{type:e,[Hf]:!0},t)}function Ze(e,t){return e instanceof Error&&Hf in e&&(t==null||!!(e.type&t))}const yh="[^/]+?",q_={sensitive:!1,strict:!1,start:!0,end:!0},H_=/[.+*?^${}()[\]/\\]/g;function K_(e,t){const n=pt({},q_,t),r=[];let s=n.start?"^":"";const i=[];for(const l of e){const c=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let h=0;h<l.length;h++){const d=l[h];let g=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(H_,"\\$&"),g+=40;else if(d.type===1){const{value:y,repeatable:w,optional:E,regexp:B}=d;i.push({name:y,repeatable:w,optional:E});const S=B||yh;if(S!==yh){g+=10;try{new RegExp(`(${S})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${y}" (${S}): `+P.message)}}let V=w?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;h||(V=E&&l.length<2?`(?:/${V})`:"/"+V),E&&(V+="?"),s+=V,g+=20,E&&(g+=-8),w&&(g+=-20),S===".*"&&(g+=-50)}c.push(g)}r.push(c)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const c=l.match(o),h={};if(!c)return null;for(let d=1;d<c.length;d++){const g=c[d]||"",y=i[d-1];h[y.name]=g&&y.repeatable?g.split("/"):g}return h}function u(l){let c="",h=!1;for(const d of e){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const g of d)if(g.type===0)c+=g.value;else if(g.type===1){const{value:y,repeatable:w,optional:E}=g,B=y in l?l[y]:"";if(Ne(B)&&!w)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const S=Ne(B)?B.join("/"):B;if(!S)if(E)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);c+=S}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:u}}function G_(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function W_(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=G_(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(vh(r))return 1;if(vh(s))return-1}return s.length-r.length}function vh(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Q_={type:0,value:""},X_=/[a-zA-Z0-9_]/;function Y_(e){if(!e)return[[]];if(e==="/")return[[Q_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${l}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,u,l="",c="";function h(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),l="")}function d(){l+=u}for(;a<e.length;){if(u=e[a++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(l&&h(),o()):u===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:u==="("?n=2:X_.test(u)?d():(h(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:n=3:c+=u;break;case 3:h(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),h(),o(),s}function J_(e,t,n){const r=K_(Y_(e.path),n),s=pt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Z_(e,t){const n=[],r=new Map;t=wh({strict:!1,end:!0,sensitive:!1},t);function s(c){return r.get(c)}function i(c,h,d){const g=!d,y=ty(c);y.aliasOf=d&&d.record;const w=wh(t,c),E=[y];if("alias"in c){const V=typeof c.alias=="string"?[c.alias]:c.alias;for(const P of V)E.push(pt({},y,{components:d?d.record.components:y.components,path:P,aliasOf:d?d.record:y}))}let B,S;for(const V of E){const{path:P}=V;if(h&&P[0]!=="/"){const at=h.record.path,it=at[at.length-1]==="/"?"":"/";V.path=h.record.path+(P&&it+P)}if(B=J_(V,h,w),d?d.alias.push(B):(S=S||B,S!==B&&S.alias.push(B),g&&c.name&&!Ah(B)&&o(c.name)),y.children){const at=y.children;for(let it=0;it<at.length;it++)i(at[it],B,d&&d.children[it])}d=d||B,(B.record.components&&Object.keys(B.record.components).length||B.record.name||B.record.redirect)&&u(B)}return S?()=>{o(S)}:Is}function o(c){if(qf(c)){const h=r.get(c);h&&(r.delete(c),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(c);h>-1&&(n.splice(h,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function u(c){let h=0;for(;h<n.length&&W_(c,n[h])>=0&&(c.record.path!==n[h].record.path||!Kf(c,n[h]));)h++;n.splice(h,0,c),c.record.name&&!Ah(c)&&r.set(c.record.name,c)}function l(c,h){let d,g={},y,w;if("name"in c&&c.name){if(d=r.get(c.name),!d)throw jr(1,{location:c});w=d.record.name,g=pt(Eh(h.params,d.keys.filter(S=>!S.optional).map(S=>S.name)),c.params&&Eh(c.params,d.keys.map(S=>S.name))),y=d.stringify(g)}else if("path"in c)y=c.path,d=n.find(S=>S.re.test(y)),d&&(g=d.parse(y),w=d.record.name);else{if(d=h.name?r.get(h.name):n.find(S=>S.re.test(h.path)),!d)throw jr(1,{location:c,currentLocation:h});w=d.record.name,g=pt({},h.params,c.params),y=d.stringify(g)}const E=[];let B=d;for(;B;)E.unshift(B.record),B=B.parent;return{name:w,path:y,params:g,matched:E,meta:ny(E)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Eh(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function ty(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ey(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ey(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function Ah(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ny(e){return e.reduce((t,n)=>pt(t,n.meta),{})}function wh(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Kf(e,t){return t.children.some(n=>n===e||Kf(e,n))}const Gf=/#/g,ry=/&/g,sy=/\//g,iy=/=/g,oy=/\?/g,Wf=/\+/g,ay=/%5B/g,uy=/%5D/g,Qf=/%5E/g,ly=/%60/g,Xf=/%7B/g,cy=/%7C/g,Yf=/%7D/g,hy=/%20/g;function Cl(e){return encodeURI(""+e).replace(cy,"|").replace(ay,"[").replace(uy,"]")}function dy(e){return Cl(e).replace(Xf,"{").replace(Yf,"}").replace(Qf,"^")}function Cu(e){return Cl(e).replace(Wf,"%2B").replace(hy,"+").replace(Gf,"%23").replace(ry,"%26").replace(ly,"`").replace(Xf,"{").replace(Yf,"}").replace(Qf,"^")}function fy(e){return Cu(e).replace(iy,"%3D")}function py(e){return Cl(e).replace(Gf,"%23").replace(oy,"%3F")}function my(e){return e==null?"":py(e).replace(sy,"%2F")}function po(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function gy(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Wf," "),o=i.indexOf("="),a=po(o<0?i:i.slice(0,o)),u=o<0?null:po(i.slice(o+1));if(a in t){let l=t[a];Ne(l)||(l=t[a]=[l]),l.push(u)}else t[a]=u}return t}function Th(e){let t="";for(let n in e){const r=e[n];if(n=fy(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ne(r)?r.map(i=>i&&Cu(i)):[r&&Cu(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Cy(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ne(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const _y=Symbol(""),Ih=Symbol(""),_l=Symbol(""),Jf=Symbol(""),_u=Symbol("");function hs(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function An(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const u=h=>{h===!1?a(jr(4,{from:n,to:t})):h instanceof Error?a(h):z_(h)?a(jr(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},l=e.call(r&&r.instances[s],t,n,u);let c=Promise.resolve(l);e.length<3&&(c=c.then(u)),c.catch(h=>a(h))})}function Va(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(yy(a)){const l=(a.__vccOpts||a)[t];l&&s.push(An(l,n,r,i,o))}else{let u=a();s.push(()=>u.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const c=I_(l)?l.default:l;i.components[o]=c;const d=(c.__vccOpts||c)[t];return d&&An(d,n,r,i,o)()}))}}return s}function yy(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function bh(e){const t=an(_l),n=an(Jf),r=Ae(()=>t.resolve(tr(e.to))),s=Ae(()=>{const{matched:u}=r.value,{length:l}=u,c=u[l-1],h=n.matched;if(!c||!h.length)return-1;const d=h.findIndex($r.bind(null,c));if(d>-1)return d;const g=Rh(u[l-2]);return l>1&&Rh(c)===g&&h[h.length-1].path!==g?h.findIndex($r.bind(null,u[l-2])):d}),i=Ae(()=>s.value>-1&&wy(n.params,r.value.params)),o=Ae(()=>s.value>-1&&s.value===n.matched.length-1&&jf(n.params,r.value.params));function a(u={}){return Ay(u)?t[tr(e.replace)?"replace":"push"](tr(e.to)).catch(Is):Promise.resolve()}return{route:r,href:Ae(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const vy=$o({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:bh,setup(e,{slots:t}){const n=ii(bh(e)),{options:r}=an(_l),s=Ae(()=>({[Bh(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Bh(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:$f("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Ey=vy;function Ay(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function wy(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Ne(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Rh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Bh=(e,t,n)=>e??t??n,Ty=$o({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=an(_u),s=Ae(()=>e.route||r.value),i=an(Ih,0),o=Ae(()=>{let l=tr(i);const{matched:c}=s.value;let h;for(;(h=c[l])&&!h.components;)l++;return l}),a=Ae(()=>s.value.matched[o.value]);Xi(Ih,Ae(()=>o.value+1)),Xi(_y,a),Xi(_u,s);const u=H0();return Wi(()=>[u.value,a.value,e.name],([l,c,h],[d,g,y])=>{c&&(c.instances[h]=l,g&&g!==c&&l&&l===d&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),l&&c&&(!g||!$r(c,g)||!d)&&(c.enterCallbacks[h]||[]).forEach(w=>w(l))},{flush:"post"}),()=>{const l=s.value,c=e.name,h=a.value,d=h&&h.components[c];if(!d)return Dh(n.default,{Component:d,route:l});const g=h.props[c],y=g?g===!0?l.params:typeof g=="function"?g(l):g:null,E=$f(d,pt({},y,t,{onVnodeUnmounted:B=>{B.component.isUnmounted&&(h.instances[c]=null)},ref:u}));return Dh(n.default,{Component:E,route:l})||E}}});function Dh(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Zf=Ty;function Iy(e){const t=Z_(e.routes,e),n=e.parseQuery||gy,r=e.stringifyQuery||Th,s=e.history,i=hs(),o=hs(),a=hs(),u=K0(yn);let l=yn;Ir&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Fa.bind(null,v=>""+v),h=Fa.bind(null,my),d=Fa.bind(null,po);function g(v,O){let x,U;return qf(v)?(x=t.getRecordMatcher(v),U=O):U=v,t.addRoute(U,x)}function y(v){const O=t.getRecordMatcher(v);O&&t.removeRoute(O)}function w(){return t.getRoutes().map(v=>v.record)}function E(v){return!!t.getRecordMatcher(v)}function B(v,O){if(O=pt({},O||u.value),typeof v=="string"){const C=Oa(n,v,O.path),_=t.resolve({path:C.path},O),A=s.createHref(C.fullPath);return pt(C,_,{params:d(_.params),hash:po(C.hash),redirectedFrom:void 0,href:A})}let x;if("path"in v)x=pt({},v,{path:Oa(n,v.path,O.path).path});else{const C=pt({},v.params);for(const _ in C)C[_]==null&&delete C[_];x=pt({},v,{params:h(C)}),O.params=h(O.params)}const U=t.resolve(x,O),ft=v.hash||"";U.params=c(d(U.params));const p=B_(r,pt({},v,{hash:dy(ft),path:U.path})),m=s.createHref(p);return pt({fullPath:p,hash:ft,query:r===Th?Cy(v.query):v.query||{}},U,{redirectedFrom:void 0,href:m})}function S(v){return typeof v=="string"?Oa(n,v,u.value.path):pt({},v)}function V(v,O){if(l!==v)return jr(8,{from:O,to:v})}function P(v){return ne(v)}function at(v){return P(pt(S(v),{replace:!0}))}function it(v){const O=v.matched[v.matched.length-1];if(O&&O.redirect){const{redirect:x}=O;let U=typeof x=="function"?x(v):x;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=S(U):{path:U},U.params={}),pt({query:v.query,hash:v.hash,params:"path"in U?{}:v.params},U)}}function ne(v,O){const x=l=B(v),U=u.value,ft=v.state,p=v.force,m=v.replace===!0,C=it(x);if(C)return ne(pt(S(C),{state:typeof C=="object"?pt({},ft,C.state):ft,force:p,replace:m}),O||x);const _=x;_.redirectedFrom=O;let A;return!p&&D_(r,U,x)&&(A=jr(16,{to:_,from:U}),Ve(U,U,!0,!1)),(A?Promise.resolve(A):ge(_,U)).catch(T=>Ze(T)?Ze(T,2)?T:Cn(T):dt(T,_,U)).then(T=>{if(T){if(Ze(T,2))return ne(pt({replace:m},S(T.to),{state:typeof T.to=="object"?pt({},ft,T.to.state):ft,force:p}),O||_)}else T=$n(_,U,!0,m,ft);return gn(_,U,T),T})}function ae(v,O){const x=V(v,O);return x?Promise.reject(x):Promise.resolve()}function mn(v){const O=Er.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(v):v()}function ge(v,O){let x;const[U,ft,p]=by(v,O);x=Va(U.reverse(),"beforeRouteLeave",v,O);for(const C of U)C.leaveGuards.forEach(_=>{x.push(An(_,v,O))});const m=ae.bind(null,v,O);return x.push(m),qt(x).then(()=>{x=[];for(const C of i.list())x.push(An(C,v,O));return x.push(m),qt(x)}).then(()=>{x=Va(ft,"beforeRouteUpdate",v,O);for(const C of ft)C.updateGuards.forEach(_=>{x.push(An(_,v,O))});return x.push(m),qt(x)}).then(()=>{x=[];for(const C of v.matched)if(C.beforeEnter&&!O.matched.includes(C))if(Ne(C.beforeEnter))for(const _ of C.beforeEnter)x.push(An(_,v,O));else x.push(An(C.beforeEnter,v,O));return x.push(m),qt(x)}).then(()=>(v.matched.forEach(C=>C.enterCallbacks={}),x=Va(p,"beforeRouteEnter",v,O),x.push(m),qt(x))).then(()=>{x=[];for(const C of o.list())x.push(An(C,v,O));return x.push(m),qt(x)}).catch(C=>Ze(C,8)?C:Promise.reject(C))}function gn(v,O,x){for(const U of a.list())mn(()=>U(v,O,x))}function $n(v,O,x,U,ft){const p=V(v,O);if(p)return p;const m=O===yn,C=Ir?history.state:{};x&&(U||m?s.replace(v.fullPath,pt({scroll:m&&C&&C.scroll},ft)):s.push(v.fullPath,ft)),u.value=v,Ve(v,O,x,m),Cn()}let Oe;function us(){Oe||(Oe=s.listen((v,O,x)=>{if(!Ti.listening)return;const U=B(v),ft=it(U);if(ft){ne(pt(ft,{replace:!0}),U).catch(Is);return}l=U;const p=u.value;Ir&&V_(gh(p.fullPath,x.delta),Ko()),ge(U,p).catch(m=>Ze(m,12)?m:Ze(m,2)?(ne(m.to,U).then(C=>{Ze(C,20)&&!x.delta&&x.type===Us.pop&&s.go(-1,!1)}).catch(Is),Promise.reject()):(x.delta&&s.go(-x.delta,!1),dt(m,U,p))).then(m=>{m=m||$n(U,p,!1),m&&(x.delta&&!Ze(m,8)?s.go(-x.delta,!1):x.type===Us.pop&&Ze(m,20)&&s.go(-1,!1)),gn(U,p,m)}).catch(Is)}))}let yr=hs(),Ft=hs(),Ct;function dt(v,O,x){Cn(v);const U=Ft.list();return U.length?U.forEach(ft=>ft(v,O,x)):console.error(v),Promise.reject(v)}function Je(){return Ct&&u.value!==yn?Promise.resolve():new Promise((v,O)=>{yr.add([v,O])})}function Cn(v){return Ct||(Ct=!v,us(),yr.list().forEach(([O,x])=>v?x(v):O()),yr.reset()),v}function Ve(v,O,x,U){const{scrollBehavior:ft}=e;if(!Ir||!ft)return Promise.resolve();const p=!x&&M_(gh(v.fullPath,0))||(U||!x)&&history.state&&history.state.scroll||null;return oo().then(()=>ft(v,O,p)).then(m=>m&&O_(m)).catch(m=>dt(m,v,O))}const ue=v=>s.go(v);let vr;const Er=new Set,Ti={currentRoute:u,listening:!0,addRoute:g,removeRoute:y,hasRoute:E,getRoutes:w,resolve:B,options:e,push:P,replace:at,go:ue,back:()=>ue(-1),forward:()=>ue(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Ft.add,isReady:Je,install(v){const O=this;v.component("RouterLink",Ey),v.component("RouterView",Zf),v.config.globalProperties.$router=O,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>tr(u)}),Ir&&!vr&&u.value===yn&&(vr=!0,P(s.location).catch(ft=>{}));const x={};for(const ft in yn)x[ft]=Ae(()=>u.value[ft]);v.provide(_l,O),v.provide(Jf,ii(x)),v.provide(_u,u);const U=v.unmount;Er.add(v),v.unmount=function(){Er.delete(v),Er.size<1&&(l=yn,Oe&&Oe(),Oe=null,u.value=yn,vr=!1,Ct=!1),U()}}};function qt(v){return v.reduce((O,x)=>O.then(()=>mn(x)),Promise.resolve())}return Ti}function by(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(l=>$r(l,a))?r.push(a):n.push(a));const u=e.matched[o];u&&(t.matched.find(l=>$r(l,u))||s.push(u))}return[n,r,s]}const Ry={data(){return{pages:[{name:"ಕಾರ್ಯಕ್ರಮಗಳು",href:"events"},{name:"ಪ್ರಕಟಣೆಗಳು",href:"books"},{name:"ಮಿತ್ರರಶ್ಮಿ",href:"mitrarashmi"},{name:"ಆರೋಗ್ಯ ಸುಭಾಷಿತಗಳು",href:"arogyasubashita"},{name:"ನಿತ್ಯ ಸುಭಾಷಿತಗಳು",href:"nityasubashita"},{name:"ಸುವಚನಗಳು",href:"suvachana"}]}}};const Ye=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},By={class:"w3-top"},Dy={class:"w3-bar w3-card w3-left-align w3-large page-block"},Py=f("a",{id:"toggleNavigation",class:"w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-brown w3-large w3-white",href:"javascript:void(0);",onclick:"myFunction()"},[f("i",{class:"fa fa-bars"})],-1),Sy={id:"navDemo",class:"w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium w3-large"};function ky(e,t,n,r,s,i){const o=Bf("router-link");return q(),G("div",By,[f("div",Dy,[Py,St(o,{to:{name:"home"},class:"w3-bar-item w3-button w3-padding-large w3-white"},{default:er(()=>[Ue("ಮುಖಪುಟ")]),_:1}),(q(!0),G(ct,null,de(s.pages,a=>(q(),co(o,{class:"w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-brown page-block",to:{name:a.href}},{default:er(()=>[Ue(et(a.name),1)]),_:2},1032,["to"]))),256))]),f("div",Sy,[(q(!0),G(ct,null,de(s.pages,a=>(q(),co(o,{class:"w3-bar-item w3-button w3-padding-large w3-hover-brown",to:{name:a.href}},{default:er(()=>[Ue(et(a.name),1)]),_:2},1032,["to"]))),256))])])}const xy=Ye(Ry,[["render",ky]]);const Ny={},Fy={class:"w3-row-padding w3-padding-32"},Oy=On('<div class="w3-third" data-v-de8136c4><h3 data-v-de8136c4>Mythree Samskritha Samskrithi Prathisthanam (R)</h3><p data-v-de8136c4>#130, Gruhalakshmi Layout 2nd Stage, Kamalanagar 3rd Main, Bengaluru 560079</p></div><div class="w3-center w3-third" data-v-de8136c4><div class="w3-xlarge w3-padding-32" data-v-de8136c4><a href="https://www.facebook.com/samskrutagurukulam" target="_blank" data-v-de8136c4><i class="fa fa-facebook-official w3-hover-opacity" data-v-de8136c4></i></a><a href="https://www.youtube.com/@MythreeGurukulam" target="_blank" data-v-de8136c4><i class="fa fa-youtube-play w3-hover-opacity" data-v-de8136c4></i></a></div></div><div class="w3-right w3-third" data-v-de8136c4><h3 data-v-de8136c4>Get in touch</h3><p data-v-de8136c4>mythreefoundation@gmail.com</p><p data-v-de8136c4>+91 9448243724</p></div>',3),Vy=[Oy];function My(e,t){return q(),G("footer",Fy,Vy)}const Ly=Ye(Ny,[["render",My],["__scopeId","data-v-de8136c4"]]),Uy=$o({data(){return{message:"Hello World!"}}}),$y=$o({...Uy,__name:"App",setup(e){return(t,n)=>(q(),G(ct,null,[St(xy),(q(),co(tr(Zf),{key:t.$route.fullPath})),St(Ly)],64))}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},jy=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,u=s+2<e.length,l=u?e[s+2]:0,c=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|l>>6,g=l&63;u||(g=64,o||(d=64)),r.push(n[c],n[h],n[d],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tp(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):jy(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const l=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||l==null||h==null)throw new zy;const d=i<<2|a>>4;if(r.push(d),l!==64){const g=a<<4&240|l>>2;if(r.push(g),h!==64){const y=l<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class zy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qy=function(e){const t=tp(e);return ep.encodeByteArray(t,!0)},mo=function(e){return qy(e).replace(/\./g,"")},Hy=function(e){try{return ep.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function go(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Ky(n)||(e[n]=go(e[n],t[n]));return e}function Ky(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=()=>Gy().__FIREBASE_DEFAULTS__,Qy=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Xy=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Hy(e[1]);return t&&JSON.parse(t)},yl=()=>{try{return Wy()||Qy()||Xy()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Yy=e=>{var t,n;return(n=(t=yl())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},np=e=>{const t=Yy(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},rp=()=>{var e;return(e=yl())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[mo(JSON.stringify(n)),mo(JSON.stringify(o)),a].join(".")}function Zy(){var e;const t=(e=yl())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tv(){return typeof self=="object"&&self.self===self}function ev(){try{return typeof indexedDB=="object"}catch{return!1}}function nv(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="FirebaseError";class Vn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=rv,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Go.prototype.create)}}class Go{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?sv(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Vn(s,a,r)}}function sv(e,t){return e.replace(iv,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const iv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function yu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(Sh(i)&&Sh(o)){if(!yu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Sh(e){return e!==null&&typeof e=="object"}function ov(e,t){const n=new av(e,t);return n.subscribe.bind(n)}class av{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uv(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Ma),s.error===void 0&&(s.error=Ma),s.complete===void 0&&(s.complete=Ma);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uv(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Ma(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e){return e&&e._delegate?e._delegate:e}class or{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Jy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hv(t))try{this.getOrInitializeService({instanceIdentifier:qn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=qn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qn){return this.instances.has(t)}getOptions(t=qn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cv(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=qn){return this.component?this.component.multipleInstances?t:qn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cv(e){return e===qn?void 0:e}function hv(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lv(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=[];var ut;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ut||(ut={}));const ip={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},fv=ut.INFO,pv={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},mv=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=pv[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class El{constructor(t){this.name=t,this._logLevel=fv,this._logHandler=mv,this._userLogHandler=null,vl.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ip[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...t),this._logHandler(this,ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...t),this._logHandler(this,ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...t),this._logHandler(this,ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...t),this._logHandler(this,ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...t),this._logHandler(this,ut.ERROR,...t)}}function gv(e){vl.forEach(t=>{t.setLogLevel(e)})}function Cv(e,t){for(const n of vl){let r=null;t&&t.level&&(r=ip[t.level]),e===null?n.userLogHandler=null:n.userLogHandler=(s,i,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");i>=(r??s.logLevel)&&e({level:ut[i].toLowerCase(),message:a,args:o,type:s.name})}}}const _v=(e,t)=>t.some(n=>e instanceof n);let kh,xh;function yv(){return kh||(kh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vv(){return xh||(xh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const op=new WeakMap,vu=new WeakMap,ap=new WeakMap,La=new WeakMap,Al=new WeakMap;function Ev(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(Rn(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&op.set(n,e)}).catch(()=>{}),Al.set(t,e),t}function Av(e){if(vu.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});vu.set(e,t)}let Eu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return vu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ap.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function wv(e){Eu=e(Eu)}function Tv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ua(this),t,...n);return ap.set(r,t.sort?t.sort():[t]),Rn(r)}:vv().includes(e)?function(...t){return e.apply(Ua(this),t),Rn(op.get(this))}:function(...t){return Rn(e.apply(Ua(this),t))}}function Iv(e){return typeof e=="function"?Tv(e):(e instanceof IDBTransaction&&Av(e),_v(e,yv())?new Proxy(e,Eu):e)}function Rn(e){if(e instanceof IDBRequest)return Ev(e);if(La.has(e))return La.get(e);const t=Iv(e);return t!==e&&(La.set(e,t),Al.set(t,e)),t}const Ua=e=>Al.get(e);function bv(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=Rn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Rn(o.result),u.oldVersion,u.newVersion,Rn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Rv=["get","getKey","getAll","getAllKeys","count"],Bv=["put","add","delete","clear"],$a=new Map;function Nh(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if($a.get(t))return $a.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Bv.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Rv.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&u.done]))[0]};return $a.set(t,i),i}wv(e=>({...e,get:(t,n,r)=>Nh(t,n)||e.get(t,n,r),has:(t,n)=>!!Nh(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pv(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pv(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Au="@firebase/app",Fh="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new El("@firebase/app"),Sv="@firebase/app-compat",kv="@firebase/analytics-compat",xv="@firebase/analytics",Nv="@firebase/app-check-compat",Fv="@firebase/app-check",Ov="@firebase/auth",Vv="@firebase/auth-compat",Mv="@firebase/database",Lv="@firebase/database-compat",Uv="@firebase/functions",$v="@firebase/functions-compat",jv="@firebase/installations",zv="@firebase/installations-compat",qv="@firebase/messaging",Hv="@firebase/messaging-compat",Kv="@firebase/performance",Gv="@firebase/performance-compat",Wv="@firebase/remote-config",Qv="@firebase/remote-config-compat",Xv="@firebase/storage",Yv="@firebase/storage-compat",Jv="@firebase/firestore",Zv="@firebase/firestore-compat",tE="firebase",eE="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="[DEFAULT]",nE={[Au]:"fire-core",[Sv]:"fire-core-compat",[xv]:"fire-analytics",[kv]:"fire-analytics-compat",[Fv]:"fire-app-check",[Nv]:"fire-app-check-compat",[Ov]:"fire-auth",[Vv]:"fire-auth-compat",[Mv]:"fire-rtdb",[Lv]:"fire-rtdb-compat",[Uv]:"fire-fn",[$v]:"fire-fn-compat",[jv]:"fire-iid",[zv]:"fire-iid-compat",[qv]:"fire-fcm",[Hv]:"fire-fcm-compat",[Kv]:"fire-perf",[Gv]:"fire-perf-compat",[Wv]:"fire-rc",[Qv]:"fire-rc-compat",[Xv]:"fire-gcs",[Yv]:"fire-gcs-compat",[Jv]:"fire-fst",[Zv]:"fire-fst-compat","fire-js":"fire-js",[tE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new Map,$s=new Map;function Co(e,t){try{e.container.addComponent(t)}catch(n){ar.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function up(e,t){e.container.addOrOverwriteComponent(t)}function ur(e){const t=e.name;if($s.has(t))return ar.debug(`There were multiple attempts to register component ${t}.`),!1;$s.set(t,e);for(const n of kn.values())Co(n,e);return!0}function Wo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function rE(e,t,n=Sn){Wo(e,t).clearInstance(n)}function sE(){$s.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},un=new Go("app","Firebase",iE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oE=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw un.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=eE;function Xo(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw un.create("bad-app-name",{appName:String(s)});if(n||(n=rp()),!n)throw un.create("no-options");const i=kn.get(s);if(i){if(yu(n,i.options)&&yu(r,i.config))return i;throw un.create("duplicate-app",{appName:s})}const o=new dv(s);for(const u of $s.values())o.addComponent(u);const a=new oE(n,r,o);return kn.set(s,a),a}function wl(e=Sn){const t=kn.get(e);if(!t&&e===Sn&&rp())return Xo();if(!t)throw un.create("no-app",{appName:e});return t}function aE(){return Array.from(kn.values())}async function lp(e){const t=e.name;kn.has(t)&&(kn.delete(t),await Promise.all(e.container.getProviders().map(n=>n.delete())),e.isDeleted=!0)}function ke(e,t,n){var r;let s=(r=nE[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ar.warn(a.join(" "));return}ur(new or(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function cp(e,t){if(e!==null&&typeof e!="function")throw un.create("invalid-log-argument");Cv(e,t)}function hp(e){gv(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firebase-heartbeat-database",lE=1,js="firebase-heartbeat-store";let ja=null;function dp(){return ja||(ja=bv(uE,lE,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(js)}}}).catch(e=>{throw un.create("idb-open",{originalErrorMessage:e.message})})),ja}async function cE(e){try{return await(await dp()).transaction(js).objectStore(js).get(fp(e))}catch(t){if(t instanceof Vn)ar.warn(t.message);else{const n=un.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ar.warn(n.message)}}}async function Oh(e,t){try{const r=(await dp()).transaction(js,"readwrite");await r.objectStore(js).put(t,fp(e)),await r.done}catch(n){if(n instanceof Vn)ar.warn(n.message);else{const r=un.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ar.warn(r.message)}}}function fp(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=1024,dE=30*24*60*60*1e3;class fE{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Vh();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=dE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Vh(),{heartbeatsToSend:n,unsentEntries:r}=pE(this._heartbeatsCache.heartbeats),s=mo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Vh(){return new Date().toISOString().substring(0,10)}function pE(e,t=hE){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Mh(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Mh(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ev()?nv().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await cE(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Oh(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Oh(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Mh(e){return mo(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(e){ur(new or("platform-logger",t=>new Dv(t),"PRIVATE")),ur(new or("heartbeat",t=>new fE(t),"PRIVATE")),ke(Au,Fh,e),ke(Au,Fh,"esm2017"),ke("fire-js","")}gE("");const CE=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Vn,SDK_VERSION:Qo,_DEFAULT_ENTRY_NAME:Sn,_addComponent:Co,_addOrOverwriteComponent:up,_apps:kn,_clearComponents:sE,_components:$s,_getProvider:Wo,_registerComponent:ur,_removeServiceInstance:rE,deleteApp:lp,getApp:wl,getApps:aE,initializeApp:Xo,onLog:cp,registerVersion:ke,setLogLevel:hp},Symbol.toStringTag,{value:"Module"}));var _E="firebase",yE="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ke(_E,yE,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="firebasestorage.googleapis.com",mp="storageBucket",vE=2*60*1e3,EE=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends Vn{constructor(t,n,r=0){super(za(t),`Firebase Storage: ${n} (${za(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return za(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var It;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(It||(It={}));function za(e){return"storage/"+e}function Tl(){const e="An unknown error occurred, please check the error payload for server response.";return new Rt(It.UNKNOWN,e)}function AE(e){return new Rt(It.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function wE(e){return new Rt(It.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TE(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(It.UNAUTHENTICATED,e)}function IE(){return new Rt(It.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bE(e){return new Rt(It.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function RE(){return new Rt(It.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BE(){return new Rt(It.CANCELED,"User canceled the upload/download.")}function DE(e){return new Rt(It.INVALID_URL,"Invalid URL '"+e+"'.")}function PE(e){return new Rt(It.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function SE(){return new Rt(It.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mp+"' property when initializing the app?")}function kE(){return new Rt(It.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xE(){return new Rt(It.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function NE(e){return new Rt(It.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function wu(e){return new Rt(It.INVALID_ARGUMENT,e)}function gp(){return new Rt(It.APP_DELETED,"The Firebase app was deleted.")}function FE(e){return new Rt(It.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rs(e,t){return new Rt(It.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ds(e){throw new Rt(It.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ie.makeFromUrl(t,n)}catch{return new ie(t,"")}if(r.path==="")return r;throw PE(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function l(P){P.path_=decodeURIComponent(P.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${c}/b/${s}/o${d}`,"i"),y={bucket:1,path:3},w=n===pp?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",B=new RegExp(`^https?://${w}/${s}/${E}`,"i"),V=[{regex:a,indices:u,postModify:i},{regex:g,indices:y,postModify:l},{regex:B,indices:{bucket:1,path:2},postModify:l}];for(let P=0;P<V.length;P++){const at=V[P],it=at.regex.exec(t);if(it){const ne=it[at.indices.bucket];let ae=it[at.indices.path];ae||(ae=""),r=new ie(ne,ae),at.postModify(r);break}}if(r==null)throw DE(t);return r}}class OE{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(e,t,n){let r=1,s=null,i=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...E){l||(l=!0,t.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,e(g,u())},E)}function d(){i&&clearTimeout(i)}function g(E,...B){if(l){d();return}if(E){d(),c.call(null,E,...B);return}if(u()||o){d(),c.call(null,E,...B);return}r<64&&(r*=2);let V;a===1?(a=2,V=0):V=(r+Math.random())*1e3,h(V)}let y=!1;function w(E){y||(y=!0,d(),!l&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function ME(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(e){return e!==void 0}function UE(e){return typeof e=="object"&&!Array.isArray(e)}function Il(e){return typeof e=="string"||e instanceof String}function Lh(e){return bl()&&e instanceof Blob}function bl(){return typeof Blob<"u"&&!Zy()}function Tu(e,t,n,r){if(r<t)throw wu(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw wu(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Cp(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(rr||(rr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t,n,r,s,i,o,a,u,l,c,h,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new Si(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===rr.NO_ERROR,u=i.getStatus();if(!a||$E(u,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===rr.ABORT;r(!1,new Si(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new Si(l,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());LE(u)?i(u):i()}catch(u){o(u)}else if(a!==null){const u=Tl();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(s.canceled){const u=this.appDelete_?gp():BE();o(u)}else{const u=RE();o(u)}};this.canceled_?n(!1,new Si(!1,null,!0)):this.backoffId_=VE(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&ME(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Si{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function zE(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function qE(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function HE(e,t){t&&(e["X-Firebase-GMPID"]=t)}function KE(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function GE(e,t,n,r,s,i,o=!0){const a=Cp(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return HE(l,t),zE(l,n),qE(l,i),KE(l,r),new jE(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QE(...e){const t=WE();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(bl())return new Blob(e);throw new Rt(It.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XE(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(e){if(typeof atob>"u")throw NE("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qa{constructor(t,n){this.data=t,this.contentType=n||null}}function JE(e,t){switch(e){case qe.RAW:return new qa(_p(t));case qe.BASE64:case qe.BASE64URL:return new qa(yp(e,t));case qe.DATA_URL:return new qa(tA(t),eA(t))}throw Tl()}function _p(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const i=r,o=e.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function ZE(e){let t;try{t=decodeURIComponent(e)}catch{throw Rs(qe.DATA_URL,"Malformed data URL.")}return _p(t)}function yp(e,t){switch(e){case qe.BASE64:{const s=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(s||i)throw Rs(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case qe.BASE64URL:{const s=t.indexOf("+")!==-1,i=t.indexOf("/")!==-1;if(s||i)throw Rs(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=YE(t)}catch(s){throw s.message.includes("polyfill")?s:Rs(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class vp{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Rs(qe.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=nA(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function tA(e){const t=new vp(e);return t.base64?yp(qe.BASE64,t.rest):ZE(t.rest)}function eA(e){return new vp(e).contentType}function nA(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t,n){let r=0,s="";Lh(t)?(this.data_=t,r=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(Lh(this.data_)){const r=this.data_,s=XE(r,t,n);return s===null?null:new wn(s)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new wn(r,!0)}}static getBlob(...t){if(bl()){const n=t.map(r=>r instanceof wn?r.data_:r);return new wn(QE.apply(null,n))}else{const n=t.map(o=>Il(o)?JE(qe.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new wn(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(e){let t;try{t=JSON.parse(e)}catch{return null}return UE(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function sA(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Ep(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(e,t){return t}class re{constructor(t,n,r,s){this.server=t,this.local=n||t,this.writable=!!r,this.xform=s||iA}}let ki=null;function oA(e){return!Il(e)||e.length<2?e:Ep(e)}function Ap(){if(ki)return ki;const e=[];e.push(new re("bucket")),e.push(new re("generation")),e.push(new re("metageneration")),e.push(new re("name","fullPath",!0));function t(i,o){return oA(o)}const n=new re("name");n.xform=t,e.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new re("size");return s.xform=r,e.push(s),e.push(new re("timeCreated")),e.push(new re("updated")),e.push(new re("md5Hash",null,!0)),e.push(new re("cacheControl",null,!0)),e.push(new re("contentDisposition",null,!0)),e.push(new re("contentEncoding",null,!0)),e.push(new re("contentLanguage",null,!0)),e.push(new re("contentType",null,!0)),e.push(new re("metadata","customMetadata",!0)),ki=e,ki}function aA(e,t){function n(){const r=e.bucket,s=e.fullPath,i=new ie(r,s);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function uA(e,t,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,t[o.server])}return aA(r,e),r}function wp(e,t,n){const r=Rl(t);return r===null?null:uA(e,r,n)}function lA(e,t,n,r){const s=Rl(t);if(s===null||!Il(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(l=>{const c=e.bucket,h=e.fullPath,d="/b/"+o(c)+"/o/"+o(h),g=oi(d,n,r),y=Cp({alt:"media",token:l});return g+y})[0]}function cA(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const i=t[s];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="prefixes",$h="items";function hA(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Uh])for(const s of n[Uh]){const i=s.replace(/\/$/,""),o=e._makeStorageReference(new ie(t,i));r.prefixes.push(o)}if(n[$h])for(const s of n[$h]){const i=e._makeStorageReference(new ie(t,s.name));r.items.push(i)}return r}function dA(e,t,n){const r=Rl(n);return r===null?null:hA(e,t,r)}class Yo{constructor(t,n,r,s){this.url=t,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(e){if(!e)throw Tl()}function fA(e,t){function n(r,s){const i=wp(e,s,t);return Bl(i!==null),i}return n}function pA(e,t){function n(r,s){const i=dA(e,t,s);return Bl(i!==null),i}return n}function mA(e,t){function n(r,s){const i=wp(e,s,t);return Bl(i!==null),lA(i,s,e.host,e._protocol)}return n}function Dl(e){function t(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=IE():s=TE():n.getStatus()===402?s=wE(e.bucket):n.getStatus()===403?s=bE(e.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return t}function Tp(e){const t=Dl(e);function n(r,s){let i=t(r,s);return r.getStatus()===404&&(i=AE(e.path)),i.serverResponse=s.serverResponse,i}return n}function gA(e,t,n,r,s){const i={};t.isRoot?i.prefix="":i.prefix=t.path+"/",n&&n.length>0&&(i.delimiter=n),r&&(i.pageToken=r),s&&(i.maxResults=s);const o=t.bucketOnlyServerUrl(),a=oi(o,e.host,e._protocol),u="GET",l=e.maxOperationRetryTime,c=new Yo(a,u,pA(e,t.bucket),l);return c.urlParams=i,c.errorHandler=Dl(t),c}function CA(e,t,n){const r=t.fullServerUrl(),s=oi(r,e.host,e._protocol),i="GET",o=e.maxOperationRetryTime,a=new Yo(s,i,mA(e,n),o);return a.errorHandler=Tp(t),a}function _A(e,t){const n=t.fullServerUrl(),r=oi(n,e.host,e._protocol),s="DELETE",i=e.maxOperationRetryTime;function o(u,l){}const a=new Yo(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=Tp(t),a}function yA(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function vA(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=yA(null,t)),r}function EA(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let V="";for(let P=0;P<2;P++)V=V+Math.random().toString().slice(2);return V}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=vA(t,r,s),c=cA(l,n),h="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",g=wn.getBlob(h,r,d);if(g===null)throw kE();const y={name:l.fullPath},w=oi(i,e.host,e._protocol),E="POST",B=e.maxUploadRetryTime,S=new Yo(w,E,fA(e,n),B);return S.urlParams=y,S.headers=o,S.body=g.uploadData(),S.errorHandler=Dl(t),S}class AA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,s){if(this.sent_)throw ds("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ds("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ds("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ds("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ds("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class wA extends AA{initXhr(){this.xhr_.responseType="text"}}function Jo(){return new wA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t,n){this._service=t,n instanceof ie?this._location=n:this._location=ie.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new lr(t,n)}get root(){const t=new ie(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ep(this._location.path)}get storage(){return this._service}get parent(){const t=rA(this._location.path);if(t===null)return null;const n=new ie(this._location.bucket,t);return new lr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw FE(t)}}function TA(e,t,n){e._throwIfRoot("uploadBytes");const r=EA(e.storage,e._location,Ap(),new wn(t,!0),n);return e.storage.makeRequestWithTokens(r,Jo).then(s=>({metadata:s,ref:e}))}function IA(e){const t={prefixes:[],items:[]};return Ip(e,t).then(()=>t)}async function Ip(e,t,n){const s=await bA(e,{pageToken:n});t.prefixes.push(...s.prefixes),t.items.push(...s.items),s.nextPageToken!=null&&await Ip(e,t,s.nextPageToken)}function bA(e,t){t!=null&&typeof t.maxResults=="number"&&Tu("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=gA(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Jo)}function RA(e){e._throwIfRoot("getDownloadURL");const t=CA(e.storage,e._location,Ap());return e.storage.makeRequestWithTokens(t,Jo).then(n=>{if(n===null)throw xE();return n})}function BA(e){e._throwIfRoot("deleteObject");const t=_A(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Jo)}function DA(e,t){const n=sA(e._location.path,t),r=new ie(e._location.bucket,n);return new lr(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(e){return/^[A-Za-z]+:\/\//.test(e)}function SA(e,t){return new lr(e,t)}function bp(e,t){if(e instanceof Pl){const n=e;if(n._bucket==null)throw SE();const r=new lr(n,n._bucket);return t!=null?bp(r,t):r}else return t!==void 0?DA(e,t):e}function kA(e,t){if(t&&PA(t)){if(e instanceof Pl)return SA(e,t);throw wu("To use ref(service, url), the first argument must be a Storage instance.")}else return bp(e,t)}function jh(e,t){const n=t==null?void 0:t[mp];return n==null?null:ie.makeFromBucketSpec(n,e)}function xA(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:sp(s,e.app.options.projectId))}class Pl{constructor(t,n,r,s,i){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=pp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vE,this._maxUploadRetryTime=EE,this._requests=new Set,s!=null?this._bucket=ie.makeFromBucketSpec(s,this._host):this._bucket=jh(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ie.makeFromBucketSpec(this._url,t):this._bucket=jh(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Tu("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Tu("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new lr(this,t)}_makeRequest(t,n,r,s,i=!0){if(this._deleted)return new OE(gp());{const o=GE(t,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const zh="@firebase/storage",qh="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="storage";function NA(e,t,n){return e=me(e),TA(e,t,n)}function FA(e){return e=me(e),IA(e)}function OA(e){return e=me(e),RA(e)}function VA(e){return e=me(e),BA(e)}function Zo(e,t){return e=me(e),kA(e,t)}function Sl(e=wl(),t){e=me(e);const r=Wo(e,Rp).getImmediate({identifier:t}),s=np("storage");return s&&MA(r,...s),r}function MA(e,t,n,r={}){xA(e,t,n,r)}function LA(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Pl(n,r,s,t,Qo)}function UA(){ur(new or(Rp,LA,"PUBLIC").setMultipleInstances(!0)),ke(zh,qh,""),ke(zh,qh,"esm2017")}UA();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t,n){this._delegate=t,this.firebase=n,Co(t,new or("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),lp(this._delegate)))}_getService(t,n=Sn){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(t);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(t,n=Sn){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){Co(this._delegate,t)}_addOrOverwriteComponent(t){up(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},Hh=new Go("app-compat","Firebase",jA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(e){const t={},n={__esModule:!0,initializeApp:i,app:s,registerVersion:ke,setLogLevel:hp,onLog:cp,apps:null,SDK_VERSION:Qo,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:CE}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(l){delete t[l]}function s(l){if(l=l||Sn,!Ph(t,l))throw Hh.create("no-app",{appName:l});return t[l]}s.App=e;function i(l,c={}){const h=Xo(l,c);if(Ph(t,h.name))return t[h.name];const d=new e(h,n);return t[h.name]=d,d}function o(){return Object.keys(t).map(l=>t[l])}function a(l){const c=l.name,h=c.replace("-compat","");if(ur(l)&&l.type==="PUBLIC"){const d=(g=s())=>{if(typeof g[h]!="function")throw Hh.create("invalid-app-argument",{appName:c});return g[h]()};l.serviceProps!==void 0&&go(d,l.serviceProps),n[h]=d,e.prototype[h]=function(...g){return this._getService.bind(this,c).apply(this,l.multipleInstances?g:[])}}return l.type==="PUBLIC"?n[h]:null}function u(l,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(){const e=zA($A);e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:Bp,extendNamespace:t,createSubscribe:ov,ErrorFactory:Go,deepExtend:go});function t(n){go(e,n)}return e}const qA=Bp();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new El("@firebase/app-compat"),HA="@firebase/app-compat",KA="0.2.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(e){ke(HA,KA,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(tv()&&self.firebase!==void 0){Kh.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Kh.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Dp=qA;GA();var WA="firebase",QA="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dp.registerVersion(WA,QA,"app-compat");var XA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N,kl=kl||{},Q=XA||self;function ta(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ai(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function YA(e){return Object.prototype.hasOwnProperty.call(e,Ha)&&e[Ha]||(e[Ha]=++JA)}var Ha="closure_uid_"+(1e9*Math.random()>>>0),JA=0;function ZA(e,t,n){return e.call.apply(e.bind,arguments)}function tw(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Yt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yt=ZA:Yt=tw,Yt.apply(null,arguments)}function xi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Lt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function Mn(){this.s=this.s,this.o=this.o}var ew=0;Mn.prototype.s=!1;Mn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ew!=0)&&YA(this)};Mn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Pp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function xl(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Gh(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ta(r)){const s=e.length||0,i=r.length||0;e.length=s+i;for(let o=0;o<i;o++)e[s+o]=r[o]}else e.push(r)}}function Jt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var nw=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Q.addEventListener("test",()=>{},t),Q.removeEventListener("test",()=>{},t)}catch{}return e}();function zs(e){return/^[\s\xa0]*$/.test(e)}function ea(){var e=Q.navigator;return e&&(e=e.userAgent)?e:""}function ze(e){return ea().indexOf(e)!=-1}function Nl(e){return Nl[" "](e),e}Nl[" "]=function(){};function rw(e,t){var n=Qw;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var sw=ze("Opera"),zr=ze("Trident")||ze("MSIE"),Sp=ze("Edge"),Iu=Sp||zr,kp=ze("Gecko")&&!(ea().toLowerCase().indexOf("webkit")!=-1&&!ze("Edge"))&&!(ze("Trident")||ze("MSIE"))&&!ze("Edge"),iw=ea().toLowerCase().indexOf("webkit")!=-1&&!ze("Edge");function xp(){var e=Q.document;return e?e.documentMode:void 0}var bu;t:{var Ka="",Ga=function(){var e=ea();if(kp)return/rv:([^\);]+)(\)|;)/.exec(e);if(Sp)return/Edge\/([\d\.]+)/.exec(e);if(zr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(iw)return/WebKit\/(\S+)/.exec(e);if(sw)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ga&&(Ka=Ga?Ga[1]:""),zr){var Wa=xp();if(Wa!=null&&Wa>parseFloat(Ka)){bu=String(Wa);break t}}bu=Ka}var Ru;if(Q.document&&zr){var Wh=xp();Ru=Wh||parseInt(bu,10)||void 0}else Ru=void 0;var ow=Ru;function qs(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(kp){t:{try{Nl(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:aw[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qs.$.h.call(this)}}Lt(qs,Jt);var aw={2:"touch",3:"pen",4:"mouse"};qs.prototype.h=function(){qs.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ui="closure_listenable_"+(1e6*Math.random()|0),uw=0;function lw(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++uw,this.fa=this.ia=!1}function na(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Fl(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function cw(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Np(e){const t={};for(const n in e)t[n]=e[n];return t}const Qh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fp(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<Qh.length;i++)n=Qh[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ra(e){this.src=e,this.g={},this.h=0}ra.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=Du(e,t,r,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new lw(t,this.src,i,!!r,s),t.ia=n,e.push(t)),t};function Bu(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=Pp(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(na(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Du(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}var Ol="closure_lm_"+(1e6*Math.random()|0),Qa={};function Op(e,t,n,r,s){if(r&&r.once)return Mp(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Op(e,t[i],n,r,s);return null}return n=Ll(n),e&&e[ui]?e.O(t,n,ai(r)?!!r.capture:!!r,s):Vp(e,t,n,!1,r,s)}function Vp(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=ai(s)?!!s.capture:!!s,a=Ml(e);if(a||(e[Ol]=a=new ra(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=hw(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)nw||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Up(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hw(){function e(n){return t.call(e.src,e.listener,n)}const t=dw;return e}function Mp(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Mp(e,t[i],n,r,s);return null}return n=Ll(n),e&&e[ui]?e.P(t,n,ai(r)?!!r.capture:!!r,s):Vp(e,t,n,!0,r,s)}function Lp(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Lp(e,t[i],n,r,s);else r=ai(r)?!!r.capture:!!r,n=Ll(n),e&&e[ui]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=Du(i,n,r,s),-1<n&&(na(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=Ml(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Du(t,n,r,s)),(n=-1<e?t[e]:null)&&Vl(n))}function Vl(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[ui])Bu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Up(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ml(t))?(Bu(n,e),n.h==0&&(n.src=null,t[Ol]=null)):na(e)}}}function Up(e){return e in Qa?Qa[e]:Qa[e]="on"+e}function dw(e,t){if(e.fa)e=!0;else{t=new qs(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Vl(e),e=n.call(r,t)}return e}function Ml(e){return e=e[Ol],e instanceof ra?e:null}var Xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ll(e){return typeof e=="function"?e:(e[Xa]||(e[Xa]=function(t){return e.handleEvent(t)}),e[Xa])}function Mt(){Mn.call(this),this.i=new ra(this),this.S=this,this.J=null}Lt(Mt,Mn);Mt.prototype[ui]=!0;Mt.prototype.removeEventListener=function(e,t,n,r){Lp(this,e,t,n,r)};function zt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Jt(t,e);else if(t instanceof Jt)t.target=t.target||e;else{var s=t;t=new Jt(r,e),Fp(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=Ni(o,r,!0,t)&&s}if(o=t.g=e,s=Ni(o,r,!0,t)&&s,s=Ni(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=Ni(o,r,!1,t)&&s}Mt.prototype.N=function(){if(Mt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)na(n[r]);delete e.g[t],e.h--}}this.J=null};Mt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Mt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ni(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Bu(e.i,o),s=a.call(u,r)!==!1&&s}}return s&&!r.defaultPrevented}var Ul=Q.JSON.stringify;class fw{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function pw(){var e=$l;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class mw{constructor(){this.h=this.g=null}add(t,n){const r=$p.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var $p=new fw(()=>new gw,e=>e.reset());class gw{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Cw(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _w(e){Q.setTimeout(()=>{throw e},0)}let Hs,Ks=!1,$l=new mw,jp=()=>{const e=Q.Promise.resolve(void 0);Hs=()=>{e.then(yw)}};var yw=()=>{for(var e;e=pw();){try{e.h.call(e.g)}catch(n){_w(n)}var t=$p;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ks=!1};function sa(e,t){Mt.call(this),this.h=e||1,this.g=t||Q,this.j=Yt(this.qb,this),this.l=Date.now()}Lt(sa,Mt);N=sa.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zt(this,"tick"),this.ga&&(jl(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}N.N=function(){sa.$.N.call(this),jl(this),delete this.g};function zl(e,t,n){if(typeof e=="function")n&&(e=Yt(e,n));else if(e&&typeof e.handleEvent=="function")e=Yt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Q.setTimeout(e,t||0)}function zp(e){e.g=zl(()=>{e.g=null,e.i&&(e.i=!1,zp(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class vw extends Mn{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:zp(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(e){Mn.call(this),this.h=e,this.g={}}Lt(Gs,Mn);var Xh=[];function qp(e,t,n,r){Array.isArray(n)||(n&&(Xh[0]=n.toString()),n=Xh);for(var s=0;s<n.length;s++){var i=Op(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function Hp(e){Fl(e.g,function(t,n){this.g.hasOwnProperty(n)&&Vl(t)},e),e.g={}}Gs.prototype.N=function(){Gs.$.N.call(this),Hp(this)};Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ia(){this.g=!0}ia.prototype.Ea=function(){this.g=!1};function Ew(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function Aw(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function Dr(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Tw(e,n)+(r?" "+r:"")})}function ww(e,t){e.info(function(){return"TIMEOUT: "+t})}ia.prototype.info=function(){};function Tw(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Ul(n)}catch{return t}}var mr={},Yh=null;function oa(){return Yh=Yh||new Mt}mr.Ta="serverreachability";function Kp(e){Jt.call(this,mr.Ta,e)}Lt(Kp,Jt);function Ws(e){const t=oa();zt(t,new Kp(t))}mr.STAT_EVENT="statevent";function Gp(e,t){Jt.call(this,mr.STAT_EVENT,e),this.stat=t}Lt(Gp,Jt);function oe(e){const t=oa();zt(t,new Gp(t,e))}mr.Ua="timingevent";function Wp(e,t){Jt.call(this,mr.Ua,e),this.size=t}Lt(Wp,Jt);function li(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){e()},t)}var aa={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ql(){}ql.prototype.h=null;function Jh(e){return e.h||(e.h=e.i())}function Xp(){}var ci={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Hl(){Jt.call(this,"d")}Lt(Hl,Jt);function Kl(){Jt.call(this,"c")}Lt(Kl,Jt);var Pu;function ua(){}Lt(ua,ql);ua.prototype.g=function(){return new XMLHttpRequest};ua.prototype.i=function(){return{}};Pu=new ua;function hi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Gs(this),this.P=Iw,e=Iu?125:void 0,this.V=new sa(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yp}function Yp(){this.i=null,this.g="",this.h=!1}var Iw=45e3,Su={},_o={};N=hi.prototype;N.setTimeout=function(e){this.P=e};function ku(e,t,n){e.L=1,e.v=ca(cn(t)),e.s=n,e.S=!0,Jp(e,null)}function Jp(e,t){e.G=Date.now(),di(e),e.A=cn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),om(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Yp,e.g=Rm(e.l,n?t:null,!e.s),0<e.O&&(e.M=new vw(Yt(e.Pa,e,e.g),e.O)),qp(e.U,e.g,"readystatechange",e.nb),t=e.I?Np(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ws(),Ew(e.j,e.u,e.A,e.m,e.W,e.s)}N.nb=function(e){e=e.target;const t=this.M;t&&He(e)==3?t.l():this.Pa(e)};N.Pa=function(e){try{if(e==this.g)t:{const c=He(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Iu||this.g&&(this.h.h||this.g.ja()||nd(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?Ws(3):Ws(2)),la(this);var n=this.g.da();this.ca=n;e:if(Zp(this)){var r=nd(this.g);e="";var s=r.length,i=He(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xn(this),Bs(this);var o="";break e}this.h.i=new Q.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Aw(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zs(a)){var l=a;break e}}l=null}if(n=l)Dr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xu(this,n);else{this.i=!1,this.o=3,oe(12),Xn(this),Bs(this);break t}}this.S?(tm(this,c,o),Iu&&this.i&&c==3&&(qp(this.U,this.V,"tick",this.mb),this.V.start())):(Dr(this.j,this.m,o,null),xu(this,o)),c==4&&Xn(this),this.i&&!this.J&&(c==4?wm(this.l,this):(this.i=!1,di(this)))}else Kw(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,oe(12)):(this.o=0,oe(13)),Xn(this),Bs(this)}}}catch{}finally{}};function Zp(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function tm(e,t,n){let r=!0,s;for(;!e.J&&e.C<n.length;)if(s=bw(e,n),s==_o){t==4&&(e.o=4,oe(14),r=!1),Dr(e.j,e.m,null,"[Incomplete Response]");break}else if(s==Su){e.o=4,oe(15),Dr(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Dr(e.j,e.m,s,null),xu(e,s);Zp(e)&&s!=_o&&s!=Su&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,oe(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jl(t),t.M=!0,oe(11))):(Dr(e.j,e.m,n,"[Invalid Chunked Response]"),Xn(e),Bs(e))}N.mb=function(){if(this.g){var e=He(this.g),t=this.g.ja();this.C<t.length&&(la(this),tm(this,e,t),this.i&&e!=4&&di(this))}};function bw(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?_o:(n=Number(t.substring(n,r)),isNaN(n)?Su:(r+=1,r+n>t.length?_o:(t=t.slice(r,r+n),e.C=r+n,t)))}N.cancel=function(){this.J=!0,Xn(this)};function di(e){e.Y=Date.now()+e.P,em(e,e.P)}function em(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=li(Yt(e.lb,e),t)}function la(e){e.B&&(Q.clearTimeout(e.B),e.B=null)}N.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(ww(this.j,this.A),this.L!=2&&(Ws(),oe(17)),Xn(this),this.o=2,Bs(this)):em(this,this.Y-e)};function Bs(e){e.l.H==0||e.J||wm(e.l,e)}function Xn(e){la(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,jl(e.V),Hp(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function xu(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Nu(n.i,e))){if(!e.K&&Nu(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Eo(n),fa(n);else break t;Yl(n),oe(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=li(Yt(n.ib,n),6e3));if(1>=lm(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Yn(n,11)}else if((e.K||n.g==e)&&Eo(n),!zs(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let l=s[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const y=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=r.i;i.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Gl(i,i.h),i.h=null))}if(r.F){const w=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Et(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=bm(r,r.J?r.pa:null,r.Y),o.K){cm(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(la(a),di(a)),r.g=o}else Em(r);0<n.j.length&&pa(n)}else l[0]!="stop"&&l[0]!="close"||Yn(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Yn(n,7):Xl(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Ws(4)}catch{}}function Rw(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(ta(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Bw(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(ta(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function nm(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ta(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Bw(e),r=Rw(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}var rm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dw(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function sr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof sr){this.h=e.h,yo(this,e.j),this.s=e.s,this.g=e.g,vo(this,e.m),this.l=e.l;var t=e.i,n=new Qs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Zh(this,n),this.o=e.o}else e&&(t=String(e).match(rm))?(this.h=!1,yo(this,t[1]||"",!0),this.s=Cs(t[2]||""),this.g=Cs(t[3]||"",!0),vo(this,t[4]),this.l=Cs(t[5]||"",!0),Zh(this,t[6]||"",!0),this.o=Cs(t[7]||"")):(this.h=!1,this.i=new Qs(null,this.h))}sr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_s(t,td,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(_s(t,td,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(_s(n,n.charAt(0)=="/"?kw:Sw,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_s(n,Nw)),e.join("")};function cn(e){return new sr(e)}function yo(e,t,n){e.j=n?Cs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zh(e,t,n){t instanceof Qs?(e.i=t,Fw(e.i,e.h)):(n||(t=_s(t,xw)),e.i=new Qs(t,e.h))}function Et(e,t,n){e.i.set(t,n)}function ca(e){return Et(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _s(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Pw),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pw(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var td=/[#\/\?@]/g,Sw=/[#\?:]/g,kw=/[#\?]/g,xw=/[#\?@]/g,Nw=/#/g;function Qs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ln(e){e.g||(e.g=new Map,e.h=0,e.i&&Dw(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}N=Qs.prototype;N.add=function(e,t){Ln(this),this.i=null,e=ts(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function sm(e,t){Ln(e),t=ts(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function im(e,t){return Ln(e),t=ts(e,t),e.g.has(t)}N.forEach=function(e,t){Ln(this),this.g.forEach(function(n,r){n.forEach(function(s){e.call(t,s,r,this)},this)},this)};N.ta=function(){Ln(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let i=0;i<s.length;i++)n.push(t[r])}return n};N.Z=function(e){Ln(this);let t=[];if(typeof e=="string")im(this,e)&&(t=t.concat(this.g.get(ts(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};N.set=function(e,t){return Ln(this),this.i=null,e=ts(this,e),im(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};N.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function om(e,t,n){sm(e,t),0<n.length&&(e.i=null,e.g.set(ts(e,t),xl(n)),e.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")};function ts(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Fw(e,t){t&&!e.j&&(Ln(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(sm(this,r),om(this,s,n))},e)),e.j=t}var Ow=class{constructor(e,t){this.g=e,this.map=t}};function am(e){this.l=e||Vw,Q.PerformanceNavigationTiming?(e=Q.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vw=10;function um(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function lm(e){return e.h?1:e.g?e.g.size:0}function Nu(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Gl(e,t){e.g?e.g.add(t):e.h=t}function cm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}am.prototype.cancel=function(){if(this.i=hm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function hm(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return xl(e.i)}var Mw=class{stringify(e){return Q.JSON.stringify(e,void 0)}parse(e){return Q.JSON.parse(e,void 0)}};function Lw(){this.g=new Mw}function Uw(e,t,n){const r=n||"";try{nm(e,function(s,i){let o=s;ai(s)&&(o=Ul(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function $w(e,t){const n=new ia;if(Q.Image){const r=new Image;r.onload=xi(Fi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xi(Fi,n,r,"TestLoadImage: error",!1,t),r.onabort=xi(Fi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xi(Fi,n,r,"TestLoadImage: timeout",!1,t),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Fi(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function fi(e){this.l=e.fc||null,this.j=e.ob||!1}Lt(fi,ql);fi.prototype.g=function(){return new ha(this.l,this.j)};fi.prototype.i=function(e){return function(){return e}}({});function ha(e,t){Mt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Wl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lt(ha,Mt);var Wl=0;N=ha.prototype;N.open=function(e,t){if(this.readyState!=Wl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xs(this)};N.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Q).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=Wl};N.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xs(this)),this.g&&(this.readyState=3,Xs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dm(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function dm(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}N.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pi(this):Xs(this),this.readyState==3&&dm(this)}};N.Za=function(e){this.g&&(this.response=this.responseText=e,pi(this))};N.Ya=function(e){this.g&&(this.response=e,pi(this))};N.ka=function(){this.g&&pi(this)};function pi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xs(e)}N.setRequestHeader=function(e,t){this.v.append(e,t)};N.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Xs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var jw=Q.JSON.parse;function bt(e){Mt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fm,this.L=this.M=!1}Lt(bt,Mt);var fm="",zw=/^https?$/i,qw=["POST","PUT"];N=bt.prototype;N.Oa=function(e){this.M=e};N.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pu.g(),this.C=this.u?Jh(this.u):Jh(Pu),this.g.onreadystatechange=Yt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){ed(this,i);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=Q.FormData&&e instanceof Q.FormData,!(0<=Pp(qw,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gm(this),0<this.B&&((this.L=Hw(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.ua,this)):this.A=zl(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){ed(this,i)}};function Hw(e){return zr&&typeof e.timeout=="number"&&e.ontimeout!==void 0}N.ua=function(){typeof kl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))};function ed(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pm(e),da(e)}function pm(e){e.F||(e.F=!0,zt(e,"complete"),zt(e,"error"))}N.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,zt(this,"complete"),zt(this,"abort"),da(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),da(this,!0)),bt.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?mm(this):this.kb())};N.kb=function(){mm(this)};function mm(e){if(e.h&&typeof kl<"u"&&(!e.C[1]||He(e)!=4||e.da()!=2)){if(e.v&&He(e)==4)zl(e.La,0,e);else if(zt(e,"readystatechange"),He(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var s=String(e.I).match(rm)[1]||null;!s&&Q.self&&Q.self.location&&(s=Q.self.location.protocol.slice(0,-1)),r=!zw.test(s?s.toLowerCase():"")}n=r}if(n)zt(e,"complete"),zt(e,"success");else{e.m=6;try{var i=2<He(e)?e.g.statusText:""}catch{i=""}e.j=i+" ["+e.da()+"]",pm(e)}}finally{da(e)}}}}function da(e,t){if(e.g){gm(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||zt(e,"ready");try{n.onreadystatechange=r}catch{}}}function gm(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Q.clearTimeout(e.A),e.A=null)}N.isActive=function(){return!!this.g};function He(e){return e.g?e.g.readyState:0}N.da=function(){try{return 2<He(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),jw(t)}};function nd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case fm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Kw(e){const t={};e=(e.g&&2<=He(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(zs(e[r]))continue;var n=Cw(e[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}cw(t,function(r){return r.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Cm(e){let t="";return Fl(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Ql(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Cm(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Et(e,t,n))}function fs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _m(e){this.Ga=0,this.j=[],this.l=new ia,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fs("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fs("baseRetryDelayMs",5e3,e),this.hb=fs("retryDelaySeedMs",1e4,e),this.eb=fs("forwardChannelMaxRetries",2,e),this.xa=fs("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new am(e&&e.concurrentRequestLimit),this.Ja=new Lw,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=_m.prototype;N.ra=8;N.H=1;function Xl(e){if(ym(e),e.H==3){var t=e.W++,n=cn(e.I);if(Et(n,"SID",e.K),Et(n,"RID",t),Et(n,"TYPE","terminate"),mi(e,n),t=new hi(e,e.l,t),t.L=2,t.v=ca(cn(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=t.v,n=!0),n||(t.g=Rm(t.l,null),t.g.ha(t.v)),t.G=Date.now(),di(t)}Im(e)}function fa(e){e.g&&(Jl(e),e.g.cancel(),e.g=null)}function ym(e){fa(e),e.u&&(Q.clearTimeout(e.u),e.u=null),Eo(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Q.clearTimeout(e.m),e.m=null)}function pa(e){if(!um(e.i)&&!e.m){e.m=!0;var t=e.Na;Hs||jp(),Ks||(Hs(),Ks=!0),$l.add(t,e),e.C=0}}function Gw(e,t){return lm(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=li(Yt(e.Na,e,t),Tm(e,e.C)),e.C++,!0)}N.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new hi(this,this.l,e);let i=this.s;if(this.U&&(i?(i=Np(i),Fp(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=vm(this,s,t),n=cn(this.I),Et(n,"RID",e),Et(n,"CVER",22),this.F&&Et(n,"X-HTTP-Session-Id",this.F),mi(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Cm(i)))+"&"+t:this.o&&Ql(n,this.o,i)),Gl(this.i,s),this.bb&&Et(n,"TYPE","init"),this.P?(Et(n,"$req",t),Et(n,"SID","null"),s.aa=!0,ku(s,n,null)):ku(s,n,t),this.H=2}}else this.H==3&&(e?rd(this,e):this.j.length==0||um(this.i)||rd(this))};function rd(e,t){var n;t?n=t.m:n=e.W++;const r=cn(e.I);Et(r,"SID",e.K),Et(r,"RID",n),Et(r,"AID",e.V),mi(e,r),e.o&&e.s&&Ql(r,e.o,e.s),n=new hi(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=vm(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Gl(e.i,n),ku(n,r,t)}function mi(e,t){e.na&&Fl(e.na,function(n,r){Et(t,r,n)}),e.h&&nm({},function(n,r){Et(t,r,n)})}function vm(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Yt(e.h.Va,e.h,e):null;t:{var s=e.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let u=0;u<n;u++){let l=s[u].g;const c=s[u].map;if(l-=i,0>l)i=Math.max(0,s[u].g-100),a=!1;else try{Uw(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,r}function Em(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Hs||jp(),Ks||(Hs(),Ks=!0),$l.add(t,e),e.A=0}}function Yl(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=li(Yt(e.Ma,e),Tm(e,e.A)),e.A++,!0)}N.Ma=function(){if(this.u=null,Am(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=li(Yt(this.jb,this),e)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,oe(10),fa(this),Am(this))};function Jl(e){e.B!=null&&(Q.clearTimeout(e.B),e.B=null)}function Am(e){e.g=new hi(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=cn(e.wa);Et(t,"RID","rpc"),Et(t,"SID",e.K),Et(t,"AID",e.V),Et(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Et(t,"TO",e.qa),Et(t,"TYPE","xmlhttp"),mi(e,t),e.o&&e.s&&Ql(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ca(cn(t)),n.s=null,n.S=!0,Jp(n,e)}N.ib=function(){this.v!=null&&(this.v=null,fa(this),Yl(this),oe(19))};function Eo(e){e.v!=null&&(Q.clearTimeout(e.v),e.v=null)}function wm(e,t){var n=null;if(e.g==t){Eo(e),Jl(e),e.g=null;var r=2}else if(Nu(e.i,t))n=t.F,cm(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;r=oa(),zt(r,new Wp(r,n)),pa(e)}else Em(e);else if(s=t.o,s==3||s==0&&0<t.ca||!(r==1&&Gw(e,t)||r==2&&Yl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Yn(e,5);break;case 4:Yn(e,10);break;case 3:Yn(e,6);break;default:Yn(e,2)}}}function Tm(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Yn(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Yt(e.pb,e);n||(n=new sr("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||yo(n,"https"),ca(n)),$w(n.toString(),r)}else oe(2);e.H=0,e.h&&e.h.za(t),Im(e),ym(e)}N.pb=function(e){e?(this.l.info("Successfully pinged google.com"),oe(2)):(this.l.info("Failed to ping google.com"),oe(1))};function Im(e){if(e.H=0,e.ma=[],e.h){const t=hm(e.i);(t.length!=0||e.j.length!=0)&&(Gh(e.ma,t),Gh(e.ma,e.j),e.i.i.length=0,xl(e.j),e.j.length=0),e.h.ya()}}function bm(e,t,n){var r=n instanceof sr?cn(n):new sr(n);if(r.g!="")t&&(r.g=t+"."+r.g),vo(r,r.m);else{var s=Q.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new sr(null);r&&yo(i,r),t&&(i.g=t),s&&vo(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&Et(r,n,t),Et(r,"VER",e.ra),mi(e,r),r}function Rm(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new bt(new fi({ob:!0})):new bt(e.va),t.Oa(e.J),t}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function Bm(){}N=Bm.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function Ao(){if(zr&&!(10<=Number(ow)))throw Error("Environmental error: no available transport.")}Ao.prototype.g=function(e,t){return new ve(e,t)};function ve(e,t){Mt.call(this),this.g=new _m(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!zs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zs(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new es(this)}Lt(ve,Mt);ve.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;oe(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=bm(e,null,e.Y),pa(e)};ve.prototype.close=function(){Xl(this.g)};ve.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Ul(e),e=n);t.j.push(new Ow(t.fb++,e)),t.H==3&&pa(t)};ve.prototype.N=function(){this.g.h=null,delete this.j,Xl(this.g),delete this.g,ve.$.N.call(this)};function Dm(e){Hl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Lt(Dm,Hl);function Pm(){Kl.call(this),this.status=1}Lt(Pm,Kl);function es(e){this.g=e}Lt(es,Bm);es.prototype.Ba=function(){zt(this.g,"a")};es.prototype.Aa=function(e){zt(this.g,new Dm(e))};es.prototype.za=function(e){zt(this.g,new Pm)};es.prototype.ya=function(){zt(this.g,"b")};function Ww(){this.blockSize=-1}function Fe(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Lt(Fe,Ww);Fe.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ya(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],o=t+(i^n&(s^i))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[1]+3905402710&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[5]+1200080426&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[9]+2336552879&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[13]+4254626195&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^i&(n^s))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[6]+3225465664&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[10]+38016083&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[14]+3275163606&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[2]+4243563512&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^i)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[8]+2272392833&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[4]+1272893353&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[0]+3936430074&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[12]+3873151461&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~i))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[7]+1126891415&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[3]+2399980690&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[15]+4264355552&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[11]+3174756917&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}Fe.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(s==0)for(;i<=n;)Ya(this,e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){Ya(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){Ya(this,r),s=0;break}}this.h=s,this.i+=t};Fe.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function mt(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=e[s]|0;r&&i==t||(n[s]=i,r=!1)}this.g=n}var Qw={};function Zl(e){return-128<=e&&128>e?rw(e,function(t){return new mt([t|0],0>t?-1:0)}):new mt([e|0],0>e?-1:0)}function Ke(e){if(isNaN(e)||!isFinite(e))return Nr;if(0>e)return $t(Ke(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Fu;return new mt(t,0)}function Sm(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return $t(Sm(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ke(Math.pow(t,8)),r=Nr,s=0;s<e.length;s+=8){var i=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+i),t);8>i?(i=Ke(Math.pow(t,i)),r=r.R(i).add(Ke(o))):(r=r.R(n),r=r.add(Ke(o)))}return r}var Fu=4294967296,Nr=Zl(0),Ou=Zl(1),sd=Zl(16777216);N=mt.prototype;N.ea=function(){if(we(this))return-$t(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Fu+r)*t,t*=Fu}return e};N.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(on(this))return"0";if(we(this))return"-"+$t(this).toString(e);for(var t=Ke(Math.pow(e,6)),n=this,r="";;){var s=To(n,t).g;n=wo(n,s.R(t));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,on(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};N.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function on(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function we(e){return e.h==-1}N.X=function(e){return e=wo(this,e),we(e)?-1:on(e)?0:1};function $t(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new mt(n,~e.h).add(Ou)}N.abs=function(){return we(this)?$t(this):this};N.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(this.D(s)&65535)+(e.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new mt(n,n[n.length-1]&-2147483648?-1:0)};function wo(e,t){return e.add($t(t))}N.R=function(e){if(on(this)||on(e))return Nr;if(we(this))return we(e)?$t(this).R($t(e)):$t($t(this).R(e));if(we(e))return $t(this.R($t(e)));if(0>this.X(sd)&&0>e.X(sd))return Ke(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(s)>>>16,u=e.D(s)&65535;n[2*r+2*s]+=o*u,Oi(n,2*r+2*s),n[2*r+2*s+1]+=i*u,Oi(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Oi(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Oi(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new mt(n,0)};function Oi(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ps(e,t){this.g=e,this.h=t}function To(e,t){if(on(t))throw Error("division by zero");if(on(e))return new ps(Nr,Nr);if(we(e))return t=To($t(e),t),new ps($t(t.g),$t(t.h));if(we(t))return t=To(e,$t(t)),new ps($t(t.g),t.h);if(30<e.g.length){if(we(e)||we(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ou,r=t;0>=r.X(e);)n=id(n),r=id(r);var s=Tr(n,1),i=Tr(r,1);for(r=Tr(r,2),n=Tr(n,2);!on(r);){var o=i.add(r);0>=o.X(e)&&(s=s.add(n),i=o),r=Tr(r,1),n=Tr(n,1)}return t=wo(e,s.R(t)),new ps(s,t)}for(s=Nr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Ke(n),o=i.R(t);we(o)||0<o.X(e);)n-=r,i=Ke(n),o=i.R(t);on(i)&&(i=Ou),s=s.add(i),e=wo(e,o)}return new ps(s,e)}N.gb=function(e){return To(this,e).h};N.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new mt(n,this.h&e.h)};N.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new mt(n,this.h|e.h)};N.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new mt(n,this.h^e.h)};function id(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new mt(n,e.h)}function Tr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new mt(s,e.h)}Ao.prototype.createWebChannel=Ao.prototype.g;ve.prototype.send=ve.prototype.u;ve.prototype.open=ve.prototype.m;ve.prototype.close=ve.prototype.close;aa.NO_ERROR=0;aa.TIMEOUT=8;aa.HTTP_ERROR=6;Qp.COMPLETE="complete";Xp.EventType=ci;ci.OPEN="a";ci.CLOSE="b";ci.ERROR="c";ci.MESSAGE="d";Mt.prototype.listen=Mt.prototype.O;bt.prototype.listenOnce=bt.prototype.P;bt.prototype.getLastError=bt.prototype.Sa;bt.prototype.getLastErrorCode=bt.prototype.Ia;bt.prototype.getStatus=bt.prototype.da;bt.prototype.getResponseJson=bt.prototype.Wa;bt.prototype.getResponseText=bt.prototype.ja;bt.prototype.send=bt.prototype.ha;bt.prototype.setWithCredentials=bt.prototype.Oa;Fe.prototype.digest=Fe.prototype.l;Fe.prototype.reset=Fe.prototype.reset;Fe.prototype.update=Fe.prototype.j;mt.prototype.add=mt.prototype.add;mt.prototype.multiply=mt.prototype.R;mt.prototype.modulo=mt.prototype.gb;mt.prototype.compare=mt.prototype.X;mt.prototype.toNumber=mt.prototype.ea;mt.prototype.toString=mt.prototype.toString;mt.prototype.getBits=mt.prototype.D;mt.fromNumber=Ke;mt.fromString=Sm;var Xw=function(){return new Ao},Yw=function(){return oa()},Ja=aa,Jw=Qp,Zw=mr,od={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tT=fi,Vi=Xp,eT=bt,nT=Fe,Fr=mt;const ad="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ns="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new El("@firebase/firestore");function ud(){return cr.logLevel}function L(e,...t){if(cr.logLevel<=ut.DEBUG){const n=t.map(tc);cr.debug(`Firestore (${ns}): ${e}`,...n)}}function hn(e,...t){if(cr.logLevel<=ut.ERROR){const n=t.map(tc);cr.error(`Firestore (${ns}): ${e}`,...n)}}function qr(e,...t){if(cr.logLevel<=ut.WARN){const n=t.map(tc);cr.warn(`Firestore (${ns}): ${e}`,...n)}}function tc(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e="Unexpected state"){const t=`FIRESTORE (${ns}) INTERNAL ASSERTION FAILED: `+e;throw hn(t),new Error(t)}function At(e,t){e||W()}function Z(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Vn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class sT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iT{constructor(t){this.t=t,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Bn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bn,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new km(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return At(t===null||typeof t=="string"),new Kt(t)}}class oT{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class aT{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new oT(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lT{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=i=>{i.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(At(typeof n.token=="string"),this.R=n.token,new uT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=cT(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function lt(e,t){return e<t?-1:e>t?1:0}function Hr(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new $(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new $(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return xt.fromMillis(Date.now())}static fromDate(t){return xt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?lt(this.nanoseconds,t.nanoseconds):lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Y(t)}static min(){return new Y(new xt(0,0))}static max(){return new Y(new xt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,n,r){n===void 0?n=0:n>t.length&&W(),r===void 0?r=t.length-n:r>t.length-n&&W(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ys.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ys?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class wt extends Ys{construct(t,n,r){return new wt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new $(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const hT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ys{construct(t,n,r){return new Qt(t,n,r)}static isValidIdentifier(t){return hT.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new $(I.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new $(I.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new $(I.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(t){this.path=t}static fromPath(t){return new H(wt.fromString(t))}static fromName(t){return new H(wt.fromString(t).popFirst(5))}static empty(){return new H(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return wt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new H(new wt(t.slice()))}}function dT(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Y.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new xn(s,H.empty(),t)}function fT(e){return new xn(e.readTime,e.key,-1)}class xn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new xn(Y.min(),H.empty(),-1)}static max(){return new xn(Y.max(),H.empty(),-1)}}function pT(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=H.comparator(e.documentKey,t.documentKey),n!==0?n:lt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gi(e){if(e.code!==I.FAILED_PRECONDITION||e.message!==mT)throw e;L("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new R((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):R.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):R.reject(n)}static resolve(t){return new R((n,r)=>{n(t)})}static reject(t){return new R((n,r)=>{r(t)})}static waitFor(t){return new R((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(t){let n=R.resolve(!1);for(const r of t)n=n.next(s=>s?R.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new R((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(t,n){return new R((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function Ci(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}ec.ae=-1;function ma(e){return e==null}function Io(e){return e===0&&1/e==-1/0}function CT(e){return typeof e=="number"&&Number.isInteger(e)&&!Io(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function gr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t,n){this.comparator=t,this.root=n||Ut.EMPTY}insert(t,n){return new Tt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(t){return new Tt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mi(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mi(this.root,t,this.comparator,!0)}}class Mi{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ut{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Ut.RED,this.left=s??Ut.EMPTY,this.right=i??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Ut(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const t=this.left.check();if(t!==this.right.check())throw W();return t+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(t,n,r,s,i){return this}insert(t,n,r){return new Ut(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t){this.comparator=t,this.data=new Tt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new cd(this.data.getIterator())}getIteratorFrom(t){return new cd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Zt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Zt(this.comparator);return n.data=t,n}}class cd{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t){this.fields=t,t.sort(Qt.comparator)}static empty(){return new ye([])}unionWith(t){let n=new Zt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ye(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Hr(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Fm("Invalid base64 string: "+i):i}}(t);return new te(n)}static fromUint8Array(t){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(t);return new te(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}te.EMPTY_BYTE_STRING=new te("");const _T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nn(e){if(At(!!e),typeof e=="string"){let t=0;const n=_T.exec(e);if(At(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pt(e.seconds),nanos:Pt(e.nanos)}}function Pt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function hr(e){return typeof e=="string"?te.fromBase64String(e):te.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rc(e){const t=e.mapValue.fields.__previous_value__;return nc(t)?rc(t):t}function Js(e){const t=Nn(e.mapValue.fields.__local_write_time__.timestampValue);return new xt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t,n,r,s,i,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Zs{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Zs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Zs&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function dr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nc(e)?4:vT(e)?9007199254740991:10:W()}function Qe(e,t){if(e===t)return!0;const n=dr(e);if(n!==dr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Js(e).isEqual(Js(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Nn(s.timestampValue),a=Nn(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return hr(s.bytesValue).isEqual(hr(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return Pt(s.geoPointValue.latitude)===Pt(i.geoPointValue.latitude)&&Pt(s.geoPointValue.longitude)===Pt(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Pt(s.integerValue)===Pt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Pt(s.doubleValue),a=Pt(i.doubleValue);return o===a?Io(o)===Io(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Hr(e.arrayValue.values||[],t.arrayValue.values||[],Qe);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(ld(o)!==ld(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Qe(o[u],a[u])))return!1;return!0}(e,t);default:return W()}}function ti(e,t){return(e.values||[]).find(n=>Qe(n,t))!==void 0}function Kr(e,t){if(e===t)return 0;const n=dr(e),r=dr(t);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=Pt(i.integerValue||i.doubleValue),u=Pt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return hd(e.timestampValue,t.timestampValue);case 4:return hd(Js(e),Js(t));case 5:return lt(e.stringValue,t.stringValue);case 6:return function(i,o){const a=hr(i),u=hr(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=lt(a[l],u[l]);if(c!==0)return c}return lt(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=lt(Pt(i.latitude),Pt(o.latitude));return a!==0?a:lt(Pt(i.longitude),Pt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){const a=i.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Kr(a[l],u[l]);if(c)return c}return lt(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===Li.mapValue&&o===Li.mapValue)return 0;if(i===Li.mapValue)return 1;if(o===Li.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){const d=lt(u[h],c[h]);if(d!==0)return d;const g=Kr(a[u[h]],l[c[h]]);if(g!==0)return g}return lt(u.length,c.length)}(e.mapValue,t.mapValue);default:throw W()}}function hd(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return lt(e,t);const n=Nn(e),r=Nn(t),s=lt(n.seconds,r.seconds);return s!==0?s:lt(n.nanos,r.nanos)}function Gr(e){return Vu(e)}function Vu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Nn(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return hr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return H.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Vu(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Vu(n.fields[o])}`;return s+"}"}(e.mapValue):W()}function Mu(e){return!!e&&"integerValue"in e}function sc(e){return!!e&&"arrayValue"in e}function dd(e){return!!e&&"nullValue"in e}function fd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zi(e){return!!e&&"mapValue"in e}function Ds(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return gr(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ds(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ds(e.arrayValue.values[n]);return t}return Object.assign({},e)}function vT(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t){this.value=t}static empty(){return new fe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Zi(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ds(n)}setAll(t){let n=Qt.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ds(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Zi(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Qe(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Zi(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){gr(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new fe(Ds(this.value))}}function Om(e){const t=[];return gr(e.fields,(n,r)=>{const s=new Qt([n]);if(Zi(r)){const i=Om(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new ye(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n,r,s,i,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Gt(t,0,Y.min(),Y.min(),Y.min(),fe.empty(),0)}static newFoundDocument(t,n,r,s){return new Gt(t,1,n,Y.min(),r,s,0)}static newNoDocument(t,n){return new Gt(t,2,n,Y.min(),Y.min(),fe.empty(),0)}static newUnknownDocument(t,n){return new Gt(t,3,n,Y.min(),Y.min(),fe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Gt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,n){this.position=t,this.inclusive=n}}function pd(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Kr(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function md(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Qe(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,n="asc"){this.field=t,this.dir=n}}function ET(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{}class kt extends Vm{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new wT(t,n,r):n==="array-contains"?new bT(t,r):n==="in"?new RT(t,r):n==="not-in"?new BT(t,r):n==="array-contains-any"?new DT(t,r):new kt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new TT(t,r):new IT(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Kr(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(Kr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xe extends Vm{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Xe(t,n)}matches(t){return Mm(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function Mm(e){return e.op==="and"}function Lm(e){return AT(e)&&Mm(e)}function AT(e){for(const t of e.filters)if(t instanceof Xe)return!1;return!0}function Lu(e){if(e instanceof kt)return e.field.canonicalString()+e.op.toString()+Gr(e.value);if(Lm(e))return e.filters.map(t=>Lu(t)).join(",");{const t=e.filters.map(n=>Lu(n)).join(",");return`${e.op}(${t})`}}function Um(e,t){return e instanceof kt?function(r,s){return s instanceof kt&&r.op===s.op&&r.field.isEqual(s.field)&&Qe(r.value,s.value)}(e,t):e instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Um(o,s.filters[a]),!0):!1}(e,t):void W()}function $m(e){return e instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Gr(n.value)}`}(e):e instanceof Xe?function(n){return n.op.toString()+" {"+n.getFilters().map($m).join(" ,")+"}"}(e):"Filter"}class wT extends kt{constructor(t,n,r){super(t,n,r),this.key=H.fromName(r.referenceValue)}matches(t){const n=H.comparator(t.key,this.key);return this.matchesComparison(n)}}class TT extends kt{constructor(t,n){super(t,"in",n),this.keys=jm("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class IT extends kt{constructor(t,n){super(t,"not-in",n),this.keys=jm("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function jm(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class bT extends kt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sc(n)&&ti(n.arrayValue,this.value)}}class RT extends kt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ti(this.value.arrayValue,n)}}class BT extends kt{constructor(t,n){super(t,"not-in",n)}matches(t){if(ti(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ti(this.value.arrayValue,n)}}class DT extends kt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ti(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.he=null}}function gd(e,t=null,n=[],r=[],s=null,i=null,o=null){return new PT(e,t,n,r,s,i,o)}function ic(e){const t=Z(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Lu(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ma(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Gr(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Gr(r)).join(",")),t.he=n}return t.he}function oc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ET(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Um(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!md(e.startAt,t.startAt)&&md(e.endAt,t.endAt)}function Uu(e){return H.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function ST(e,t,n,r,s,i,o,a){return new ga(e,t,n,r,s,i,o,a)}function zm(e){return new ga(e)}function Cd(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function kT(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xT(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function NT(e){return e.collectionGroup!==null}function Or(e){const t=Z(e);if(t.Pe===null){t.Pe=[];const n=xT(t),r=kT(t);if(n!==null&&r===null)n.isKeyField()||t.Pe.push(new Ps(n)),t.Pe.push(new Ps(Qt.keyField(),"asc"));else{let s=!1;for(const i of t.explicitOrderBy)t.Pe.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Ps(Qt.keyField(),i))}}}return t.Pe}function dn(e){const t=Z(e);if(!t.Ie)if(t.limitType==="F")t.Ie=gd(t.path,t.collectionGroup,Or(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const i of Or(t)){const o=i.dir==="desc"?"asc":"desc";n.push(new Ps(i.field,o))}const r=t.endAt?new bo(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new bo(t.startAt.position,t.startAt.inclusive):null;t.Ie=gd(t.path,t.collectionGroup,n,t.filters,t.limit,r,s)}return t.Ie}function $u(e,t,n){return new ga(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ca(e,t){return oc(dn(e),dn(t))&&e.limitType===t.limitType}function qm(e){return`${ic(dn(e))}|lt:${e.limitType}`}function ju(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>$m(s)).join(", ")}]`),ma(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Gr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Gr(s)).join(",")),`Target(${r})`}(dn(e))}; limitType=${e.limitType})`}function _a(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):H.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of Or(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(o,a,u){const l=pd(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Or(r),s)||r.endAt&&!function(o,a,u){const l=pd(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Or(r),s))}(e,t)}function FT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Hm(e){return(t,n)=>{let r=!1;for(const s of Or(e)){const i=OT(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function OT(e,t,n){const r=e.field.isKeyField()?H.comparator(t.key,n.key):function(i,o,a){const u=o.data.field(i),l=a.data.field(i);return u!==null&&l!==null?Kr(u,l):W()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){gr(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return Nm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Tt(H.comparator);function fn(){return VT}const Km=new Tt(H.comparator);function ys(...e){let t=Km;for(const n of e)t=t.insert(n.key,n);return t}function Gm(e){let t=Km;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Jn(){return Ss()}function Wm(){return Ss()}function Ss(){return new rs(e=>e.toString(),(e,t)=>e.isEqual(t))}const MT=new Tt(H.comparator),LT=new Zt(H.comparator);function nt(...e){let t=LT;for(const n of e)t=t.add(n);return t}const UT=new Zt(lt);function $T(){return UT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Io(t)?"-0":t}}function Xm(e){return{integerValue:""+e}}function jT(e,t){return CT(t)?Xm(t):Qm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this._=void 0}}function zT(e,t,n){return e instanceof Ro?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&nc(i)&&(i=rc(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof ei?Jm(e,t):e instanceof ni?Zm(e,t):function(s,i){const o=Ym(s,i),a=_d(o)+_d(s.Te);return Mu(o)&&Mu(s.Te)?Xm(a):Qm(s.serializer,a)}(e,t)}function qT(e,t,n){return e instanceof ei?Jm(e,t):e instanceof ni?Zm(e,t):n}function Ym(e,t){return e instanceof Bo?function(r){return Mu(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class Ro extends ya{}class ei extends ya{constructor(t){super(),this.elements=t}}function Jm(e,t){const n=tg(t);for(const r of e.elements)n.some(s=>Qe(s,r))||n.push(r);return{arrayValue:{values:n}}}class ni extends ya{constructor(t){super(),this.elements=t}}function Zm(e,t){let n=tg(t);for(const r of e.elements)n=n.filter(s=>!Qe(s,r));return{arrayValue:{values:n}}}class Bo extends ya{constructor(t,n){super(),this.serializer=t,this.Te=n}}function _d(e){return Pt(e.integerValue||e.doubleValue)}function tg(e){return sc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function HT(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof ei&&s instanceof ei||r instanceof ni&&s instanceof ni?Hr(r.elements,s.elements,Qe):r instanceof Bo&&s instanceof Bo?Qe(r.Te,s.Te):r instanceof Ro&&s instanceof Ro}(e.transform,t.transform)}class KT{constructor(t,n){this.version=t,this.transformResults=n}}class xe{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new xe}static exists(t){return new xe(void 0,t)}static updateTime(t){return new xe(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function to(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class va{}function eg(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ac(e.key,xe.none()):new _i(e.key,e.data,xe.none());{const n=e.data,r=fe.empty();let s=new Zt(Qt.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Un(e.key,r,new ye(s.toArray()),xe.none())}}function GT(e,t,n){e instanceof _i?function(s,i,o){const a=s.value.clone(),u=vd(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Un?function(s,i,o){if(!to(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=vd(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(ng(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ks(e,t,n,r){return e instanceof _i?function(i,o,a,u){if(!to(i.precondition,o))return a;const l=i.value.clone(),c=Ed(i.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Un?function(i,o,a,u){if(!to(i.precondition,o))return a;const l=Ed(i.fieldTransforms,u,o),c=o.data;return c.setAll(ng(i)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(i,o,a){return to(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function WT(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=Ym(r.transform,s||null);i!=null&&(n===null&&(n=fe.empty()),n.set(r.field,i))}return n||null}function yd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Hr(r,s,(i,o)=>HT(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class _i extends va{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Un extends va{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ng(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function vd(e,t,n){const r=new Map;At(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,qT(o,a,n[s]))}return r}function Ed(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,zT(i,o,t))}return r}class ac extends va{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QT extends va{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&GT(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ks(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ks(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Wm();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=eg(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),nt())}isEqual(t){return this.batchId===t.batchId&&Hr(this.mutations,t.mutations,(n,r)=>yd(n,r))&&Hr(this.baseMutations,t.baseMutations,(n,r)=>yd(n,r))}}class uc{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){At(t.mutations.length===r.length);let s=function(){return MT}();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new uc(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,rt;function ZT(e){switch(e){default:return W();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function rg(e){if(e===void 0)return hn("GRPC error has no .code"),I.UNKNOWN;switch(e){case Dt.OK:return I.OK;case Dt.CANCELLED:return I.CANCELLED;case Dt.UNKNOWN:return I.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return I.INTERNAL;case Dt.UNAVAILABLE:return I.UNAVAILABLE;case Dt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Dt.NOT_FOUND:return I.NOT_FOUND;case Dt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Dt.ABORTED:return I.ABORTED;case Dt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Dt.DATA_LOSS:return I.DATA_LOSS;default:return W()}}(rt=Dt||(Dt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ui}static getOrCreateInstance(){return Ui===null&&(Ui=new lc),Ui}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let Ui=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=new Fr([4294967295,4294967295],0);function Ad(e){const t=tI().encode(e),n=new nT;return n.update(t),new Uint8Array(n.digest())}function wd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Fr([n,r],0),new Fr([s,i],0)]}class cc{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vs(`Invalid padding: ${n}`);if(r<0)throw new vs(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new vs(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new vs(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*t.length-n,this.Ae=Fr.fromNumber(this.de)}Re(t,n,r){let s=t.add(n.multiply(Fr.fromNumber(r)));return s.compare(eI)===1&&(s=new Fr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ae).toNumber()}Ve(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.de===0)return!1;const n=Ad(t),[r,s]=wd(n);for(let i=0;i<this.hashCount;i++){const o=this.Re(r,s,i);if(!this.Ve(o))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new cc(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.de===0)return;const n=Ad(t),[r,s]=wd(n);for(let i=0;i<this.hashCount;i++){const o=this.Re(r,s,i);this.me(o)}}me(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class vs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,yi.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ea(Y.min(),s,new Tt(lt),fn(),nt())}}class yi{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new yi(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n,r,s){this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=s}}class sg{constructor(t,n){this.targetId=t,this.pe=n}}class ig{constructor(t,n,r=te.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Td{constructor(){this.ye=0,this.we=bd(),this.Se=te.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(t){t.approximateByteSize()>0&&(this.De=!0,this.Se=t)}Me(){let t=nt(),n=nt(),r=nt();return this.we.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:W()}}),new yi(this.Se,this.be,t,n,r)}xe(){this.De=!1,this.we=bd()}Oe(t,n){this.De=!0,this.we=this.we.insert(t,n)}Ne(t){this.De=!0,this.we=this.we.remove(t)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class nI{constructor(t){this.qe=t,this.Qe=new Map,this.Ke=fn(),this.$e=Id(),this.Ue=new Tt(lt)}We(t){for(const n of t.fe)t.ge&&t.ge.isFoundDocument()?this.Ge(n,t.ge):this.ze(n,t.key,t.ge);for(const n of t.removedTargetIds)this.ze(n,t.key,t.ge)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Fe(t.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(t.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(t.resumeToken));break;default:W()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(t){var n,r;const s=t.targetId,i=t.pe.count,o=this.Xe(s);if(o){const a=o.target;if(Uu(a))if(i===0){const u=new H(a.path);this.ze(s,u,Gt.newNoDocument(u,Y.min()))}else At(i===1);else{const u=this.et(s);if(u!==i){const l=this.tt(t,u);if(l.status!==0){this.Ye(s);const c=l.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(s,c)}(n=lc.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,d,g,y){var w,E,B,S,V,P;const at={localCacheCount:g,existenceFilterCount:y.count},it=y.unchangedNames;return it&&(at.bloomFilter={applied:h===0,hashCount:(w=it==null?void 0:it.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(S=(B=(E=it==null?void 0:it.bits)===null||E===void 0?void 0:E.bitmap)===null||B===void 0?void 0:B.length)!==null&&S!==void 0?S:0,padding:(P=(V=it==null?void 0:it.bits)===null||V===void 0?void 0:V.padding)!==null&&P!==void 0?P:0},d&&(at.bloomFilter.mightContain=d)),at}(l.status,(r=l.nt)!==null&&r!==void 0?r:null,u,t.pe))}}}}tt(t,n){const{unchangedNames:r,count:s}=t.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;let u,l;try{u=hr(i).toUint8Array()}catch(h){if(h instanceof Fm)return qr("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw h}try{l=new cc(u,o,a)}catch(h){return qr(h instanceof vs?"BloomFilter error: ":"Applying bloom filter failed: ",h),{status:1}}const c=h=>{const d=this.qe.rt();return l.mightContain(`projects/${d.projectId}/databases/${d.database}/documents/${h}`)};return l.de===0?{status:1}:{status:s===n-this.it(t.targetId,c)?0:2,nt:c}}it(t,n){const r=this.qe.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{n(i.path.canonicalString())||(this.ze(t,i,null),s++)}),s}st(t){const n=new Map;this.Qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&Uu(a.target)){const u=new H(a.target.path);this.Ke.get(u)!==null||this.ot(o,u)||this.ze(o,u,Gt.newNoDocument(u,t))}i.Ce&&(n.set(o,i.Me()),i.xe())}});let r=nt();this.$e.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Xe(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Ke.forEach((i,o)=>o.setReadTime(t));const s=new Ea(t,n,this.Ue,this.Ke,r);return this.Ke=fn(),this.$e=Id(),this.Ue=new Tt(lt),s}Ge(t,n){if(!this.Je(t))return;const r=this.ot(t,n.key)?2:0;this.He(t).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const s=this.He(t);this.ot(t,n)?s.Oe(n,1):s.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(t)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(t){this.Qe.delete(t)}et(t){const n=this.He(t).Me();return this.qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Be(t){this.He(t).Be()}He(t){let n=this.Qe.get(t);return n||(n=new Td,this.Qe.set(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Zt(lt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||L("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.Qe.get(t);return n&&n.ve?null:this.qe.ut(t)}Ye(t){this.Qe.set(t,new Td),this.qe.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ot(t,n){return this.qe.getRemoteKeysForTarget(t).has(n)}}function Id(){return new Tt(H.comparator)}function bd(){return new Tt(H.comparator)}const rI=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),sI=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),iI=(()=>({and:"AND",or:"OR"}))();class oI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function zu(e,t){return e.useProto3Json||ma(t)?t:{value:t}}function Do(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function og(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function aI(e,t){return Do(e,t.toTimestamp())}function Ge(e){return At(!!e),Y.fromTimestamp(function(n){const r=Nn(n);return new xt(r.seconds,r.nanos)}(e))}function hc(e,t){return function(r){return new wt(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function ag(e){const t=wt.fromString(e);return At(hg(t)),t}function qu(e,t){return hc(e.databaseId,t.path)}function Za(e,t){const n=ag(t);if(n.get(1)!==e.databaseId.projectId)throw new $(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new H(ug(n))}function Hu(e,t){return hc(e.databaseId,t)}function uI(e){const t=ag(e);return t.length===4?wt.emptyPath():ug(t)}function Ku(e){return new wt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ug(e){return At(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Rd(e,t,n){return{name:qu(e,t),fields:n.value.mapValue.fields}}function lI(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(At(c===void 0||typeof c=="string"),te.fromBase64String(c||"")):(At(c===void 0||c instanceof Uint8Array),te.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?I.UNKNOWN:rg(l.code);return new $(c,l.message||"")}(o);n=new ig(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Za(e,r.document.name),i=Ge(r.document.updateTime),o=r.document.createTime?Ge(r.document.createTime):Y.min(),a=new fe({mapValue:{fields:r.document.fields}}),u=Gt.newFoundDocument(s,i,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new eo(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Za(e,r.document),i=r.readTime?Ge(r.readTime):Y.min(),o=Gt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new eo([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Za(e,r.document),i=r.removedTargetIds||[];n=new eo([],i,s,null)}else{if(!("filter"in t))return W();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new JT(s,i),a=r.targetId;n=new sg(a,o)}}return n}function cI(e,t){let n;if(t instanceof _i)n={update:Rd(e,t.key,t.value)};else if(t instanceof ac)n={delete:qu(e,t.key)};else if(t instanceof Un)n={update:Rd(e,t.key,t.data),updateMask:yI(t.fieldMask)};else{if(!(t instanceof QT))return W();n={verify:qu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ro)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ei)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ni)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bo)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw W()}(0,r))),t.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:aI(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:W()}(e,t.precondition)),n}function hI(e,t){return e&&e.length>0?(At(t!==void 0),e.map(n=>function(s,i){let o=s.updateTime?Ge(s.updateTime):Ge(i);return o.isEqual(Y.min())&&(o=Ge(i)),new KT(o,s.transformResults||[])}(n,t))):[]}function dI(e,t){return{documents:[Hu(e,t.path)]}}function fI(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Hu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Hu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(u){if(u.length!==0)return cg(Xe.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:br(h.field),direction:gI(h.dir)}}(l))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=zu(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),n}function pI(e){let t=uI(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){At(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:t=t.child(c.collectionId)}let i=[];n.where&&(i=function(h){const d=lg(h);return d instanceof Xe&&Lm(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(y){return new Ps(Rr(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,ma(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(h){const d=!!h.before,g=h.values||[];return new bo(g,d)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const d=!h.before,g=h.values||[];return new bo(g,d)}(n.endAt)),ST(t,s,o,i,a,"F",u,l)}function mI(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function lg(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rr(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Rr(n.unaryFilter.field);return kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Rr(n.unaryFilter.field);return kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rr(n.unaryFilter.field);return kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(e):e.fieldFilter!==void 0?function(n){return kt.create(Rr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Xe.create(n.compositeFilter.filters.map(r=>lg(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(e):W()}function gI(e){return rI[e]}function CI(e){return sI[e]}function _I(e){return iI[e]}function br(e){return{fieldPath:e.canonicalString()}}function Rr(e){return Qt.fromServerFormat(e.fieldPath)}function cg(e){return e instanceof kt?function(n){if(n.op==="=="){if(fd(n.value))return{unaryFilter:{field:br(n.field),op:"IS_NAN"}};if(dd(n.value))return{unaryFilter:{field:br(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fd(n.value))return{unaryFilter:{field:br(n.field),op:"IS_NOT_NAN"}};if(dd(n.value))return{unaryFilter:{field:br(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:br(n.field),op:CI(n.op),value:n.value}}}(e):e instanceof Xe?function(n){const r=n.getFilters().map(s=>cg(s));return r.length===1?r[0]:{compositeFilter:{op:_I(n.op),filters:r}}}(e):W()}function yI(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function hg(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t,n,r,s,i=Y.min(),o=Y.min(),a=te.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new Tn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Tn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Tn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Tn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t){this.ct=t}}function EI(e){const t=pI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?$u(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.sn=new wI}addToCollectionParentIndex(t,n){return this.sn.add(n),R.resolve()}getCollectionParents(t,n){return R.resolve(this.sn.getEntries(n))}addFieldIndex(t,n){return R.resolve()}deleteFieldIndex(t,n){return R.resolve()}getDocumentsMatchingTarget(t,n){return R.resolve(null)}getIndexType(t,n){return R.resolve(0)}getFieldIndexes(t,n){return R.resolve([])}getNextCollectionGroupToUpdate(t){return R.resolve(null)}getMinOffset(t,n){return R.resolve(xn.min())}getMinOffsetFromCollectionGroup(t,n){return R.resolve(xn.min())}updateCollectionGroup(t,n,r){return R.resolve()}updateIndexEntries(t,n){return R.resolve()}}class wI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Zt(wt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Zt(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t){this.Mn=t}next(){return this.Mn+=2,this.Mn}static xn(){return new Wr(0)}static On(){return new Wr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.changes=new rs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Gt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&ks(r.mutation,s,ye.empty(),xt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,nt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=nt()){const s=Jn();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=ys();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Jn();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,nt()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=fn();const o=Ss(),a=function(){return Ss()}();return n.forEach((u,l)=>{const c=r.get(l.key);s.has(l.key)&&(c===void 0||c.mutation instanceof Un)?i=i.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),ks(c.mutation,l,c.mutation.getFieldMask(),xt.now())):o.set(l.key,ye.empty())}),this.recalculateAndSaveOverlays(t,i).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var h;return a.set(l,new II(c,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Ss();let s=new Tt((o,a)=>o-a),i=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||ye.empty();c=a.applyToLocalView(l,c),r.set(u,c);const h=(s.get(a.batchId)||nt()).add(u);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,h=Wm();c.forEach(d=>{if(!i.has(d)){const g=eg(n.get(d),r.get(d));g!==null&&h.set(d,g),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,h))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return H.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):NT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):R.resolve(Jn());let a=-1,u=i;return o.next(l=>R.forEach(l,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(c)?R.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,i)).next(()=>this.computeViews(t,u,l,nt())).next(c=>({batchId:a,changes:Gm(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new H(n)).next(r=>{let s=ys();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const s=n.collectionGroup;let i=ys();return this.indexManager.getCollectionParents(t,s).next(o=>R.forEach(o,a=>{const u=function(c,h){return new ga(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r).next(l=>{l.forEach((c,h)=>{i=i.insert(c,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s))).next(i=>{s.forEach((a,u)=>{const l=u.getKey();i.get(l)===null&&(i=i.insert(l,Gt.newInvalidDocument(l)))});let o=ys();return i.forEach((a,u)=>{const l=s.get(a);l!==void 0&&ks(l.mutation,u,ye.empty(),xt.now()),_a(n,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t){this.serializer=t,this.ar=new Map,this.ur=new Map}getBundleMetadata(t,n){return R.resolve(this.ar.get(n))}saveBundleMetadata(t,n){return this.ar.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ge(s.createTime)}}(n)),R.resolve()}getNamedQuery(t,n){return R.resolve(this.ur.get(n))}saveNamedQuery(t,n){return this.ur.set(n.name,function(s){return{name:s.name,query:EI(s.bundledQuery),readTime:Ge(s.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.overlays=new Tt(H.comparator),this.cr=new Map}getOverlay(t,n){return R.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Jn();return R.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.ht(t,n,i)}),R.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.cr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.cr.delete(r)),R.resolve()}getOverlaysForCollection(t,n,r){const s=Jn(),i=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return R.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Tt((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=i.get(l.largestBatchId);c===null&&(c=Jn(),i=i.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Jn(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=s)););return R.resolve(a)}ht(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.cr.get(s.largestBatchId).delete(r.key);this.cr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new YT(n,r));let i=this.cr.get(n);i===void 0&&(i=nt(),this.cr.set(n,i)),this.cr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.lr=new Zt(Ot.hr),this.Pr=new Zt(Ot.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(t,n){const r=new Ot(t,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Er(new Ot(t,n))}dr(t,n){t.forEach(r=>this.removeReference(r,n))}Ar(t){const n=new H(new wt([])),r=new Ot(n,t),s=new Ot(n,t+1),i=[];return this.Pr.forEachInRange([r,s],o=>{this.Er(o),i.push(o.key)}),i}Rr(){this.lr.forEach(t=>this.Er(t))}Er(t){this.lr=this.lr.delete(t),this.Pr=this.Pr.delete(t)}Vr(t){const n=new H(new wt([])),r=new Ot(n,t),s=new Ot(n,t+1);let i=nt();return this.Pr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new Ot(t,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ot{constructor(t,n){this.key=t,this.mr=n}static hr(t,n){return H.comparator(t.key,n.key)||lt(t.mr,n.mr)}static Ir(t,n){return lt(t.mr,n.mr)||H.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Zt(Ot.hr)}checkEmpty(t){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new XT(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.pr=this.pr.add(new Ot(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(t,n){return R.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.wr(r),i=s<0?0:s;return R.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(t){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ot(n,0),s=new Ot(n,Number.POSITIVE_INFINITY),i=[];return this.pr.forEachInRange([r,s],o=>{const a=this.yr(o.mr);i.push(a)}),R.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Zt(lt);return n.forEach(s=>{const i=new Ot(s,0),o=new Ot(s,Number.POSITIVE_INFINITY);this.pr.forEachInRange([i,o],a=>{r=r.add(a.mr)})}),R.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;H.isDocumentKey(i)||(i=i.child(""));const o=new Ot(new H(i),0);let a=new Zt(lt);return this.pr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(u.mr)),!0)},o),R.resolve(this.Sr(a))}Sr(t){const n=[];return t.forEach(r=>{const s=this.yr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){At(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return R.forEach(n.mutations,s=>{const i=new Ot(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.pr=r})}Cn(t){}containsKey(t,n){const r=new Ot(n,0),s=this.pr.firstAfterOrEqual(r);return R.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,R.resolve()}br(t,n){return this.wr(t)}wr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}yr(t){const n=this.wr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t){this.Dr=t,this.docs=function(){return new Tt(H.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(t,n){let r=fn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Gt.newInvalidDocument(s))}),R.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=fn();const o=n.path,a=new H(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||pT(fT(c),r)<=0||(s.has(c.key)||_a(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return R.resolve(i)}getAllFromCollectionGroup(t,n,r,s){W()}vr(t,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new SI(this)}getSize(t){return R.resolve(this.size)}}class SI extends TI{constructor(t){super(),this.sr=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.sr.addEntry(t,s)):this.sr.removeEntry(r)}),R.waitFor(n)}getFromCache(t,n){return this.sr.getEntry(t,n)}getAllFromCache(t,n){return this.sr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t){this.persistence=t,this.Cr=new rs(n=>ic(n),oc),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new dc,this.targetCount=0,this.Or=Wr.xn()}forEachTarget(t,n){return this.Cr.forEach((r,s)=>n(s)),R.resolve()}getLastRemoteSnapshotVersion(t){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return R.resolve(this.Fr)}allocateTargetId(t){return this.highestTargetId=this.Or.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),R.resolve()}Ln(t){this.Cr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Or=new Wr(n),this.highestTargetId=n),t.sequenceNumber>this.Fr&&(this.Fr=t.sequenceNumber)}addTargetData(t,n){return this.Ln(n),this.targetCount+=1,R.resolve()}updateTargetData(t,n){return this.Ln(n),R.resolve()}removeTargetData(t,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),R.waitFor(i).next(()=>s)}getTargetCount(t){return R.resolve(this.targetCount)}getTargetData(t,n){const r=this.Cr.get(n)||null;return R.resolve(r)}addMatchingKeys(t,n,r){return this.Mr.Tr(n,r),R.resolve()}removeMatchingKeys(t,n,r){this.Mr.dr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),R.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Mr.Ar(n),R.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Mr.Vr(n);return R.resolve(r)}containsKey(t,n){return R.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,n){this.Nr={},this.overlays={},this.Br=new ec(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new kI(this),this.indexManager=new AI,this.remoteDocumentCache=function(s){return new PI(s)}(r=>this.referenceDelegate.qr(r)),this.serializer=new vI(n),this.Qr=new RI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new BI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Nr[t.toKey()];return r||(r=new DI(n,this.referenceDelegate),this.Nr[t.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(t,n,r){L("MemoryPersistence","Starting transaction:",t);const s=new NI(this.Br.next());return this.referenceDelegate.Kr(),r(s).next(i=>this.referenceDelegate.$r(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ur(t,n){return R.or(Object.values(this.Nr).map(r=>()=>r.containsKey(t,n)))}}class NI extends gT{constructor(t){super(),this.currentSequenceNumber=t}}class fc{constructor(t){this.persistence=t,this.Wr=new dc,this.Gr=null}static zr(t){return new fc(t)}get jr(){if(this.Gr)return this.Gr;throw W()}addReference(t,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),R.resolve()}removeReference(t,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(t,n){return this.jr.add(n.toString()),R.resolve()}removeTarget(t,n){this.Wr.Ar(n.targetId).forEach(s=>this.jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.jr.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}Kr(){this.Gr=new Set}$r(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.jr,r=>{const s=H.fromPath(r);return this.Hr(t,s).next(i=>{i||n.removeEntry(s,Y.min())})}).next(()=>(this.Gr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hr(t,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(t){return 0}Hr(t,n){return R.or([()=>R.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ur(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Li=r,this.ki=s}static qi(t,n){let r=nt(),s=nt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new pc(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.Qi=!1}initialize(t,n){this.Ki=t,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(t,n,r,s){return this.$i(t,n).next(i=>i||this.Ui(t,n,s,r)).next(i=>i||this.Wi(t,n))}$i(t,n){if(Cd(n))return R.resolve(null);let r=dn(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$u(n,null,"F"),r=dn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const o=nt(...i);return this.Ki.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Gi(n,a);return this.zi(n,l,o,u.readTime)?this.$i(t,$u(n,null,"F")):this.ji(t,l,n,u)}))})))}Ui(t,n,r,s){return Cd(n)||s.isEqual(Y.min())?this.Wi(t,n):this.Ki.getDocuments(t,r).next(i=>{const o=this.Gi(n,i);return this.zi(n,o,r,s)?this.Wi(t,n):(ud()<=ut.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ju(n)),this.ji(t,o,n,dT(s,-1)))})}Gi(t,n){let r=new Zt(Hm(t));return n.forEach((s,i)=>{_a(t,i)&&(r=r.add(i))}),r}zi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Wi(t,n){return ud()<=ut.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",ju(n)),this.Ki.getDocumentsMatchingQuery(t,n,xn.min())}ji(t,n,r,s){return this.Ki.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t,n,r,s){this.persistence=t,this.Hi=n,this.serializer=s,this.Ji=new Tt(lt),this.Yi=new rs(i=>ic(i),oc),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}es(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bI(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function VI(e,t,n,r){return new OI(e,t,n,r)}async function dg(e,t){const n=Z(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.es(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=nt();for(const l of s){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of i){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ts:l,removedBatchIds:o,addedBatchIds:a}))})})}function MI(e,t){const n=Z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const h=l.batch,d=h.keys();let g=R.resolve();return d.forEach(y=>{g=g.next(()=>c.getEntry(u,y)).next(w=>{const E=l.docVersions.get(y);At(E!==null),w.version.compareTo(E)<0&&(h.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),c.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=nt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,s))})}function fg(e){const t=Z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.kr.getLastRemoteSnapshotVersion(n))}function LI(e,t){const n=Z(e),r=t.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];t.targetChanges.forEach((c,h)=>{const d=s.get(h);if(!d)return;a.push(n.kr.removeMatchingKeys(i,c.removedDocuments,h).next(()=>n.kr.addMatchingKeys(i,c.addedDocuments,h)));let g=d.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(h)!==null?g=g.withResumeToken(te.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),s=s.insert(h,g),function(w,E,B){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(d,g,c)&&a.push(n.kr.updateTargetData(i,g))});let u=fn(),l=nt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(UI(i,o,t.documentUpdates).next(c=>{u=c.ns,l=c.rs})),!r.isEqual(Y.min())){const c=n.kr.getLastRemoteSnapshotVersion(i).next(h=>n.kr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return R.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,l)).next(()=>u)}).then(i=>(n.Ji=s,i))}function UI(e,t,n){let r=nt(),s=nt();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let o=fn();return n.forEach((a,u)=>{const l=i.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(Y.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ns:o,rs:s}})}function $I(e,t){const n=Z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function jI(e,t){const n=Z(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.kr.getTargetData(r,t).next(i=>i?(s=i,R.resolve(s)):n.kr.allocateTargetId(r).next(o=>(s=new Tn(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(t,r.targetId)),r})}async function Gu(e,t,n){const r=Z(e),s=r.Ji.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ci(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(s.target)}function Bd(e,t,n){const r=Z(e);let s=Y.min(),i=nt();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,l,c){const h=Z(u),d=h.Yi.get(c);return d!==void 0?R.resolve(h.Ji.get(d)):h.kr.getTargetData(l,c)}(r,o,dn(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,t,n?s:Y.min(),n?i:nt())).next(a=>(zI(r,FT(t),a),{documents:a,ss:i})))}function zI(e,t,n){let r=e.Zi.get(t)||Y.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.Zi.set(t,r)}class Dd{constructor(){this.activeTargetIds=$T()}hs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ps(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ls(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qI{constructor(){this.Hs=new Dd,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Hs.hs(t),this.Js[t]||"not-current"}updateQueryState(t,n,r){this.Js[t]=n}removeLocalQueryTarget(t){this.Hs.Ps(t)}isLocalQueryTarget(t){return this.Hs.activeTargetIds.has(t)}clearQueryState(t){delete this.Js[t]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(t){return this.Hs.activeTargetIds.has(t)}start(){return this.Hs=new Dd,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{Ys(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(t){this.ro.push(t)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ro)t(0)}no(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ro)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i=null;function tu(){return $i===null?$i=function(){return 268435456+Math.round(2147483648*Math.random())}():$i++,"0x"+$i.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.so=t.so,this.oo=t.oo}_o(t){this.ao=t}uo(t){this.co=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.so(t)}ho(){this.ao()}Po(t){this.co(t)}Io(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class WI extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${s}/databases/${i}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Ro(){return!1}Vo(n,r,s,i,o){const a=tu(),u=this.mo(n,r);L("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const l={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(l,i,o),this.po(n,u,l,s).then(c=>(L("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw qr("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",s),c})}yo(n,r,s,i,o,a){return this.Vo(n,r,s,i,o)}fo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ns}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}mo(n,r){const s=KI[n];return`${this.To}/v1/${r}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}po(t,n,r,s){const i=tu();return new Promise((o,a)=>{const u=new eT;u.setWithCredentials(!0),u.listenOnce(Jw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ja.NO_ERROR:const c=u.getResponseJson();L(Ht,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(c)),o(c);break;case Ja.TIMEOUT:L(Ht,`RPC '${t}' ${i} timed out`),a(new $(I.DEADLINE_EXCEEDED,"Request time out"));break;case Ja.HTTP_ERROR:const h=u.getStatus();if(L(Ht,`RPC '${t}' ${i} failed with status:`,h,"response text:",u.getResponseText()),h>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const y=function(E){const B=E.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(B)>=0?B:I.UNKNOWN}(g.status);a(new $(y,g.message))}else a(new $(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new $(I.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{L(Ht,`RPC '${t}' ${i} completed.`)}});const l=JSON.stringify(s);L(Ht,`RPC '${t}' ${i} sending request:`,s),u.send(n,"POST",l,r,15)})}wo(t,n,r){const s=tu(),i=[this.To,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Xw(),a=Yw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new tT({})),this.fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=i.join("");L(Ht,`Creating RPC '${t}' stream ${s}: ${c}`,u);const h=o.createWebChannel(c,u);let d=!1,g=!1;const y=new GI({so:E=>{g?L(Ht,`Not sending because RPC '${t}' stream ${s} is closed:`,E):(d||(L(Ht,`Opening RPC '${t}' stream ${s} transport.`),h.open(),d=!0),L(Ht,`RPC '${t}' stream ${s} sending:`,E),h.send(E))},oo:()=>h.close()}),w=(E,B,S)=>{E.listen(B,V=>{try{S(V)}catch(P){setTimeout(()=>{throw P},0)}})};return w(h,Vi.EventType.OPEN,()=>{g||L(Ht,`RPC '${t}' stream ${s} transport opened.`)}),w(h,Vi.EventType.CLOSE,()=>{g||(g=!0,L(Ht,`RPC '${t}' stream ${s} transport closed`),y.Po())}),w(h,Vi.EventType.ERROR,E=>{g||(g=!0,qr(Ht,`RPC '${t}' stream ${s} transport errored:`,E),y.Po(new $(I.UNAVAILABLE,"The operation could not be completed")))}),w(h,Vi.EventType.MESSAGE,E=>{var B;if(!g){const S=E.data[0];At(!!S);const V=S,P=V.error||((B=V[0])===null||B===void 0?void 0:B.error);if(P){L(Ht,`RPC '${t}' stream ${s} received error:`,P);const at=P.status;let it=function(mn){const ge=Dt[mn];if(ge!==void 0)return rg(ge)}(at),ne=P.message;it===void 0&&(it=I.INTERNAL,ne="Unknown error status: "+at+" with message "+P.message),g=!0,y.Po(new $(it,ne)),h.close()}else L(Ht,`RPC '${t}' stream ${s} received:`,S),y.Io(S)}}),w(a,Zw.STAT_EVENT,E=>{E.stat===od.PROXY?L(Ht,`RPC '${t}' stream ${s} detected buffering proxy`):E.stat===od.NOPROXY&&L(Ht,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.ho()},0),y}}function eu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(e){return new oI(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n,r=1e3,s=1.5,i=6e4){this.ii=t,this.timerId=n,this.So=r,this.bo=s,this.Do=i,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(t){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),s=Math.max(0,n-r);s>0&&L("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Fo=Date.now(),t())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,n,r,s,i,o,a,u){this.ii=t,this.Bo=r,this.Lo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new pg(t,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(t){this.Jo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(t,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,t!==4?this.Ko.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(hn(n.toString()),hn("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.ko===n&&this.e_(r,s)},r=>{t(()=>{const s=new $(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(s)})})}e_(t,n){const r=this.Xo(this.ko);this.stream=this.n_(t,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(s=>{r(()=>this.t_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(t){return L("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.ko===t?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QI extends mg{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}n_(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Ko.reset();const n=lI(this.serializer,t),r=function(i){if(!("targetChange"in i))return Y.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?Ge(o.readTime):Y.min()}(t);return this.listener.r_(n,r)}i_(t){const n={};n.database=Ku(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Uu(u)?{documents:dI(i,u)}:{query:fI(i,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=og(i,o.resumeToken);const l=zu(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Y.min())>0){a.readTime=Do(i,o.snapshotVersion.toTimestamp());const l=zu(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=mI(this.serializer,t);r&&(n.labels=r),this.Ho(n)}s_(t){const n={};n.database=Ku(this.serializer),n.removeTarget=t,this.Ho(n)}}class XI extends mg{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(At(!!t.streamToken),this.lastStreamToken=t.streamToken,this.o_){this.Ko.reset();const n=hI(t.writeResults,t.commitTime),r=Ge(t.commitTime);return this.listener.u_(r,n)}return At(!t.writeResults||t.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const t={};t.database=Ku(this.serializer),this.Ho(t)}a_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>cI(this.serializer,r))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.h_=!1}P_(){if(this.h_)throw new $(I.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(t,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Vo(t,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(I.UNKNOWN,s.toString())})}yo(t,n,r,s){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.yo(t,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(I.UNKNOWN,i.toString())})}terminate(){this.h_=!0}}class JI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(t){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.R_("Offline")))}set(t){this.f_(),this.T_=0,t==="Online"&&(this.d_=!1),this.R_(t)}R_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}V_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(hn(n),this.d_=!1):L("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=i,this.S_.Ys(o=>{r.enqueueAndForget(async()=>{Cr(this)&&(L("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Z(u);l.y_.add(4),await vi(l),l.b_.set("Unknown"),l.y_.delete(4),await wa(l)}(this))})}),this.b_=new JI(r,s)}}async function wa(e){if(Cr(e))for(const t of e.w_)await t(!0)}async function vi(e){for(const t of e.w_)await t(!1)}function gg(e,t){const n=Z(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),Cc(n)?gc(n):ss(n).Uo()&&mc(n,t))}function Cg(e,t){const n=Z(e),r=ss(n);n.p_.delete(t),r.Uo()&&_g(n,t),n.p_.size===0&&(r.Uo()?r.zo():Cr(n)&&n.b_.set("Unknown"))}function mc(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Y.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ss(e).i_(t)}function _g(e,t){e.D_.Be(t),ss(e).s_(t)}function gc(e){e.D_=new nI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.p_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),ss(e).start(),e.b_.A_()}function Cc(e){return Cr(e)&&!ss(e).$o()&&e.p_.size>0}function Cr(e){return Z(e).y_.size===0}function yg(e){e.D_=void 0}async function t1(e){e.p_.forEach((t,n)=>{mc(e,t)})}async function e1(e,t){yg(e),Cc(e)?(e.b_.m_(t),gc(e)):e.b_.set("Unknown")}async function n1(e,t,n){if(e.b_.set("Online"),t instanceof ig&&t.state===2&&t.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.p_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.p_.delete(a),s.D_.removeTarget(a))}(e,t)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Po(e,r)}else if(t instanceof eo?e.D_.We(t):t instanceof sg?e.D_.Ze(t):e.D_.je(t),!n.isEqual(Y.min()))try{const r=await fg(e.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.D_.st(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=i.p_.get(l);c&&i.p_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=i.p_.get(u);if(!c)return;i.p_.set(u,c.withResumeToken(te.EMPTY_BYTE_STRING,c.snapshotVersion)),_g(i,u);const h=new Tn(c.target,u,l,c.sequenceNumber);mc(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){L("RemoteStore","Failed to raise snapshot:",r),await Po(e,r)}}async function Po(e,t,n){if(!Ci(t))throw t;e.y_.add(1),await vi(e),e.b_.set("Offline"),n||(n=()=>fg(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{L("RemoteStore","Retrying IndexedDB access"),await n(),e.y_.delete(1),await wa(e)})}function vg(e,t){return t().catch(n=>Po(e,n,t))}async function Ta(e){const t=Z(e),n=Fn(t);let r=t.g_.length>0?t.g_[t.g_.length-1].batchId:-1;for(;r1(t);)try{const s=await $I(t.localStore,r);if(s===null){t.g_.length===0&&n.zo();break}r=s.batchId,s1(t,s)}catch(s){await Po(t,s)}Eg(t)&&Ag(t)}function r1(e){return Cr(e)&&e.g_.length<10}function s1(e,t){e.g_.push(t);const n=Fn(e);n.Uo()&&n.__&&n.a_(t.mutations)}function Eg(e){return Cr(e)&&!Fn(e).$o()&&e.g_.length>0}function Ag(e){Fn(e).start()}async function i1(e){Fn(e).l_()}async function o1(e){const t=Fn(e);for(const n of e.g_)t.a_(n.mutations)}async function a1(e,t,n){const r=e.g_.shift(),s=uc.from(r,t,n);await vg(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Ta(e)}async function u1(e,t){t&&Fn(e).__&&await async function(r,s){if(function(o){return ZT(o)&&o!==I.ABORTED}(s.code)){const i=r.g_.shift();Fn(r).Go(),await vg(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ta(r)}}(e,t),Eg(e)&&Ag(e)}async function Sd(e,t){const n=Z(e);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const r=Cr(n);n.y_.add(3),await vi(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.y_.delete(3),await wa(n)}async function l1(e,t){const n=Z(e);t?(n.y_.delete(2),await wa(n)):t||(n.y_.add(2),await vi(n),n.b_.set("Unknown"))}function ss(e){return e.v_||(e.v_=function(n,r,s){const i=Z(n);return i.P_(),new QI(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{_o:t1.bind(null,e),uo:e1.bind(null,e),r_:n1.bind(null,e)}),e.w_.push(async t=>{t?(e.v_.Go(),Cc(e)?gc(e):e.b_.set("Unknown")):(await e.v_.stop(),yg(e))})),e.v_}function Fn(e){return e.C_||(e.C_=function(n,r,s){const i=Z(n);return i.P_(),new XI(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{_o:i1.bind(null,e),uo:u1.bind(null,e),c_:o1.bind(null,e),u_:a1.bind(null,e)}),e.w_.push(async t=>{t?(e.C_.Go(),await Ta(e)):(await e.C_.stop(),e.g_.length>0&&(L("RemoteStore",`Stopping write stream with ${e.g_.length} pending writes`),e.g_=[]))})),e.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new _c(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(I.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yc(e,t){if(hn("AsyncQueue",`${t}: ${e}`),Ci(e))return new $(I.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t){this.comparator=t?(n,r)=>t(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=ys(),this.sortedSet=new Tt(this.comparator)}static emptySet(t){return new Vr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Vr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Vr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this.F_=new Tt(H.comparator)}track(t){const n=t.doc.key,r=this.F_.get(n);r?t.type!==0&&r.type===3?this.F_=this.F_.insert(n,t):t.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.F_=this.F_.remove(n):t.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):W():this.F_=this.F_.insert(n,t)}M_(){const t=[];return this.F_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Qr{constructor(t,n,r,s,i,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qr(t,n,Vr.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ca(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.x_=void 0,this.listeners=[]}}class h1{constructor(){this.queries=new rs(t=>qm(t),Ca),this.onlineState="Unknown",this.O_=new Set}}async function d1(e,t){const n=Z(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new c1),s)try{i.x_=await n.onListen(r)}catch(o){const a=yc(o,`Initialization of query '${ju(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,i),i.listeners.push(t),t.N_(n.onlineState),i.x_&&t.B_(i.x_)&&vc(n)}async function f1(e,t){const n=Z(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(t);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function p1(e,t){const n=Z(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.B_(s)&&(r=!0);o.x_=s}}r&&vc(n)}function m1(e,t,n){const r=Z(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function vc(e){e.O_.forEach(t=>{t.next()})}class g1{constructor(t,n,r){this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Qr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.k_?this.Q_(t)&&(this.L_.next(t),n=!0):this.K_(t,this.onlineState)&&(this.U_(t),n=!0),this.q_=t,n}onError(t){this.L_.error(t)}N_(t){this.onlineState=t;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,t)&&(this.U_(this.q_),n=!0),n}K_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Q_(t){if(t.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(t){t=Qr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.k_=!0,this.L_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t){this.key=t}}class Tg{constructor(t){this.key=t}}class C1{constructor(t,n){this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=nt(),this.mutatedKeys=nt(),this.na=Hm(t),this.ra=new Vr(this.na)}get ia(){return this.X_}sa(t,n){const r=n?n.oa:new kd,s=n?n.ra:this.ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((c,h)=>{const d=s.get(c),g=_a(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;d&&g?d.data.isEqual(g.data)?y!==w&&(r.track({type:3,doc:g}),E=!0):this._a(d,g)||(r.track({type:2,doc:g}),E=!0,(u&&this.na(g,u)>0||l&&this.na(g,l)<0)&&(a=!0)):!d&&g?(r.track({type:0,doc:g}),E=!0):d&&!g&&(r.track({type:1,doc:d}),E=!0,(u||l)&&(a=!0)),E&&(g?(o=o.add(g),i=w?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{ra:o,oa:r,zi:a,mutatedKeys:i}}_a(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const s=this.ra;this.ra=t.ra,this.mutatedKeys=t.mutatedKeys;const i=t.oa.M_();i.sort((l,c)=>function(d,g){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return y(d)-y(g)}(l.type,c.type)||this.na(l.doc,c.doc)),this.aa(r);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,u=a!==this.ea;return this.ea=a,i.length!==0||u?{snapshot:new Qr(this.query,t.ra,s,i,t.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new kd,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(t){return!this.X_.has(t)&&!!this.ra.has(t)&&!this.ra.get(t).hasLocalMutations}aa(t){t&&(t.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=t.current)}ua(){if(!this.current)return[];const t=this.ta;this.ta=nt(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return t.forEach(r=>{this.ta.has(r)||n.push(new Tg(r))}),this.ta.forEach(r=>{t.has(r)||n.push(new wg(r))}),n}ha(t){this.X_=t.ss,this.ta=nt();const n=this.sa(t.documents);return this.applyChanges(n,!0)}Pa(){return Qr.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class _1{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class y1{constructor(t){this.key=t,this.Ia=!1}}class v1{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new rs(a=>qm(a),Ca),this.da=new Map,this.Aa=new Set,this.Ra=new Tt(H.comparator),this.Va=new Map,this.ma=new dc,this.fa={},this.ga=new Map,this.pa=Wr.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function E1(e,t){const n=S1(e);let r,s;const i=n.Ea.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Pa();else{const o=await jI(n.localStore,dn(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await A1(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&gg(n.remoteStore,o)}return s}async function A1(e,t,n,r,s){e.wa=(h,d,g)=>async function(w,E,B,S){let V=E.view.sa(B);V.zi&&(V=await Bd(w.localStore,E.query,!1).then(({documents:it})=>E.view.sa(it,V)));const P=S&&S.targetChanges.get(E.targetId),at=E.view.applyChanges(V,w.isPrimaryClient,P);return Nd(w,E.targetId,at.ca),at.snapshot}(e,h,d,g);const i=await Bd(e.localStore,t,!0),o=new C1(t,i.ss),a=o.sa(i.documents),u=yi.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),l=o.applyChanges(a,e.isPrimaryClient,u);Nd(e,n,l.ca);const c=new _1(t,n,o);return e.Ea.set(t,c),e.da.has(n)?e.da.get(n).push(t):e.da.set(n,[t]),l.snapshot}async function w1(e,t){const n=Z(e),r=n.Ea.get(t),s=n.da.get(r.targetId);if(s.length>1)return n.da.set(r.targetId,s.filter(i=>!Ca(i,t))),void n.Ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Gu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Cg(n.remoteStore,r.targetId),Wu(n,r.targetId)}).catch(gi)):(Wu(n,r.targetId),await Gu(n.localStore,r.targetId,!0))}async function T1(e,t,n){const r=k1(e);try{const s=await function(o,a){const u=Z(o),l=xt.now(),c=a.reduce((g,y)=>g.add(y.key),nt());let h,d;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=fn(),w=nt();return u.Xi.getEntries(g,c).next(E=>{y=E,y.forEach((B,S)=>{S.isValidDocument()||(w=w.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,y)).next(E=>{h=E;const B=[];for(const S of a){const V=WT(S,h.get(S.key).overlayedDocument);V!=null&&B.push(new Un(S.key,V,Om(V.value.mapValue),xe.exists(!0)))}return u.mutationQueue.addMutationBatch(g,l,B,a)}).next(E=>{d=E;const B=E.applyToLocalDocumentSet(h,w);return u.documentOverlayCache.saveOverlays(g,E.batchId,B)})}).then(()=>({batchId:d.batchId,changes:Gm(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let l=o.fa[o.currentUser.toKey()];l||(l=new Tt(lt)),l=l.insert(a,u),o.fa[o.currentUser.toKey()]=l}(r,s.batchId,n),await Ei(r,s.changes),await Ta(r.remoteStore)}catch(s){const i=yc(s,"Failed to persist write");n.reject(i)}}async function Ig(e,t){const n=Z(e);try{const r=await LI(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.Va.get(i);o&&(At(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ia=!0:s.modifiedDocuments.size>0?At(o.Ia):s.removedDocuments.size>0&&(At(o.Ia),o.Ia=!1))}),await Ei(n,r,t)}catch(r){await gi(r)}}function xd(e,t,n){const r=Z(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Ea.forEach((i,o)=>{const a=o.view.N_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=Z(o);u.onlineState=a;let l=!1;u.queries.forEach((c,h)=>{for(const d of h.listeners)d.N_(a)&&(l=!0)}),l&&vc(u)}(r.eventManager,t),s.length&&r.Ta.r_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function I1(e,t,n){const r=Z(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Va.get(t),i=s&&s.key;if(i){let o=new Tt(H.comparator);o=o.insert(i,Gt.newNoDocument(i,Y.min()));const a=nt().add(i),u=new Ea(Y.min(),new Map,new Tt(lt),o,a);await Ig(r,u),r.Ra=r.Ra.remove(i),r.Va.delete(t),Ec(r)}else await Gu(r.localStore,t,!1).then(()=>Wu(r,t,n)).catch(gi)}async function b1(e,t){const n=Z(e),r=t.batch.batchId;try{const s=await MI(n.localStore,t);Rg(n,r,null),bg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ei(n,s)}catch(s){await gi(s)}}async function R1(e,t,n){const r=Z(e);try{const s=await function(o,a){const u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(h=>(At(h!==null),c=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);Rg(r,t,n),bg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ei(r,s)}catch(s){await gi(s)}}function bg(e,t){(e.ga.get(t)||[]).forEach(n=>{n.resolve()}),e.ga.delete(t)}function Rg(e,t,n){const r=Z(e);let s=r.fa[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.fa[r.currentUser.toKey()]=s}}function Wu(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.da.get(t))e.Ea.delete(r),n&&e.Ta.Sa(r,n);e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach(r=>{e.ma.containsKey(r)||Bg(e,r)})}function Bg(e,t){e.Aa.delete(t.path.canonicalString());const n=e.Ra.get(t);n!==null&&(Cg(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),Ec(e))}function Nd(e,t,n){for(const r of n)r instanceof wg?(e.ma.addReference(r.key,t),B1(e,r)):r instanceof Tg?(L("SyncEngine","Document no longer in limbo: "+r.key),e.ma.removeReference(r.key,t),e.ma.containsKey(r.key)||Bg(e,r.key)):W()}function B1(e,t){const n=t.key,r=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(r)||(L("SyncEngine","New document in limbo: "+n),e.Aa.add(r),Ec(e))}function Ec(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){const t=e.Aa.values().next().value;e.Aa.delete(t);const n=new H(wt.fromString(t)),r=e.pa.next();e.Va.set(r,new y1(n)),e.Ra=e.Ra.insert(n,r),gg(e.remoteStore,new Tn(dn(zm(n.path)),r,"TargetPurposeLimboResolution",ec.ae))}}async function Ei(e,t,n){const r=Z(e),s=[],i=[],o=[];r.Ea.isEmpty()||(r.Ea.forEach((a,u)=>{o.push(r.wa(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){s.push(l);const c=pc.qi(u.targetId,l);i.push(c)}}))}),await Promise.all(o),r.Ta.r_(s),await async function(u,l){const c=Z(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>R.forEach(l,d=>R.forEach(d.Li,g=>c.persistence.referenceDelegate.addReference(h,d.targetId,g)).next(()=>R.forEach(d.ki,g=>c.persistence.referenceDelegate.removeReference(h,d.targetId,g)))))}catch(h){if(!Ci(h))throw h;L("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const d=h.targetId;if(!h.fromCache){const g=c.Ji.get(d),y=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(y);c.Ji=c.Ji.insert(d,w)}}}(r.localStore,i))}async function D1(e,t){const n=Z(e);if(!n.currentUser.isEqual(t)){L("SyncEngine","User change. New user:",t.toKey());const r=await dg(n.localStore,t);n.currentUser=t,function(i,o){i.ga.forEach(a=>{a.forEach(u=>{u.reject(new $(I.CANCELLED,o))})}),i.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ei(n,r.ts)}}function P1(e,t){const n=Z(e),r=n.Va.get(t);if(r&&r.Ia)return nt().add(r.key);{let s=nt();const i=n.da.get(t);if(!i)return s;for(const o of i){const a=n.Ea.get(o);s=s.unionWith(a.view.ia)}return s}}function S1(e){const t=Z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ig.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=P1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=I1.bind(null,t),t.Ta.r_=p1.bind(null,t.eventManager),t.Ta.Sa=m1.bind(null,t.eventManager),t}function k1(e){const t=Z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=b1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=R1.bind(null,t),t}class Fd{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Aa(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return VI(this.persistence,new FI,t.initialUser,this.serializer)}createPersistence(t){return new xI(fc.zr,this.serializer)}createSharedClientState(t){return new qI}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class x1{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D1.bind(null,this.syncEngine),await l1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new h1}()}createDatastore(t){const n=Aa(t.databaseInfo.databaseId),r=function(i){return new WI(i)}(t.databaseInfo);return function(i,o,a,u){return new YI(i,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,o,a){return new ZI(r,s,i,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>xd(this.syncEngine,n,0),function(){return Pd.v()?new Pd:new HI}())}createSyncEngine(t,n){return function(s,i,o,a,u,l,c){const h=new v1(s,i,o,a,u,l);return c&&(h.ya=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Z(n);L("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await vi(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.va(this.observer.next,t)}error(t){this.observer.error?this.va(this.observer.error,t):hn("Uncaught Error in snapshot listener:",t.toString())}Ca(){this.muted=!0}va(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Kt.UNAUTHENTICATED,this.clientId=xm.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{L("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(L("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=yc(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function nu(e,t){e.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await dg(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Od(e,t){e.asyncQueue.verifyOperationInProgress();const n=await V1(e);L("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(s=>Sd(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,i)=>Sd(t.remoteStore,i)),e._onlineComponents=t}function O1(e){return e.name==="FirebaseError"?e.code===I.FAILED_PRECONDITION||e.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function V1(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{await nu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!O1(n))throw n;qr("Error using user provided cache. Falling back to memory cache: "+n),await nu(e,new Fd)}}else L("FirestoreClient","Using default OfflineComponentProvider"),await nu(e,new Fd);return e._offlineComponents}async function Dg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),await Od(e,e._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),await Od(e,new x1))),e._onlineComponents}function M1(e){return Dg(e).then(t=>t.syncEngine)}async function L1(e){const t=await Dg(e),n=t.eventManager;return n.onListen=E1.bind(null,t.syncEngine),n.onUnlisten=w1.bind(null,t.syncEngine),n}function U1(e,t,n={}){const r=new Bn;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,l){const c=new N1({next:d=>{o.enqueueAndForget(()=>f1(i,h)),d.fromCache&&u.source==="server"?l.reject(new $(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new g1(a,c,{includeMetadataChanges:!0,W_:!0});return d1(i,h)}(await L1(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(e,t,n){if(!n)throw new $(I.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $1(e,t,n,r){if(t===!0&&r===!0)throw new $(I.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Md(e){if(!H.isDocumentKey(e))throw new $(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ld(e){if(H.isDocumentKey(e))throw new $(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ac(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":W()}function fr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ac(e);throw new $(I.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new $(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new $(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pg((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new $(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new $(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new $(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ia{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ud({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new $(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ud(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rT;switch(r.type){case"firstParty":return new aT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Vd.get(n);r&&(L("ComponentProvider","Removing Datastore"),Vd.delete(n),r.terminate())}(this),Promise.resolve()}}function j1(e,t,n,r={}){var s;const i=(e=fr(e,Ia))._getSettings(),o=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Kt.MOCK_USER;else{a=sp(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new $(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Kt(l)}e._authCredentials=new sT(new km(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ba(this.firestore,t,this._query)}}class Ie{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}}class Dn extends ba{constructor(t,n,r){super(t,n,zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new H(t))}withConverter(t){return new Dn(this.firestore,t,this._path)}}function tn(e,t,...n){if(e=me(e),Sg("collection","path",t),e instanceof Ia){const r=wt.fromString(t,...n);return Ld(r),new Dn(e,null,r)}{if(!(e instanceof Ie||e instanceof Dn))throw new $(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(wt.fromString(t,...n));return Ld(r),new Dn(e.firestore,null,r)}}function Br(e,t,...n){if(e=me(e),arguments.length===1&&(t=xm.V()),Sg("doc","path",t),e instanceof Ia){const r=wt.fromString(t,...n);return Md(r),new Ie(e,null,new H(r))}{if(!(e instanceof Ie||e instanceof Dn))throw new $(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(wt.fromString(t,...n));return Md(r),new Ie(e.firestore,e instanceof Dn?e.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new pg(this,"async_queue_retry"),this.Xa=()=>{const n=eu();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const t=eu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.eu(),this.tu(t)}enterRestrictedMode(t){if(!this.za){this.za=!0,this.Ya=t||!1;const n=eu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(t){if(this.eu(),this.za)return new Promise(()=>{});const n=new Bn;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ga.push(t),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(t){if(!Ci(t))throw t;L("AsyncQueue","Operation failed with retryable error: "+t)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(t){const n=this.Wa.then(()=>(this.Ja=!0,t().catch(r=>{this.Ha=r,this.Ja=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw hn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(t,n,r){this.eu(),this.Za.indexOf(t)>-1&&(n=0);const s=_c.createAndSchedule(this,t,n,r,i=>this.ru(i));return this.ja.push(s),s}eu(){this.Ha&&W()}verifyOperationInProgress(){}async iu(){let t;do t=this.Wa,await t;while(t!==this.Wa)}su(t){for(const n of this.ja)if(n.timerId===t)return!0;return!1}ou(t){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.iu()})}_u(t){this.Za.push(t)}ru(t){const n=this.ja.indexOf(t);this.ja.splice(n,1)}}class Ai extends Ia{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=function(){return new z1}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xg(this),this._firestoreClient.terminate()}}function q1(e,t){const n=typeof e=="object"?e:wl(),r=typeof e=="string"?e:t||"(default)",s=Wo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=np("firestore");i&&j1(s,...i)}return s}function kg(e){return e._firestoreClient||xg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xg(e){var t,n,r;const s=e._freezeSettings(),i=function(a,u,l,c){return new yT(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Pg(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new F1(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xr(te.fromBase64String(t))}catch(n){throw new $(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Xr(te.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new $(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new $(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new $(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return lt(this._lat,t._lat)||lt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=/^__.*__$/;class K1{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Un(t,this.data,this.fieldMask,n,this.fieldTransforms):new _i(t,this.data,n,this.fieldTransforms)}}class Ng{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Un(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}class Ic{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.au(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(t){return new Ic(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.cu({path:r,hu:!1});return s.Pu(t),s}Iu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.cu({path:r,hu:!1});return s.au(),s}Tu(t){return this.cu({path:void 0,hu:!0})}Eu(t){return So(t,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let t=0;t<this.path.length;t++)this.Pu(this.path.get(t))}Pu(t){if(t.length===0)throw this.Eu("Document fields must not be empty");if(Fg(this.uu)&&H1.test(t))throw this.Eu('Document fields cannot begin and end with "__"')}}class G1{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Aa(t)}Ru(t,n,r,s=!1){return new Ic({uu:t,methodName:n,Au:r,path:Qt.emptyPath(),hu:!1,du:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Og(e){const t=e._freezeSettings(),n=Aa(e._databaseId);return new G1(e._databaseId,!!t.ignoreUndefinedProperties,n)}function W1(e,t,n,r,s,i={}){const o=e.Ru(i.merge||i.mergeFields?2:0,t,n,s);bc("Data must be an object, but it was:",o,r);const a=Vg(r,o);let u,l;if(i.merge)u=new ye(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const h of i.mergeFields){const d=Qu(t,h,n);if(!o.contains(d))throw new $(I.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Lg(c,d)||c.push(d)}u=new ye(c),l=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=o.fieldTransforms;return new K1(new fe(a),u,l)}class Ba extends wc{_toFieldTransform(t){if(t.uu!==2)throw t.uu===1?t.Eu(`${this._methodName}() can only appear at the top level of your update data`):t.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ba}}function Q1(e,t,n,r){const s=e.Ru(1,t,n);bc("Data must be an object, but it was:",s,r);const i=[],o=fe.empty();gr(r,(u,l)=>{const c=Rc(t,u,n);l=me(l);const h=s.Iu(c);if(l instanceof Ba)i.push(c);else{const d=Da(l,h);d!=null&&(i.push(c),o.set(c,d))}});const a=new ye(i);return new Ng(o,a,s.fieldTransforms)}function X1(e,t,n,r,s,i){const o=e.Ru(1,t,n),a=[Qu(t,r,n)],u=[s];if(i.length%2!=0)throw new $(I.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)a.push(Qu(t,i[d])),u.push(i[d+1]);const l=[],c=fe.empty();for(let d=a.length-1;d>=0;--d)if(!Lg(l,a[d])){const g=a[d];let y=u[d];y=me(y);const w=o.Iu(g);if(y instanceof Ba)l.push(g);else{const E=Da(y,w);E!=null&&(l.push(g),c.set(g,E))}}const h=new ye(l);return new Ng(c,h,o.fieldTransforms)}function Da(e,t){if(Mg(e=me(e)))return bc("Unsupported field value:",t,e),Vg(e,t);if(e instanceof wc)return function(r,s){if(!Fg(s.uu))throw s.Eu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Eu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&t.uu!==4)throw t.Eu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Da(a,s.Tu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(e,t)}return function(r,s){if((r=me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jT(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=xt.fromDate(r);return{timestampValue:Do(s.serializer,i)}}if(r instanceof xt){const i=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Do(s.serializer,i)}}if(r instanceof Tc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xr)return{bytesValue:og(s.serializer,r._byteString)};if(r instanceof Ie){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Eu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hc(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Eu(`Unsupported field value: ${Ac(r)}`)}(e,t)}function Vg(e,t){const n={};return Nm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gr(e,(r,s)=>{const i=Da(s,t.lu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Mg(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof xt||e instanceof Tc||e instanceof Xr||e instanceof Ie||e instanceof wc)}function bc(e,t,n){if(!Mg(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Ac(n);throw r==="an object"?t.Eu(e+" a custom object"):t.Eu(e+" "+r)}}function Qu(e,t,n){if((t=me(t))instanceof Ra)return t._internalPath;if(typeof t=="string")return Rc(e,t);throw So("Field path arguments must be of type string or ",e,!1,void 0,n)}const Y1=new RegExp("[~\\*/\\[\\]]");function Rc(e,t,n){if(t.search(Y1)>=0)throw So(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ra(...t.split("."))._internalPath}catch{throw So(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function So(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new $(I.INVALID_ARGUMENT,a+e+u)}function Lg(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new J1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field($g("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J1 extends Ug{data(){return super.data()}}function $g(e,t){return typeof t=="string"?Rc(e,t):t instanceof Ra?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new $(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tb{convertValue(t,n="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw W()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return gr(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new Tc(Pt(t.latitude),Pt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=rc(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Js(t));default:return null}}convertTimestamp(t){const n=Nn(t);return new xt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=wt.fromString(t);At(hg(r));const s=new Zs(r.get(1),r.get(3)),i=new H(r.popFirst(5));return s.isEqual(n)||hn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nb extends Ug{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new no(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field($g("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class no extends nb{data(t={}){return super.data(t)}}class rb{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new ji(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new no(this._firestore,this._userDataWriter,r.key,r,new ji(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new no(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ji(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new no(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ji(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:sb(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}class ib extends tb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,n)}}function Es(e){e=fr(e,ba);const t=fr(e.firestore,Ai),n=kg(t),r=new ib(t);return Z1(e._query),U1(n,e._query).then(s=>new rb(t,r,e,s))}function zi(e,t,n,...r){e=fr(e,Ie);const s=fr(e.firestore,Ai),i=Og(s);let o;return o=typeof(t=me(t))=="string"||t instanceof Ra?X1(i,"updateDoc",e._key,t,n,r):Q1(i,"updateDoc",e._key,t),Bc(s,[o.toMutation(e._key,xe.exists(!0))])}function ob(e){return Bc(fr(e.firestore,Ai),[new ac(e._key,xe.none())])}function qi(e,t){const n=fr(e.firestore,Ai),r=Br(e),s=eb(e.converter,t);return Bc(n,[W1(Og(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,xe.exists(!1))]).then(()=>r)}function Bc(e,t){return function(r,s){const i=new Bn;return r.asyncQueue.enqueueAndForget(async()=>T1(await M1(r),s,i)),i.promise}(kg(e),t)}(function(t,n=!0){(function(s){ns=s})(Qo),ur(new or("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ai(new iT(r.getProvider("auth-internal")),new lT(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zs(l.options.projectId,c)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ke(ad,"4.1.0",t),ke(ad,"4.1.0","esm2017")})();const jg={apiKey:"AIzaSyB1588kKBUXF5top9UxNCQdnC6h5xSCdZg",authDomain:"mythree-org.firebaseapp.com",projectId:"mythree-org",storageBucket:"mythree-org.appspot.com",messagingSenderId:"946128923664",appId:"1:946128923664:web:69418c6e093cb16e72ee95",measurementId:"G-9SZFX4XJTW"},ab=Xo(jg),zg=Sl(ab),ub=Dp.initializeApp(jg),ce=q1(ub),is=e=>new URLSearchParams(new URL(e).search).get("token")??"",os=async e=>await OA(Zo(zg,e)),qg=async e=>{const t=await FA(Zo(zg,e));return Object.values(t.items).filter(r=>r.name).map(r=>r.name)},Hg=e=>t=>t.reduce((n,r)=>{const s=r[e];return n[s]=(n[s]||[]).concat(r),n},{}),lb=async(e,t)=>{const n=Sl(),r=Zo(n,e+"/"+t.name);return await NA(r,t).then(s=>(console.log("Uploaded!"),!0)).catch(s=>(console.log("Error",s),!1))},cb=async(e,t)=>{const n=Sl(),r=Zo(n,e+"/"+t.name);return await VA(r)},as=(e,t,n)=>{let r=encodeURIComponent(t);return"https://firebasestorage.googleapis.com/v0/b/mythree-org.appspot.com/o/"+encodeURIComponent(e)+r+"?alt=media&token="+n},ri=async function(e){const t=tn(ce,e);return(await Es(t)).docs.map(s=>{const i=s.data();return{id:s.id,data:i}})},hb=e=>e.sort((t,n)=>{if(t.publishedDate===void 0&&n.publishedDate===void 0)return 0;if(t.publishedDate===void 0)return-1;if(n.publishedDate===void 0)return 1;{const r=new Date(t.publishedDate).getTime(),s=new Date(n.publishedDate).getTime();return r-s}}),db=e=>e.sort((t,n)=>{if(t.publishedDate===void 0&&n.publishedDate===void 0)return 0;if(t.publishedDate===void 0)return-1;if(n.publishedDate===void 0)return 1;{const r=new Date(t.publishedDate).getTime();return new Date(n.publishedDate).getTime()-r}}),fb={data(){return{publicPath:"/",latestNews:[],TOKEN:"",newsFolder:"news"}},async created(){await os("logo.png").then(e=>{this.TOKEN=is(e)}),await qg(this.newsFolder).then(e=>{e.sort((t,n)=>n.toLowerCase().localeCompare(t.toLowerCase())).forEach(t=>{let n=as(this.newsFolder+"/",t,this.TOKEN);this.latestNews.push(n)})})}},pb="/assets/mythree-logo-639f4d3a.png",mb="/assets/mitrarashmi-6de5502f.png",gb="/assets/events-e9f6b171.jpg",Cb="/assets/books-050e9519.jpeg";const ee=e=>(vf("data-v-1ae09473"),e=e(),Ef(),e),_b=ee(()=>f("header",{class:"w3-container w3-teal w3-center gradient",style:{padding:"64px 16px"}},[f("h1",{class:"w3-margin w3-jumbo"},"ಮೈತ್ರೀ ಸಂಸ್ಕೃತ-ಸಂಸ್ಕೃತಿ ಪ್ರತಿಷ್ಠಾನಮ್")],-1)),yb={class:"w3-row"},vb={class:"w3-col l8 s12"},Eb=On('<div class="w3-card-4 w3-margin w3-white" data-v-1ae09473><div class="w3-center" data-v-1ae09473><img src="'+pb+'" alt="Logo" class="w3-image" style="max-height:150px;padding:10px;" data-v-1ae09473></div><div class="w3-container" data-v-1ae09473><h3 class="w3-center" data-v-1ae09473><b data-v-1ae09473>Mythree Samskritha Samskrithi Prathisthanam</b></h3><h5 class="w3-center" data-v-1ae09473>Mythree is a not-for-profit organisation making an earnest attempt to revamp and re-join the soul of Indian Culture, Indian Heritage and National Pride</h5></div></div><hr data-v-1ae09473>',2),Ab={class:"w3-card-4 w3-margin w3-white"},wb={class:"w3-image-container",style:{height:"300px",display:"flex","align-items":"center","justify-content":"center"}},Tb=ee(()=>f("img",{src:mb,alt:"mitrarashmi-title",style:{"max-width":"100%","max-height":"300px",padding:"5px"}},null,-1)),Ib={class:"w3-container"},bb=ee(()=>f("h3",null,[f("b",null,"ಮಿತ್ರರಶ್ಮಿ ಮಾಸಪತ್ರಿಕೆ")],-1)),Rb=ee(()=>f("h4",null,"ಡಾ| ಗಣಪತಿ ಹೆಗಡೆ, ಪ್ರಧಾನ ಸಂಪಾದಕರು",-1)),Bb={class:"w3-padding-8"},Db={class:"w3-card-4 w3-margin w3-white"},Pb={class:"w3-image-container",style:{height:"300px",display:"flex","align-items":"center","justify-content":"center"}},Sb=ee(()=>f("img",{src:gb,alt:"events-title",style:{"max-width":"100%","max-height":"300px",padding:"5px"}},null,-1)),kb={class:"w3-container"},xb=ee(()=>f("h3",null,[f("b",null,"ಕಾರ್ಯಕ್ರಮಗಳು")],-1)),Nb={class:"w3-padding-8"},Fb={class:"w3-card-4 w3-margin w3-white"},Ob={class:"w3-image-container",style:{height:"300px",display:"flex","align-items":"center","justify-content":"center"}},Vb=ee(()=>f("img",{src:Cb,alt:"books-title",style:{"max-width":"100%","max-height":"300px",padding:"5px"}},null,-1)),Mb={class:"w3-container"},Lb=ee(()=>f("h3",null,[f("b",null,"ಪ್ರಕಟಣೆಗಳು")],-1)),Ub=ee(()=>f("h4",null,"ಯಾವುದೇ ವಯೋಮಾನದವರಿಗೂ ಸುಲಭವಾಗಿ ಸಂಸ್ಕೃತ ಕಲಿಯಲು ಮೈತ್ರೀ ಸಂಸ್ಕೃತ ಸಂಸ್ಕೃತಿ ಪ್ರತಿಷ್ಠಾನವು ಈ ಪುಸ್ತಕಗಳನ್ನು ಪ್ರಕಟಿಸಿದೆ",-1)),$b={class:"w3-padding-8"},jb=ee(()=>f("div",{class:"w3-card-4 w3-margin w3-white"},[f("div",{class:"iframe-container"},[f("iframe",{src:"https://calendar.google.com/calendar/embed?height=600&wkst=1&bgcolor=%23ffffff&ctz=Asia%2FKolkata&showNav=1&showPrint=0&showTabs=0&showTz=1&showCalendars=1&title=Mythree%20Pratishtanam%20Programs&src=bXl0aHJlZXByYXRpc2h0YW5hQGdtYWlsLmNvbQ&color=%23039BE5",style:{padding:"20px"},width:"800",height:"600",frameborder:"0",scrolling:"no"})]),f("h4",{class:"w3-center w3-margin-8"},'ನಿಮ್ಮ ಕ್ಯಾಲೆಂಡರ್ ಗೆ ಸೇರಿಸಲು ಮತ್ತು ಮುಂಬರುವ ಕಾರ್ಯಕ್ರಮಗಳ ಬಗ್ಗೆ ಸೂಚನೆ ಪಡೆಯಲು "+ Google Calendar" ಬಟನ್ ಕ್ಲಿಕ್ ಮಾಡಿ')],-1)),zb={class:"w3-col l4"},qb={class:"w3-card w3-margin w3-margin-top"},Hb={class:"w3-container w3-white"},Kb=ee(()=>f("h4",{class:"w3-center"},[f("b",null,"ಇತ್ತೀಚಿನ ಸುದ್ದಿಗಳು")],-1)),Gb={class:"w3-image-container",style:{height:"500px",display:"flex","justify-content":"center"}},Wb=["href"],Qb=["src"],Xb=ee(()=>f("hr",null,null,-1)),Yb=ee(()=>f("div",{class:"w3-card w3-margin w3-margin-top"},[f("div",{class:"iframe-container"},[f("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSfezDnMaAdIODS0CyL4wWeBBAW2wW879Z-Cpz2vw4iueDeR0Q/viewform?embedded=true",width:"750",height:"1685",frameborder:"0",marginheight:"0",marginwidth:"0"},"Loading…")])],-1)),Jb=ee(()=>f("hr",null,null,-1)),Zb=ee(()=>f("br",null,null,-1)),tR=ee(()=>f("div",{class:"w3-container w3-center w3-padding-16",style:{"background-color":"#fef102"}},[f("h1",{class:"w3-margin",style:{color:"#8a5241"}},"ತ್ವಂ ಜ್ಞಾನಮಯೋ ವಿಜ್ಞಾನಮಯೋಸಿ")],-1));function eR(e,t,n,r,s,i){const o=Bf("router-link");return q(),G(ct,null,[_b,f("div",yb,[f("div",vb,[Eb,f("div",Ab,[f("div",wb,[Tb,f("div",Ib,[bb,Rb,f("h5",Bb,[Ue(" ಪ್ರಕಟಣೆಗಳನ್ನು ಓದಲು, "),St(o,{to:{name:"mitrarashmi"},class:""},{default:er(()=>[Ue("ಇಲ್ಲಿ ಕ್ಲಿಕ್ ಮಾಡಿ")]),_:1})])])])]),f("div",Db,[f("div",Pb,[Sb,f("div",kb,[xb,f("h5",Nb,[Ue(" ನಮ್ಮ ಕಾರ್ಯಕ್ರಮಗಳಲ್ಲಿ ನಮ್ಮೊಂದಿಗೆ ಸೇರಿಕೊಳ್ಳಿ, "),St(o,{to:{name:"events"},class:""},{default:er(()=>[Ue("ಇಲ್ಲಿ ಕ್ಲಿಕ್ ಮಾಡಿ")]),_:1})])])])]),f("div",Fb,[f("div",Ob,[Vb,f("div",Mb,[Lb,Ub,f("h5",$b,[Ue(" ಪುಸ್ತಕಗಳ ಪಟ್ಟಿಯನ್ನು ನೋಡಲು, "),St(o,{to:{name:"books"},class:""},{default:er(()=>[Ue("ಇಲ್ಲಿ ಕ್ಲಿಕ್ ಮಾಡಿ")]),_:1})])])])]),jb]),f("div",zb,[f("div",qb,[f("div",Hb,[Kb,f("div",Gb,[(q(!0),G(ct,null,de(s.latestNews,a=>(q(),G("a",{href:`${a}`,target:"_blank"},[f("img",{class:"mySlides",alt:"slidingImages",src:`${a}`,style:{width:"100%","max-width":"100%","max-height":"100%"}},null,8,Qb)],8,Wb))),256))])])]),Xb,Yb,Jb])]),Zb,tR],64)}const nR=Ye(fb,[["render",eR],["__scopeId","data-v-1ae09473"]]),nn="events",rn="books",Wn="groups",sn="mitrarashmi",rR={data(){return{events:[],magazines:[],books:[],groups:[],file:{},documentId:"",eventName:"",eventdescription:"",eventdetails:"",eventjoiningLink:"",eventGroupId:"",eventOrderId:"",eventimageName:"",mitrarashmiTitle:"",mitrarashmiLink:"",mitrarashmiImage:"",mitrarashmiDate:new Date,bookName:"",bookImage:"",bookDescription:"",bookAuthor:"",bookGroupId:"",groupId:"",groupTitle:"",groupOrderId:"",bookPublishDate:new Date,TOKEN:"",EventsBucket:nn,GroupsBucket:Wn,MitraRashmiBucket:sn,BooksBucket:rn,createMode:!0,buttonText:"Create",fileInputKey:0}},async created(){await os("logo.png").then(e=>{this.TOKEN=is(e)})},computed:{buttonText(){return this.createMode?"Create":"Edit"}},methods:{clearImage(){this.fileInputKey++},readEvents:async function(){const e=tn(ce,nn);let n=(await Es(e)).docs.map(r=>{const s=r.data();return{id:r.id,name:s.name,description:s.description,details:s.details,imageName:s.imageName,joiningLink:s.joiningLink,groupId:s.groupId,orderId:s.orderId,groupTitle:this.getGroupName(s.groupId)}});this.events=n.sort((r,s)=>(r.groupTitle||"").localeCompare(s.groupTitle||""))},readMagazines:async function(){const e=tn(ce,sn);let n=(await Es(e)).docs.map(r=>{const s=r.data();return{id:r.id,title:s.title,imageName:s.imageName,linkToMagazine:s.linkToMagazine,publishedDate:s.publishedDate}});this.magazines=hb(n)},readBooks:async function(){const e=tn(ce,rn),t=await Es(e);this.books=t.docs.map(n=>{const r=n.data();return{id:n.id,name:r.name,imageName:r.imageName,description:r.description,author:r.author,groupId:"2",publishedDate:r.publishedDate}})},readGroups:async function(){const e=tn(ce,Wn),t=await Es(e);this.groups=t.docs.map(n=>{const r=n.data();return{id:n.id,title:r.title,orderId:r.orderId}})},clearEvent:function(){this.createMode=!0,this.eventName="",this.eventdescription="",this.eventdetails="",this.eventimageName="",this.eventjoiningLink="",this.eventGroupId="",this.eventOrderId="",this.documentId="",this.clearImage()},createEvent:async function(e){qi(tn(ce,nn),{details:e.details,description:e.description,imageName:e.imageName,joiningLink:e.joiningLink,name:e.name,groupId:e.groupId,orderId:e.orderId}).then(t=>{console.log("Document added with id",t.id),this.readEvents(),this.clearEvent()}).catch(t=>{console.error("Error adding document",t)})},clearMagazine(){this.createMode=!0,this.mitrarashmiTitle="",this.mitrarashmiImage="",this.mitrarashmiLink="",this.mitrarashmiDate=new Date,this.clearImage(),this.documentId=""},createMagazine:async function(e){qi(tn(ce,sn),{imageName:e.imageName,linkToMagazine:e.linkToMagazine,title:e.title,publishedDate:e.publishedDate}).then(t=>{console.log("Document added with id",t.id),this.readMagazines(),this.clearMagazine()}).catch(t=>{console.error("Error adding document",t)})},clearBook:function(){this.createMode=!0,this.bookName="",this.bookAuthor="",this.bookDescription="",this.bookImage="",this.bookGroupId="",this.bookPublishDate=new Date,this.clearImage(),this.documentId=""},clearGroup:function(){this.createMode=!0,this.groupId="",this.groupTitle="",this.groupOrderId="",this.documentId=""},createBook:async function(e){qi(tn(ce,rn),{imageName:e.imageName,description:e.description,name:e.name,author:e.author,groupId:e.groupId,publishedDate:e.publishedDate}).then(t=>{console.log("Document added with id",t.id),this.readBooks(),this.clearBook()}).catch(t=>{console.error("Error adding document",t)})},createGroup:async function(e){qi(tn(ce,Wn),{title:e.title,orderId:e.orderId}).then(t=>{console.log("Document added with id",t.id),this.readGroups(),this.clearGroup()}).catch(t=>{console.error("Error adding document",t)})},deleteDocument:async function(e,t,n){cb(e,t),ob(Br(ce,e,n)).then(()=>{switch(console.log("Document deleted"),e){case nn:this.readEvents();break;case sn:this.readMagazines();break;case rn:this.readBooks();break;case Wn:this.readGroups();break}}).catch(r=>{console.error("Error deleting document",r),alert("Error deleting Event")})},updateEvents:async function(e){this.uploadImage(nn);const t=Br(ce,nn,e);zi(t,{description:this.eventdescription,details:this.eventdetails,imageName:this.eventimageName,joiningLink:this.eventjoiningLink,name:this.eventName,groupId:this.eventGroupId,orderId:this.eventOrderId}).then(()=>{console.log("Document updated"),this.createMode=!1,this.readEvents(),this.clearEvent()}).catch(n=>{})},updateBooks:async function(e){this.uploadImage(rn);const t=Br(ce,rn,e);zi(t,{author:this.bookAuthor,description:this.bookDescription,groupId:this.bookGroupId,imageName:this.bookImage,name:this.bookName,publishedDate:this.bookPublishDate}).then(()=>{console.log("Document updated"),this.createMode=!1,this.readBooks(),this.clearBook()}).catch(n=>{})},updateMagazine:async function(e){this.uploadImage(sn);const t=Br(ce,sn,e);zi(t,{title:this.mitrarashmiTitle,linkToMagazine:this.mitrarashmiLink,imageName:this.mitrarashmiImage,publishedDate:this.mitrarashmiDate}).then(()=>{console.log("Document updated"),this.createMode=!1,this.readMagazines(),this.clearMagazine()}).catch(n=>{})},updateGroups:async function(e){const t=Br(ce,Wn,e);zi(t,{title:this.groupTitle,orderId:this.groupOrderId}).then(()=>{console.log("Document updated"),this.createMode=!1,this.readGroups(),this.clearGroup()}).catch(n=>{})},displayEventInForm:function(e){let t=this.events.find(n=>n.id==e);t!==void 0&&(this.eventdescription=t.description,this.eventdetails=t.details,this.eventimageName=t.imageName,this.eventjoiningLink=t.joiningLink,this.eventName=t.name,this.eventGroupId=t.groupId,this.eventOrderId=t.orderId,this.documentId=e,this.createMode=!1)},displayBookInForm:function(e){let t=this.books.find(n=>n.id==e);t!==void 0&&(this.bookAuthor=t.author,this.bookDescription=t.description,this.bookImage=t.imageName,this.bookName=t.name,this.bookGroupId=t.groupId,this.bookPublishDate=t.publishedDate,this.documentId=e,this.createMode=!1)},displayMagazineInForm:function(e){let t=this.magazines.find(n=>n.id==e);t!==void 0&&(this.mitrarashmiImage=t.imageName,this.mitrarashmiLink=t.linkToMagazine,this.mitrarashmiTitle=t.title,this.mitrarashmiDate=t.publishedDate,this.documentId=e,this.createMode=!1)},displayGroupInForm:function(e){let t=this.groups.find(n=>n.id==e);t!==void 0&&(this.groupId=t.id,this.groupTitle=t.title,this.documentId=e,this.createMode=!1)},previewEventImage:function(e){this.file=e.target.files[0],this.eventimageName=e.target.files[0].name},previewMagazineImage:function(e){this.file=e.target.files[0],this.mitrarashmiImage=e.target.files[0].name},previewBookImage:function(e){this.file=e.target.files[0],this.bookImage=e.target.files[0].name},uploadImage:async function(e){return this.file.name!=null?await lb(e,this.file):!1},uploadEventDetails:async function(){this.uploadImage(nn),this.createEvent({description:this.eventdescription,details:this.eventdetails,id:"-1",imageName:this.eventimageName,joiningLink:this.eventjoiningLink,name:this.eventName,groupId:this.eventGroupId,orderId:this.eventOrderId})},uploadMagazineDetails:async function(){this.uploadImage(sn),this.createMagazine({id:"-1",imageName:this.mitrarashmiImage,linkToMagazine:this.mitrarashmiLink,title:this.mitrarashmiTitle,publishedDate:this.mitrarashmiDate})},uploadBookDetails:async function(){await this.uploadImage(rn)&&this.createBook({id:"-1",imageName:this.bookImage,name:this.bookName,description:this.bookDescription,author:this.bookAuthor,groupId:"2",publishedDate:this.bookPublishDate})},uploadGroupDetails:async function(){this.createGroup({id:"-1",title:this.groupTitle,orderId:this.groupOrderId})},getImageUrl(e,t){return as(e,t,this.TOKEN)},getGroupName(e){var t;return(t=this.groups.find(n=>n.id==e))==null?void 0:t.title}},mounted(){this.readGroups(),this.readEvents(),this.readMagazines(),this.readBooks()}};const st=e=>(vf("data-v-f2fd285e"),e=e(),Ef(),e),sR=st(()=>f("header",{class:"w3-container w3-teal w3-center",style:{padding:"64px 16px"}},[f("h3",{class:"w3-margin w3-jumbo"},"Admin")],-1)),iR=st(()=>f("div",{class:"w3-bar w3-gray w3-margin"},[f("button",{class:"w3-bar-item w3-button tablink w3-teal",onclick:"openCity(event,'events')"},"ಕಾರ್ಯಕ್ರಮಗಳು"),f("button",{class:"w3-bar-item w3-button tablink",onclick:"openCity(event,'mitrarashmi')"},"ಮಿತ್ರರಶ್ಮಿ"),f("button",{class:"w3-bar-item w3-button tablink",onclick:"openCity(event,'books')"},"ಪ್ರಕಟಣೆಗಳು"),f("button",{class:"w3-bar-item w3-button tablink",onclick:"openCity(event,'groups')"},"Groups")],-1)),oR={id:"events",class:"w3-row-padding w3-padding-32 w3-container w3-border city",style:{"padding-bottom":"0px!important"}},aR=st(()=>f("p",{class:"w3-center w3-xlarge"},"ಕಾರ್ಯಕ್ರಮಗಳು",-1)),uR={class:"w3-table"},lR=st(()=>f("tr",null,[f("th",null,"Event Name"),f("th",null,"Description"),f("th",null,"Image"),f("th",null,"Joining Link"),f("td",null,"Group"),f("td",null,"Order Id"),f("th",null,"Edit"),f("th",null,"Delete")],-1)),cR=["href"],hR=["href"],dR=["onClick"],fR=["onClick"],pR={class:"formStyle"},mR={class:"formdesign"},gR=st(()=>f("h1",null,"ಕಾರ್ಯಕ್ರಮಗಳ FORM",-1)),CR={class:"inputStyle"},_R=st(()=>f("label",null,"Name",-1)),yR={class:"inputStyle"},vR=st(()=>f("label",null,"Description",-1)),ER={class:"inputStyle"},AR=st(()=>f("label",null,"Link",-1)),wR={class:"inputStyle"},TR=st(()=>f("label",null,"Group",-1)),IR=["value"],bR={class:"inputStyle"},RR=st(()=>f("label",null,"Order id",-1)),BR={key:0,class:"inputStyle"},DR=st(()=>f("label",null,"Current selected image",-1)),PR={class:"inputStyle"},SR=st(()=>f("label",null,"Image to Upload",-1)),kR=["textContent"],xR={id:"mitrarashmi",class:"w3-row-padding w3-padding-32 w3-container w3-border city",style:{"padding-bottom":"0px!important",display:"none"}},NR=st(()=>f("p",{class:"w3-center w3-xlarge"},"ಮಿತ್ರರಶ್ಮಿ",-1)),FR={class:"w3-table"},OR=st(()=>f("tr",null,[f("th",null,"title"),f("th",null,"Image"),f("th",null,"Link"),f("th",null,"Publish date"),f("th",null,"Edit"),f("th",null,"Delete")],-1)),VR=["href"],MR=["href"],LR=["onClick"],UR=["onClick"],$R={class:"formStyle"},jR={class:"formdesign"},zR=st(()=>f("h1",null,"ಮಿತ್ರರಶ್ಮಿ FORM",-1)),qR={class:"inputStyle"},HR=st(()=>f("label",null,"Title",-1)),KR={class:"inputStyle"},GR=st(()=>f("label",null,"Link",-1)),WR={key:0,class:"inputStyle"},QR=st(()=>f("label",null,"Current selected image",-1)),XR={class:"inputStyle"},YR=st(()=>f("label",null,"Publishing date",-1)),JR={class:"inputStyle"},ZR=st(()=>f("label",null,"Image to Upload",-1)),tB=["textContent"],eB={id:"books",class:"w3-row-padding w3-padding-32 w3-container w3-border city",style:{"padding-bottom":"0px!important",display:"none"}},nB=st(()=>f("p",{class:"w3-center w3-xlarge"},"ಪ್ರಕಟಣೆಗಳು",-1)),rB={class:"w3-table"},sB=st(()=>f("tr",null,[f("th",null,"title"),f("th",null,"Image"),f("th",null,"description"),f("th",null,"Author"),f("th",null,"Publish date"),f("th",null,"Delete")],-1)),iB=["href"],oB=["onClick"],aB=["onClick"],uB={class:"formStyle"},lB={class:"formdesign"},cB=st(()=>f("h1",null,"ಪ್ರಕಟಣೆಗಳ FORM",-1)),hB={class:"inputStyle"},dB=st(()=>f("label",null,"Title",-1)),fB={class:"inputStyle"},pB=st(()=>f("label",null,"Description",-1)),mB={class:"inputStyle"},gB=st(()=>f("label",null,"author",-1)),CB={key:0,class:"inputStyle"},_B=st(()=>f("label",null,"Current selected image",-1)),yB={class:"inputStyle"},vB=st(()=>f("label",null,"Image to Upload",-1)),EB={class:"inputStyle"},AB=st(()=>f("label",null,"Publishing date",-1)),wB=["textContent"],TB={id:"groups",class:"w3-row-padding w3-padding-32 w3-container w3-border city",style:{"padding-bottom":"0px!important"}},IB=st(()=>f("p",{class:"w3-center w3-xlarge"},"Groups",-1)),bB={class:"w3-table"},RB=st(()=>f("tr",null,[f("th",null,"Group Name"),f("th",null,"Order Id"),f("th",null,"Edit"),f("th",null,"Delete")],-1)),BB=["onClick"],DB=["onClick"],PB={class:"formStyle"},SB={class:"formdesign"},kB=st(()=>f("h1",null,"Group FORM",-1)),xB={class:"inputStyle"},NB=st(()=>f("label",null,"Name",-1)),FB={class:"inputStyle"},OB=st(()=>f("label",null,"Order Id",-1)),VB=["textContent"];function MB(e,t,n,r,s,i){return q(),G(ct,null,[sR,iR,f("div",oR,[aR,f("table",uR,[lR,(q(!0),G(ct,null,de(s.events,o=>(q(),G("tr",null,[f("td",null,et(o.name),1),f("td",null,et(o.description),1),f("td",null,[f("a",{href:i.getImageUrl(s.EventsBucket,o.imageName),target:"_blank"},et(o.imageName),9,cR)]),f("td",null,[f("a",{href:o.joiningLink,target:"_blank"},"Link",8,hR)]),f("td",null,et(i.getGroupName(o.groupId)),1),f("td",null,et(o.orderId),1),f("td",null,[f("button",{onClick:a=>i.displayEventInForm(o.id)},"Edit",8,dR)]),f("td",null,[f("button",{onClick:a=>i.deleteDocument(s.EventsBucket,o.imageName,o.id)},"Delete",8,fR)])]))),256))]),f("div",pR,[f("div",mR,[gR,f("div",CR,[_R,le(f("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>s.eventName=o),class:"form-control",placeholder:"Event Title"},null,512),[[_e,s.eventName]])]),f("div",yR,[vR,le(f("textarea",{rows:"10",cols:"50","onUpdate:modelValue":t[1]||(t[1]=o=>s.eventdescription=o),class:"form-control",placeholder:"Event description"},null,512),[[_e,s.eventdescription]])]),f("div",ER,[AR,le(f("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>s.eventjoiningLink=o),class:"form-control",placeholder:"Event link"},null,512),[[_e,s.eventjoiningLink]])]),f("div",wR,[TR,le(f("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.eventGroupId=o),class:"form-control",placeholder:"Select a group"},[(q(!0),G(ct,null,de(s.groups,o=>(q(),G("option",{value:`${o.id}`},et(o.title),9,IR))),256))],512),[[v_,s.eventGroupId]])]),f("div",bR,[RR,le(f("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>s.eventOrderId=o),class:"form-control",placeholder:"Order id within group"},null,512),[[_e,s.eventOrderId]])]),!s.createMode&&s.eventimageName!==""?(q(),G("div",BR,[DR,f("label",null,et(s.eventimageName),1)])):vn("",!0),f("div",PR,[SR,(q(),G("input",{type:"file",key:s.fileInputKey,onChange:t[5]||(t[5]=(...o)=>i.previewEventImage&&i.previewEventImage(...o)),accept:"image/*"},null,32))]),f("div",null,[f("button",{textContent:et(i.buttonText),class:"w3-margin w3-padding-small",onClick:t[6]||(t[6]=o=>s.createMode?i.uploadEventDetails():i.updateEvents(s.documentId))},null,8,kR),s.createMode?vn("",!0):(q(),G("button",{key:0,class:"w3-margin w3-padding-small",onClick:t[7]||(t[7]=o=>i.clearEvent())},"Cancel"))])])])]),f("div",xR,[NR,f("table",FR,[OR,(q(!0),G(ct,null,de(s.magazines,o=>(q(),G("tr",null,[f("td",null,et(o.title),1),f("td",null,[f("a",{href:i.getImageUrl(s.MitraRashmiBucket,o.imageName),target:"_blank"},et(o.imageName),9,VR)]),f("td",null,[f("a",{href:o.linkToMagazine,target:"_blank"},"Link",8,MR)]),f("td",null,et(o.publishedDate),1),f("td",null,[f("button",{onClick:a=>i.displayMagazineInForm(o.id)},"Edit",8,LR)]),f("td",null,[f("button",{onClick:a=>i.deleteDocument(s.MitraRashmiBucket,o.imageName,o.id)},"Delete",8,UR)])]))),256))]),f("div",$R,[f("div",jR,[zR,f("div",qR,[HR,le(f("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=o=>s.mitrarashmiTitle=o),class:"form-control",placeholder:"Magazine title"},null,512),[[_e,s.mitrarashmiTitle]])]),f("div",KR,[GR,le(f("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=o=>s.mitrarashmiLink=o),class:"form-control",placeholder:"Link to magazine"},null,512),[[_e,s.mitrarashmiLink]])]),!s.createMode&&s.mitrarashmiImage!==""?(q(),G("div",WR,[QR,f("label",null,et(s.mitrarashmiImage),1)])):vn("",!0),f("div",XR,[YR,le(f("input",{type:"date","onUpdate:modelValue":t[10]||(t[10]=o=>s.mitrarashmiDate=o)},null,512),[[_e,s.mitrarashmiDate]])]),f("div",JR,[ZR,(q(),G("input",{type:"file",key:s.fileInputKey,onChange:t[11]||(t[11]=(...o)=>i.previewMagazineImage&&i.previewMagazineImage(...o)),accept:"image/*"},null,32))]),f("div",null,[f("button",{textContent:et(i.buttonText),class:"w3-margin w3-padding-small",onClick:t[12]||(t[12]=o=>s.createMode?i.uploadMagazineDetails():i.updateMagazine(s.documentId))},null,8,tB),s.createMode?vn("",!0):(q(),G("button",{key:0,class:"w3-margin w3-padding-small",onClick:t[13]||(t[13]=o=>i.clearMagazine())},"Cancel"))])])])]),f("div",eB,[nB,f("table",rB,[sB,(q(!0),G(ct,null,de(s.books,o=>(q(),G("tr",null,[f("td",null,et(o.name),1),f("td",null,[f("a",{href:i.getImageUrl(s.BooksBucket,o.imageName),target:"_blank"},et(o.imageName),9,iB)]),f("td",null,et(o.description),1),f("td",null,et(o.author),1),f("td",null,et(o.publishedDate),1),f("td",null,[f("button",{onClick:a=>i.displayBookInForm(o.id)},"Edit",8,oB)]),f("td",null,[f("button",{onClick:a=>i.deleteDocument(s.BooksBucket,o.imageName,o.id)},"Delete",8,aB)])]))),256))]),f("div",uB,[f("div",lB,[cB,f("div",hB,[dB,le(f("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=o=>s.bookName=o),class:"form-control",placeholder:"book title"},null,512),[[_e,s.bookName]])]),f("div",fB,[pB,le(f("textarea",{rows:"10",cols:"50","onUpdate:modelValue":t[15]||(t[15]=o=>s.bookDescription=o),class:"form-control",placeholder:"Description"},null,512),[[_e,s.bookDescription]])]),f("div",mB,[gB,le(f("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=o=>s.bookAuthor=o),class:"form-control",placeholder:"author"},null,512),[[_e,s.bookAuthor]])]),!s.createMode&&s.bookImage!==""?(q(),G("div",CB,[_B,f("label",null,et(s.bookImage),1)])):vn("",!0),f("div",yB,[vB,(q(),G("input",{type:"file",onChange:t[17]||(t[17]=(...o)=>i.previewBookImage&&i.previewBookImage(...o)),key:s.fileInputKey,accept:"image/*"},null,32))]),f("div",EB,[AB,le(f("input",{type:"date","onUpdate:modelValue":t[18]||(t[18]=o=>s.bookPublishDate=o)},null,512),[[_e,s.bookPublishDate]])]),f("div",null,[f("button",{textContent:et(i.buttonText),class:"w3-margin w3-padding-small",onClick:t[19]||(t[19]=o=>s.createMode?i.uploadBookDetails():i.updateBooks(s.documentId))},null,8,wB),s.createMode?vn("",!0):(q(),G("button",{key:0,class:"w3-margin w3-padding-small",onClick:t[20]||(t[20]=o=>i.clearBook())},"Cancel"))])])])]),f("div",TB,[IB,f("table",bB,[RB,(q(!0),G(ct,null,de(s.groups,o=>(q(),G("tr",null,[f("td",null,et(o.title),1),f("td",null,et(o.orderId),1),f("td",null,[f("button",{onClick:a=>i.displayGroupInForm(o.id)},"Edit",8,BB)]),f("td",null,[f("button",{onClick:a=>i.deleteDocument(s.GroupsBucket,"",o.id)},"Delete",8,DB)])]))),256))]),f("div",PB,[f("div",SB,[kB,f("div",xB,[NB,le(f("textarea",{rows:"10",cols:"50",type:"text","onUpdate:modelValue":t[21]||(t[21]=o=>s.groupTitle=o),class:"form-control",placeholder:"Group Title"},null,512),[[_e,s.groupTitle]])]),f("div",FB,[OB,le(f("input",{type:"text","onUpdate:modelValue":t[22]||(t[22]=o=>s.groupOrderId=o),class:"form-control",placeholder:"order id"},null,512),[[_e,s.groupOrderId]])]),f("div",null,[f("button",{textContent:et(i.buttonText),class:"w3-margin w3-padding-small",onClick:t[23]||(t[23]=o=>s.createMode?i.uploadGroupDetails():i.updateGroups(s.documentId))},null,8,VB),s.createMode?vn("",!0):(q(),G("button",{key:0,class:"w3-margin w3-padding-small",onClick:t[24]||(t[24]=o=>i.clearGroup())},"Cancel"))])])])])],64)}const LB=Ye(rR,[["render",MB],["__scopeId","data-v-f2fd285e"]]),UB={data(){return{TOKEN:"",publicPath:"/",groups:[],books:[],imageUrl:"",images:[],array:[],groupedBooks:{}}},async created(){await os("logo.png").then(e=>{this.TOKEN=is(e)}),await ri(Wn).then(e=>{e.map(t=>{this.groups.push({id:t.data.groupId,title:t.data.title,orderId:t.data.orderId})})}),await ri(rn).then(e=>{e.map(t=>{this.books.push({description:t.data.description,id:t.id,imageName:as(rn+"/",t.data.imageName,this.TOKEN),name:t.data.name,author:t.data.author,groupId:t.data.groupId,publishedDate:t.data.publishedDate})})}).then(()=>{this.groupedBooks=Hg("groupId")(this.books)})},methods:{getGroupName(e){var t;return(t=this.groups.find(n=>n.id==e))==null?void 0:t.title}}},$B="/assets/sun-book-logo-fc3aed4a.png",Kg="/assets/ebook-icon-88ad484b.png";const jB=On('<header class="w3-container w3-teal gradient w3-center header-padding"><div class="w3-container header"><img src="'+$B+'" alt="Logo Left"><h3 class="w3-margin w3-jumbo">ನಮ್ಮ ಪ್ರಕಟಣೆಗಳು</h3><img class="right" src="'+Kg+'" alt="Logo Right"></div><p class="w3-xlarge">ಯಾವುದೇ ವಯೋಮಾನದವರಿಗೂ ಸುಲಭವಾಗಿ ಸಂಸ್ಕೃತ ಕಲಿಯಲು ಮೈತ್ರೀ ಸಂಸ್ಕೃತ ಸಂಸ್ಕೃತಿ ಪ್ರತಿಷ್ಠಾನವು ಈ ಪುಸ್ತಕಗಳನ್ನು ಪ್ರಕಟಿಸಿದೆ</p></header>',1),zB={class:"w3-row-padding w3-padding-32 w3-container"},qB={class:"w3-container w3-margin-bottom"},HB={class:"w3-center"},KB={class:"w3-third w3-container w3-margin-bottom",style:{"box-shadow":"0 4px 8px rgba(0, 0, 0, 0.1)"}},GB={class:"w3-image-container",style:{height:"300px",display:"flex","align-items":"center","justify-content":"center"}},WB=["src","alt"],QB={class:"w3-container w3-white w3-center"},XB=On('<div class="w3-container w3-center w3-padding-16" style="background-color:#fef102;"><h1 class="w3-margin" style="color:#8a5241;">ಈ ಪುಸ್ತಕಗಳು ನಿಮಗೆ ಬೇಕಾದಲ್ಲಿ, <a href="https://forms.gle/cXQCc6hWP7sQH6KC8" target="_blank">ಇಲ್ಲಿ ಕ್ಲಿಕ್ ಮಾಡಿ</a></h1></div><div class="w3-row-padding w3-padding-8 w3-container w3-margin-bottom"><h2 class="w3-text-black w3-center">ಸ್ವಯಂ ಅಧ್ಯಯನಕ್ಕೆ ಕೆಲವು ಸೂಚನೆಗಳು</h2><li class="w3-center">ನಿತ್ಯಪ್ರಾರ್ಥನೆಯನ್ನು ದಿನವೂ ಮಾಡಿಕೊಳ್ಳಿ</li><li class="w3-center">ದಿನಕ್ಕೊಂದೇ ಪಾಠ ಕಲಿಯಿರಿ</li><li class="w3-center">ಪಾಠವನ್ನು ಕನಿಷ್ಠ 5 ಸಲ ಜೋರಾಗಿ ಓದಿಕೊಳ್ಳಿ</li><li class="w3-center">ಒಮ್ಮೆ ಆರಂಭಿಸಿದರೆ 100 ದಿನಗಳ, ನಿರಂತರ ಅಧ್ಯಯನಮಾಡಿ</li><li class="w3-center">3-4 ಜನರ ಗುಂಪು ಮಾಡಿಕೊಂಡು ಅಭ್ಯಾಸಮಾಡಿ</li><li class="w3-center">ನಿಮ್ಮ ಸುತ್ತ ಸಂಸ್ಕೃತದ ವಾತಾವರಣ ನಿರ್ಮಿಸಿ</li><li class="w3-center">ದೂರದರ್ಶನ, ಆಕಾಶವಾಣಿಗಳ ಸಂಸ್ಕೃತವಾರ್ತೆ, ಸಂಸ್ಕೃತ ಕಾರ್ಯಕ್ರಮಗಳನ್ನು ನೋಡಿ</li><li class="w3-center">ಸ೦ಸ್ಕೃತದ ಶಬ್ಧಕೋಶ ಜೊತೆಗಿರಲಿ, ಸಂಸ್ಕೃತ ಪುಸ್ತಕಗಳನ್ನು ಸಂಗ್ರಹಿಸಿ, ಓದಿ</li><li class="w3-center">ಸ೦ಸ್ಕೃತ ಕಾರ್ಯಕ್ರಮಗಳಲ್ಲಿ ಭಾಗವಹಿಸಿ</li><li class="w3-center">ನಿತ್ಯವೂ ಬಳಸುವ ಆಂಗ್ಲ ಪದಗಳ ಬದಲಿಗೆ ಸಂಸ್ಕೃತ ಪದಗಳನ್ನೇ ಬಳಸಿ</li></div>',2);function YB(e,t,n,r,s,i){return q(),G(ct,null,[jB,f("div",zB,[(q(!0),G(ct,null,de(s.groupedBooks,(o,a)=>(q(),G("div",qB,[f("h3",HB,et(i.getGroupName(a)),1),(q(!0),G(ct,null,de(o,u=>(q(),G("div",KB,[f("div",GB,[f("img",{src:`${u.imageName}`,alt:`${u.title}`,style:{"max-width":"100%","max-height":"100%"}},null,8,WB)]),f("div",QB,[f("h4",null,[f("b",null,et(u.name),1)]),f("p",null,[f("b",null,et(u.author),1)])])]))),256))]))),256))]),XB],64)}const JB=Ye(UB,[["render",YB]]),ZB={components:{},data(){return{TOKEN:"",publicPath:"/",magazines:[],imageUrl:"",images:[],array:[],pdfSource:"'https://raw.githubusercontent.com/mozilla/pdf.js/ba2edeae/examples/learning/helloworld.pdf",isLoading:!0}},async created(){await os("logo.png").then(e=>{this.TOKEN=is(e)}),await ri(sn).then(e=>{e.map(t=>{this.magazines.push({title:t.data.title,id:t.id,imageName:as(sn+"/",t.data.imageName,this.TOKEN),linkToMagazine:t.data.linkToMagazine,publishedDate:t.data.publishedDate})}),this.magazines=db(this.magazines)})},methods:{handleDocumentRender(){this.isLoading=!1},handleClick(e){document.getElementById("modal-id").style.display="block"}}},tD="/assets/magazine-icon-png-clipart-2641fff3.png",eD=On('<header class="w3-container w3-teal w3-center header-padding gradient"><div class="w3-container header"><img src="'+tD+'" alt="Logo Left"><h3 class="w3-margin w3-jumbo">ಮಿತ್ರರಶ್ಮಿ ಮಾಸಪತ್ರಿಕೆ</h3><img class="right" src="'+Kg+'" alt="Logo Right"></div><p class="w3-xlarge">ಕನ್ನಡದ ಕನ್ನಡಿಯಲ್ಲಿ ಸಂಸ್ಕೃತ ಮಾಸಪತ್ರಿಕೆ</p></header>',1),nD={class:"w3-row-padding w3-padding-32 w3-container"},rD=f("h2",{class:"w3-text-black w3-center"},"ಮಿತ್ರರಶ್ಮಿ ಮಾಸಪತ್ರಿಕೆಯ ಸಂಚಿಕೆಗಳನ್ನು ಓದಬೇಕೆ? ಹಾಗಾದರೆ ಇಷ್ಟವಾದ ಸಂಚಿಕೆಯ ಮುಖಪುಟದ ಚಿತ್ರದ ಮೇಲೆ ಕ್ಲಿಕ್ ಮಾಡಿ",-1),sD={class:"w3-third w3-container w3-margin-bottom",style:{"box-shadow":"0 4px 8px rgba(0, 0, 0, 0.1)"}},iD={class:"w3-image-container",style:{height:"300px",display:"flex","justify-content":"center"}},oD=["href"],aD=["src","alt"],uD={class:"w3-container w3-white w3-center"},lD=On('<h2 class="w3-container w3-text-black w3-center">ಲೆೇಖಕರಿಗೆ ಮಾರ್ಗಸೂಚಿಗಳು</h2><div class="w3-container w3-padding-8"><p class="w3-center">ನೀವೂ ‘ಮಿತ್ರರಶ್ಮಿಃ’ ಮಾಸಪತ್ರಿಕೆಗೆ ಲೀಖನವನ್ನು ಬರೆಯಲಿಚ್ಛಿಸುವಿರಾ? ಬನ್ನಿ, ಈ ಕೆಳಕಂಡ ಸಾಮಾನ್ಯ ಮಾರ್ಗಸೂಚಿಗಳನ್ನು ಅನುಸರಿಸಿ</p></div><div class="w3-container w3-padding-8"><h4 class="w3-text-black w3-center">ಲೇಖನದ ವಿಷಯಗಳು</h4><p class="w3-center"> ಸಂಸ್ಕೃತ, ಸಂಸ್ಕೃತಿ, ಸಂಸ್ಕಾರ ಪರಂಪರೆ, ಶಾಸ್ತ್ರಗಳ ಪರಿಚಯ, ಸಂಸ್ಕೃತದ ಉತ್ತಮ ದೇವತಾಸ್ತುತಿಪದ್ಯಗಳು, ಕೃಷ್ಣಕರ್ಣಾಮೃತ, ಮೇಘದೂತ ಮೊದಲಾದವುಗುಳಿಂದ ಆಯ್ದ ಮಧುರ, ಶೃಂಗಾರ ಪದ್ಯಗಳು, ಸಂಸ್ಕೃತದಲ್ಲಿ ಅಲಂಕಾರಗಳು, ಸಂಸ್ಕೃತದ ಕವಿಗಳ ಪರಿಚಯ, ಪ್ರಾಚೀನ ಸಂಸ್ಕೃತ ಗ್ರಂಥಗಳ ಪರಿಚಯದೊಂದಿಗೆ ಅದನ್ನೇ ಆಧರಿಸಿದ ಪ್ರಸ್ತುತ ಸಾಹಿತ್ಯಗಳ ಪರಿಚಯ, ಸಂಸ್ಕೃತದಲ್ಲಿ ವಿಜ್ಞಾನ, ಆಚರಣೆಯಲ್ಲಿರುವ ಮುಖ್ಯ ಹಬ್ಬಗಳು, ಆರೋಗ್ಯ, ಯೋಗ, ಸಂಸ್ಕೃತದಲ್ಲಿ ತಾತ್ವಿಕ ವಿಚಾರಗಳು, ಸಂಸ್ಕೃತದ ಪ್ರಹೇಲಿಕಾ, ಕೂಟ, ಸಮಸ್ಯೆ, ಅಪಹ್ನುತಿ, ಅಂತರಾಲಾಪ, ಬಹಿರಾಲಾಪ, ಮೊದಲಾದ ಒಗಟುಗಳು, ಸಂಸ್ಕೃತದ ಹಾಸ್ಯೋಕ್ತಿಗಳು ಜ್ಯೋತಿ: ಶಾಸ್ತ್ರ, ವ್ಯಾಕರಣ, ಧರ್ಮಶಾಸ್ತ್ರ, ವಾಸ್ತು, ಭಾರತೀಯ ದರ್ಶನಗಳು, ಭಾರತೀಯ ವಿದ್ಯೆಗಳು, ವಾಸ್ತು ಹಾಗೂ ಶಿಲ್ಪಕಲೆ, ಭಾರತೀಯ ಗಣಿತಶಾಸ್ತ್ರ, ಸಸ್ಯಶಾಸ್ತ್ರ, ಲೋಹಶಾಸ್ತ್ರ, ವಾಸ್ತುಶಾಸ್ತ್ರ ಹಾಗೂ ಶಿಲ್ಪ ಶಾಸ್ತ್ರ, ಶ್ರುತಿ, ಸ್ಮೃತಿಗಳು, ಸಂಸ್ಕ್ರತದ ದೇವತಾಸ್ತುತಿಗಳು ಹೀಗೆ ಹಲವು ವಿಚಾರಗಳನ್ನು ಆಧರಿಸಿ ತಾವು ಲೇಖನವನ್ನು ಬರೆಯಬಹುದು. ಅಂಕಣಗಳು ಸ್ವರಚಿತವಾಗಿರಲಿ. ಕೃತಿಚೌರ್ಯಕ್ಕೆ ಅವಕಾಶವಿಲ್ಲ</p></div><div class="w3-container w3-padding-8"><h4 class="w3-text-black w3-center">ಲೇಖನವನ್ನು ಕಳುಹಿಸಬೇಕಾದ ವಿಳಾಸ </h4><p class="w3-center">ಲೀಖನದ ಕಡತವನ್ನು editormrashmi@gmail.com (ಈ-ಮೀಲ್) ಮುಖೇನ ಅಥವಾ 9448243724 WhatsApp ಸಂಖ್ಯೆಗೆ ಕಳುಹಿಸಿ</p></div><div class="w3-container w3-padding-16"><h4 class="w3-text-black w3-center">ಲೀಖಕರ ಸಂಪರ್ಕ ವಿವರಗಳು</h4><p class="w3-center">ಲೀಖನವನ್ನು ಈ-ಮೀಲ್ ಮಾಡುವಾಗ ಲೀಖಕರು ತಮ್ಮ ಸಂಪೂರ್ಣ ಹಸರನ್ನು, ಹುದ್ಧೆ ಹಾಗು ಮೊಬೈಲ್ ಸಂಖ್ಯೆಯನ್ನು ತಿಳಿಸುವುದು</p></div>',5),cD=f("div",{class:"w3-container w3-center w3-padding-16",style:{"background-color":"#fef102"}},[f("h1",{class:"w3-margin",style:{color:"#8a5241"}},"ಇನ್ನೇಕೆ ತಡ? ಲೇಖನವನ್ನು ಬರೆಯಲು ಆರಂಭಿಸಿ!")],-1);function hD(e,t,n,r,s,i){return q(),G(ct,null,[eD,f("div",nD,[rD,(q(!0),G(ct,null,de(s.magazines,o=>(q(),G("div",sD,[f("div",iD,[f("a",{href:`${o.linkToMagazine}`,target:"_blank"},[f("img",{src:`${o.imageName}`,alt:`${o.title}`,style:{"max-width":"100%","max-height":"100%"}},null,8,aD)],8,oD)]),f("div",uD,[f("p",null,[f("b",null,et(o.title),1)])])]))),256)),lD]),cD],64)}const dD=Ye(ZB,[["render",hD]]),fD={props:{title:{type:String,required:!0},folderName:{type:String,required:!0},img1:{type:String,required:!0},img2:{type:String,required:!0}},data(){return{TOKEN:"",publicPath:"/",allImages:[],displayedImages:[],selectedImageUrl:"",currentIndex:0,stepCount:10}},async created(){await os("logo.png").then(e=>{this.TOKEN=is(e)}),await qg(this.folderName).then(e=>{e.sort((t,n)=>t.toLowerCase().localeCompare(n.toLowerCase())).forEach(t=>{let n=as(this.folderName,t,this.TOKEN);this.allImages.push(n)}),this.loadImages()})},methods:{handleClick(e){this.selectedImageUrl=e,document.getElementById("modal-id").style.display="block"},loadImages(){for(let e=this.currentIndex;e<Math.min(this.currentIndex+this.stepCount,this.allImages.length);e++)this.displayedImages.push(this.allImages[e]);this.currentIndex+=this.stepCount},getImagePath(e){return"src/assets/logo/"+e}}},pD="/assets/om-177767f9.png",mD="/assets/folded-hands-1983fef4.png",gD={class:"w3-container w3-teal w3-center header-padding gradient"},CD={class:"w3-container header"},_D=f("img",{src:pD,alt:"Logo Left"},null,-1),yD={class:"w3-margin w3-jumbo"},vD=f("img",{class:"right",src:mD,alt:"Logo Right"},null,-1),ED={class:"w3-row-padding w3-padding-32 w3-container",style:{"padding-bottom":"0px!important"}},AD={key:0,class:"w3-center"},wD={key:1,class:"w3-center"},TD={class:"w3-third w3-container w3-margin-bottom",style:{"box-shadow":"0 4px 8px rgba(0, 0, 0, 0.1)"}},ID={class:"w3-image-container",style:{height:"300px",display:"flex","align-items":"center","justify-content":"center"}},bD=["src","onClick"],RD={class:"w3-padding-small w3-center"},BD={id:"modal-id",class:"w3-modal"},DD={class:"w3-modal-content"},PD={class:"w3-container"},SD=f("span",{onclick:"document.getElementById('modal-id').style.display='none'",class:"w3-button w3-display-topright w3-padding-large w3-xxlarge"},"×",-1),kD={class:"w3-image-container",style:{height:"500px",display:"flex","justify-content":"center"}},xD=["src"];function ND(e,t,n,r,s,i){return q(),G(ct,null,[f("header",gD,[f("div",CD,[_D,f("h3",yD,et(n.title),1),vD])]),f("div",ED,[s.allImages.length==0?(q(),G("h2",AD,"Loading...")):(q(),G("p",wD,"Displaying "+et(s.displayedImages.length)+" of "+et(s.allImages.length)+" images",1)),(q(!0),G(ct,null,de(s.displayedImages,o=>(q(),G("div",TD,[f("div",ID,[f("img",{src:`${o}`,alt:"image",style:{"max-width":"100%","max-height":"100%"},onClick:a=>i.handleClick(o)},null,8,bD)])]))),256))]),f("div",RD,[s.currentIndex<s.allImages.length?(q(),G("button",{key:0,type:"button",class:"w3-button w3-teal w3-padding-large w3-large",onClick:t[0]||(t[0]=(...o)=>i.loadImages&&i.loadImages(...o))},"Load more...")):vn("",!0)]),f("div",BD,[f("div",DD,[f("div",PD,[SD,f("div",kD,[f("img",{src:`${s.selectedImageUrl}`,alt:"image",style:{"max-width":"100%","max-height":"100%"}},null,8,xD)])])])])],64)}const Hi=Ye(fD,[["render",ND]]),FD={data(){return{publicPath:"/",events:[],groups:[],groupedEvents:{},TOKEN:""}},async created(){await os("logo.png").then(e=>{this.TOKEN=is(e)}),await ri(Wn).then(e=>{e.map(t=>{this.groups.push({id:t.id,title:t.data.title,orderId:t.data.orderId})})}),await ri(nn).then(e=>{e.map(t=>{this.events.push({description:t.data.description,details:t.data.details,id:t.id,imageName:as(nn+"/",t.data.imageName,this.TOKEN),joiningLink:t.data.joiningLink,name:t.data.name,groupId:t.data.groupId,orderId:t.data.orderId})})}).then(()=>{let e=Hg("groupId")(this.events);this.groupedEvents=Object.entries(e).sort(([t,n],[r,s])=>{const i=this.groups.find(a=>a.id===t),o=this.groups.find(a=>a.id===r);return i&&o?Number(i.orderId)-Number(o.orderId):0}).reduce((t,[n,r])=>(t[n]=r,t),{})})},methods:{getGroupName(e){var t;return(t=this.groups.find(n=>n.id==e))==null?void 0:t.title},getGroupOrderId(e){var t;return(t=this.groups.find(n=>n.id==e))==null?void 0:t.orderId},sortByOrderId(e){return e.sort((t,n)=>t.orderId===void 0&&n.orderId===void 0?0:t.orderId===void 0?-1:n.orderId===void 0?1:Number(t.orderId)-Number(n.orderId))}}},OD="/assets/clubhouse-app-logo-ccfa6b83.png",VD="/assets/speaker-fcfdea17.png",MD=On('<header class="w3-container w3-teal gradient w3-center header-padding"><div class="w3-container header"><img src="'+OD+'" alt="Logo Left"><h3 class="w3-margin w3-jumbo">ಕಾರ್ಯಕ್ರಮಗಳು</h3><img class="right" src="'+VD+'" alt="Logo Right"></div><p class="w3-xlarge">ನಮ್ಮ ಕಾರ್ಯಕ್ರಮಗಳಲ್ಲಿ ನಮ್ಮೊಂದಿಗೆ ಸೇರಿಕೊಳ್ಳಿ</p></header>',1),LD={class:"w3-row-padding w3-padding-32 w3-container"},UD=f("h2",{class:"w3-center"},"ಕಾರ್ಯಕ್ರಮ ವೀಕ್ಷಿಸಲು ಚಿತ್ರದ ಮೇಲೆ ಕ್ಲಿಕ್ ಮಾಡಿ",-1),$D={class:"w3-container"},jD={class:"w3-text-black w3-center",style:{"font-style":"italic"}},zD={class:"w3-third w3-container w3-margin-bottom",style:{"box-shadow":"0 4px 8px rgba(0, 0, 0, 0.1)"}},qD={class:"w3-image-container",style:{height:"300px",display:"flex","align-items":"center","justify-content":"center"}},HD=["href"],KD=["src","alt"],GD={class:"w3-container w3-white w3-center"},WD={style:{margin:"0px"}},QD={style:{margin:"0px"}},XD={style:{margin:"0px"}},YD=f("div",{class:"w3-container w3-center w3-padding-16",style:{"background-color":"#fef102"}},[f("h1",{class:"w3-margin",style:{color:"#8a5241"}},"ಕಾಯೃಕ್ರಮದ Link ಪಡೆಯಲು ಕು। ಧನ್ಯಶ್ರೀ ಅವರ 74835 86269 ಸಂಖ್ಯೆಗೆ WhatsApp ಸಂದೇಶ ಕಳುಹಿಸಿ. ಕರೆ ಮಾಡಲು ಅವಕಾಶವಿಲ್ಲ")],-1);function JD(e,t,n,r,s,i){return q(),G(ct,null,[MD,f("div",LD,[UD,(q(!0),G(ct,null,de(s.groupedEvents,(o,a)=>(q(),G("div",$D,[f("h3",jD,et(i.getGroupName(a)),1),(q(!0),G(ct,null,de(i.sortByOrderId(o),u=>(q(),G("div",zD,[f("div",qD,[f("a",{href:`${u.joiningLink}`,target:"_blank"},[f("img",{src:`${u.imageName}`,alt:`${u.name}`,style:{"max-width":"100%","max-height":"300px",padding:"5px"}},null,8,KD)],8,HD)]),f("div",GD,[f("h4",WD,[f("b",null,et(u.name),1)]),f("p",QD,[f("b",null,et(u.details),1)]),f("p",XD,et(u.description),1)])]))),256))]))),256))]),YD],64)}const ZD=Ye(FD,[["render",JD]]);const tP={},eP=On('<header class="w3-container w3-teal w3-center" style="padding:64px 16px;" data-v-5b9de616><h3 class="w3-margin w3-jumbo" data-v-5b9de616>Links Page</h3><p class="w3-xlarge" data-v-5b9de616>Here are some links grouped by categories.</p></header><div class="w3-row-padding w3-padding-32 w3-container" data-v-5b9de616><div class="w3-col s12 m6 l4 link-group w3-responsive" data-v-5b9de616><h3 data-v-5b9de616>Social Media</h3><ul data-v-5b9de616><li data-v-5b9de616><a href="https://www.facebook.com/" data-v-5b9de616>Facebook</a></li><li data-v-5b9de616><a href="https://www.twitter.com/" data-v-5b9de616>Twitter</a></li><li data-v-5b9de616><a href="https://www.instagram.com/" data-v-5b9de616>Instagram</a></li><li data-v-5b9de616><a href="https://www.linkedin.com/" data-v-5b9de616>LinkedIn</a></li></ul></div><div class="w3-col s12 m6 l4 link-group w3-responsive" data-v-5b9de616><h3 data-v-5b9de616>News</h3><ul data-v-5b9de616><li data-v-5b9de616><a href="https://www.bbc.com/" data-v-5b9de616>BBC</a></li><li data-v-5b9de616><a href="https://www.cnn.com/" data-v-5b9de616>CNN</a></li><li data-v-5b9de616><a href="https://www.nytimes.com/" data-v-5b9de616>New York Times</a></li><li data-v-5b9de616><a href="https://www.thehindu.com/" data-v-5b9de616>The Hindu</a></li></ul></div><div class="w3-col s12 m6 l4 link-group w3-responsive" data-v-5b9de616><h3 data-v-5b9de616>Entertainment</h3><ul data-v-5b9de616><li data-v-5b9de616><a href="https://www.netflix.com/" data-v-5b9de616>Netflix</a></li><li data-v-5b9de616><a href="https://www.youtube.com/" data-v-5b9de616>YouTube</a></li><li data-v-5b9de616><a href="https://www.spotify.com/" data-v-5b9de616>Spotify</a></li><li data-v-5b9de616><a href="https://www.imdb.com/" data-v-5b9de616>IMDb</a></li></ul></div></div>',2);function nP(e,t){return eP}const rP=Ye(tP,[["render",nP],["__scopeId","data-v-5b9de616"]]),sP={},iP=f("div",{class:"w3-container w3-black w3-center w3-opacity w3-padding-64"},[f("h1",{class:"w3-margin w3-xlarge"},"ಈ ಪುಸತಕಗಳು ನಿಮಗೆ ಬೇಕಾದಲ್ಲಿ ಆಯಾ ಪುಸತಕಗಳ ಒಟ್ಟು ಬಲೆ ಹಾಗೂ ಅಂಚೆವೆಚ್ಚ ರೂ. 50/- ನುು ಸೇರಿಸಿ 9448243724 ಸಂಖ್ಯೆಗೆ PhonePay ಮುಖಾಂತರ ಕಳಿಸಬಹುದು")],-1),oP=f("div",{class:"iframe-container"},[f("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSfx3c5267Pc-emHYswdDSmoKC7PUgB9MB6tcWZZ9jA1-zYvGg/viewform?embedded=true",width:"750",height:"1685",frameborder:"0",marginheight:"0",marginwidth:"0"},"Loading…")],-1);function aP(e,t){return q(),G(ct,null,[iP,oP],64)}const uP=Ye(sP,[["render",aP]]),Gg=Iy({history:j_("/"),scrollBehavior(){return{top:0,left:0}},routes:[{path:"/:pathMatch(.*)*",redirect:{name:"home"}},{path:"/",name:"home",component:nR},{path:"/books",name:"books",component:JB},{path:"/mitrarashmi",name:"mitrarashmi",component:dD},{path:"/events",name:"events",component:ZD},{path:"/articles",name:"articles",component:rP},{path:"/purchase",name:"purchase",component:uP},{path:"/admin",name:"admin",component:LB},{path:"/arogyasubashita",name:"arogyasubashita",component:Hi,props:{title:"ಆರೋಗ್ಯ ಸುಭಾಷಿತಗಳು",folderName:"arogya_subashita/",img1:"ayurveda-medicine03.png",img2:"ayurveda-medicine03.png"}},{path:"/nityasubashita",name:"nityasubashita",component:Hi,props:{title:"ನಿತ್ಯ ಸುಭಾಷಿತಗಳು",folderName:"nitya_subashita/",img1:"folded-hands.png",img2:"om.png"}},{path:"/suvachana",name:"suvachana",component:Hi,props:{title:"ಸುವಚನಗಳು",folderName:"suvachana/",img1:"",img2:""}},{path:"/news",name:"news",component:Hi,props:{title:"News",folderName:"news/SS/"}}]});function Xu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Yu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$d(Object(n),!0).forEach(function(r){Xu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$d(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var lP=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,s){if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");if(o.async=!0,o.src=t,o.defer=n.defer,n.preconnectOrigin){var a=document.createElement("link");a.href=n.preconnectOrigin,a.rel="preconnect",i.appendChild(a)}i.appendChild(o),o.onload=r,o.onerror=s}})},cP=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(!r.length)return t;var i=r.shift();if(!(!As(t)||!As(i))){for(var o in i)As(i[o])?(t[o]||Object.assign(t,Xu({},o,{})),e(t[o],i[o])):Object.assign(t,Xu({},o,i[o]));return e.apply(void 0,[t].concat(r))}},wi=function(){return!(typeof window>"u"||typeof document>"u")},jd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;wi()},hP=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return jd('Missing "appName" property inside the plugin options.',t.app_name==null),jd('Missing "name" property in the route.',t.screen_name==null),t};function dP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.split("/"),r=t.split("/");return n[0]===""&&t[t.length-1]==="/"&&n.shift(),r.join("/")+n.join("/")}var fP=function(){return{bootstrap:!0,onReady:null,onError:null,onBeforeTrack:null,onAfterTrack:null,pageTrackerTemplate:null,customResourceURL:"https://www.googletagmanager.com/gtag/js",customPreconnectOrigin:"https://www.googletagmanager.com",deferScriptLoad:!1,pageTrackerExcludedRoutes:[],pageTrackerEnabled:!0,enabled:!0,disableScriptLoad:!1,pageTrackerScreenviewEnabled:!1,appName:null,pageTrackerUseFullPath:!1,pageTrackerPrependBase:!0,pageTrackerSkipSamePath:!0,globalDataLayerName:"dataLayer",globalObjectName:"gtag",defaultGroupName:"default",includes:null,config:{id:null,params:{send_page_view:!1}}}},Wg={},pP=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=fP();Wg=cP(n,t)},Ee=function(){return Wg},pr=function(){var e,t=Ee(),n=t.globalObjectName;!wi()||typeof window[n]>"u"||(e=window)[n].apply(e,arguments)},Dc=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Ee(),s=r.config,i=r.includes;pr.apply(void 0,["config",s.id].concat(t)),Array.isArray(i)&&i.forEach(function(o){pr.apply(void 0,["config",o.id].concat(t))})},zd=function(t,n){wi()&&(window["ga-disable-".concat(t)]=n)},Qg=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=Ee(),n=t.config,r=t.includes;zd(n.id,e),Array.isArray(r)&&r.forEach(function(s){return zd(s.id,e)})},Xg=function(){Qg(!0)},mP=function(){Qg(!1)},Yg,gP=function(t){Yg=t},Pc=function(){return Yg},_r=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Ee(),r=n.includes,s=n.defaultGroupName;t.send_to==null&&Array.isArray(r)&&r.length&&(t.send_to=r.map(function(i){return i.id}).concat(s)),pr("event",e,t)},Jg=function(e){if(wi()){var t;if(typeof e=="string")t={page_path:e};else if(e.path||e.fullPath){var n=Ee(),r=n.pageTrackerUseFullPath,s=n.pageTrackerPrependBase,i=Pc(),o=i&&i.options.base,a=r?e.fullPath:e.path;t=Yu(Yu({},e.name&&{page_title:e.name}),{},{page_path:s?dP(a,o):a})}else t=e;t.page_location==null&&(t.page_location=window.location.href),t.send_page_view==null&&(t.send_page_view=!0),_r("page_view",t)}},Zg=function(e){var t=Ee(),n=t.appName;if(e){var r;typeof e=="string"?r={screen_name:e}:r=e,r.app_name=r.app_name||n,_r("screen_view",r)}},CP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_r.apply(void 0,["exception"].concat(t))},_P=function(e){Dc("linker",e)},yP=function(e){_r("timing_complete",e)},vP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];pr.apply(void 0,["set"].concat(t))},EP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_r.apply(void 0,["refund"].concat(t))},AP=function(e){_r("purchase",e)},wP=function(e){Dc({custom_map:e})},TP=Object.freeze({__proto__:null,query:pr,config:Dc,optOut:Xg,optIn:mP,pageview:Jg,screenview:Zg,exception:CP,linker:_P,time:yP,set:vP,refund:EP,purchase:AP,customMap:wP,event:_r}),IP=function(t){t.config.globalProperties.$gtag=TP},bP=function(){if(wi()){var e=Ee(),t=e.enabled,n=e.globalObjectName,r=e.globalDataLayerName;return window[n]==null&&(window[r]=window[r]||[],window[n]=function(){window[r].push(arguments)}),window[n]("js",new Date),t||Xg(),window[n]}},qd=function(t){return Yu({send_page_view:!1},t)},t0=function(){var e=Ee(),t=e.config,n=e.includes;pr("config",t.id,qd(t.params)),Array.isArray(n)&&n.forEach(function(r){pr("config",r.id,qd(r.params))})},Hd=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Ee(),r=n.appName,s=n.pageTrackerTemplate,i=n.pageTrackerScreenviewEnabled,o=n.pageTrackerSkipSamePath;if(!(o&&e.path===t.path)){var a=e;if(J(s)?a=s(e,t):i&&(a=hP({app_name:r,screen_name:e.name})),i){Zg(a);return}Jg(a)}},Kd=function(t){var n=Ee(),r=n.pageTrackerExcludedRoutes;return r.includes(t.path)||r.includes(t.name)},RP=function(){var e=Ee(),t=e.onBeforeTrack,n=e.onAfterTrack,r=Pc();r.isReady().then(function(){oo().then(function(){var s=r.currentRoute;t0(),!Kd(s.value)&&Hd(s.value)}),r.afterEach(function(s,i){oo().then(function(){Kd(s)||(J(t)&&t(s,i),Hd(s,i),J(n)&&n(s,i))})})})},BP=function(){var e=Ee(),t=e.onReady,n=e.onError,r=e.globalObjectName,s=e.globalDataLayerName,i=e.config,o=e.customResourceURL,a=e.customPreconnectOrigin,u=e.deferScriptLoad,l=e.pageTrackerEnabled,c=e.disableScriptLoad,h=!!(l&&Pc());if(bP(),h?RP():t0(),!c)return lP("".concat(o,"?id=").concat(i.id,"&l=").concat(s),{preconnectOrigin:a,defer:u}).then(function(){t&&t(window[r])}).catch(function(d){return n&&n(d),d})},DP=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;IP(t),pP(n),gP(r),Ee().bootstrap&&BP()};const Sc=w_($y);Sc.use(Gg);Sc.use(DP,{config:{id:"G-9SZFX4XJTW"}},Gg);Sc.mount("#app");

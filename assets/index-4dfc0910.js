(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const main="";function makeMap(t,e){const n=Object.create(null),a=t.split(",");for(let i=0;i<a.length;i++)n[a[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(t,e)=>hasOwnProperty$1.call(t,e),isArray$2=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isDate=t=>toTypeString(t)==="[object Date]",isRegExp=t=>toTypeString(t)==="[object RegExp]",isFunction=t=>typeof t=="function",isString$1=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$1=t=>t!==null&&typeof t=="object",isPromise=t=>isObject$1(t)&&isFunction(t.then)&&isFunction(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString$1(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},def=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},looseToNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e},toNumber$1=t=>{const e=isString$1(t)?Number(t):NaN;return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),GLOBALS_WHITE_LISTED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",isGloballyWhitelisted=makeMap(GLOBALS_WHITE_LISTED);function normalizeStyle(t){if(isArray$2(t)){const e={};for(let n=0;n<t.length;n++){const a=t[n],i=isString$1(a)?parseStringStyle(a):normalizeStyle(a);if(i)for(const o in i)e[o]=i[o]}return e}else{if(isString$1(t))return t;if(isObject$1(t))return t}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const a=n.split(propertyDelimiterRE);a.length>1&&(e[a[0].trim()]=a[1].trim())}}),e}function normalizeClass(t){let e="";if(isString$1(t))e=t;else if(isArray$2(t))for(let n=0;n<t.length;n++){const a=normalizeClass(t[n]);a&&(e+=a+" ")}else if(isObject$1(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function normalizeProps(t){if(!t)return null;let{class:e,style:n}=t;return e&&!isString$1(e)&&(t.class=normalizeClass(e)),n&&(t.style=normalizeStyle(n)),t}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}function looseCompareArrays(t,e){if(t.length!==e.length)return!1;let n=!0;for(let a=0;n&&a<t.length;a++)n=looseEqual(t[a],e[a]);return n}function looseEqual(t,e){if(t===e)return!0;let n=isDate(t),a=isDate(e);if(n||a)return n&&a?t.getTime()===e.getTime():!1;if(n=isSymbol(t),a=isSymbol(e),n||a)return t===e;if(n=isArray$2(t),a=isArray$2(e),n||a)return n&&a?looseCompareArrays(t,e):!1;if(n=isObject$1(t),a=isObject$1(e),n||a){if(!n||!a)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const u=t.hasOwnProperty(s),c=e.hasOwnProperty(s);if(u&&!c||!u&&c||!looseEqual(t[s],e[s]))return!1}}return String(t)===String(e)}function looseIndexOf(t,e){return t.findIndex(n=>looseEqual(n,e))}const toDisplayString=t=>isString$1(t)?t:t==null?"":isArray$2(t)||isObject$1(t)&&(t.toString===objectToString||!isFunction(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[a,i])=>(n[`${a} =>`]=i,n),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$1(e)&&!isArray$2(e)&&!isPlainObject(e)?String(e):e;let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(t){return new EffectScope(t)}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t){activeEffectScope&&activeEffectScope.cleanups.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let n=0;for(let a=0;a<e.length;a++){const i=e[a];wasTracked(i)&&!newTracked(i)?i.delete(t):e[n++]=i,i.w&=~trackOpBit,i.n&=~trackOpBit}e.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,n=null,a){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,a)}run(){if(!this.active)return this.fn();let e=activeEffect,n=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function effect(t,e){t.effect&&(t=t.effect.fn);const n=new ReactiveEffect(t);e&&(extend(n,e),e.scope&&recordEffectScope(n,e.scope)),(!e||!e.lazy)&&n.run();const a=n.run.bind(n);return a.effect=n,a}function stop$1(t){t.effect.stop()}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track$1(t,e,n){if(shouldTrack&&activeEffect){let a=targetMap.get(t);a||targetMap.set(t,a=new Map);let i=a.get(n);i||a.set(n,i=createDep()),trackEffects(i)}}function trackEffects(t,e){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,n=!wasTracked(t)):n=!t.has(activeEffect),n&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,n,a,i,o){const s=targetMap.get(t);if(!s)return;let u=[];if(e==="clear")u=[...s.values()];else if(n==="length"&&isArray$2(t)){const c=Number(a);s.forEach((f,L)=>{(L==="length"||L>=c)&&u.push(f)})}else switch(n!==void 0&&u.push(s.get(n)),e){case"add":isArray$2(t)?isIntegerKey(n)&&u.push(s.get("length")):(u.push(s.get(ITERATE_KEY)),isMap(t)&&u.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(t)||(u.push(s.get(ITERATE_KEY)),isMap(t)&&u.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&u.push(s.get(ITERATE_KEY));break}if(u.length===1)u[0]&&triggerEffects(u[0]);else{const c=[];for(const f of u)f&&c.push(...f);triggerEffects(createDep(c))}}function triggerEffects(t,e){const n=isArray$2(t)?t:[...t];for(const a of n)a.computed&&triggerEffect(a);for(const a of n)a.computed||triggerEffect(a)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function getDepFromReactive(t,e){var n;return(n=targetMap.get(t))==null?void 0:n.get(e)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const a=toRaw(this);for(let o=0,s=this.length;o<s;o++)track$1(a,"get",o+"");const i=a[e](...n);return i===-1||i===!1?a[e](...n.map(toRaw)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){pauseTracking();const a=toRaw(this)[e].apply(this,n);return resetTracking(),a}}),t}function hasOwnProperty(t){const e=toRaw(this);return track$1(e,"has",t),e.hasOwnProperty(t)}function createGetter(t=!1,e=!1){return function(a,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(a))return a;const s=isArray$2(a);if(!t){if(s&&hasOwn(arrayInstrumentations,i))return Reflect.get(arrayInstrumentations,i,o);if(i==="hasOwnProperty")return hasOwnProperty}const u=Reflect.get(a,i,o);return(isSymbol(i)?builtInSymbols.has(i):isNonTrackableKeys(i))||(t||track$1(a,"get",i),e)?u:isRef(u)?s&&isIntegerKey(i)?u:u.value:isObject$1(u)?t?readonly(u):reactive(u):u}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(n,a,i,o){let s=n[a];if(isReadonly(s)&&isRef(s)&&!isRef(i))return!1;if(!t&&(!isShallow(i)&&!isReadonly(i)&&(s=toRaw(s),i=toRaw(i)),!isArray$2(n)&&isRef(s)&&!isRef(i)))return s.value=i,!0;const u=isArray$2(n)&&isIntegerKey(a)?Number(a)<n.length:hasOwn(n,a),c=Reflect.set(n,a,i,o);return n===toRaw(o)&&(u?hasChanged(i,s)&&trigger(n,"set",a,i):trigger(n,"add",a,i)),c}}function deleteProperty(t,e){const n=hasOwn(t,e);t[e];const a=Reflect.deleteProperty(t,e);return a&&n&&trigger(t,"delete",e,void 0),a}function has$1(t,e){const n=Reflect.has(t,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track$1(t,"has",e),n}function ownKeys$1(t){return track$1(t,"iterate",isArray$2(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys:ownKeys$1},readonlyHandlers={get:readonlyGet,set(t,e){return!0},deleteProperty(t,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get(t,e,n=!1,a=!1){t=t.__v_raw;const i=toRaw(t),o=toRaw(e);n||(e!==o&&track$1(i,"get",e),track$1(i,"get",o));const{has:s}=getProto(i),u=a?toShallow:n?toReadonly:toReactive;if(s.call(i,e))return u(t.get(e));if(s.call(i,o))return u(t.get(o));t!==i&&t.get(e)}function has(t,e=!1){const n=this.__v_raw,a=toRaw(n),i=toRaw(t);return e||(t!==i&&track$1(a,"has",t),track$1(a,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function size(t,e=!1){return t=t.__v_raw,!e&&track$1(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add(t){t=toRaw(t);const e=toRaw(this);return getProto(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set$2(t,e){e=toRaw(e);const n=toRaw(this),{has:a,get:i}=getProto(n);let o=a.call(n,t);o||(t=toRaw(t),o=a.call(n,t));const s=i.call(n,t);return n.set(t,e),o?hasChanged(e,s)&&trigger(n,"set",t,e):trigger(n,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:n,get:a}=getProto(e);let i=n.call(e,t);i||(t=toRaw(t),i=n.call(e,t)),a&&a.call(e,t);const o=e.delete(t);return i&&trigger(e,"delete",t,void 0),o}function clear(){const t=toRaw(this),e=t.size!==0,n=t.clear();return e&&trigger(t,"clear",void 0,void 0),n}function createForEach(t,e){return function(a,i){const o=this,s=o.__v_raw,u=toRaw(s),c=e?toShallow:t?toReadonly:toReactive;return!t&&track$1(u,"iterate",ITERATE_KEY),s.forEach((f,L)=>a.call(i,c(f),c(L),o))}}function createIterableMethod(t,e,n){return function(...a){const i=this.__v_raw,o=toRaw(i),s=isMap(o),u=t==="entries"||t===Symbol.iterator&&s,c=t==="keys"&&s,f=i[t](...a),L=n?toShallow:e?toReadonly:toReactive;return!e&&track$1(o,"iterate",c?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Se,done:ge}=f.next();return ge?{value:Se,done:ge}:{value:u?[L(Se[0]),L(Se[1])]:L(Se),done:ge}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(o){return get(this,o)},get size(){return size(this)},has,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(o){return get(this,o,!1,!0)},get size(){return size(this)},has,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(o){return get(this,o,!0)},get size(){return size(this,!0)},has(o){return has.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},a={get(o){return get(this,o,!0,!0)},get size(){return size(this,!0)},has(o){return has.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=createIterableMethod(o,!1,!1),n[o]=createIterableMethod(o,!0,!1),e[o]=createIterableMethod(o,!1,!0),a[o]=createIterableMethod(o,!0,!0)}),[t,n,e,a]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const n=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(a,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?a:Reflect.get(hasOwn(n,i)&&i in a?n:a,i,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(t){return createReactiveObject(t,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(t,e,n,a,i){if(!isObject$1(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=getTargetType(t);if(s===0)return t;const u=new Proxy(t,s===2?a:n);return i.set(t,u),u}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject$1(t)?reactive(t):t,toReadonly=t=>isObject$1(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t);const n=t.dep;n&&triggerEffects(n)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref$2(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:toRaw(e),this._value=n?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const n=this.__v_isShallow||isShallow(e)||isReadonly(e);e=n?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:toReactive(e),triggerRefValue(this))}}function triggerRef(t){triggerRefValue(t)}function unref(t){return isRef(t)?t.value:t}function toValue(t){return isFunction(t)?t():unref(t)}const shallowUnwrapHandlers={get:(t,e,n)=>unref(Reflect.get(t,e,n)),set:(t,e,n,a)=>{const i=t[e];return isRef(i)&&!isRef(n)?(i.value=n,!0):Reflect.set(t,e,n,a)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class CustomRefImpl{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:a}=e(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=n,this._set=a}get value(){return this._get()}set value(e){this._set(e)}}function customRef(t){return new CustomRefImpl(t)}function toRefs(t){const e=isArray$2(t)?new Array(t.length):{};for(const n in t)e[n]=propertyToRef(t,n);return e}class ObjectRefImpl{constructor(e,n,a){this._object=e,this._key=n,this._defaultValue=a,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(t,e,n){return isRef(t)?t:isFunction(t)?new GetterRefImpl(t):isObject$1(t)&&arguments.length>1?propertyToRef(t,e,n):ref$2(t)}function propertyToRef(t,e,n){const a=t[e];return isRef(a)?a:new ObjectRefImpl(t,e,n)}class ComputedRefImpl{constructor(e,n,a,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=a}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$1(t,e,n=!1){let a,i;const o=isFunction(t);return o?(a=t,i=NOOP):(a=t.get,i=t.set),new ComputedRefImpl(a,i,o||!i,n)}function warn$1(t,...e){}function assertNumber(t,e){}function callWithErrorHandling(t,e,n,a){let i;try{i=a?t(...a):t()}catch(o){handleError(o,e,n)}return i}function callWithAsyncErrorHandling(t,e,n,a){if(isFunction(t)){const o=callWithErrorHandling(t,e,n,a);return o&&isPromise(o)&&o.catch(s=>{handleError(s,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(callWithAsyncErrorHandling(t[o],e,n,a));return i}function handleError(t,e,n,a=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,u=n;for(;o;){const f=o.ec;if(f){for(let L=0;L<f.length;L++)if(f[L](t,s,u)===!1)return}o=o.parent}const c=e.appContext.config.errorHandler;if(c){callWithErrorHandling(c,null,10,[t,s,u]);return}}logError(t,n,i,a)}function logError(t,e,n,a=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,n=queue.length;for(;e<n;){const a=e+n>>>1;getId(queue[a])<t?e=a+1:n=a}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray$2(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const n=queue[e];n&&n.pre&&(queue.splice(e,1),e--,n())}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((n,a)=>getId(n)-getId(a)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const n=getId(t)-getId(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let devtools,buffer=[];function setDevtoolsHook(t,e){var n,a;devtools=t,devtools?(devtools.enabled=!0,buffer.forEach(({event:i,args:o})=>devtools.emit(i,...o)),buffer=[]):typeof window<"u"&&window.HTMLElement&&!((a=(n=window.navigator)==null?void 0:n.userAgent)!=null&&a.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{setDevtoolsHook(o,e)}),setTimeout(()=>{devtools||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer=[])},3e3)):buffer=[]}function emit(t,e,...n){if(t.isUnmounted)return;const a=t.vnode.props||EMPTY_OBJ;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in a){const L=`${s==="modelValue"?"model":s}Modifiers`,{number:Se,trim:ge}=a[L]||EMPTY_OBJ;ge&&(i=n.map(Le=>isString$1(Le)?Le.trim():Le)),Se&&(i=n.map(looseToNumber))}let u,c=a[u=toHandlerKey(e)]||a[u=toHandlerKey(camelize(e))];!c&&o&&(c=a[u=toHandlerKey(hyphenate(e))]),c&&callWithAsyncErrorHandling(c,t,6,i);const f=a[u+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,callWithAsyncErrorHandling(f,t,6,i)}}function normalizeEmitsOptions(t,e,n=!1){const a=e.emitsCache,i=a.get(t);if(i!==void 0)return i;const o=t.emits;let s={},u=!1;if(!isFunction(t)){const c=f=>{const L=normalizeEmitsOptions(f,e,!0);L&&(u=!0,extend(s,L))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!o&&!u?(isObject$1(t)&&a.set(t,null),null):(isArray$2(o)?o.forEach(c=>s[c]=null):extend(s,o),isObject$1(t)&&a.set(t,s),s)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(t,e[0].toLowerCase()+e.slice(1))||hasOwn(t,hyphenate(e))||hasOwn(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function pushScopeId(t){currentScopeId=t}function popScopeId(){currentScopeId=null}const withScopeId=t=>withCtx;function withCtx(t,e=currentRenderingInstance,n){if(!e||t._n)return t;const a=(...i)=>{a._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(e);let s;try{s=t(...i)}finally{setCurrentRenderingInstance(o),a._d&&setBlockTracking(1)}return s};return a._n=!0,a._c=!0,a._d=!0,a}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:n,proxy:a,withProxy:i,props:o,propsOptions:[s],slots:u,attrs:c,emit:f,render:L,renderCache:Se,data:ge,setupState:Le,ctx:We,inheritAttrs:$e}=t;let Qe,Ue;const De=setCurrentRenderingInstance(t);try{if(n.shapeFlag&4){const ve=i||a;Qe=normalizeVNode(L.call(ve,ve,Se,o,Le,ge,We)),Ue=c}else{const ve=e;Qe=normalizeVNode(ve.length>1?ve(o,{attrs:c,slots:u,emit:f}):ve(o,null)),Ue=e.props?c:getFunctionalFallthrough(c)}}catch(ve){blockStack.length=0,handleError(ve,t,1),Qe=createVNode(Comment)}let we=Qe;if(Ue&&$e!==!1){const ve=Object.keys(Ue),{shapeFlag:Ce}=we;ve.length&&Ce&7&&(s&&ve.some(isModelListener)&&(Ue=filterModelListeners(Ue,s)),we=cloneVNode(we,Ue))}return n.dirs&&(we=cloneVNode(we),we.dirs=we.dirs?we.dirs.concat(n.dirs):n.dirs),n.transition&&(we.transition=n.transition),Qe=we,setCurrentRenderingInstance(De),Qe}function filterSingleRoot(t){let e;for(let n=0;n<t.length;n++){const a=t[n];if(isVNode(a)){if(a.type!==Comment||a.children==="v-if"){if(e)return;e=a}}else return}return e}const getFunctionalFallthrough=t=>{let e;for(const n in t)(n==="class"||n==="style"||isOn(n))&&((e||(e={}))[n]=t[n]);return e},filterModelListeners=(t,e)=>{const n={};for(const a in t)(!isModelListener(a)||!(a.slice(9)in e))&&(n[a]=t[a]);return n};function shouldUpdateComponent(t,e,n){const{props:a,children:i,component:o}=t,{props:s,children:u,patchFlag:c}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return a?hasPropsChanged(a,s,f):!!s;if(c&8){const L=e.dynamicProps;for(let Se=0;Se<L.length;Se++){const ge=L[Se];if(s[ge]!==a[ge]&&!isEmitListener(f,ge))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:a===s?!1:a?s?hasPropsChanged(a,s,f):!0:!!s;return!1}function hasPropsChanged(t,e,n){const a=Object.keys(e);if(a.length!==Object.keys(t).length)return!0;for(let i=0;i<a.length;i++){const o=a[i];if(e[o]!==t[o]&&!isEmitListener(n,o))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const isSuspense=t=>t.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(t,e,n,a,i,o,s,u,c,f){t==null?mountSuspense(e,n,a,i,o,s,u,c,f):patchSuspense(t,e,n,a,i,s,u,c,f)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(t,e){const n=t.props&&t.props[e];isFunction(n)&&n()}function mountSuspense(t,e,n,a,i,o,s,u,c){const{p:f,o:{createElement:L}}=c,Se=L("div"),ge=t.suspense=createSuspenseBoundary(t,i,a,e,Se,n,o,s,u,c);f(null,ge.pendingBranch=t.ssContent,Se,null,a,ge,o,s),ge.deps>0?(triggerEvent(t,"onPending"),triggerEvent(t,"onFallback"),f(null,t.ssFallback,e,n,a,null,o,s),setActiveBranch(ge,t.ssFallback)):ge.resolve(!1,!0)}function patchSuspense(t,e,n,a,i,o,s,u,{p:c,um:f,o:{createElement:L}}){const Se=e.suspense=t.suspense;Se.vnode=e,e.el=t.el;const ge=e.ssContent,Le=e.ssFallback,{activeBranch:We,pendingBranch:$e,isInFallback:Qe,isHydrating:Ue}=Se;if($e)Se.pendingBranch=ge,isSameVNodeType(ge,$e)?(c($e,ge,Se.hiddenContainer,null,i,Se,o,s,u),Se.deps<=0?Se.resolve():Qe&&(c(We,Le,n,a,i,null,o,s,u),setActiveBranch(Se,Le))):(Se.pendingId++,Ue?(Se.isHydrating=!1,Se.activeBranch=$e):f($e,i,Se),Se.deps=0,Se.effects.length=0,Se.hiddenContainer=L("div"),Qe?(c(null,ge,Se.hiddenContainer,null,i,Se,o,s,u),Se.deps<=0?Se.resolve():(c(We,Le,n,a,i,null,o,s,u),setActiveBranch(Se,Le))):We&&isSameVNodeType(ge,We)?(c(We,ge,n,a,i,Se,o,s,u),Se.resolve(!0)):(c(null,ge,Se.hiddenContainer,null,i,Se,o,s,u),Se.deps<=0&&Se.resolve()));else if(We&&isSameVNodeType(ge,We))c(We,ge,n,a,i,Se,o,s,u),setActiveBranch(Se,ge);else if(triggerEvent(e,"onPending"),Se.pendingBranch=ge,Se.pendingId++,c(null,ge,Se.hiddenContainer,null,i,Se,o,s,u),Se.deps<=0)Se.resolve();else{const{timeout:De,pendingId:we}=Se;De>0?setTimeout(()=>{Se.pendingId===we&&Se.fallback(Le)},De):De===0&&Se.fallback(Le)}}function createSuspenseBoundary(t,e,n,a,i,o,s,u,c,f,L=!1){const{p:Se,m:ge,um:Le,n:We,o:{parentNode:$e,remove:Qe}}=f;let Ue;const De=isVNodeSuspensible(t);De&&e!=null&&e.pendingBranch&&(Ue=e.pendingId,e.deps++);const we=t.props?toNumber$1(t.props.timeout):void 0,ve={vnode:t,parent:e,parentComponent:n,isSVG:s,container:a,hiddenContainer:i,anchor:o,deps:0,pendingId:0,timeout:typeof we=="number"?we:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:L,isUnmounted:!1,effects:[],resolve(Ce=!1,Ee=!1){const{vnode:xe,activeBranch:re,pendingBranch:Ae,pendingId:_,effects:d,parentComponent:g,container:de}=ve;if(ve.isHydrating)ve.isHydrating=!1;else if(!Ce){const Be=re&&Ae.transition&&Ae.transition.mode==="out-in";Be&&(re.transition.afterLeave=()=>{_===ve.pendingId&&ge(Ae,de,Me,0)});let{anchor:Me}=ve;re&&(Me=We(re),Le(re,g,ve,!0)),Be||ge(Ae,de,Me,0)}setActiveBranch(ve,Ae),ve.pendingBranch=null,ve.isInFallback=!1;let m=ve.parent,Oe=!1;for(;m;){if(m.pendingBranch){m.effects.push(...d),Oe=!0;break}m=m.parent}Oe||queuePostFlushCb(d),ve.effects=[],De&&e&&e.pendingBranch&&Ue===e.pendingId&&(e.deps--,e.deps===0&&!Ee&&e.resolve()),triggerEvent(xe,"onResolve")},fallback(Ce){if(!ve.pendingBranch)return;const{vnode:Ee,activeBranch:xe,parentComponent:re,container:Ae,isSVG:_}=ve;triggerEvent(Ee,"onFallback");const d=We(xe),g=()=>{ve.isInFallback&&(Se(null,Ce,Ae,d,re,null,_,u,c),setActiveBranch(ve,Ce))},de=Ce.transition&&Ce.transition.mode==="out-in";de&&(xe.transition.afterLeave=g),ve.isInFallback=!0,Le(xe,re,null,!0),de||g()},move(Ce,Ee,xe){ve.activeBranch&&ge(ve.activeBranch,Ce,Ee,xe),ve.container=Ce},next(){return ve.activeBranch&&We(ve.activeBranch)},registerDep(Ce,Ee){const xe=!!ve.pendingBranch;xe&&ve.deps++;const re=Ce.vnode.el;Ce.asyncDep.catch(Ae=>{handleError(Ae,Ce,0)}).then(Ae=>{if(Ce.isUnmounted||ve.isUnmounted||ve.pendingId!==Ce.suspenseId)return;Ce.asyncResolved=!0;const{vnode:_}=Ce;handleSetupResult(Ce,Ae,!1),re&&(_.el=re);const d=!re&&Ce.subTree.el;Ee(Ce,_,$e(re||Ce.subTree.el),re?null:We(Ce.subTree),ve,s,c),d&&Qe(d),updateHOCHostEl(Ce,_.el),xe&&--ve.deps===0&&ve.resolve()})},unmount(Ce,Ee){ve.isUnmounted=!0,ve.activeBranch&&Le(ve.activeBranch,n,Ce,Ee),ve.pendingBranch&&Le(ve.pendingBranch,n,Ce,Ee)}};return ve}function hydrateSuspense(t,e,n,a,i,o,s,u,c){const f=e.suspense=createSuspenseBoundary(e,a,n,t.parentNode,document.createElement("div"),null,i,o,s,u,!0),L=c(t,f.pendingBranch=e.ssContent,n,f,o,s);return f.deps===0&&f.resolve(!1,!0),L}function normalizeSuspenseChildren(t){const{shapeFlag:e,children:n}=t,a=e&32;t.ssContent=normalizeSuspenseSlot(a?n.default:n),t.ssFallback=a?normalizeSuspenseSlot(n.fallback):createVNode(Comment)}function normalizeSuspenseSlot(t){let e;if(isFunction(t)){const n=isBlockTreeEnabled&&t._c;n&&(t._d=!1,openBlock()),t=t(),n&&(t._d=!0,e=currentBlock,closeBlock())}return isArray$2(t)&&(t=filterSingleRoot(t)),t=normalizeVNode(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$2(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function setActiveBranch(t,e){t.activeBranch=e;const{vnode:n,parentComponent:a}=t,i=n.el=e.el;a&&a.subTree===n&&(a.vnode.el=i,updateHOCHostEl(a,i))}function isVNodeSuspensible(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function watchEffect(t,e){return doWatch(t,null,e)}function watchPostEffect(t,e){return doWatch(t,null,{flush:"post"})}function watchSyncEffect(t,e){return doWatch(t,null,{flush:"sync"})}const INITIAL_WATCHER_VALUE={};function watch(t,e,n){return doWatch(t,e,n)}function doWatch(t,e,{immediate:n,deep:a,flush:i,onTrack:o,onTrigger:s}=EMPTY_OBJ){var u;const c=getCurrentScope()===((u=currentInstance)==null?void 0:u.scope)?currentInstance:null;let f,L=!1,Se=!1;if(isRef(t)?(f=()=>t.value,L=isShallow(t)):isReactive(t)?(f=()=>t,a=!0):isArray$2(t)?(Se=!0,L=t.some(ve=>isReactive(ve)||isShallow(ve)),f=()=>t.map(ve=>{if(isRef(ve))return ve.value;if(isReactive(ve))return traverse(ve);if(isFunction(ve))return callWithErrorHandling(ve,c,2)})):isFunction(t)?e?f=()=>callWithErrorHandling(t,c,2):f=()=>{if(!(c&&c.isUnmounted))return ge&&ge(),callWithAsyncErrorHandling(t,c,3,[Le])}:f=NOOP,e&&a){const ve=f;f=()=>traverse(ve())}let ge,Le=ve=>{ge=De.onStop=()=>{callWithErrorHandling(ve,c,4)}},We;if(isInSSRComponentSetup)if(Le=NOOP,e?n&&callWithAsyncErrorHandling(e,c,3,[f(),Se?[]:void 0,Le]):f(),i==="sync"){const ve=useSSRContext();We=ve.__watcherHandles||(ve.__watcherHandles=[])}else return NOOP;let $e=Se?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const Qe=()=>{if(De.active)if(e){const ve=De.run();(a||L||(Se?ve.some((Ce,Ee)=>hasChanged(Ce,$e[Ee])):hasChanged(ve,$e)))&&(ge&&ge(),callWithAsyncErrorHandling(e,c,3,[ve,$e===INITIAL_WATCHER_VALUE?void 0:Se&&$e[0]===INITIAL_WATCHER_VALUE?[]:$e,Le]),$e=ve)}else De.run()};Qe.allowRecurse=!!e;let Ue;i==="sync"?Ue=Qe:i==="post"?Ue=()=>queuePostRenderEffect(Qe,c&&c.suspense):(Qe.pre=!0,c&&(Qe.id=c.uid),Ue=()=>queueJob(Qe));const De=new ReactiveEffect(f,Ue);e?n?Qe():$e=De.run():i==="post"?queuePostRenderEffect(De.run.bind(De),c&&c.suspense):De.run();const we=()=>{De.stop(),c&&c.scope&&remove(c.scope.effects,De)};return We&&We.push(we),we}function instanceWatch(t,e,n){const a=this.proxy,i=isString$1(t)?t.includes(".")?createPathGetter(a,t):()=>a[t]:t.bind(a,a);let o;isFunction(e)?o=e:(o=e.handler,n=e);const s=currentInstance;setCurrentInstance(this);const u=doWatch(i,o.bind(a),n);return s?setCurrentInstance(s):unsetCurrentInstance(),u}function createPathGetter(t,e){const n=e.split(".");return()=>{let a=t;for(let i=0;i<n.length&&a;i++)a=a[n[i]];return a}}function traverse(t,e){if(!isObject$1(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray$2(t))for(let n=0;n<t.length;n++)traverse(t[n],e);else if(isSet(t)||isMap(t))t.forEach(n=>{traverse(n,e)});else if(isPlainObject(t))for(const n in t)traverse(t[n],e);return t}function withDirectives(t,e){const n=currentRenderingInstance;if(n===null)return t;const a=getExposeProxy(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[s,u,c,f=EMPTY_OBJ]=e[o];s&&(isFunction(s)&&(s={mounted:s,updated:s}),s.deep&&traverse(u),i.push({dir:s,instance:a,value:u,oldValue:void 0,arg:c,modifiers:f}))}return t}function invokeDirectiveHook(t,e,n,a){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const u=i[s];o&&(u.oldValue=o[s].value);let c=u.dir[a];c&&(pauseTracking(),callWithAsyncErrorHandling(c,n,8,[t.el,u,t,e]),resetTracking())}}function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(t,{slots:e}){const n=getCurrentInstance(),a=useTransitionState();let i;return()=>{const o=e.default&&getTransitionRawChildren(e.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const $e of o)if($e.type!==Comment){s=$e;break}}const u=toRaw(t),{mode:c}=u;if(a.isLeaving)return emptyPlaceholder(s);const f=getKeepAliveChild(s);if(!f)return emptyPlaceholder(s);const L=resolveTransitionHooks(f,u,a,n);setTransitionHooks(f,L);const Se=n.subTree,ge=Se&&getKeepAliveChild(Se);let Le=!1;const{getTransitionKey:We}=f.type;if(We){const $e=We();i===void 0?i=$e:$e!==i&&(i=$e,Le=!0)}if(ge&&ge.type!==Comment&&(!isSameVNodeType(f,ge)||Le)){const $e=resolveTransitionHooks(ge,u,a,n);if(setTransitionHooks(ge,$e),c==="out-in")return a.isLeaving=!0,$e.afterLeave=()=>{a.isLeaving=!1,n.update.active!==!1&&n.update()},emptyPlaceholder(s);c==="in-out"&&f.type!==Comment&&($e.delayLeave=(Qe,Ue,De)=>{const we=getLeavingNodesForType(a,ge);we[String(ge.key)]=ge,Qe._leaveCb=()=>{Ue(),Qe._leaveCb=void 0,delete L.delayedLeave},L.delayedLeave=De})}return s}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:n}=t;let a=n.get(e.type);return a||(a=Object.create(null),n.set(e.type,a)),a}function resolveTransitionHooks(t,e,n,a){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:f,onEnterCancelled:L,onBeforeLeave:Se,onLeave:ge,onAfterLeave:Le,onLeaveCancelled:We,onBeforeAppear:$e,onAppear:Qe,onAfterAppear:Ue,onAppearCancelled:De}=e,we=String(t.key),ve=getLeavingNodesForType(n,t),Ce=(re,Ae)=>{re&&callWithAsyncErrorHandling(re,a,9,Ae)},Ee=(re,Ae)=>{const _=Ae[1];Ce(re,Ae),isArray$2(re)?re.every(d=>d.length<=1)&&_():re.length<=1&&_()},xe={mode:o,persisted:s,beforeEnter(re){let Ae=u;if(!n.isMounted)if(i)Ae=$e||u;else return;re._leaveCb&&re._leaveCb(!0);const _=ve[we];_&&isSameVNodeType(t,_)&&_.el._leaveCb&&_.el._leaveCb(),Ce(Ae,[re])},enter(re){let Ae=c,_=f,d=L;if(!n.isMounted)if(i)Ae=Qe||c,_=Ue||f,d=De||L;else return;let g=!1;const de=re._enterCb=m=>{g||(g=!0,m?Ce(d,[re]):Ce(_,[re]),xe.delayedLeave&&xe.delayedLeave(),re._enterCb=void 0)};Ae?Ee(Ae,[re,de]):de()},leave(re,Ae){const _=String(t.key);if(re._enterCb&&re._enterCb(!0),n.isUnmounting)return Ae();Ce(Se,[re]);let d=!1;const g=re._leaveCb=de=>{d||(d=!0,Ae(),de?Ce(We,[re]):Ce(Le,[re]),re._leaveCb=void 0,ve[_]===t&&delete ve[_])};ve[_]=t,ge?Ee(ge,[re,g]):g()},clone(re){return resolveTransitionHooks(re,e,n,a)}};return xe}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,n){let a=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const u=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Fragment?(s.patchFlag&128&&i++,a=a.concat(getTransitionRawChildren(s.children,e,u))):(e||s.type!==Comment)&&a.push(u!=null?cloneVNode(s,{key:u}):s)}if(i>1)for(let o=0;o<a.length;o++)a[o].patchFlag=-2;return a}function defineComponent(t,e){return isFunction(t)?(()=>extend({name:t.name},e,{setup:t}))():t}const isAsyncWrapper=t=>!!t.type.__asyncLoader;function defineAsyncComponent(t){isFunction(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:a,delay:i=200,timeout:o,suspensible:s=!0,onError:u}=t;let c=null,f,L=0;const Se=()=>(L++,c=null,ge()),ge=()=>{let Le;return c||(Le=c=e().catch(We=>{if(We=We instanceof Error?We:new Error(String(We)),u)return new Promise(($e,Qe)=>{u(We,()=>$e(Se()),()=>Qe(We),L+1)});throw We}).then(We=>Le!==c&&c?c:(We&&(We.__esModule||We[Symbol.toStringTag]==="Module")&&(We=We.default),f=We,We)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:ge,get __asyncResolved(){return f},setup(){const Le=currentInstance;if(f)return()=>createInnerComp(f,Le);const We=De=>{c=null,handleError(De,Le,13,!a)};if(s&&Le.suspense||isInSSRComponentSetup)return ge().then(De=>()=>createInnerComp(De,Le)).catch(De=>(We(De),()=>a?createVNode(a,{error:De}):null));const $e=ref$2(!1),Qe=ref$2(),Ue=ref$2(!!i);return i&&setTimeout(()=>{Ue.value=!1},i),o!=null&&setTimeout(()=>{if(!$e.value&&!Qe.value){const De=new Error(`Async component timed out after ${o}ms.`);We(De),Qe.value=De}},o),ge().then(()=>{$e.value=!0,Le.parent&&isKeepAlive(Le.parent.vnode)&&queueJob(Le.parent.update)}).catch(De=>{We(De),Qe.value=De}),()=>{if($e.value&&f)return createInnerComp(f,Le);if(Qe.value&&a)return createVNode(a,{error:Qe.value});if(n&&!Ue.value)return createVNode(n)}}})}function createInnerComp(t,e){const{ref:n,props:a,children:i,ce:o}=e.vnode,s=createVNode(t,a,i);return s.ref=n,s.ce=o,delete e.vnode.ce,s}const isKeepAlive=t=>t.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=getCurrentInstance(),a=n.ctx;if(!a.renderer)return()=>{const De=e.default&&e.default();return De&&De.length===1?De[0]:De};const i=new Map,o=new Set;let s=null;const u=n.suspense,{renderer:{p:c,m:f,um:L,o:{createElement:Se}}}=a,ge=Se("div");a.activate=(De,we,ve,Ce,Ee)=>{const xe=De.component;f(De,we,ve,0,u),c(xe.vnode,De,we,ve,xe,u,Ce,De.slotScopeIds,Ee),queuePostRenderEffect(()=>{xe.isDeactivated=!1,xe.a&&invokeArrayFns(xe.a);const re=De.props&&De.props.onVnodeMounted;re&&invokeVNodeHook(re,xe.parent,De)},u)},a.deactivate=De=>{const we=De.component;f(De,ge,null,1,u),queuePostRenderEffect(()=>{we.da&&invokeArrayFns(we.da);const ve=De.props&&De.props.onVnodeUnmounted;ve&&invokeVNodeHook(ve,we.parent,De),we.isDeactivated=!0},u)};function Le(De){resetShapeFlag(De),L(De,n,u,!0)}function We(De){i.forEach((we,ve)=>{const Ce=getComponentName(we.type);Ce&&(!De||!De(Ce))&&$e(ve)})}function $e(De){const we=i.get(De);!s||!isSameVNodeType(we,s)?Le(we):s&&resetShapeFlag(s),i.delete(De),o.delete(De)}watch(()=>[t.include,t.exclude],([De,we])=>{De&&We(ve=>matches(De,ve)),we&&We(ve=>!matches(we,ve))},{flush:"post",deep:!0});let Qe=null;const Ue=()=>{Qe!=null&&i.set(Qe,getInnerChild(n.subTree))};return onMounted(Ue),onUpdated(Ue),onBeforeUnmount(()=>{i.forEach(De=>{const{subTree:we,suspense:ve}=n,Ce=getInnerChild(we);if(De.type===Ce.type&&De.key===Ce.key){resetShapeFlag(Ce);const Ee=Ce.component.da;Ee&&queuePostRenderEffect(Ee,ve);return}Le(De)})}),()=>{if(Qe=null,!e.default)return null;const De=e.default(),we=De[0];if(De.length>1)return s=null,De;if(!isVNode(we)||!(we.shapeFlag&4)&&!(we.shapeFlag&128))return s=null,we;let ve=getInnerChild(we);const Ce=ve.type,Ee=getComponentName(isAsyncWrapper(ve)?ve.type.__asyncResolved||{}:Ce),{include:xe,exclude:re,max:Ae}=t;if(xe&&(!Ee||!matches(xe,Ee))||re&&Ee&&matches(re,Ee))return s=ve,we;const _=ve.key==null?Ce:ve.key,d=i.get(_);return ve.el&&(ve=cloneVNode(ve),we.shapeFlag&128&&(we.ssContent=ve)),Qe=_,d?(ve.el=d.el,ve.component=d.component,ve.transition&&setTransitionHooks(ve,ve.transition),ve.shapeFlag|=512,o.delete(_),o.add(_)):(o.add(_),Ae&&o.size>parseInt(Ae,10)&&$e(o.values().next().value)),ve.shapeFlag|=256,s=ve,isSuspense(we.type)?we:ve}}},KeepAlive=KeepAliveImpl;function matches(t,e){return isArray$2(t)?t.some(n=>matches(n,e)):isString$1(t)?t.split(",").includes(e):isRegExp(t)?t.test(e):!1}function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,n=currentInstance){const a=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(injectHook(e,a,n),n){let i=n.parent;for(;i&&i.parent;)isKeepAlive(i.parent.vnode)&&injectToKeepAliveRoot(a,e,n,i),i=i.parent}}function injectToKeepAliveRoot(t,e,n,a){const i=injectHook(e,t,a,!0);onUnmounted(()=>{remove(a[e],i)},n)}function resetShapeFlag(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function getInnerChild(t){return t.shapeFlag&128?t.ssContent:t}function injectHook(t,e,n=currentInstance,a=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const u=callWithAsyncErrorHandling(e,n,t,s);return unsetCurrentInstance(),resetTracking(),u});return a?i.unshift(o):i.push(o),o}}const createHook=t=>(e,n=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...a)=>e(...a),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(t){return isString$1(t)?resolveAsset(COMPONENTS,t,!1)||t:t||NULL_DYNAMIC_COMPONENT}function resolveDirective(t){return resolveAsset(DIRECTIVES,t)}function resolveAsset(t,e,n=!0,a=!1){const i=currentRenderingInstance||currentInstance;if(i){const o=i.type;if(t===COMPONENTS){const u=getComponentName(o,!1);if(u&&(u===e||u===camelize(e)||u===capitalize(camelize(e))))return o}const s=resolve(i[t]||o[t],e)||resolve(i.appContext[t],e);return!s&&a?o:s}}function resolve(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}function renderList(t,e,n,a){let i;const o=n&&n[a];if(isArray$2(t)||isString$1(t)){i=new Array(t.length);for(let s=0,u=t.length;s<u;s++)i[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(isObject$1(t))if(t[Symbol.iterator])i=Array.from(t,(s,u)=>e(s,u,void 0,o&&o[u]));else{const s=Object.keys(t);i=new Array(s.length);for(let u=0,c=s.length;u<c;u++){const f=s[u];i[u]=e(t[f],f,u,o&&o[u])}}else i=[];return n&&(n[a]=i),i}function createSlots(t,e){for(let n=0;n<e.length;n++){const a=e[n];if(isArray$2(a))for(let i=0;i<a.length;i++)t[a[i].name]=a[i].fn;else a&&(t[a.name]=a.key?(...i)=>{const o=a.fn(...i);return o&&(o.key=a.key),o}:a.fn)}return t}function renderSlot(t,e,n={},a,i){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return e!=="default"&&(n.name=e),createVNode("slot",n,a&&a());let o=t[e];o&&o._c&&(o._d=!1),openBlock();const s=o&&ensureValidVNode(o(n)),u=createBlock(Fragment,{key:n.key||s&&s.key||`_${e}`},s||(a?a():[]),s&&t._===1?64:-2);return!i&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function ensureValidVNode(t){return t.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?t:null}function toHandlers(t,e){const n={};for(const a in t)n[e&&/[A-Z]/.test(a)?`on:${a}`:toHandlerKey(a)]=t[a];return n}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn(t,e),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:n,setupState:a,data:i,props:o,accessCache:s,type:u,appContext:c}=t;let f;if(e[0]!=="$"){const Le=s[e];if(Le!==void 0)switch(Le){case 1:return a[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(hasSetupBinding(a,e))return s[e]=1,a[e];if(i!==EMPTY_OBJ&&hasOwn(i,e))return s[e]=2,i[e];if((f=t.propsOptions[0])&&hasOwn(f,e))return s[e]=3,o[e];if(n!==EMPTY_OBJ&&hasOwn(n,e))return s[e]=4,n[e];shouldCacheAccess&&(s[e]=0)}}const L=publicPropertiesMap[e];let Se,ge;if(L)return e==="$attrs"&&track$1(t,"get",e),L(t);if((Se=u.__cssModules)&&(Se=Se[e]))return Se;if(n!==EMPTY_OBJ&&hasOwn(n,e))return s[e]=4,n[e];if(ge=c.config.globalProperties,hasOwn(ge,e))return ge[e]},set({_:t},e,n){const{data:a,setupState:i,ctx:o}=t;return hasSetupBinding(i,e)?(i[e]=n,!0):a!==EMPTY_OBJ&&hasOwn(a,e)?(a[e]=n,!0):hasOwn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:a,appContext:i,propsOptions:o}},s){let u;return!!n[s]||t!==EMPTY_OBJ&&hasOwn(t,s)||hasSetupBinding(e,s)||(u=o[0])&&hasOwn(u,s)||hasOwn(a,s)||hasOwn(publicPropertiesMap,s)||hasOwn(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:hasOwn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},RuntimeCompiledPublicInstanceProxyHandlers=extend({},PublicInstanceProxyHandlers,{get(t,e){if(e!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(t,e,t)},has(t,e){return e[0]!=="_"&&!isGloballyWhitelisted(e)}});function defineProps(){return null}function defineEmits(){return null}function defineExpose(t){}function defineOptions(t){}function defineSlots(){return null}function defineModel(){}function withDefaults(t,e){return null}function useSlots(){return getContext().slots}function useAttrs(){return getContext().attrs}function useModel(t,e,n){const a=getCurrentInstance();if(n&&n.local){const i=ref$2(t[e]);return watch(()=>t[e],o=>i.value=o),watch(i,o=>{o!==t[e]&&a.emit(`update:${e}`,o)}),i}else return{__v_isRef:!0,get value(){return t[e]},set value(i){a.emit(`update:${e}`,i)}}}function getContext(){const t=getCurrentInstance();return t.setupContext||(t.setupContext=createSetupContext(t))}function normalizePropsOrEmits(t){return isArray$2(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function mergeDefaults(t,e){const n=normalizePropsOrEmits(t);for(const a in e){if(a.startsWith("__skip"))continue;let i=n[a];i?isArray$2(i)||isFunction(i)?i=n[a]={type:i,default:e[a]}:i.default=e[a]:i===null&&(i=n[a]={default:e[a]}),i&&e[`__skip_${a}`]&&(i.skipFactory=!0)}return n}function mergeModels(t,e){return!t||!e?t||e:isArray$2(t)&&isArray$2(e)?t.concat(e):extend({},normalizePropsOrEmits(t),normalizePropsOrEmits(e))}function createPropsRestProxy(t,e){const n={};for(const a in t)e.includes(a)||Object.defineProperty(n,a,{enumerable:!0,get:()=>t[a]});return n}function withAsyncContext(t){const e=getCurrentInstance();let n=t();return unsetCurrentInstance(),isPromise(n)&&(n=n.catch(a=>{throw setCurrentInstance(e),a})),[n,()=>setCurrentInstance(e)]}let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),n=t.proxy,a=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:u,provide:c,inject:f,created:L,beforeMount:Se,mounted:ge,beforeUpdate:Le,updated:We,activated:$e,deactivated:Qe,beforeDestroy:Ue,beforeUnmount:De,destroyed:we,unmounted:ve,render:Ce,renderTracked:Ee,renderTriggered:xe,errorCaptured:re,serverPrefetch:Ae,expose:_,inheritAttrs:d,components:g,directives:de,filters:m}=e;if(f&&resolveInjections(f,a,null),s)for(const Me in s){const Fe=s[Me];isFunction(Fe)&&(a[Me]=Fe.bind(n))}if(i){const Me=i.call(n,n);isObject$1(Me)&&(t.data=reactive(Me))}if(shouldCacheAccess=!0,o)for(const Me in o){const Fe=o[Me],$=isFunction(Fe)?Fe.bind(n,n):isFunction(Fe.get)?Fe.get.bind(n,n):NOOP,ee=!isFunction(Fe)&&isFunction(Fe.set)?Fe.set.bind(n):NOOP,ke=computed({get:$,set:ee});Object.defineProperty(a,Me,{enumerable:!0,configurable:!0,get:()=>ke.value,set:je=>ke.value=je})}if(u)for(const Me in u)createWatcher(u[Me],a,n,Me);if(c){const Me=isFunction(c)?c.call(n):c;Reflect.ownKeys(Me).forEach(Fe=>{provide(Fe,Me[Fe])})}L&&callHook$1(L,t,"c");function Be(Me,Fe){isArray$2(Fe)?Fe.forEach($=>Me($.bind(n))):Fe&&Me(Fe.bind(n))}if(Be(onBeforeMount,Se),Be(onMounted,ge),Be(onBeforeUpdate,Le),Be(onUpdated,We),Be(onActivated,$e),Be(onDeactivated,Qe),Be(onErrorCaptured,re),Be(onRenderTracked,Ee),Be(onRenderTriggered,xe),Be(onBeforeUnmount,De),Be(onUnmounted,ve),Be(onServerPrefetch,Ae),isArray$2(_))if(_.length){const Me=t.exposed||(t.exposed={});_.forEach(Fe=>{Object.defineProperty(Me,Fe,{get:()=>n[Fe],set:$=>n[Fe]=$})})}else t.exposed||(t.exposed={});Ce&&t.render===NOOP&&(t.render=Ce),d!=null&&(t.inheritAttrs=d),g&&(t.components=g),de&&(t.directives=de)}function resolveInjections(t,e,n=NOOP){isArray$2(t)&&(t=normalizeInject(t));for(const a in t){const i=t[a];let o;isObject$1(i)?"default"in i?o=inject(i.from||a,i.default,!0):o=inject(i.from||a):o=inject(i),isRef(o)?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[a]=o}}function callHook$1(t,e,n){callWithAsyncErrorHandling(isArray$2(t)?t.map(a=>a.bind(e.proxy)):t.bind(e.proxy),e,n)}function createWatcher(t,e,n,a){const i=a.includes(".")?createPathGetter(n,a):()=>n[a];if(isString$1(t)){const o=e[t];isFunction(o)&&watch(i,o)}else if(isFunction(t))watch(i,t.bind(n));else if(isObject$1(t))if(isArray$2(t))t.forEach(o=>createWatcher(o,e,n,a));else{const o=isFunction(t.handler)?t.handler.bind(n):e[t.handler];isFunction(o)&&watch(i,o,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:n,extends:a}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,u=o.get(e);let c;return u?c=u:!i.length&&!n&&!a?c=e:(c={},i.length&&i.forEach(f=>mergeOptions$1(c,f,s,!0)),mergeOptions$1(c,e,s)),isObject$1(e)&&o.set(e,c),c}function mergeOptions$1(t,e,n,a=!1){const{mixins:i,extends:o}=e;o&&mergeOptions$1(t,o,n,!0),i&&i.forEach(s=>mergeOptions$1(t,s,n,!0));for(const s in e)if(!(a&&s==="expose")){const u=internalOptionMergeStrats[s]||n&&n[s];t[s]=u?u(t[s],e[s]):e[s]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction(t)?t.call(this,this):t,isFunction(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$2(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(Object.create(null),t,e):e}function mergeEmitsOrPropsOptions(t,e){return t?isArray$2(t)&&isArray$2(e)?[...new Set([...t,...e])]:extend(Object.create(null),normalizePropsOrEmits(t),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const n=extend(Object.create(null),t);for(const a in e)n[a]=mergeAsArray(t[a],e[a]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(t,e){return function(a,i=null){isFunction(a)||(a=extend({},a)),i!=null&&!isObject$1(i)&&(i=null);const o=createAppContext(),s=new Set;let u=!1;const c=o.app={_uid:uid$1++,_component:a,_props:i,_container:null,_context:o,_instance:null,version:version$5,get config(){return o.config},set config(f){},use(f,...L){return s.has(f)||(f&&isFunction(f.install)?(s.add(f),f.install(c,...L)):isFunction(f)&&(s.add(f),f(c,...L))),c},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),c},component(f,L){return L?(o.components[f]=L,c):o.components[f]},directive(f,L){return L?(o.directives[f]=L,c):o.directives[f]},mount(f,L,Se){if(!u){const ge=createVNode(a,i);return ge.appContext=o,L&&e?e(ge,f):t(ge,f,Se),u=!0,c._container=f,f.__vue_app__=c,getExposeProxy(ge.component)||ge.component.proxy}},unmount(){u&&(t(null,c._container),delete c._container.__vue_app__)},provide(f,L){return o.provides[f]=L,c},runWithContext(f){currentApp=c;try{return f()}finally{currentApp=null}}};return c}}let currentApp=null;function provide(t,e){if(currentInstance){let n=currentInstance.provides;const a=currentInstance.parent&&currentInstance.parent.provides;a===n&&(n=currentInstance.provides=Object.create(a)),n[t]=e}}function inject(t,e,n=!1){const a=currentInstance||currentRenderingInstance;if(a||currentApp){const i=a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:currentApp._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&isFunction(e)?e.call(a&&a.proxy):e}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}function initProps(t,e,n,a=!1){const i={},o={};def(o,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=a?i:shallowReactive(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function updateProps(t,e,n,a){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,u=toRaw(i),[c]=t.propsOptions;let f=!1;if((a||s>0)&&!(s&16)){if(s&8){const L=t.vnode.dynamicProps;for(let Se=0;Se<L.length;Se++){let ge=L[Se];if(isEmitListener(t.emitsOptions,ge))continue;const Le=e[ge];if(c)if(hasOwn(o,ge))Le!==o[ge]&&(o[ge]=Le,f=!0);else{const We=camelize(ge);i[We]=resolvePropValue(c,u,We,Le,t,!1)}else Le!==o[ge]&&(o[ge]=Le,f=!0)}}}else{setFullProps(t,e,i,o)&&(f=!0);let L;for(const Se in u)(!e||!hasOwn(e,Se)&&((L=hyphenate(Se))===Se||!hasOwn(e,L)))&&(c?n&&(n[Se]!==void 0||n[L]!==void 0)&&(i[Se]=resolvePropValue(c,u,Se,void 0,t,!0)):delete i[Se]);if(o!==u)for(const Se in o)(!e||!hasOwn(e,Se))&&(delete o[Se],f=!0)}f&&trigger(t,"set","$attrs")}function setFullProps(t,e,n,a){const[i,o]=t.propsOptions;let s=!1,u;if(e)for(let c in e){if(isReservedProp(c))continue;const f=e[c];let L;i&&hasOwn(i,L=camelize(c))?!o||!o.includes(L)?n[L]=f:(u||(u={}))[L]=f:isEmitListener(t.emitsOptions,c)||(!(c in a)||f!==a[c])&&(a[c]=f,s=!0)}if(o){const c=toRaw(n),f=u||EMPTY_OBJ;for(let L=0;L<o.length;L++){const Se=o[L];n[Se]=resolvePropValue(i,c,Se,f[Se],t,!hasOwn(f,Se))}}return s}function resolvePropValue(t,e,n,a,i,o){const s=t[n];if(s!=null){const u=hasOwn(s,"default");if(u&&a===void 0){const c=s.default;if(s.type!==Function&&!s.skipFactory&&isFunction(c)){const{propsDefaults:f}=i;n in f?a=f[n]:(setCurrentInstance(i),a=f[n]=c.call(null,e),unsetCurrentInstance())}else a=c}s[0]&&(o&&!u?a=!1:s[1]&&(a===""||a===hyphenate(n))&&(a=!0))}return a}function normalizePropsOptions(t,e,n=!1){const a=e.propsCache,i=a.get(t);if(i)return i;const o=t.props,s={},u=[];let c=!1;if(!isFunction(t)){const L=Se=>{c=!0;const[ge,Le]=normalizePropsOptions(Se,e,!0);extend(s,ge),Le&&u.push(...Le)};!n&&e.mixins.length&&e.mixins.forEach(L),t.extends&&L(t.extends),t.mixins&&t.mixins.forEach(L)}if(!o&&!c)return isObject$1(t)&&a.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$2(o))for(let L=0;L<o.length;L++){const Se=camelize(o[L]);validatePropName(Se)&&(s[Se]=EMPTY_OBJ)}else if(o)for(const L in o){const Se=camelize(L);if(validatePropName(Se)){const ge=o[L],Le=s[Se]=isArray$2(ge)||isFunction(ge)?{type:ge}:extend({},ge);if(Le){const We=getTypeIndex(Boolean,Le.type),$e=getTypeIndex(String,Le.type);Le[0]=We>-1,Le[1]=$e<0||We<$e,(We>-1||hasOwn(Le,"default"))&&u.push(Se)}}}const f=[s,u];return isObject$1(t)&&a.set(t,f),f}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray$2(e)?e.findIndex(n=>isSameType(n,t)):isFunction(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray$2(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,e,n)=>{if(e._n)return e;const a=withCtx((...i)=>normalizeSlotValue(e(...i)),n);return a._c=!1,a},normalizeObjectSlots=(t,e,n)=>{const a=t._ctx;for(const i in t){if(isInternalKey(i))continue;const o=t[i];if(isFunction(o))e[i]=normalizeSlot$1(i,o,a);else if(o!=null){const s=normalizeSlotValue(o);e[i]=()=>s}}},normalizeVNodeSlots=(t,e)=>{const n=normalizeSlotValue(e);t.slots.default=()=>n},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=toRaw(e),def(e,"_",n)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,n)=>{const{vnode:a,slots:i}=t;let o=!0,s=EMPTY_OBJ;if(a.shapeFlag&32){const u=e._;u?n&&u===1?o=!1:(extend(i,e),!n&&u===1&&delete i._):(o=!e.$stable,normalizeObjectSlots(e,i)),s=e}else e&&(normalizeVNodeSlots(t,e),s={default:1});if(o)for(const u in i)!isInternalKey(u)&&!(u in s)&&delete i[u]};function setRef(t,e,n,a,i=!1){if(isArray$2(t)){t.forEach((ge,Le)=>setRef(ge,e&&(isArray$2(e)?e[Le]:e),n,a,i));return}if(isAsyncWrapper(a)&&!i)return;const o=a.shapeFlag&4?getExposeProxy(a.component)||a.component.proxy:a.el,s=i?null:o,{i:u,r:c}=t,f=e&&e.r,L=u.refs===EMPTY_OBJ?u.refs={}:u.refs,Se=u.setupState;if(f!=null&&f!==c&&(isString$1(f)?(L[f]=null,hasOwn(Se,f)&&(Se[f]=null)):isRef(f)&&(f.value=null)),isFunction(c))callWithErrorHandling(c,u,12,[s,L]);else{const ge=isString$1(c),Le=isRef(c);if(ge||Le){const We=()=>{if(t.f){const $e=ge?hasOwn(Se,c)?Se[c]:L[c]:c.value;i?isArray$2($e)&&remove($e,o):isArray$2($e)?$e.includes(o)||$e.push(o):ge?(L[c]=[o],hasOwn(Se,c)&&(Se[c]=L[c])):(c.value=[o],t.k&&(L[t.k]=c.value))}else ge?(L[c]=s,hasOwn(Se,c)&&(Se[c]=s)):Le&&(c.value=s,t.k&&(L[t.k]=s))};s?(We.id=-1,queuePostRenderEffect(We,n)):We()}}}let hasMismatch=!1;const isSVGContainer=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",isComment=t=>t.nodeType===8;function createHydrationFunctions(t){const{mt:e,p:n,o:{patchProp:a,createText:i,nextSibling:o,parentNode:s,remove:u,insert:c,createComment:f}}=t,L=(Ue,De)=>{if(!De.hasChildNodes()){n(null,Ue,De),flushPostFlushCbs(),De._vnode=Ue;return}hasMismatch=!1,Se(De.firstChild,Ue,null,null,null),flushPostFlushCbs(),De._vnode=Ue,hasMismatch&&console.error("Hydration completed but contains mismatches.")},Se=(Ue,De,we,ve,Ce,Ee=!1)=>{const xe=isComment(Ue)&&Ue.data==="[",re=()=>$e(Ue,De,we,ve,Ce,xe),{type:Ae,ref:_,shapeFlag:d,patchFlag:g}=De;let de=Ue.nodeType;De.el=Ue,g===-2&&(Ee=!1,De.dynamicChildren=null);let m=null;switch(Ae){case Text:de!==3?De.children===""?(c(De.el=i(""),s(Ue),Ue),m=Ue):m=re():(Ue.data!==De.children&&(hasMismatch=!0,Ue.data=De.children),m=o(Ue));break;case Comment:de!==8||xe?m=re():m=o(Ue);break;case Static:if(xe&&(Ue=o(Ue),de=Ue.nodeType),de===1||de===3){m=Ue;const Oe=!De.children.length;for(let Be=0;Be<De.staticCount;Be++)Oe&&(De.children+=m.nodeType===1?m.outerHTML:m.data),Be===De.staticCount-1&&(De.anchor=m),m=o(m);return xe?o(m):m}else re();break;case Fragment:xe?m=We(Ue,De,we,ve,Ce,Ee):m=re();break;default:if(d&1)de!==1||De.type.toLowerCase()!==Ue.tagName.toLowerCase()?m=re():m=ge(Ue,De,we,ve,Ce,Ee);else if(d&6){De.slotScopeIds=Ce;const Oe=s(Ue);if(e(De,Oe,null,we,ve,isSVGContainer(Oe),Ee),m=xe?Qe(Ue):o(Ue),m&&isComment(m)&&m.data==="teleport end"&&(m=o(m)),isAsyncWrapper(De)){let Be;xe?(Be=createVNode(Fragment),Be.anchor=m?m.previousSibling:Oe.lastChild):Be=Ue.nodeType===3?createTextVNode(""):createVNode("div"),Be.el=Ue,De.component.subTree=Be}}else d&64?de!==8?m=re():m=De.type.hydrate(Ue,De,we,ve,Ce,Ee,t,Le):d&128&&(m=De.type.hydrate(Ue,De,we,ve,isSVGContainer(s(Ue)),Ce,Ee,t,Se))}return _!=null&&setRef(_,null,ve,De),m},ge=(Ue,De,we,ve,Ce,Ee)=>{Ee=Ee||!!De.dynamicChildren;const{type:xe,props:re,patchFlag:Ae,shapeFlag:_,dirs:d}=De,g=xe==="input"&&d||xe==="option";if(g||Ae!==-1){if(d&&invokeDirectiveHook(De,null,we,"created"),re)if(g||!Ee||Ae&48)for(const m in re)(g&&m.endsWith("value")||isOn(m)&&!isReservedProp(m))&&a(Ue,m,null,re[m],!1,void 0,we);else re.onClick&&a(Ue,"onClick",null,re.onClick,!1,void 0,we);let de;if((de=re&&re.onVnodeBeforeMount)&&invokeVNodeHook(de,we,De),d&&invokeDirectiveHook(De,null,we,"beforeMount"),((de=re&&re.onVnodeMounted)||d)&&queueEffectWithSuspense(()=>{de&&invokeVNodeHook(de,we,De),d&&invokeDirectiveHook(De,null,we,"mounted")},ve),_&16&&!(re&&(re.innerHTML||re.textContent))){let m=Le(Ue.firstChild,De,Ue,we,ve,Ce,Ee);for(;m;){hasMismatch=!0;const Oe=m;m=m.nextSibling,u(Oe)}}else _&8&&Ue.textContent!==De.children&&(hasMismatch=!0,Ue.textContent=De.children)}return Ue.nextSibling},Le=(Ue,De,we,ve,Ce,Ee,xe)=>{xe=xe||!!De.dynamicChildren;const re=De.children,Ae=re.length;for(let _=0;_<Ae;_++){const d=xe?re[_]:re[_]=normalizeVNode(re[_]);if(Ue)Ue=Se(Ue,d,ve,Ce,Ee,xe);else{if(d.type===Text&&!d.children)continue;hasMismatch=!0,n(null,d,we,null,ve,Ce,isSVGContainer(we),Ee)}}return Ue},We=(Ue,De,we,ve,Ce,Ee)=>{const{slotScopeIds:xe}=De;xe&&(Ce=Ce?Ce.concat(xe):xe);const re=s(Ue),Ae=Le(o(Ue),De,re,we,ve,Ce,Ee);return Ae&&isComment(Ae)&&Ae.data==="]"?o(De.anchor=Ae):(hasMismatch=!0,c(De.anchor=f("]"),re,Ae),Ae)},$e=(Ue,De,we,ve,Ce,Ee)=>{if(hasMismatch=!0,De.el=null,Ee){const Ae=Qe(Ue);for(;;){const _=o(Ue);if(_&&_!==Ae)u(_);else break}}const xe=o(Ue),re=s(Ue);return u(Ue),n(null,De,re,xe,we,ve,isSVGContainer(re),Ce),xe},Qe=Ue=>{let De=0;for(;Ue;)if(Ue=o(Ue),Ue&&isComment(Ue)&&(Ue.data==="["&&De++,Ue.data==="]")){if(De===0)return o(Ue);De--}return Ue};return[L,Se]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function createHydrationRenderer(t){return baseCreateRenderer(t,createHydrationFunctions)}function baseCreateRenderer(t,e){const n=getGlobalThis();n.__VUE__=!0;const{insert:a,remove:i,patchProp:o,createElement:s,createText:u,createComment:c,setText:f,setElementText:L,parentNode:Se,nextSibling:ge,setScopeId:Le=NOOP,insertStaticContent:We}=t,$e=(Je,Ke,Ge,Ye=null,Xe=null,rt=null,ot=!1,it=null,lt=!!Ke.dynamicChildren)=>{if(Je===Ke)return;Je&&!isSameVNodeType(Je,Ke)&&(Ye=et(Je),je(Je,Xe,rt,!0),Je=null),Ke.patchFlag===-2&&(lt=!1,Ke.dynamicChildren=null);const{type:ct,ref:dt,shapeFlag:gt}=Ke;switch(ct){case Text:Qe(Je,Ke,Ge,Ye);break;case Comment:Ue(Je,Ke,Ge,Ye);break;case Static:Je==null&&De(Ke,Ge,Ye,ot);break;case Fragment:g(Je,Ke,Ge,Ye,Xe,rt,ot,it,lt);break;default:gt&1?Ce(Je,Ke,Ge,Ye,Xe,rt,ot,it,lt):gt&6?de(Je,Ke,Ge,Ye,Xe,rt,ot,it,lt):(gt&64||gt&128)&&ct.process(Je,Ke,Ge,Ye,Xe,rt,ot,it,lt,Ze)}dt!=null&&Xe&&setRef(dt,Je&&Je.ref,rt,Ke||Je,!Ke)},Qe=(Je,Ke,Ge,Ye)=>{if(Je==null)a(Ke.el=u(Ke.children),Ge,Ye);else{const Xe=Ke.el=Je.el;Ke.children!==Je.children&&f(Xe,Ke.children)}},Ue=(Je,Ke,Ge,Ye)=>{Je==null?a(Ke.el=c(Ke.children||""),Ge,Ye):Ke.el=Je.el},De=(Je,Ke,Ge,Ye)=>{[Je.el,Je.anchor]=We(Je.children,Ke,Ge,Ye,Je.el,Je.anchor)},we=({el:Je,anchor:Ke},Ge,Ye)=>{let Xe;for(;Je&&Je!==Ke;)Xe=ge(Je),a(Je,Ge,Ye),Je=Xe;a(Ke,Ge,Ye)},ve=({el:Je,anchor:Ke})=>{let Ge;for(;Je&&Je!==Ke;)Ge=ge(Je),i(Je),Je=Ge;i(Ke)},Ce=(Je,Ke,Ge,Ye,Xe,rt,ot,it,lt)=>{ot=ot||Ke.type==="svg",Je==null?Ee(Ke,Ge,Ye,Xe,rt,ot,it,lt):Ae(Je,Ke,Xe,rt,ot,it,lt)},Ee=(Je,Ke,Ge,Ye,Xe,rt,ot,it)=>{let lt,ct;const{type:dt,props:gt,shapeFlag:vt,transition:pt,dirs:_t}=Je;if(lt=Je.el=s(Je.type,rt,gt&&gt.is,gt),vt&8?L(lt,Je.children):vt&16&&re(Je.children,lt,null,Ye,Xe,rt&&dt!=="foreignObject",ot,it),_t&&invokeDirectiveHook(Je,null,Ye,"created"),xe(lt,Je,Je.scopeId,ot,Ye),gt){for(const ft in gt)ft!=="value"&&!isReservedProp(ft)&&o(lt,ft,null,gt[ft],rt,Je.children,Ye,Xe,at);"value"in gt&&o(lt,"value",null,gt.value),(ct=gt.onVnodeBeforeMount)&&invokeVNodeHook(ct,Ye,Je)}_t&&invokeDirectiveHook(Je,null,Ye,"beforeMount");const yt=(!Xe||Xe&&!Xe.pendingBranch)&&pt&&!pt.persisted;yt&&pt.beforeEnter(lt),a(lt,Ke,Ge),((ct=gt&&gt.onVnodeMounted)||yt||_t)&&queuePostRenderEffect(()=>{ct&&invokeVNodeHook(ct,Ye,Je),yt&&pt.enter(lt),_t&&invokeDirectiveHook(Je,null,Ye,"mounted")},Xe)},xe=(Je,Ke,Ge,Ye,Xe)=>{if(Ge&&Le(Je,Ge),Ye)for(let rt=0;rt<Ye.length;rt++)Le(Je,Ye[rt]);if(Xe){let rt=Xe.subTree;if(Ke===rt){const ot=Xe.vnode;xe(Je,ot,ot.scopeId,ot.slotScopeIds,Xe.parent)}}},re=(Je,Ke,Ge,Ye,Xe,rt,ot,it,lt=0)=>{for(let ct=lt;ct<Je.length;ct++){const dt=Je[ct]=it?cloneIfMounted(Je[ct]):normalizeVNode(Je[ct]);$e(null,dt,Ke,Ge,Ye,Xe,rt,ot,it)}},Ae=(Je,Ke,Ge,Ye,Xe,rt,ot)=>{const it=Ke.el=Je.el;let{patchFlag:lt,dynamicChildren:ct,dirs:dt}=Ke;lt|=Je.patchFlag&16;const gt=Je.props||EMPTY_OBJ,vt=Ke.props||EMPTY_OBJ;let pt;Ge&&toggleRecurse(Ge,!1),(pt=vt.onVnodeBeforeUpdate)&&invokeVNodeHook(pt,Ge,Ke,Je),dt&&invokeDirectiveHook(Ke,Je,Ge,"beforeUpdate"),Ge&&toggleRecurse(Ge,!0);const _t=Xe&&Ke.type!=="foreignObject";if(ct?_(Je.dynamicChildren,ct,it,Ge,Ye,_t,rt):ot||Fe(Je,Ke,it,null,Ge,Ye,_t,rt,!1),lt>0){if(lt&16)d(it,Ke,gt,vt,Ge,Ye,Xe);else if(lt&2&&gt.class!==vt.class&&o(it,"class",null,vt.class,Xe),lt&4&&o(it,"style",gt.style,vt.style,Xe),lt&8){const yt=Ke.dynamicProps;for(let ft=0;ft<yt.length;ft++){const mt=yt[ft],wt=gt[mt],At=vt[mt];(At!==wt||mt==="value")&&o(it,mt,wt,At,Xe,Je.children,Ge,Ye,at)}}lt&1&&Je.children!==Ke.children&&L(it,Ke.children)}else!ot&&ct==null&&d(it,Ke,gt,vt,Ge,Ye,Xe);((pt=vt.onVnodeUpdated)||dt)&&queuePostRenderEffect(()=>{pt&&invokeVNodeHook(pt,Ge,Ke,Je),dt&&invokeDirectiveHook(Ke,Je,Ge,"updated")},Ye)},_=(Je,Ke,Ge,Ye,Xe,rt,ot)=>{for(let it=0;it<Ke.length;it++){const lt=Je[it],ct=Ke[it],dt=lt.el&&(lt.type===Fragment||!isSameVNodeType(lt,ct)||lt.shapeFlag&70)?Se(lt.el):Ge;$e(lt,ct,dt,null,Ye,Xe,rt,ot,!0)}},d=(Je,Ke,Ge,Ye,Xe,rt,ot)=>{if(Ge!==Ye){if(Ge!==EMPTY_OBJ)for(const it in Ge)!isReservedProp(it)&&!(it in Ye)&&o(Je,it,Ge[it],null,ot,Ke.children,Xe,rt,at);for(const it in Ye){if(isReservedProp(it))continue;const lt=Ye[it],ct=Ge[it];lt!==ct&&it!=="value"&&o(Je,it,ct,lt,ot,Ke.children,Xe,rt,at)}"value"in Ye&&o(Je,"value",Ge.value,Ye.value)}},g=(Je,Ke,Ge,Ye,Xe,rt,ot,it,lt)=>{const ct=Ke.el=Je?Je.el:u(""),dt=Ke.anchor=Je?Je.anchor:u("");let{patchFlag:gt,dynamicChildren:vt,slotScopeIds:pt}=Ke;pt&&(it=it?it.concat(pt):pt),Je==null?(a(ct,Ge,Ye),a(dt,Ge,Ye),re(Ke.children,Ge,dt,Xe,rt,ot,it,lt)):gt>0&&gt&64&&vt&&Je.dynamicChildren?(_(Je.dynamicChildren,vt,Ge,Xe,rt,ot,it),(Ke.key!=null||Xe&&Ke===Xe.subTree)&&traverseStaticChildren(Je,Ke,!0)):Fe(Je,Ke,Ge,dt,Xe,rt,ot,it,lt)},de=(Je,Ke,Ge,Ye,Xe,rt,ot,it,lt)=>{Ke.slotScopeIds=it,Je==null?Ke.shapeFlag&512?Xe.ctx.activate(Ke,Ge,Ye,ot,lt):m(Ke,Ge,Ye,Xe,rt,ot,lt):Oe(Je,Ke,lt)},m=(Je,Ke,Ge,Ye,Xe,rt,ot)=>{const it=Je.component=createComponentInstance(Je,Ye,Xe);if(isKeepAlive(Je)&&(it.ctx.renderer=Ze),setupComponent(it),it.asyncDep){if(Xe&&Xe.registerDep(it,Be),!Je.el){const lt=it.subTree=createVNode(Comment);Ue(null,lt,Ke,Ge)}return}Be(it,Je,Ke,Ge,Xe,rt,ot)},Oe=(Je,Ke,Ge)=>{const Ye=Ke.component=Je.component;if(shouldUpdateComponent(Je,Ke,Ge))if(Ye.asyncDep&&!Ye.asyncResolved){Me(Ye,Ke,Ge);return}else Ye.next=Ke,invalidateJob(Ye.update),Ye.update();else Ke.el=Je.el,Ye.vnode=Ke},Be=(Je,Ke,Ge,Ye,Xe,rt,ot)=>{const it=()=>{if(Je.isMounted){let{next:dt,bu:gt,u:vt,parent:pt,vnode:_t}=Je,yt=dt,ft;toggleRecurse(Je,!1),dt?(dt.el=_t.el,Me(Je,dt,ot)):dt=_t,gt&&invokeArrayFns(gt),(ft=dt.props&&dt.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ft,pt,dt,_t),toggleRecurse(Je,!0);const mt=renderComponentRoot(Je),wt=Je.subTree;Je.subTree=mt,$e(wt,mt,Se(wt.el),et(wt),Je,Xe,rt),dt.el=mt.el,yt===null&&updateHOCHostEl(Je,mt.el),vt&&queuePostRenderEffect(vt,Xe),(ft=dt.props&&dt.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ft,pt,dt,_t),Xe)}else{let dt;const{el:gt,props:vt}=Ke,{bm:pt,m:_t,parent:yt}=Je,ft=isAsyncWrapper(Ke);if(toggleRecurse(Je,!1),pt&&invokeArrayFns(pt),!ft&&(dt=vt&&vt.onVnodeBeforeMount)&&invokeVNodeHook(dt,yt,Ke),toggleRecurse(Je,!0),gt&&ut){const mt=()=>{Je.subTree=renderComponentRoot(Je),ut(gt,Je.subTree,Je,Xe,null)};ft?Ke.type.__asyncLoader().then(()=>!Je.isUnmounted&&mt()):mt()}else{const mt=Je.subTree=renderComponentRoot(Je);$e(null,mt,Ge,Ye,Je,Xe,rt),Ke.el=mt.el}if(_t&&queuePostRenderEffect(_t,Xe),!ft&&(dt=vt&&vt.onVnodeMounted)){const mt=Ke;queuePostRenderEffect(()=>invokeVNodeHook(dt,yt,mt),Xe)}(Ke.shapeFlag&256||yt&&isAsyncWrapper(yt.vnode)&&yt.vnode.shapeFlag&256)&&Je.a&&queuePostRenderEffect(Je.a,Xe),Je.isMounted=!0,Ke=Ge=Ye=null}},lt=Je.effect=new ReactiveEffect(it,()=>queueJob(ct),Je.scope),ct=Je.update=()=>lt.run();ct.id=Je.uid,toggleRecurse(Je,!0),ct()},Me=(Je,Ke,Ge)=>{Ke.component=Je;const Ye=Je.vnode.props;Je.vnode=Ke,Je.next=null,updateProps(Je,Ke.props,Ye,Ge),updateSlots(Je,Ke.children,Ge),pauseTracking(),flushPreFlushCbs(),resetTracking()},Fe=(Je,Ke,Ge,Ye,Xe,rt,ot,it,lt=!1)=>{const ct=Je&&Je.children,dt=Je?Je.shapeFlag:0,gt=Ke.children,{patchFlag:vt,shapeFlag:pt}=Ke;if(vt>0){if(vt&128){ee(ct,gt,Ge,Ye,Xe,rt,ot,it,lt);return}else if(vt&256){$(ct,gt,Ge,Ye,Xe,rt,ot,it,lt);return}}pt&8?(dt&16&&at(ct,Xe,rt),gt!==ct&&L(Ge,gt)):dt&16?pt&16?ee(ct,gt,Ge,Ye,Xe,rt,ot,it,lt):at(ct,Xe,rt,!0):(dt&8&&L(Ge,""),pt&16&&re(gt,Ge,Ye,Xe,rt,ot,it,lt))},$=(Je,Ke,Ge,Ye,Xe,rt,ot,it,lt)=>{Je=Je||EMPTY_ARR,Ke=Ke||EMPTY_ARR;const ct=Je.length,dt=Ke.length,gt=Math.min(ct,dt);let vt;for(vt=0;vt<gt;vt++){const pt=Ke[vt]=lt?cloneIfMounted(Ke[vt]):normalizeVNode(Ke[vt]);$e(Je[vt],pt,Ge,null,Xe,rt,ot,it,lt)}ct>dt?at(Je,Xe,rt,!0,!1,gt):re(Ke,Ge,Ye,Xe,rt,ot,it,lt,gt)},ee=(Je,Ke,Ge,Ye,Xe,rt,ot,it,lt)=>{let ct=0;const dt=Ke.length;let gt=Je.length-1,vt=dt-1;for(;ct<=gt&&ct<=vt;){const pt=Je[ct],_t=Ke[ct]=lt?cloneIfMounted(Ke[ct]):normalizeVNode(Ke[ct]);if(isSameVNodeType(pt,_t))$e(pt,_t,Ge,null,Xe,rt,ot,it,lt);else break;ct++}for(;ct<=gt&&ct<=vt;){const pt=Je[gt],_t=Ke[vt]=lt?cloneIfMounted(Ke[vt]):normalizeVNode(Ke[vt]);if(isSameVNodeType(pt,_t))$e(pt,_t,Ge,null,Xe,rt,ot,it,lt);else break;gt--,vt--}if(ct>gt){if(ct<=vt){const pt=vt+1,_t=pt<dt?Ke[pt].el:Ye;for(;ct<=vt;)$e(null,Ke[ct]=lt?cloneIfMounted(Ke[ct]):normalizeVNode(Ke[ct]),Ge,_t,Xe,rt,ot,it,lt),ct++}}else if(ct>vt)for(;ct<=gt;)je(Je[ct],Xe,rt,!0),ct++;else{const pt=ct,_t=ct,yt=new Map;for(ct=_t;ct<=vt;ct++){const Tt=Ke[ct]=lt?cloneIfMounted(Ke[ct]):normalizeVNode(Ke[ct]);Tt.key!=null&&yt.set(Tt.key,ct)}let ft,mt=0;const wt=vt-_t+1;let At=!1,St=0;const Et=new Array(wt);for(ct=0;ct<wt;ct++)Et[ct]=0;for(ct=pt;ct<=gt;ct++){const Tt=Je[ct];if(mt>=wt){je(Tt,Xe,rt,!0);continue}let Ot;if(Tt.key!=null)Ot=yt.get(Tt.key);else for(ft=_t;ft<=vt;ft++)if(Et[ft-_t]===0&&isSameVNodeType(Tt,Ke[ft])){Ot=ft;break}Ot===void 0?je(Tt,Xe,rt,!0):(Et[Ot-_t]=ct+1,Ot>=St?St=Ot:At=!0,$e(Tt,Ke[Ot],Ge,null,Xe,rt,ot,it,lt),mt++)}const xt=At?getSequence(Et):EMPTY_ARR;for(ft=xt.length-1,ct=wt-1;ct>=0;ct--){const Tt=_t+ct,Ot=Ke[Tt],Dt=Tt+1<dt?Ke[Tt+1].el:Ye;Et[ct]===0?$e(null,Ot,Ge,Dt,Xe,rt,ot,it,lt):At&&(ft<0||ct!==xt[ft]?ke(Ot,Ge,Dt,2):ft--)}}},ke=(Je,Ke,Ge,Ye,Xe=null)=>{const{el:rt,type:ot,transition:it,children:lt,shapeFlag:ct}=Je;if(ct&6){ke(Je.component.subTree,Ke,Ge,Ye);return}if(ct&128){Je.suspense.move(Ke,Ge,Ye);return}if(ct&64){ot.move(Je,Ke,Ge,Ze);return}if(ot===Fragment){a(rt,Ke,Ge);for(let gt=0;gt<lt.length;gt++)ke(lt[gt],Ke,Ge,Ye);a(Je.anchor,Ke,Ge);return}if(ot===Static){we(Je,Ke,Ge);return}if(Ye!==2&&ct&1&&it)if(Ye===0)it.beforeEnter(rt),a(rt,Ke,Ge),queuePostRenderEffect(()=>it.enter(rt),Xe);else{const{leave:gt,delayLeave:vt,afterLeave:pt}=it,_t=()=>a(rt,Ke,Ge),yt=()=>{gt(rt,()=>{_t(),pt&&pt()})};vt?vt(rt,_t,yt):yt()}else a(rt,Ke,Ge)},je=(Je,Ke,Ge,Ye=!1,Xe=!1)=>{const{type:rt,props:ot,ref:it,children:lt,dynamicChildren:ct,shapeFlag:dt,patchFlag:gt,dirs:vt}=Je;if(it!=null&&setRef(it,null,Ge,Je,!0),dt&256){Ke.ctx.deactivate(Je);return}const pt=dt&1&&vt,_t=!isAsyncWrapper(Je);let yt;if(_t&&(yt=ot&&ot.onVnodeBeforeUnmount)&&invokeVNodeHook(yt,Ke,Je),dt&6)ze(Je.component,Ge,Ye);else{if(dt&128){Je.suspense.unmount(Ge,Ye);return}pt&&invokeDirectiveHook(Je,null,Ke,"beforeUnmount"),dt&64?Je.type.remove(Je,Ke,Ge,Xe,Ze,Ye):ct&&(rt!==Fragment||gt>0&&gt&64)?at(ct,Ke,Ge,!1,!0):(rt===Fragment&&gt&384||!Xe&&dt&16)&&at(lt,Ke,Ge),Ye&&He(Je)}(_t&&(yt=ot&&ot.onVnodeUnmounted)||pt)&&queuePostRenderEffect(()=>{yt&&invokeVNodeHook(yt,Ke,Je),pt&&invokeDirectiveHook(Je,null,Ke,"unmounted")},Ge)},He=Je=>{const{type:Ke,el:Ge,anchor:Ye,transition:Xe}=Je;if(Ke===Fragment){qe(Ge,Ye);return}if(Ke===Static){ve(Je);return}const rt=()=>{i(Ge),Xe&&!Xe.persisted&&Xe.afterLeave&&Xe.afterLeave()};if(Je.shapeFlag&1&&Xe&&!Xe.persisted){const{leave:ot,delayLeave:it}=Xe,lt=()=>ot(Ge,rt);it?it(Je.el,rt,lt):lt()}else rt()},qe=(Je,Ke)=>{let Ge;for(;Je!==Ke;)Ge=ge(Je),i(Je),Je=Ge;i(Ke)},ze=(Je,Ke,Ge)=>{const{bum:Ye,scope:Xe,update:rt,subTree:ot,um:it}=Je;Ye&&invokeArrayFns(Ye),Xe.stop(),rt&&(rt.active=!1,je(ot,Je,Ke,Ge)),it&&queuePostRenderEffect(it,Ke),queuePostRenderEffect(()=>{Je.isUnmounted=!0},Ke),Ke&&Ke.pendingBranch&&!Ke.isUnmounted&&Je.asyncDep&&!Je.asyncResolved&&Je.suspenseId===Ke.pendingId&&(Ke.deps--,Ke.deps===0&&Ke.resolve())},at=(Je,Ke,Ge,Ye=!1,Xe=!1,rt=0)=>{for(let ot=rt;ot<Je.length;ot++)je(Je[ot],Ke,Ge,Ye,Xe)},et=Je=>Je.shapeFlag&6?et(Je.component.subTree):Je.shapeFlag&128?Je.suspense.next():ge(Je.anchor||Je.el),tt=(Je,Ke,Ge)=>{Je==null?Ke._vnode&&je(Ke._vnode,null,null,!0):$e(Ke._vnode||null,Je,Ke,null,null,null,Ge),flushPreFlushCbs(),flushPostFlushCbs(),Ke._vnode=Je},Ze={p:$e,um:je,m:ke,r:He,mt:m,mc:re,pc:Fe,pbc:_,n:et,o:t};let st,ut;return e&&([st,ut]=e(Ze)),{render:tt,hydrate:st,createApp:createAppAPI(tt,st)}}function toggleRecurse({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function traverseStaticChildren(t,e,n=!1){const a=t.children,i=e.children;if(isArray$2(a)&&isArray$2(i))for(let o=0;o<a.length;o++){const s=a[o];let u=i[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[o]=cloneIfMounted(i[o]),u.el=s.el),n||traverseStaticChildren(s,u)),u.type===Text&&(u.el=s.el)}}function getSequence(t){const e=t.slice(),n=[0];let a,i,o,s,u;const c=t.length;for(a=0;a<c;a++){const f=t[a];if(f!==0){if(i=n[n.length-1],t[i]<f){e[a]=i,n.push(a);continue}for(o=0,s=n.length-1;o<s;)u=o+s>>1,t[n[u]]<f?o=u+1:s=u;f<t[n[o]]&&(o>0&&(e[a]=n[o-1]),n[o]=a)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}const isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTargetSVG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,resolveTarget=(t,e)=>{const n=t&&t.to;return isString$1(n)?e?e(n):null:n},TeleportImpl={__isTeleport:!0,process(t,e,n,a,i,o,s,u,c,f){const{mc:L,pc:Se,pbc:ge,o:{insert:Le,querySelector:We,createText:$e,createComment:Qe}}=f,Ue=isTeleportDisabled(e.props);let{shapeFlag:De,children:we,dynamicChildren:ve}=e;if(t==null){const Ce=e.el=$e(""),Ee=e.anchor=$e("");Le(Ce,n,a),Le(Ee,n,a);const xe=e.target=resolveTarget(e.props,We),re=e.targetAnchor=$e("");xe&&(Le(re,xe),s=s||isTargetSVG(xe));const Ae=(_,d)=>{De&16&&L(we,_,d,i,o,s,u,c)};Ue?Ae(n,Ee):xe&&Ae(xe,re)}else{e.el=t.el;const Ce=e.anchor=t.anchor,Ee=e.target=t.target,xe=e.targetAnchor=t.targetAnchor,re=isTeleportDisabled(t.props),Ae=re?n:Ee,_=re?Ce:xe;if(s=s||isTargetSVG(Ee),ve?(ge(t.dynamicChildren,ve,Ae,i,o,s,u),traverseStaticChildren(t,e,!0)):c||Se(t,e,Ae,_,i,o,s,u,!1),Ue)re||moveTeleport(e,n,Ce,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const d=e.target=resolveTarget(e.props,We);d&&moveTeleport(e,d,null,f,0)}else re&&moveTeleport(e,Ee,xe,f,1)}updateCssVars(e)},remove(t,e,n,a,{um:i,o:{remove:o}},s){const{shapeFlag:u,children:c,anchor:f,targetAnchor:L,target:Se,props:ge}=t;if(Se&&o(L),(s||!isTeleportDisabled(ge))&&(o(f),u&16))for(let Le=0;Le<c.length;Le++){const We=c[Le];i(We,e,n,!0,!!We.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,e,n,{o:{insert:a},m:i},o=2){o===0&&a(t.targetAnchor,e,n);const{el:s,anchor:u,shapeFlag:c,children:f,props:L}=t,Se=o===2;if(Se&&a(s,e,n),(!Se||isTeleportDisabled(L))&&c&16)for(let ge=0;ge<f.length;ge++)i(f[ge],e,n,2);Se&&a(u,e,n)}function hydrateTeleport(t,e,n,a,i,o,{o:{nextSibling:s,parentNode:u,querySelector:c}},f){const L=e.target=resolveTarget(e.props,c);if(L){const Se=L._lpa||L.firstChild;if(e.shapeFlag&16)if(isTeleportDisabled(e.props))e.anchor=f(s(t),e,u(t),n,a,i,o),e.targetAnchor=Se;else{e.anchor=s(t);let ge=Se;for(;ge;)if(ge=s(ge),ge&&ge.nodeType===8&&ge.data==="teleport anchor"){e.targetAnchor=ge,L._lpa=e.targetAnchor&&s(e.targetAnchor);break}f(Se,e,L,n,a,i,o)}updateCssVars(e)}return e.anchor&&s(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,n,a,i,o){return setupBlock(createBaseVNode(t,e,n,a,i,o,!0))}function createBlock(t,e,n,a,i){return setupBlock(createVNode(t,e,n,a,i,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}function transformVNodeArgs(t){}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t??null,normalizeRef=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?isString$1(t)||isRef(t)||isFunction(t)?{i:currentRenderingInstance,r:t,k:e,f:!!n}:t:null);function createBaseVNode(t,e=null,n=null,a=0,i=null,o=t===Fragment?0:1,s=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:a,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return u?(normalizeChildren(c,n),o&128&&t.normalize(c)):n&&(c.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!s&&currentBlock&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&currentBlock.push(c),c}const createVNode=_createVNode;function _createVNode(t,e=null,n=null,a=0,i=null,o=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const u=cloneVNode(t,e,!0);return n&&normalizeChildren(u,n),isBlockTreeEnabled>0&&!o&&currentBlock&&(u.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=u:currentBlock.push(u)),u.patchFlag|=-2,u}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:u,style:c}=e;u&&!isString$1(u)&&(e.class=normalizeClass(u)),isObject$1(c)&&(isProxy(c)&&!isArray$2(c)&&(c=extend({},c)),e.style=normalizeStyle(c))}const s=isString$1(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$1(t)?4:isFunction(t)?2:0;return createBaseVNode(t,e,n,a,i,s,o,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend({},t):t:null}function cloneVNode(t,e,n=!1){const{props:a,ref:i,patchFlag:o,children:s}=t,u=e?mergeProps(a||{},e):a;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&normalizeKey(u),ref:e&&e.ref?n&&i?isArray$2(i)?i.concat(normalizeRef(e)):[i,normalizeRef(e)]:normalizeRef(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createStaticVNode(t,e){const n=createVNode(Static,null,t);return n.staticCount=e,n}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$2(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let n=0;const{shapeFlag:a}=t;if(e==null)e=null;else if(isArray$2(e))n=16;else if(typeof e=="object")if(a&65){const i=e.default;i&&(i._c&&(i._d=!1),normalizeChildren(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:i===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction(e)?(e={default:e,_ctx:currentRenderingInstance},n=32):(e=String(e),a&64?(n=16,e=[createTextVNode(e)]):n=8);t.children=e,t.shapeFlag|=n}function mergeProps(...t){const e={};for(let n=0;n<t.length;n++){const a=t[n];for(const i in a)if(i==="class")e.class!==a.class&&(e.class=normalizeClass([e.class,a.class]));else if(i==="style")e.style=normalizeStyle([e.style,a.style]);else if(isOn(i)){const o=e[i],s=a[i];s&&o!==s&&!(isArray$2(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=a[i])}return e}function invokeVNodeHook(t,e,n,a=null){callWithAsyncErrorHandling(t,e,7,[n,a])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(t,e,n){const a=t.type,i=(e?e.appContext:t.appContext)||emptyAppContext,o={uid:uid++,vnode:t,type:a,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(a,i),emitsOptions:normalizeEmitsOptions(a,i),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:a.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=emit.bind(null,o),t.ce&&t.ce(o),o}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(t=>currentInstance=t),internalSetCurrentInstance=t=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(e=>e(t)):globalCurrentInstanceSetters[0](t)};const setCurrentInstance=t=>{internalSetCurrentInstance(t),t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:n,children:a}=t.vnode,i=isStatefulComponent(t);initProps(t,n,i,e),initSlots(t,a);const o=i?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,o}function setupStatefulComponent(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:a}=n;if(a){const i=t.setupContext=a.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const o=callWithErrorHandling(a,t,0,[t.props,i]);if(resetTracking(),unsetCurrentInstance(),isPromise(o)){if(o.then(unsetCurrentInstance,unsetCurrentInstance),e)return o.then(s=>{handleSetupResult(t,s,e)}).catch(s=>{handleError(s,t,0)});t.asyncDep=o}else handleSetupResult(t,o,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,n){isFunction(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$1(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,n)}let compile$1,installWithProxy;function registerRuntimeCompiler(t){compile$1=t,installWithProxy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}}const isRuntimeOnly=()=>!compile$1;function finishComponentSetup(t,e,n){const a=t.type;if(!t.render){if(!e&&compile$1&&!a.render){const i=a.template||resolveMergedOptions(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:u,compilerOptions:c}=a,f=extend(extend({isCustomElement:o,delimiters:u},s),c);a.render=compile$1(i,f)}}t.render=a.render||NOOP,installWithProxy&&installWithProxy(t)}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return track$1(t,"get","$attrs"),e[n]}}))}function createSetupContext(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return getAttrsProxy(t)},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](t)},has(e,n){return n in e||n in publicPropertiesMap}}))}function getComponentName(t,e=!0){return isFunction(t)?t.displayName||t.name:t.name||e&&t.__name}function isClassComponent(t){return isFunction(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function h(t,e,n){const a=arguments.length;return a===2?isObject$1(e)&&!isArray$2(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&isVNode(n)&&(n=[n]),createVNode(t,e,n))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function initCustomFormatter(){}function withMemo(t,e,n,a){const i=n[a];if(i&&isMemoSame(i,t))return i;const o=e();return o.memo=t.slice(),n[a]=o}function isMemoSame(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let a=0;a<n.length;a++)if(hasChanged(n[a],e[a]))return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),!0}const version$5="3.3.4",_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode,normalizeVNode},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,svgNS="http://www.w3.org/2000/svg",doc$1=typeof document<"u"?document:null,templateContainer=doc$1&&doc$1.createElement("template"),nodeOps={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,a)=>{const i=e?doc$1.createElementNS(svgNS,t):doc$1.createElement(t,n?{is:n}:void 0);return t==="select"&&a&&a.multiple!=null&&i.setAttribute("multiple",a.multiple),i},createText:t=>doc$1.createTextNode(t),createComment:t=>doc$1.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc$1.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,a,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{templateContainer.innerHTML=a?`<svg>${t}</svg>`:t;const u=templateContainer.content;if(a){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}e.insertBefore(u,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function patchClass(t,e,n){const a=t._vtc;a&&(e=(e?[e,...a]:[...a]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function patchStyle(t,e,n){const a=t.style,i=isString$1(n);if(n&&!i){if(e&&!isString$1(e))for(const o in e)n[o]==null&&setStyle(a,o,"");for(const o in n)setStyle(a,o,n[o])}else{const o=a.display;i?e!==n&&(a.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(a.display=o)}}const importantRE=/\s*!important$/;function setStyle(t,e,n){if(isArray$2(n))n.forEach(a=>setStyle(t,e,a));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const a=autoPrefix(t,e);importantRE.test(n)?t.setProperty(hyphenate(a),n.replace(importantRE,""),"important"):t[a]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const n=prefixCache[e];if(n)return n;let a=camelize(e);if(a!=="filter"&&a in t)return prefixCache[e]=a;a=capitalize(a);for(let i=0;i<prefixes.length;i++){const o=prefixes[i]+a;if(o in t)return prefixCache[e]=o}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,n,a,i){if(a&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,n);else{const o=isSpecialBooleanAttr(e);n==null||o&&!includeBooleanAttr(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function patchDOMProp(t,e,n,a,i,o,s){if(e==="innerHTML"||e==="textContent"){a&&s(a,i,o),t[e]=n??"";return}const u=t.tagName;if(e==="value"&&u!=="PROGRESS"&&!u.includes("-")){t._value=n;const f=u==="OPTION"?t.getAttribute("value"):t.value,L=n??"";f!==L&&(t.value=L),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=includeBooleanAttr(n):n==null&&f==="string"?(n="",c=!0):f==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function addEventListener(t,e,n,a){t.addEventListener(e,n,a)}function removeEventListener(t,e,n,a){t.removeEventListener(e,n,a)}function patchEvent(t,e,n,a,i=null){const o=t._vei||(t._vei={}),s=o[e];if(a&&s)s.value=a;else{const[u,c]=parseName(e);if(a){const f=o[e]=createInvoker(a,i);addEventListener(t,u,f,c)}else s&&(removeEventListener(t,u,s,c),o[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let a;for(;a=t.match(optionsModifierRE);)t=t.slice(0,t.length-a[0].length),e[a[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(a,n.value),e,5,[a])};return n.value=t,n.attached=getNow(),n}function patchStopImmediatePropagation(t,e){if(isArray$2(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(a=>i=>!i._stopped&&a&&a(i))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,n,a,i=!1,o,s,u,c)=>{e==="class"?patchClass(t,a,i):e==="style"?patchStyle(t,n,a):isOn(e)?isModelListener(e)||patchEvent(t,e,n,a,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,a,i))?patchDOMProp(t,e,a,o,s,u,c):(e==="true-value"?t._trueValue=a:e==="false-value"&&(t._falseValue=a),patchAttr(t,e,a,i))};function shouldSetAsProp(t,e,n,a){return a?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$1(n)?!1:e in t}function defineCustomElement(t,e){const n=defineComponent(t);class a extends VueElement{constructor(o){super(n,o,e)}}return a.def=n,a}const defineSSRCustomElement=t=>defineCustomElement(t,hydrate),BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(e,n={},a){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&a?a(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let a=0;a<this.attributes.length;a++)this._setAttr(this.attributes[a].name);new MutationObserver(a=>{for(const i of a)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const e=(a,i=!1)=>{const{props:o,styles:s}=a;let u;if(o&&!isArray$2(o))for(const c in o){const f=o[c];(f===Number||f&&f.type===Number)&&(c in this._props&&(this._props[c]=toNumber$1(this._props[c])),(u||(u=Object.create(null)))[camelize(c)]=!0)}this._numberProps=u,i&&this._resolveProps(a),this._applyStyles(s),this._update()},n=this._def.__asyncLoader;n?n().then(a=>e(a,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,a=isArray$2(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&a.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of a.map(camelize))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o)}})}_setAttr(e){let n=this.getAttribute(e);const a=camelize(e);this._numberProps&&this._numberProps[a]&&(n=toNumber$1(n)),this._setProp(a,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,a=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),a&&(n===!0?this.setAttribute(hyphenate(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(hyphenate(e),n+""):n||this.removeAttribute(hyphenate(e))))}_update(){render(this._createVNode(),this.shadowRoot)}_createVNode(){const e=createVNode(this._def,extend({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const a=(o,s)=>{this.dispatchEvent(new CustomEvent(o,{detail:s}))};n.emit=(o,...s)=>{a(o,s),hyphenate(o)!==o&&a(hyphenate(o),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof VueElement){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const a=document.createElement("style");a.textContent=n,this.shadowRoot.appendChild(a)})}}function useCssModule(t="$style"){{const e=getCurrentInstance();if(!e)return EMPTY_OBJ;const n=e.type.__cssModules;if(!n)return EMPTY_OBJ;const a=n[t];return a||EMPTY_OBJ}}function useCssVars(t){const e=getCurrentInstance();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>setVarsOnNode(o,i))},a=()=>{const i=t(e.proxy);setVarsOnVNode(e.subTree,i),n(i)};watchPostEffect(a),onMounted(()=>{const i=new MutationObserver(a);i.observe(e.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>i.disconnect())})}function setVarsOnVNode(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{setVarsOnVNode(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)setVarsOnNode(t.el,e);else if(t.type===Fragment)t.children.forEach(n=>setVarsOnVNode(n,e));else if(t.type===Static){let{el:n,anchor:a}=t;for(;n&&(setVarsOnNode(n,e),n!==a);)n=n.nextSibling}}function setVarsOnNode(t,e){if(t.nodeType===1){const n=t.style;for(const a in e)n.setProperty(`--${a}`,e[a])}}const TRANSITION="transition",ANIMATION="animation",Transition=(t,{slots:e})=>h(BaseTransition,resolveTransitionProps(t),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(t,e=[])=>{isArray$2(t)?t.forEach(n=>n(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray$2(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const g in t)g in DOMTransitionPropsValidators||(e[g]=t[g]);if(t.css===!1)return e;const{name:n="v",type:a,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:f=s,appearToClass:L=u,leaveFromClass:Se=`${n}-leave-from`,leaveActiveClass:ge=`${n}-leave-active`,leaveToClass:Le=`${n}-leave-to`}=t,We=normalizeDuration(i),$e=We&&We[0],Qe=We&&We[1],{onBeforeEnter:Ue,onEnter:De,onEnterCancelled:we,onLeave:ve,onLeaveCancelled:Ce,onBeforeAppear:Ee=Ue,onAppear:xe=De,onAppearCancelled:re=we}=e,Ae=(g,de,m)=>{removeTransitionClass(g,de?L:u),removeTransitionClass(g,de?f:s),m&&m()},_=(g,de)=>{g._isLeaving=!1,removeTransitionClass(g,Se),removeTransitionClass(g,Le),removeTransitionClass(g,ge),de&&de()},d=g=>(de,m)=>{const Oe=g?xe:De,Be=()=>Ae(de,g,m);callHook(Oe,[de,Be]),nextFrame(()=>{removeTransitionClass(de,g?c:o),addTransitionClass(de,g?L:u),hasExplicitCallback(Oe)||whenTransitionEnds(de,a,$e,Be)})};return extend(e,{onBeforeEnter(g){callHook(Ue,[g]),addTransitionClass(g,o),addTransitionClass(g,s)},onBeforeAppear(g){callHook(Ee,[g]),addTransitionClass(g,c),addTransitionClass(g,f)},onEnter:d(!1),onAppear:d(!0),onLeave(g,de){g._isLeaving=!0;const m=()=>_(g,de);addTransitionClass(g,Se),forceReflow(),addTransitionClass(g,ge),nextFrame(()=>{g._isLeaving&&(removeTransitionClass(g,Se),addTransitionClass(g,Le),hasExplicitCallback(ve)||whenTransitionEnds(g,a,Qe,m))}),callHook(ve,[g,m])},onEnterCancelled(g){Ae(g,!1),callHook(we,[g])},onAppearCancelled(g){Ae(g,!0),callHook(re,[g])},onLeaveCancelled(g){_(g),callHook(Ce,[g])}})}function normalizeDuration(t){if(t==null)return null;if(isObject$1(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber$1(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(a=>a&&t.classList.remove(a));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,n,a){const i=t._endId=++endId,o=()=>{i===t._endId&&a()};if(n)return setTimeout(o,n);const{type:s,timeout:u,propCount:c}=getTransitionInfo(t,e);if(!s)return a();const f=s+"end";let L=0;const Se=()=>{t.removeEventListener(f,ge),o()},ge=Le=>{Le.target===t&&++L>=c&&Se()};setTimeout(()=>{L<c&&Se()},u+1),t.addEventListener(f,ge)}function getTransitionInfo(t,e){const n=window.getComputedStyle(t),a=We=>(n[We]||"").split(", "),i=a(`${TRANSITION}Delay`),o=a(`${TRANSITION}Duration`),s=getTimeout(i,o),u=a(`${ANIMATION}Delay`),c=a(`${ANIMATION}Duration`),f=getTimeout(u,c);let L=null,Se=0,ge=0;e===TRANSITION?s>0&&(L=TRANSITION,Se=s,ge=o.length):e===ANIMATION?f>0&&(L=ANIMATION,Se=f,ge=c.length):(Se=Math.max(s,f),L=Se>0?s>f?TRANSITION:ANIMATION:null,ge=L?L===TRANSITION?o.length:c.length:0);const Le=L===TRANSITION&&/\b(transform|all)(,|$)/.test(a(`${TRANSITION}Property`).toString());return{type:L,timeout:Se,propCount:ge,hasTransform:Le}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,a)=>toMs(n)+toMs(t[a])))}function toMs(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=getCurrentInstance(),a=useTransitionState();let i,o;return onUpdated(()=>{if(!i.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!hasCSSTransform(i[0].el,n.vnode.el,s))return;i.forEach(callPendingCbs),i.forEach(recordPosition);const u=i.filter(applyTranslation);forceReflow(),u.forEach(c=>{const f=c.el,L=f.style;addTransitionClass(f,s),L.transform=L.webkitTransform=L.transitionDuration="";const Se=f._moveCb=ge=>{ge&&ge.target!==f||(!ge||/transform$/.test(ge.propertyName))&&(f.removeEventListener("transitionend",Se),f._moveCb=null,removeTransitionClass(f,s))};f.addEventListener("transitionend",Se)})}),()=>{const s=toRaw(t),u=resolveTransitionProps(s);let c=s.tag||Fragment;i=o,o=e.default?getTransitionRawChildren(e.default()):[];for(let f=0;f<o.length;f++){const L=o[f];L.key!=null&&setTransitionHooks(L,resolveTransitionHooks(L,u,a,n))}if(i)for(let f=0;f<i.length;f++){const L=i[f];setTransitionHooks(L,resolveTransitionHooks(L,u,a,n)),positionMap.set(L,L.el.getBoundingClientRect())}return createVNode(c,null,o)}}},removeMode=t=>delete t.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function recordPosition(t){newPositionMap.set(t,t.el.getBoundingClientRect())}function applyTranslation(t){const e=positionMap.get(t),n=newPositionMap.get(t),a=e.left-n.left,i=e.top-n.top;if(a||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${a}px,${i}px)`,o.transitionDuration="0s",t}}function hasCSSTransform(t,e,n){const a=t.cloneNode();t._vtc&&t._vtc.forEach(s=>{s.split(/\s+/).forEach(u=>u&&a.classList.remove(u))}),n.split(/\s+/).forEach(s=>s&&a.classList.add(s)),a.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(a);const{hasTransform:o}=getTransitionInfo(a);return i.removeChild(a),o}const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"]||!1;return isArray$2(e)?n=>invokeArrayFns(e,n):e};function onCompositionStart(t){t.target.composing=!0}function onCompositionEnd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vModelText={created(t,{modifiers:{lazy:e,trim:n,number:a}},i){t._assign=getModelAssigner(i);const o=a||i.props&&i.props.type==="number";addEventListener(t,e?"change":"input",s=>{if(s.target.composing)return;let u=t.value;n&&(u=u.trim()),o&&(u=looseToNumber(u)),t._assign(u)}),n&&addEventListener(t,"change",()=>{t.value=t.value.trim()}),e||(addEventListener(t,"compositionstart",onCompositionStart),addEventListener(t,"compositionend",onCompositionEnd),addEventListener(t,"change",onCompositionEnd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:a,number:i}},o){if(t._assign=getModelAssigner(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||a&&t.value.trim()===e||(i||t.type==="number")&&looseToNumber(t.value)===e))return;const s=e??"";t.value!==s&&(t.value=s)}},vModelCheckbox={deep:!0,created(t,e,n){t._assign=getModelAssigner(n),addEventListener(t,"change",()=>{const a=t._modelValue,i=getValue(t),o=t.checked,s=t._assign;if(isArray$2(a)){const u=looseIndexOf(a,i),c=u!==-1;if(o&&!c)s(a.concat(i));else if(!o&&c){const f=[...a];f.splice(u,1),s(f)}}else if(isSet(a)){const u=new Set(a);o?u.add(i):u.delete(i),s(u)}else s(getCheckboxValue(t,o))})},mounted:setChecked,beforeUpdate(t,e,n){t._assign=getModelAssigner(n),setChecked(t,e,n)}};function setChecked(t,{value:e,oldValue:n},a){t._modelValue=e,isArray$2(e)?t.checked=looseIndexOf(e,a.props.value)>-1:isSet(e)?t.checked=e.has(a.props.value):e!==n&&(t.checked=looseEqual(e,getCheckboxValue(t,!0)))}const vModelRadio={created(t,{value:e},n){t.checked=looseEqual(e,n.props.value),t._assign=getModelAssigner(n),addEventListener(t,"change",()=>{t._assign(getValue(t))})},beforeUpdate(t,{value:e,oldValue:n},a){t._assign=getModelAssigner(a),e!==n&&(t.checked=looseEqual(e,a.props.value))}},vModelSelect={deep:!0,created(t,{value:e,modifiers:{number:n}},a){const i=isSet(e);addEventListener(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?looseToNumber(getValue(s)):getValue(s));t._assign(t.multiple?i?new Set(o):o:o[0])}),t._assign=getModelAssigner(a)},mounted(t,{value:e}){setSelected(t,e)},beforeUpdate(t,e,n){t._assign=getModelAssigner(n)},updated(t,{value:e}){setSelected(t,e)}};function setSelected(t,e){const n=t.multiple;if(!(n&&!isArray$2(e)&&!isSet(e))){for(let a=0,i=t.options.length;a<i;a++){const o=t.options[a],s=getValue(o);if(n)isArray$2(e)?o.selected=looseIndexOf(e,s)>-1:o.selected=e.has(s);else if(looseEqual(getValue(o),e)){t.selectedIndex!==a&&(t.selectedIndex=a);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function getValue(t){return"_value"in t?t._value:t.value}function getCheckboxValue(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const vModelDynamic={created(t,e,n){callModelHook(t,e,n,null,"created")},mounted(t,e,n){callModelHook(t,e,n,null,"mounted")},beforeUpdate(t,e,n,a){callModelHook(t,e,n,a,"beforeUpdate")},updated(t,e,n,a){callModelHook(t,e,n,a,"updated")}};function resolveDynamicModel(t,e){switch(t){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(e){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(t,e,n,a,i){const s=resolveDynamicModel(t.tagName,n.props&&n.props.type)[i];s&&s(t,e,n,a)}function initVModelForSSR(){vModelText.getSSRProps=({value:t})=>({value:t}),vModelRadio.getSSRProps=({value:t},e)=>{if(e.props&&looseEqual(e.props.value,t))return{checked:!0}},vModelCheckbox.getSSRProps=({value:t},e)=>{if(isArray$2(t)){if(e.props&&looseIndexOf(t,e.props.value)>-1)return{checked:!0}}else if(isSet(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},vModelDynamic.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=resolveDynamicModel(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>systemModifiers.some(n=>t[`${n}Key`]&&!e.includes(n))},withModifiers=(t,e)=>(n,...a)=>{for(let i=0;i<e.length;i++){const o=modifierGuards[e[i]];if(o&&o(n,e))return}return t(n,...a)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(t,e)=>n=>{if(!("key"in n))return;const a=hyphenate(n.key);if(e.some(i=>i===a||keyNames[i]===a))return t(n)},vShow={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:a}){!e!=!n&&(a?e?(a.beforeEnter(t),setDisplay(t,!0),a.enter(t)):a.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t._vod:"none"}function initVShowForSSR(){vShow.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const rendererOptions=extend({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const render=(...t)=>{ensureRenderer().render(...t)},hydrate=(...t)=>{ensureHydrationRenderer().hydrate(...t)},createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:n}=e;return e.mount=a=>{const i=normalizeContainer(a);if(!i)return;const o=e._component;!isFunction(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e},createSSRApp=(...t)=>{const e=ensureHydrationRenderer().createApp(...t),{mount:n}=e;return e.mount=a=>{const i=normalizeContainer(a);if(i)return n(i,!0,i instanceof SVGElement)},e};function normalizeContainer(t){return isString$1(t)?document.querySelector(t):t}let ssrDirectiveInitialized=!1;const initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())},compile=()=>{},vue_runtime_esmBundler=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition,BaseTransitionPropsValidators,Comment,EffectScope,Fragment,KeepAlive,ReactiveEffect,Static,Suspense,Teleport,Text,Transition,TransitionGroup,VueElement,assertNumber,callWithAsyncErrorHandling,callWithErrorHandling,camelize,capitalize,cloneVNode,compatUtils,compile,computed,createApp,createBlock,createCommentVNode,createElementBlock,createElementVNode:createBaseVNode,createHydrationRenderer,createPropsRestProxy,createRenderer,createSSRApp,createSlots,createStaticVNode,createTextVNode,createVNode,customRef,defineAsyncComponent,defineComponent,defineCustomElement,defineEmits,defineExpose,defineModel,defineOptions,defineProps,defineSSRCustomElement,defineSlots,get devtools(){return devtools},effect,effectScope,getCurrentInstance,getCurrentScope,getTransitionRawChildren,guardReactiveProps,h,handleError,hasInjectionContext,hydrate,initCustomFormatter,initDirectivesForSSR,inject,isMemoSame,isProxy,isReactive,isReadonly,isRef,isRuntimeOnly,isShallow,isVNode,markRaw,mergeDefaults,mergeModels,mergeProps,nextTick,normalizeClass,normalizeProps,normalizeStyle,onActivated,onBeforeMount,onBeforeUnmount,onBeforeUpdate,onDeactivated,onErrorCaptured,onMounted,onRenderTracked,onRenderTriggered,onScopeDispose,onServerPrefetch,onUnmounted,onUpdated,openBlock,popScopeId,provide,proxyRefs,pushScopeId,queuePostFlushCb,reactive,readonly,ref:ref$2,registerRuntimeCompiler,render,renderList,renderSlot,resolveComponent,resolveDirective,resolveDynamicComponent,resolveFilter,resolveTransitionHooks,setBlockTracking,setDevtoolsHook,setTransitionHooks,shallowReactive,shallowReadonly,shallowRef,ssrContextKey,ssrUtils,stop:stop$1,toDisplayString,toHandlerKey,toHandlers,toRaw,toRef,toRefs,toValue,transformVNodeArgs,triggerRef,unref,useAttrs,useCssModule,useCssVars,useModel,useSSRContext,useSlots,useTransitionState,vModelCheckbox,vModelDynamic,vModelRadio,vModelSelect,vModelText,vShow,version:version$5,warn:warn$1,watch,watchEffect,watchPostEffect,watchSyncEffect,withAsyncContext,withCtx,withDefaults,withDirectives,withKeys,withMemo,withModifiers,withScopeId},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser$2=typeof window<"u";function isESModule(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(t,e){const n={};for(const a in e){const i=e[a];n[a]=isArray$1(i)?i.map(t):t(i)}return n}const noop$1=()=>{},isArray$1=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,e,n="/"){let a,i={},o="",s="";const u=e.indexOf("#");let c=e.indexOf("?");return u<c&&u>=0&&(c=-1),c>-1&&(a=e.slice(0,c),o=e.slice(c+1,u>-1?u:e.length),i=t(o)),u>-1&&(a=a||e.slice(0,u),s=e.slice(u,e.length)),a=resolveRelativePath(a??e,n),{fullPath:a+(o&&"?")+o+s,path:a,query:i,hash:s}}function stringifyURL(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function stripBase(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function isSameRouteLocation(t,e,n){const a=e.matched.length-1,i=n.matched.length-1;return a>-1&&a===i&&isSameRouteRecord(e.matched[a],n.matched[i])&&isSameRouteLocationParams(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function isSameRouteRecord(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function isSameRouteLocationParams(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!isSameRouteLocationParamsValue(t[n],e[n]))return!1;return!0}function isSameRouteLocationParamsValue(t,e){return isArray$1(t)?isEquivalentArray(t,e):isArray$1(e)?isEquivalentArray(e,t):t===e}function isEquivalentArray(t,e){return isArray$1(e)?t.length===e.length&&t.every((n,a)=>n===e[a]):t.length===1&&t[0]===e}function resolveRelativePath(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),a=t.split("/"),i=a[a.length-1];(i===".."||i===".")&&a.push("");let o=n.length-1,s,u;for(s=0;s<a.length;s++)if(u=a[s],u!==".")if(u==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+a.slice(s-(s===a.length?1:0)).join("/")}var NavigationType;(function(t){t.pop="pop",t.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(t){t.back="back",t.forward="forward",t.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(t){if(!t)if(isBrowser$2){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,e){return t.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(t,e){const n=document.documentElement.getBoundingClientRect(),a=t.getBoundingClientRect();return{behavior:e.behavior,left:a.left-n.left-(e.left||0),top:a.top-n.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(t){let e;if("el"in t){const n=t.el,a=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?a?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=getElementPosition(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(t,e){return(history.state?history.state.position-e:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,e){scrollPositions.set(t,e)}function getSavedScrollPosition(t){const e=scrollPositions.get(t);return scrollPositions.delete(t),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,e){const{pathname:n,search:a,hash:i}=e,o=t.indexOf("#");if(o>-1){let u=i.includes(t.slice(o))?t.slice(o).length:1,c=i.slice(u);return c[0]!=="/"&&(c="/"+c),stripBase(c,"")}return stripBase(n,t)+a+i}function useHistoryListeners(t,e,n,a){let i=[],o=[],s=null;const u=({state:ge})=>{const Le=createCurrentLocation(t,location),We=n.value,$e=e.value;let Qe=0;if(ge){if(n.value=Le,e.value=ge,s&&s===We){s=null;return}Qe=$e?ge.position-$e.position:0}else a(Le);i.forEach(Ue=>{Ue(n.value,We,{delta:Qe,type:NavigationType.pop,direction:Qe?Qe>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function c(){s=n.value}function f(ge){i.push(ge);const Le=()=>{const We=i.indexOf(ge);We>-1&&i.splice(We,1)};return o.push(Le),Le}function L(){const{history:ge}=window;ge.state&&ge.replaceState(assign({},ge.state,{scroll:computeScrollPosition()}),"")}function Se(){for(const ge of o)ge();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",L)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",L,{passive:!0}),{pauseListeners:c,listen:f,destroy:Se}}function buildState(t,e,n,a=!1,i=!1){return{back:t,current:e,forward:n,replaced:a,position:window.history.length,scroll:i?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:e,location:n}=window,a={value:createCurrentLocation(t,n)},i={value:e.state};i.value||o(a.value,{back:null,current:a.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(c,f,L){const Se=t.indexOf("#"),ge=Se>-1?(n.host&&document.querySelector("base")?t:t.slice(Se))+c:createBaseLocation()+t+c;try{e[L?"replaceState":"pushState"](f,"",ge),i.value=f}catch(Le){console.error(Le),n[L?"replace":"assign"](ge)}}function s(c,f){const L=assign({},e.state,buildState(i.value.back,c,i.value.forward,!0),f,{position:i.value.position});o(c,L,!0),a.value=c}function u(c,f){const L=assign({},i.value,e.state,{forward:c,scroll:computeScrollPosition()});o(L.current,L,!0);const Se=assign({},buildState(a.value,c,null),{position:L.position+1},f);o(c,Se,!1),a.value=c}return{location:a,state:i,push:u,replace:s}}function createWebHistory(t){t=normalizeBase(t);const e=useHistoryStateNavigation(t),n=useHistoryListeners(t,e.state,e.location,e.replace);function a(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=assign({location:"",base:t,go:a,createHref:createHref.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(t,e){return assign(new Error,{type:t,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(t,e){return t instanceof Error&&NavigationFailureSymbol in t&&(e==null||!!(t.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,e){const n=assign({},BASE_PATH_PARSER_OPTIONS,e),a=[];let i=n.start?"^":"";const o=[];for(const f of t){const L=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let Se=0;Se<f.length;Se++){const ge=f[Se];let Le=40+(n.sensitive?.25:0);if(ge.type===0)Se||(i+="/"),i+=ge.value.replace(REGEX_CHARS_RE,"\\$&"),Le+=40;else if(ge.type===1){const{value:We,repeatable:$e,optional:Qe,regexp:Ue}=ge;o.push({name:We,repeatable:$e,optional:Qe});const De=Ue||BASE_PARAM_PATTERN;if(De!==BASE_PARAM_PATTERN){Le+=10;try{new RegExp(`(${De})`)}catch(ve){throw new Error(`Invalid custom RegExp for param "${We}" (${De}): `+ve.message)}}let we=$e?`((?:${De})(?:/(?:${De}))*)`:`(${De})`;Se||(we=Qe&&f.length<2?`(?:/${we})`:"/"+we),Qe&&(we+="?"),i+=we,Le+=20,Qe&&(Le+=-8),$e&&(Le+=-20),De===".*"&&(Le+=-50)}L.push(Le)}a.push(L)}if(n.strict&&n.end){const f=a.length-1;a[f][a[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function u(f){const L=f.match(s),Se={};if(!L)return null;for(let ge=1;ge<L.length;ge++){const Le=L[ge]||"",We=o[ge-1];Se[We.name]=Le&&We.repeatable?Le.split("/"):Le}return Se}function c(f){let L="",Se=!1;for(const ge of t){(!Se||!L.endsWith("/"))&&(L+="/"),Se=!1;for(const Le of ge)if(Le.type===0)L+=Le.value;else if(Le.type===1){const{value:We,repeatable:$e,optional:Qe}=Le,Ue=We in f?f[We]:"";if(isArray$1(Ue)&&!$e)throw new Error(`Provided param "${We}" is an array but it is not repeatable (* or + modifiers)`);const De=isArray$1(Ue)?Ue.join("/"):Ue;if(!De)if(Qe)ge.length<2&&(L.endsWith("/")?L=L.slice(0,-1):Se=!0);else throw new Error(`Missing required param "${We}"`);L+=De}}return L||"/"}return{re:s,score:a,keys:o,parse:u,stringify:c}}function compareScoreArray(t,e){let n=0;for(;n<t.length&&n<e.length;){const a=e[n]-t[n];if(a)return a;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function comparePathParserScore(t,e){let n=0;const a=t.score,i=e.score;for(;n<a.length&&n<i.length;){const o=compareScoreArray(a[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-a.length)===1){if(isLastScoreNegative(a))return 1;if(isLastScoreNegative(i))return-1}return i.length-a.length}function isLastScoreNegative(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(Le){throw new Error(`ERR (${n})/"${f}": ${Le}`)}let n=0,a=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let u=0,c,f="",L="";function Se(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:L,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),f="")}function ge(){f+=c}for(;u<t.length;){if(c=t[u++],c==="\\"&&n!==2){a=n,n=4;continue}switch(n){case 0:c==="/"?(f&&Se(),s()):c===":"?(Se(),n=1):ge();break;case 4:ge(),n=a;break;case 1:c==="("?n=2:VALID_PARAM_RE.test(c)?ge():(Se(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case 2:c===")"?L[L.length-1]=="\\"?L=L.slice(0,-1)+c:n=3:L+=c;break;case 3:Se(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&u--,L="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),Se(),s(),i}function createRouteRecordMatcher(t,e,n){const a=tokensToParser(tokenizePath(t.path),n),i=assign(a,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function createRouterMatcher(t,e){const n=[],a=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function i(L){return a.get(L)}function o(L,Se,ge){const Le=!ge,We=normalizeRouteRecord(L);We.aliasOf=ge&&ge.record;const $e=mergeOptions(e,L),Qe=[We];if("alias"in L){const we=typeof L.alias=="string"?[L.alias]:L.alias;for(const ve of we)Qe.push(assign({},We,{components:ge?ge.record.components:We.components,path:ve,aliasOf:ge?ge.record:We}))}let Ue,De;for(const we of Qe){const{path:ve}=we;if(Se&&ve[0]!=="/"){const Ce=Se.record.path,Ee=Ce[Ce.length-1]==="/"?"":"/";we.path=Se.record.path+(ve&&Ee+ve)}if(Ue=createRouteRecordMatcher(we,Se,$e),ge?ge.alias.push(Ue):(De=De||Ue,De!==Ue&&De.alias.push(Ue),Le&&L.name&&!isAliasRecord(Ue)&&s(L.name)),We.children){const Ce=We.children;for(let Ee=0;Ee<Ce.length;Ee++)o(Ce[Ee],Ue,ge&&ge.children[Ee])}ge=ge||Ue,(Ue.record.components&&Object.keys(Ue.record.components).length||Ue.record.name||Ue.record.redirect)&&c(Ue)}return De?()=>{s(De)}:noop$1}function s(L){if(isRouteName(L)){const Se=a.get(L);Se&&(a.delete(L),n.splice(n.indexOf(Se),1),Se.children.forEach(s),Se.alias.forEach(s))}else{const Se=n.indexOf(L);Se>-1&&(n.splice(Se,1),L.record.name&&a.delete(L.record.name),L.children.forEach(s),L.alias.forEach(s))}}function u(){return n}function c(L){let Se=0;for(;Se<n.length&&comparePathParserScore(L,n[Se])>=0&&(L.record.path!==n[Se].record.path||!isRecordChildOf(L,n[Se]));)Se++;n.splice(Se,0,L),L.record.name&&!isAliasRecord(L)&&a.set(L.record.name,L)}function f(L,Se){let ge,Le={},We,$e;if("name"in L&&L.name){if(ge=a.get(L.name),!ge)throw createRouterError(1,{location:L});$e=ge.record.name,Le=assign(paramsFromLocation(Se.params,ge.keys.filter(De=>!De.optional).map(De=>De.name)),L.params&&paramsFromLocation(L.params,ge.keys.map(De=>De.name))),We=ge.stringify(Le)}else if("path"in L)We=L.path,ge=n.find(De=>De.re.test(We)),ge&&(Le=ge.parse(We),$e=ge.record.name);else{if(ge=Se.name?a.get(Se.name):n.find(De=>De.re.test(Se.path)),!ge)throw createRouterError(1,{location:L,currentLocation:Se});$e=ge.record.name,Le=assign({},Se.params,L.params),We=ge.stringify(Le)}const Qe=[];let Ue=ge;for(;Ue;)Qe.unshift(Ue.record),Ue=Ue.parent;return{name:$e,path:We,params:Le,matched:Qe,meta:mergeMetaFields(Qe)}}return t.forEach(L=>o(L)),{addRoute:o,resolve:f,removeRoute:s,getRoutes:u,getRecordMatcher:i}}function paramsFromLocation(t,e){const n={};for(const a of e)a in t&&(n[a]=t[a]);return n}function normalizeRouteRecord(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function normalizeRecordProps(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const a in t.components)e[a]=typeof n=="boolean"?n:n[a];return e}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((e,n)=>assign(e,n.meta),{})}function mergeOptions(t,e){const n={};for(const a in t)n[a]=a in e?e[a]:t[a];return n}function isRecordChildOf(t,e){return e.children.some(n=>n===t||isRecordChildOf(t,n))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return t==null?"":encodePath(t).replace(SLASH_RE,"%2F")}function decode(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function parseQuery(t){const e={};if(t===""||t==="?")return e;const a=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<a.length;++i){const o=a[i].replace(PLUS_RE," "),s=o.indexOf("="),u=decode(s<0?o:o.slice(0,s)),c=s<0?null:decode(o.slice(s+1));if(u in e){let f=e[u];isArray$1(f)||(f=e[u]=[f]),f.push(c)}else e[u]=c}return e}function stringifyQuery(t){let e="";for(let n in t){const a=t[n];if(n=encodeQueryKey(n),a==null){a!==void 0&&(e+=(e.length?"&":"")+n);continue}(isArray$1(a)?a.map(o=>o&&encodeQueryValue(o)):[a&&encodeQueryValue(a)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function normalizeQuery(t){const e={};for(const n in t){const a=t[n];a!==void 0&&(e[n]=isArray$1(a)?a.map(i=>i==null?null:""+i):a==null?a:""+a)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let t=[];function e(a){return t.push(a),()=>{const i=t.indexOf(a);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function guardToPromiseFn(t,e,n,a,i){const o=a&&(a.enterCallbacks[i]=a.enterCallbacks[i]||[]);return()=>new Promise((s,u)=>{const c=Se=>{Se===!1?u(createRouterError(4,{from:n,to:e})):Se instanceof Error?u(Se):isRouteLocation(Se)?u(createRouterError(2,{from:e,to:Se})):(o&&a.enterCallbacks[i]===o&&typeof Se=="function"&&o.push(Se),s())},f=t.call(a&&a.instances[i],e,n,c);let L=Promise.resolve(f);t.length<3&&(L=L.then(c)),L.catch(Se=>u(Se))})}function extractComponentsGuards(t,e,n,a){const i=[];for(const o of t)for(const s in o.components){let u=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(isRouteComponent(u)){const f=(u.__vccOpts||u)[e];f&&i.push(guardToPromiseFn(f,n,a,o,s))}else{let c=u();i.push(()=>c.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const L=isESModule(f)?f.default:f;o.components[s]=L;const ge=(L.__vccOpts||L)[e];return ge&&guardToPromiseFn(ge,n,a,o,s)()}))}}return i}function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function useLink(t){const e=inject(routerKey),n=inject(routeLocationKey),a=computed(()=>e.resolve(unref(t.to))),i=computed(()=>{const{matched:c}=a.value,{length:f}=c,L=c[f-1],Se=n.matched;if(!L||!Se.length)return-1;const ge=Se.findIndex(isSameRouteRecord.bind(null,L));if(ge>-1)return ge;const Le=getOriginalPath(c[f-2]);return f>1&&getOriginalPath(L)===Le&&Se[Se.length-1].path!==Le?Se.findIndex(isSameRouteRecord.bind(null,c[f-2])):ge}),o=computed(()=>i.value>-1&&includesParams(n.params,a.value.params)),s=computed(()=>i.value>-1&&i.value===n.matched.length-1&&isSameRouteLocationParams(n.params,a.value.params));function u(c={}){return guardEvent(c)?e[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop$1):Promise.resolve()}return{route:a,href:computed(()=>a.value.href),isActive:o,isExactActive:s,navigate:u}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(t,{slots:e}){const n=reactive(useLink(t)),{options:a}=inject(routerKey),i=computed(()=>({[getLinkClass(t.activeClass,a.linkActiveClass,"router-link-active")]:n.isActive,[getLinkClass(t.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:h("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams(t,e){for(const n in e){const a=e[n],i=t[n];if(typeof a=="string"){if(a!==i)return!1}else if(!isArray$1(i)||i.length!==a.length||a.some((o,s)=>o!==i[s]))return!1}return!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,e,n)=>t??e??n,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const a=inject(routerViewLocationKey),i=computed(()=>t.route||a.value),o=inject(viewDepthKey,0),s=computed(()=>{let f=unref(o);const{matched:L}=i.value;let Se;for(;(Se=L[f])&&!Se.components;)f++;return f}),u=computed(()=>i.value.matched[s.value]);provide(viewDepthKey,computed(()=>s.value+1)),provide(matchedRouteKey,u),provide(routerViewLocationKey,i);const c=ref$2();return watch(()=>[c.value,u.value,t.name],([f,L,Se],[ge,Le,We])=>{L&&(L.instances[Se]=f,Le&&Le!==L&&f&&f===ge&&(L.leaveGuards.size||(L.leaveGuards=Le.leaveGuards),L.updateGuards.size||(L.updateGuards=Le.updateGuards))),f&&L&&(!Le||!isSameRouteRecord(L,Le)||!ge)&&(L.enterCallbacks[Se]||[]).forEach($e=>$e(f))},{flush:"post"}),()=>{const f=i.value,L=t.name,Se=u.value,ge=Se&&Se.components[L];if(!ge)return normalizeSlot(n.default,{Component:ge,route:f});const Le=Se.props[L],We=Le?Le===!0?f.params:typeof Le=="function"?Le(f):Le:null,Qe=h(ge,assign({},We,e,{onVnodeUnmounted:Ue=>{Ue.component.isUnmounted&&(Se.instances[L]=null)},ref:c}));return normalizeSlot(n.default,{Component:Qe,route:f})||Qe}}});function normalizeSlot(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const RouterView=RouterViewImpl;function createRouter(t){const e=createRouterMatcher(t.routes,t),n=t.parseQuery||parseQuery,a=t.stringifyQuery||stringifyQuery,i=t.history,o=useCallbacks(),s=useCallbacks(),u=useCallbacks(),c=shallowRef(START_LOCATION_NORMALIZED);let f=START_LOCATION_NORMALIZED;isBrowser$2&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const L=applyToParams.bind(null,et=>""+et),Se=applyToParams.bind(null,encodeParam),ge=applyToParams.bind(null,decode);function Le(et,tt){let Ze,st;return isRouteName(et)?(Ze=e.getRecordMatcher(et),st=tt):st=et,e.addRoute(st,Ze)}function We(et){const tt=e.getRecordMatcher(et);tt&&e.removeRoute(tt)}function $e(){return e.getRoutes().map(et=>et.record)}function Qe(et){return!!e.getRecordMatcher(et)}function Ue(et,tt){if(tt=assign({},tt||c.value),typeof et=="string"){const Ge=parseURL(n,et,tt.path),Ye=e.resolve({path:Ge.path},tt),Xe=i.createHref(Ge.fullPath);return assign(Ge,Ye,{params:ge(Ye.params),hash:decode(Ge.hash),redirectedFrom:void 0,href:Xe})}let Ze;if("path"in et)Ze=assign({},et,{path:parseURL(n,et.path,tt.path).path});else{const Ge=assign({},et.params);for(const Ye in Ge)Ge[Ye]==null&&delete Ge[Ye];Ze=assign({},et,{params:Se(Ge)}),tt.params=Se(tt.params)}const st=e.resolve(Ze,tt),ut=et.hash||"";st.params=L(ge(st.params));const Je=stringifyURL(a,assign({},et,{hash:encodeHash(ut),path:st.path})),Ke=i.createHref(Je);return assign({fullPath:Je,hash:ut,query:a===stringifyQuery?normalizeQuery(et.query):et.query||{}},st,{redirectedFrom:void 0,href:Ke})}function De(et){return typeof et=="string"?parseURL(n,et,c.value.path):assign({},et)}function we(et,tt){if(f!==et)return createRouterError(8,{from:tt,to:et})}function ve(et){return xe(et)}function Ce(et){return ve(assign(De(et),{replace:!0}))}function Ee(et){const tt=et.matched[et.matched.length-1];if(tt&&tt.redirect){const{redirect:Ze}=tt;let st=typeof Ze=="function"?Ze(et):Ze;return typeof st=="string"&&(st=st.includes("?")||st.includes("#")?st=De(st):{path:st},st.params={}),assign({query:et.query,hash:et.hash,params:"path"in st?{}:et.params},st)}}function xe(et,tt){const Ze=f=Ue(et),st=c.value,ut=et.state,Je=et.force,Ke=et.replace===!0,Ge=Ee(Ze);if(Ge)return xe(assign(De(Ge),{state:typeof Ge=="object"?assign({},ut,Ge.state):ut,force:Je,replace:Ke}),tt||Ze);const Ye=Ze;Ye.redirectedFrom=tt;let Xe;return!Je&&isSameRouteLocation(a,st,Ze)&&(Xe=createRouterError(16,{to:Ye,from:st}),ke(st,st,!0,!1)),(Xe?Promise.resolve(Xe):_(Ye,st)).catch(rt=>isNavigationFailure(rt)?isNavigationFailure(rt,2)?rt:ee(rt):Fe(rt,Ye,st)).then(rt=>{if(rt){if(isNavigationFailure(rt,2))return xe(assign({replace:Ke},De(rt.to),{state:typeof rt.to=="object"?assign({},ut,rt.to.state):ut,force:Je}),tt||Ye)}else rt=g(Ye,st,!0,Ke,ut);return d(Ye,st,rt),rt})}function re(et,tt){const Ze=we(et,tt);return Ze?Promise.reject(Ze):Promise.resolve()}function Ae(et){const tt=qe.values().next().value;return tt&&typeof tt.runWithContext=="function"?tt.runWithContext(et):et()}function _(et,tt){let Ze;const[st,ut,Je]=extractChangingRecords(et,tt);Ze=extractComponentsGuards(st.reverse(),"beforeRouteLeave",et,tt);for(const Ge of st)Ge.leaveGuards.forEach(Ye=>{Ze.push(guardToPromiseFn(Ye,et,tt))});const Ke=re.bind(null,et,tt);return Ze.push(Ke),at(Ze).then(()=>{Ze=[];for(const Ge of o.list())Ze.push(guardToPromiseFn(Ge,et,tt));return Ze.push(Ke),at(Ze)}).then(()=>{Ze=extractComponentsGuards(ut,"beforeRouteUpdate",et,tt);for(const Ge of ut)Ge.updateGuards.forEach(Ye=>{Ze.push(guardToPromiseFn(Ye,et,tt))});return Ze.push(Ke),at(Ze)}).then(()=>{Ze=[];for(const Ge of et.matched)if(Ge.beforeEnter&&!tt.matched.includes(Ge))if(isArray$1(Ge.beforeEnter))for(const Ye of Ge.beforeEnter)Ze.push(guardToPromiseFn(Ye,et,tt));else Ze.push(guardToPromiseFn(Ge.beforeEnter,et,tt));return Ze.push(Ke),at(Ze)}).then(()=>(et.matched.forEach(Ge=>Ge.enterCallbacks={}),Ze=extractComponentsGuards(Je,"beforeRouteEnter",et,tt),Ze.push(Ke),at(Ze))).then(()=>{Ze=[];for(const Ge of s.list())Ze.push(guardToPromiseFn(Ge,et,tt));return Ze.push(Ke),at(Ze)}).catch(Ge=>isNavigationFailure(Ge,8)?Ge:Promise.reject(Ge))}function d(et,tt,Ze){for(const st of u.list())Ae(()=>st(et,tt,Ze))}function g(et,tt,Ze,st,ut){const Je=we(et,tt);if(Je)return Je;const Ke=tt===START_LOCATION_NORMALIZED,Ge=isBrowser$2?history.state:{};Ze&&(st||Ke?i.replace(et.fullPath,assign({scroll:Ke&&Ge&&Ge.scroll},ut)):i.push(et.fullPath,ut)),c.value=et,ke(et,tt,Ze,Ke),ee()}let de;function m(){de||(de=i.listen((et,tt,Ze)=>{if(!ze.listening)return;const st=Ue(et),ut=Ee(st);if(ut){xe(assign(ut,{replace:!0}),st).catch(noop$1);return}f=st;const Je=c.value;isBrowser$2&&saveScrollPosition(getScrollKey(Je.fullPath,Ze.delta),computeScrollPosition()),_(st,Je).catch(Ke=>isNavigationFailure(Ke,12)?Ke:isNavigationFailure(Ke,2)?(xe(Ke.to,st).then(Ge=>{isNavigationFailure(Ge,20)&&!Ze.delta&&Ze.type===NavigationType.pop&&i.go(-1,!1)}).catch(noop$1),Promise.reject()):(Ze.delta&&i.go(-Ze.delta,!1),Fe(Ke,st,Je))).then(Ke=>{Ke=Ke||g(st,Je,!1),Ke&&(Ze.delta&&!isNavigationFailure(Ke,8)?i.go(-Ze.delta,!1):Ze.type===NavigationType.pop&&isNavigationFailure(Ke,20)&&i.go(-1,!1)),d(st,Je,Ke)}).catch(noop$1)}))}let Oe=useCallbacks(),Be=useCallbacks(),Me;function Fe(et,tt,Ze){ee(et);const st=Be.list();return st.length?st.forEach(ut=>ut(et,tt,Ze)):console.error(et),Promise.reject(et)}function $(){return Me&&c.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((et,tt)=>{Oe.add([et,tt])})}function ee(et){return Me||(Me=!et,m(),Oe.list().forEach(([tt,Ze])=>et?Ze(et):tt()),Oe.reset()),et}function ke(et,tt,Ze,st){const{scrollBehavior:ut}=t;if(!isBrowser$2||!ut)return Promise.resolve();const Je=!Ze&&getSavedScrollPosition(getScrollKey(et.fullPath,0))||(st||!Ze)&&history.state&&history.state.scroll||null;return nextTick().then(()=>ut(et,tt,Je)).then(Ke=>Ke&&scrollToPosition(Ke)).catch(Ke=>Fe(Ke,et,tt))}const je=et=>i.go(et);let He;const qe=new Set,ze={currentRoute:c,listening:!0,addRoute:Le,removeRoute:We,hasRoute:Qe,getRoutes:$e,resolve:Ue,options:t,push:ve,replace:Ce,go:je,back:()=>je(-1),forward:()=>je(1),beforeEach:o.add,beforeResolve:s.add,afterEach:u.add,onError:Be.add,isReady:$,install(et){const tt=this;et.component("RouterLink",RouterLink),et.component("RouterView",RouterView),et.config.globalProperties.$router=tt,Object.defineProperty(et.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(c)}),isBrowser$2&&!He&&c.value===START_LOCATION_NORMALIZED&&(He=!0,ve(i.location).catch(ut=>{}));const Ze={};for(const ut in START_LOCATION_NORMALIZED)Ze[ut]=computed(()=>c.value[ut]);et.provide(routerKey,tt),et.provide(routeLocationKey,reactive(Ze)),et.provide(routerViewLocationKey,c);const st=et.unmount;qe.add(et),et.unmount=function(){qe.delete(et),qe.size<1&&(f=START_LOCATION_NORMALIZED,de&&de(),de=null,c.value=START_LOCATION_NORMALIZED,He=!1,Me=!1),st()}}};function at(et){return et.reduce((tt,Ze)=>tt.then(()=>Ae(Ze)),Promise.resolve())}return ze}function extractChangingRecords(t,e){const n=[],a=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const u=e.matched[s];u&&(t.matched.find(f=>isSameRouteRecord(f,u))?a.push(u):n.push(u));const c=t.matched[s];c&&(e.matched.find(f=>isSameRouteRecord(f,c))||i.push(c))}return[n,a,i]}const _sfc_main$a={data(){return{pages:[{name:"",href:"events"},{name:"",href:"books"},{name:"",href:"mitrarashmi"},{name:" ",href:"arogyasubashita"},{name:" ",href:"nityasubashita"},{name:"",href:"suvachana"}]}}},_export_sfc=(t,e)=>{const n=t.__vccOpts||t;for(const[a,i]of e)n[a]=i;return n},_hoisted_1$9={class:"w3-top"},_hoisted_2$8={class:"w3-bar w3-teal w3-card w3-left-align w3-large"},_hoisted_3$6=createBaseVNode("a",{id:"toggleNavigation",class:"w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-teal",href:"javascript:void(0);",onclick:"myFunction()"},[createBaseVNode("i",{class:"fa fa-bars"})],-1),_hoisted_4$6={id:"navDemo",class:"w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium w3-large"};function _sfc_render$9(t,e,n,a,i,o){const s=resolveComponent("router-link");return openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$8,[_hoisted_3$6,createVNode(s,{to:{name:"home"},class:"w3-bar-item w3-button w3-padding-large w3-white"},{default:withCtx(()=>[createTextVNode("Home")]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(i.pages,u=>(openBlock(),createBlock(s,{class:"w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white",to:{name:u.href}},{default:withCtx(()=>[createTextVNode(toDisplayString(u.name),1)]),_:2},1032,["to"]))),256))]),createBaseVNode("div",_hoisted_4$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.pages,u=>(openBlock(),createBlock(s,{class:"w3-bar-item w3-button w3-padding-large",to:{name:u.href}},{default:withCtx(()=>[createTextVNode(toDisplayString(u.name),1)]),_:2},1032,["to"]))),256))])])}const Header=_export_sfc(_sfc_main$a,[["render",_sfc_render$9]]),Footer_vue_vue_type_style_index_0_scoped_de8136c4_lang="",_sfc_main$9={},_hoisted_1$8={class:"w3-row-padding w3-padding-32"},_hoisted_2$7=createStaticVNode('<div class="w3-third" data-v-de8136c4><h3 data-v-de8136c4>Mythree Samskritha Samskrithi Prathisthanam (R)</h3><p data-v-de8136c4>#130, Gruhalakshmi Layout 2nd Stage, Kamalanagar 3rd Main, Bengaluru 560079</p></div><div class="w3-center w3-third" data-v-de8136c4><div class="w3-xlarge w3-padding-32" data-v-de8136c4><a href="https://www.facebook.com/samskrutagurukulam" target="_blank" data-v-de8136c4><i class="fa fa-facebook-official w3-hover-opacity" data-v-de8136c4></i></a><a href="https://www.youtube.com/@MythreeGurukulam" target="_blank" data-v-de8136c4><i class="fa fa-youtube-play w3-hover-opacity" data-v-de8136c4></i></a></div></div><div class="w3-right w3-third" data-v-de8136c4><h3 data-v-de8136c4>Get in touch</h3><p data-v-de8136c4>mythreefoundation@gmail.com</p><p data-v-de8136c4>+91 9448243724</p></div>',3),_hoisted_5$6=[_hoisted_2$7];function _sfc_render$8(t,e){return openBlock(),createElementBlock("footer",_hoisted_1$8,_hoisted_5$6)}const Footer=_export_sfc(_sfc_main$9,[["render",_sfc_render$8],["__scopeId","data-v-de8136c4"]]),__default__=defineComponent({data(){return{message:"Hello World!"}}}),_sfc_main$8=defineComponent({...__default__,__name:"App",setup(t){return(e,n)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(Header),(openBlock(),createBlock(unref(RouterView),{key:e.$route.fullPath})),createVNode(Footer)],64))}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(t){const e=[];let n=0;for(let a=0;a<t.length;a++){let i=t.charCodeAt(a);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&a+1<t.length&&(t.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++a)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},byteArrayToString=function(t){const e=[];let n=0,a=0;for(;n<t.length;){const i=t[n++];if(i<128)e[a++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[a++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[a++]=String.fromCharCode(55296+(c>>10)),e[a++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[a++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,L=o>>2,Se=(o&3)<<4|u>>4;let ge=(u&15)<<2|f>>6,Le=f&63;c||(Le=64,s||(ge=64)),a.push(n[L],n[Se],n[ge],n[Le])}return a.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(stringToByteArray$1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):byteArrayToString(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const Se=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||Se==null)throw new DecodeBase64StringError;const ge=o<<2|u>>4;if(a.push(ge),f!==64){const Le=u<<4&240|f>>2;if(a.push(Le),Se!==64){const We=f<<6&192|Se;a.push(We)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(t){const e=stringToByteArray$1(t);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(t){return base64Encode(t).replace(/\./g,"")},base64Decode=function(t){try{return base64.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function deepExtend(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!isValidKey(n)||(t[n]=deepExtend(t[n],e[n]));return t}function isValidKey(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&base64Decode(t[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},getDefaultEmulatorHost=t=>{var e,n;return(n=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},getDefaultEmulatorHostnameAndPort=t=>{const e=getDefaultEmulatorHost(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},getDefaultAppConfig=()=>{var t;return(t=getDefaults())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[base64urlEncodeWithoutPadding(JSON.stringify(n)),base64urlEncodeWithoutPadding(JSON.stringify(s)),u].join(".")}function isNode(){var t;const e=(t=getDefaults())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isBrowser$1(){return typeof self=="object"&&self.self===self}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((t,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(a),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?replaceTemplate(o,a):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new FirebaseError(i,u,a)}}function replaceTemplate(t,e){return t.replace(PATTERN,(n,a)=>{const i=e[a];return i!=null?String(i):`<${a}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function deepEqual(t,e){if(t===e)return!0;const n=Object.keys(t),a=Object.keys(e);for(const i of n){if(!a.includes(i))return!1;const o=t[i],s=e[i];if(isObject(o)&&isObject(s)){if(!deepEqual(o,s))return!1}else if(o!==s)return!1}for(const i of a)if(!n.includes(i))return!1;return!0}function isObject(t){return t!==null&&typeof t=="object"}function createSubscribe(t,e){const n=new ObserverProxy(t,e);return n.subscribe.bind(n)}class ObserverProxy{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let i;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:a},i.next===void 0&&(i.next=noop),i.error===void 0&&(i.error=noop),i.complete===void 0&&(i.complete=noop);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function noop(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(t){return t&&t._delegate?t._delegate:t}class Component{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Deferred;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});a.resolve(o)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);a===u&&s.resolve(i)}return i}onInit(e,n){var a;const i=this.normalizeInstanceIdentifier(n),o=(a=this.onInitCallbacks.get(i))!==null&&a!==void 0?a:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const i of a)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(t){return t===DEFAULT_ENTRY_NAME$1?void 0:t}function isComponentEager(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Provider(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instances=[];var LogLevel;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(t,e,...n)=>{if(e<t.logLevel)return;const a=new Date().toISOString(),i=ConsoleMethod[e];if(i)console[i](`[${a}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null,instances.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}function setLogLevel$1(t){instances.forEach(e=>{e.setLogLevel(t)})}function setUserLogHandler(t,e){for(const n of instances){let a=null;e&&e.level&&(a=levelStringToEnum[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...s)=>{const u=s.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");o>=(a??i.logLevel)&&t({level:LogLevel[o].toLowerCase(),message:u,args:s,type:i.name})}}}const instanceOfAny=(t,e)=>e.some(n=>t instanceof n);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(t){const e=new Promise((n,a)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(wrap(t.result)),i()},s=()=>{a(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cursorRequestMap.set(n,t)}).catch(()=>{}),reverseTransformCache.set(e,t),e}function cacheDonePromiseForTransaction(t){if(transactionDoneMap.has(t))return;const e=new Promise((n,a)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{a(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});transactionDoneMap.set(t,e)}let idbProxyTraps={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||transactionStoreNamesMap.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wrap(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function replaceTraps(t){idbProxyTraps=t(idbProxyTraps)}function wrapFunction(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=t.call(unwrap(this),e,...n);return transactionStoreNamesMap.set(a,e.sort?e.sort():[e]),wrap(a)}:getCursorAdvanceMethods().includes(t)?function(...e){return t.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(t.apply(unwrap(this),e))}}function transformCachableValue(t){return typeof t=="function"?wrapFunction(t):(t instanceof IDBTransaction&&cacheDonePromiseForTransaction(t),instanceOfAny(t,getIdbProxyableTypes())?new Proxy(t,idbProxyTraps):t)}function wrap(t){if(t instanceof IDBRequest)return promisifyRequest(t);if(transformCache.has(t))return transformCache.get(t);const e=transformCachableValue(t);return e!==t&&(transformCache.set(t,e),reverseTransformCache.set(e,t)),e}const unwrap=t=>reverseTransformCache.get(t);function openDB(t,e,{blocked:n,upgrade:a,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),u=wrap(s);return a&&s.addEventListener("upgradeneeded",c=>{a(wrap(s.result),c.oldVersion,c.newVersion,wrap(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,i=writeMethods.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(i||readMethods.includes(n)))return;const o=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return a&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return cachedMethods.set(e,o),o}replaceTraps(t=>({...t,get:(e,n,a)=>getMethod(e,n)||t.get(e,n,a),has:(e,n)=>!!getMethod(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(isVersionServiceProvider(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function isVersionServiceProvider(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3$1="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$4="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3$1]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(t,e){try{t.container.addComponent(e)}catch(n){logger$1.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _addOrOverwriteComponent(t,e){t.container.addOrOverwriteComponent(e)}function _registerComponent(t){const e=t.name;if(_components.has(e))return logger$1.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,t);for(const n of _apps.values())_addComponent(n,t);return!0}function _getProvider(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _removeServiceInstance(t,e,n=DEFAULT_ENTRY_NAME){_getProvider(t,e).clearInstance(n)}function _clearComponents(){_components.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY$1=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FirebaseAppImpl$1=class{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$1.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$4;function initializeApp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const a=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),i=a.name;if(typeof i!="string"||!i)throw ERROR_FACTORY$1.create("bad-app-name",{appName:String(i)});if(n||(n=getDefaultAppConfig()),!n)throw ERROR_FACTORY$1.create("no-options");const o=_apps.get(i);if(o){if(deepEqual(n,o.options)&&deepEqual(a,o.config))return o;throw ERROR_FACTORY$1.create("duplicate-app",{appName:i})}const s=new ComponentContainer(i);for(const c of _components.values())s.addComponent(c);const u=new FirebaseAppImpl$1(n,a,s);return _apps.set(i,u),u}function getApp(t=DEFAULT_ENTRY_NAME){const e=_apps.get(t);if(!e&&t===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!e)throw ERROR_FACTORY$1.create("no-app",{appName:t});return e}function getApps(){return Array.from(_apps.values())}async function deleteApp(t){const e=t.name;_apps.has(e)&&(_apps.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function registerVersion(t,e,n){var a;let i=(a=PLATFORM_LOG_STRING[t])!==null&&a!==void 0?a:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger$1.warn(u.join(" "));return}_registerComponent(new Component(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function onLog(t,e){if(t!==null&&typeof t!="function")throw ERROR_FACTORY$1.create("invalid-log-argument");setUserLogHandler(t,e)}function setLogLevel(t){setLogLevel$1(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME,DB_VERSION,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(STORE_NAME)}}}).catch(t=>{throw ERROR_FACTORY$1.create("idb-open",{originalErrorMessage:t.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(t){try{return await(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(t))}catch(e){if(e instanceof FirebaseError)logger$1.warn(e.message);else{const n=ERROR_FACTORY$1.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});logger$1.warn(n.message)}}}async function writeHeartbeatsToIndexedDB(t,e){try{const a=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await a.objectStore(STORE_NAME).put(e,computeKey(t)),await a.done}catch(n){if(n instanceof FirebaseError)logger$1.warn(n.message);else{const a=ERROR_FACTORY$1.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});logger$1.warn(a.message)}}}function computeKey(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(i=>i.date===a)))return this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=getUTCDateString(),{heartbeatsToSend:n,unsentEntries:a}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),i=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(t,e=MAX_HEADER_BYTES){const n=[];let a=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),countBytes(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),countBytes(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function countBytes(t){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents$1(t){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$o,version$1$1,t),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents$1("");const modularAPIs=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError,SDK_VERSION,_DEFAULT_ENTRY_NAME:DEFAULT_ENTRY_NAME,_addComponent,_addOrOverwriteComponent,_apps,_clearComponents,_components,_getProvider,_registerComponent,_removeServiceInstance,deleteApp,getApp,getApps,initializeApp,onLog,registerVersion,setLogLevel},Symbol.toStringTag,{value:"Module"}));var name$3="firebase",version$3="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$3,version$3,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(e,n,a=0){super(prependCode(e),`Firebase Storage: ${n} (${prependCode(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return prependCode(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(t){return"storage/"+t}function unknown(){const t="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,t)}function objectNotFound(t){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function quotaExceeded(t){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,t)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(t){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(t){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+t+"'.")}function invalidDefaultBucket(t){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(t){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument(t){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,t)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(t){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(t,e){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function internalError(t){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Location.makeFromUrl(e,n)}catch{return new Location(e,"")}if(a.path==="")return a;throw invalidDefaultBucket(e)}static makeFromUrl(e,n){let a=null;const i="([A-Za-z0-9.\\-_]+)";function o(ve){ve.path.charAt(ve.path.length-1)==="/"&&(ve.path_=ve.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f(ve){ve.path_=decodeURIComponent(ve.path)}const L="v[A-Za-z0-9_]+",Se=n.replace(/[.]/g,"\\."),ge="(/([^?#]*).*)?$",Le=new RegExp(`^https?://${Se}/${L}/b/${i}/o${ge}`,"i"),We={bucket:1,path:3},$e=n===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Qe="([^?#]*)",Ue=new RegExp(`^https?://${$e}/${i}/${Qe}`,"i"),we=[{regex:u,indices:c,postModify:o},{regex:Le,indices:We,postModify:f},{regex:Ue,indices:{bucket:1,path:2},postModify:f}];for(let ve=0;ve<we.length;ve++){const Ce=we[ve],Ee=Ce.regex.exec(e);if(Ee){const xe=Ee[Ce.indices.bucket];let re=Ee[Ce.indices.path];re||(re=""),a=new Location(xe,re),Ce.postModify(a);break}}if(a==null)throw invalidUrl(e);return a}}class FailRequest{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(t,e,n){let a=1,i=null,o=null,s=!1,u=0;function c(){return u===2}let f=!1;function L(...Qe){f||(f=!0,e.apply(null,Qe))}function Se(Qe){i=setTimeout(()=>{i=null,t(Le,c())},Qe)}function ge(){o&&clearTimeout(o)}function Le(Qe,...Ue){if(f){ge();return}if(Qe){ge(),L.call(null,Qe,...Ue);return}if(c()||s){ge(),L.call(null,Qe,...Ue);return}a<64&&(a*=2);let we;u===1?(u=2,we=0):we=(a+Math.random())*1e3,Se(we)}let We=!1;function $e(Qe){We||(We=!0,ge(),!f&&(i!==null?(Qe||(u=2),clearTimeout(i),Se(0)):Qe||(u=1)))}return Se(0),o=setTimeout(()=>{s=!0,$e(!0)},n),$e}function stop(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(t){return t!==void 0}function isNonArrayObject(t){return typeof t=="object"&&!Array.isArray(t)}function isString(t){return typeof t=="string"||t instanceof String}function isNativeBlob(t){return isNativeBlobDefined()&&t instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"&&!isNode()}function validateNumber(t,e,n,a){if(a<e)throw invalidArgument(`Invalid value for '${t}'. Expected ${e} or greater.`);if(a>n)throw invalidArgument(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(t,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${t}`}function makeQueryString(t){const e=encodeURIComponent;let n="?";for(const a in t)if(t.hasOwnProperty(a)){const i=e(a)+"="+e(t[a]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode$1;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ErrorCode$1||(ErrorCode$1={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(e,n,a,i,o,s,u,c,f,L,Se,ge=!0){this.url_=e,this.method_=n,this.headers_=a,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=L,this.connectionFactory_=Se,this.retry=ge,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Le,We)=>{this.resolve_=Le,this.reject_=We,this.start_()})}start_(){const e=(a,i)=>{if(i){a(!1,new RequestEndStatus(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const u=o.getErrorCode()===ErrorCode$1.NO_ERROR,c=o.getStatus();if(!u||isRetryStatusCode(c,this.additionalRetryCodes_)&&this.retry){const L=o.getErrorCode()===ErrorCode$1.ABORT;a(!1,new RequestEndStatus(!1,null,L));return}const f=this.successCodes_.indexOf(c)!==-1;a(!0,new RequestEndStatus(f,o))})},n=(a,i)=>{const o=this.resolve_,s=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());isJustDef(c)?o(c):o()}catch(c){s(c)}else if(u!==null){const c=unknown();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(i.canceled){const c=this.appDelete_?appDeleted():canceled();s(c)}else{const c=retryLimitExceeded();s(c)}};this.canceled_?n(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function addAuthHeader_(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function addVersionHeader_(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function addGmpidHeader_(t,e){e&&(t["X-Firebase-GMPID"]=e)}function addAppCheckHeader_(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function makeRequest(t,e,n,a,i,o,s=!0){const u=makeQueryString(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return addGmpidHeader_(f,e),addAuthHeader_(f,n),addVersionHeader_(f,o),addAppCheckHeader_(f,a),new NetworkRequest(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...t){const e=getBlobBuilder();if(e!==void 0){const n=new e;for(let a=0;a<t.length;a++)n.append(t[a]);return n.getBlob()}else{if(isNativeBlobDefined())return new Blob(t);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(t){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(e,n){this.data=e,this.contentType=n||null}}function dataFromString(t,e){switch(t){case StringFormat.RAW:return new StringData(utf8Bytes_(e));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(t,e));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(e),dataURLContentType_(e))}throw unknown()}function utf8Bytes_(t){const e=[];for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=a,s=t.charCodeAt(++n);a=65536|(o&1023)<<10|s&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function percentEncodedBytes_(t){let e;try{e=decodeURIComponent(t)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(e)}function base64Bytes_(t,e){switch(t){case StringFormat.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw invalidFormat(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw invalidFormat(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=decodeBase64(e)}catch(i){throw i.message.includes("polyfill")?i:invalidFormat(t,"Invalid character found")}const a=new Uint8Array(n.length);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return a}class DataURLParts{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=endsWith(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function dataURLBytes_(t){const e=new DataURLParts(t);return e.base64?base64Bytes_(StringFormat.BASE64,e.rest):percentEncodedBytes_(e.rest)}function dataURLContentType_(t){return new DataURLParts(t).contentType}function endsWith(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(e,n){let a=0,i="";isNativeBlob(e)?(this.data_=e,a=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(isNativeBlob(this.data_)){const a=this.data_,i=sliceBlob(a,e,n);return i===null?null:new FbsBlob(i)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new FbsBlob(a,!0)}}static getBlob(...e){if(isNativeBlobDefined()){const n=e.map(a=>a instanceof FbsBlob?a.data_:a);return new FbsBlob(getBlob$1.apply(null,n))}else{const n=e.map(s=>isString(s)?dataFromString(StringFormat.RAW,s).data:s.data_);let a=0;n.forEach(s=>{a+=s.byteLength});const i=new Uint8Array(a);let o=0;return n.forEach(s=>{for(let u=0;u<s.length;u++)i[o++]=s[u]}),new FbsBlob(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(t){let e;try{e=JSON.parse(t)}catch{return null}return isNonArrayObject(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function child(t,e){const n=e.split("/").filter(a=>a.length>0).join("/");return t.length===0?n:t+"/"+n}function lastComponent(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(t,e){return e}class Mapping{constructor(e,n,a,i){this.server=e,this.local=n||e,this.writable=!!a,this.xform=i||noXform_}}let mappings_=null;function xformPath(t){return!isString(t)||t.length<2?t:lastComponent(t)}function getMappings(){if(mappings_)return mappings_;const t=[];t.push(new Mapping("bucket")),t.push(new Mapping("generation")),t.push(new Mapping("metageneration")),t.push(new Mapping("name","fullPath",!0));function e(o,s){return xformPath(s)}const n=new Mapping("name");n.xform=e,t.push(n);function a(o,s){return s!==void 0?Number(s):s}const i=new Mapping("size");return i.xform=a,t.push(i),t.push(new Mapping("timeCreated")),t.push(new Mapping("updated")),t.push(new Mapping("md5Hash",null,!0)),t.push(new Mapping("cacheControl",null,!0)),t.push(new Mapping("contentDisposition",null,!0)),t.push(new Mapping("contentEncoding",null,!0)),t.push(new Mapping("contentLanguage",null,!0)),t.push(new Mapping("contentType",null,!0)),t.push(new Mapping("metadata","customMetadata",!0)),mappings_=t,mappings_}function addRef(t,e){function n(){const a=t.bucket,i=t.fullPath,o=new Location(a,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function fromResource(t,e,n){const a={};a.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];a[s.local]=s.xform(a,e[s.server])}return addRef(a,t),a}function fromResourceString(t,e,n){const a=jsonObjectOrNull(e);return a===null?null:fromResource(t,a,n)}function downloadUrlFromResourceString(t,e,n,a){const i=jsonObjectOrNull(e);if(i===null||!isString(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(f=>{const L=t.bucket,Se=t.fullPath,ge="/b/"+s(L)+"/o/"+s(Se),Le=makeUrl(ge,n,a),We=makeQueryString({alt:"media",token:f});return Le+We})[0]}function toResourceString(t,e){const n={},a=e.length;for(let i=0;i<a;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PREFIXES_KEY="prefixes",ITEMS_KEY="items";function fromBackendResponse(t,e,n){const a={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[PREFIXES_KEY])for(const i of n[PREFIXES_KEY]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new Location(e,o));a.prefixes.push(s)}if(n[ITEMS_KEY])for(const i of n[ITEMS_KEY]){const o=t._makeStorageReference(new Location(e,i.name));a.items.push(o)}return a}function fromResponseString(t,e,n){const a=jsonObjectOrNull(n);return a===null?null:fromBackendResponse(t,e,a)}class RequestInfo{constructor(e,n,a,i){this.url=e,this.method=n,this.handler=a,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(t){if(!t)throw unknown()}function metadataHandler(t,e){function n(a,i){const o=fromResourceString(t,i,e);return handlerCheck(o!==null),o}return n}function listHandler(t,e){function n(a,i){const o=fromResponseString(t,e,i);return handlerCheck(o!==null),o}return n}function downloadUrlHandler(t,e){function n(a,i){const o=fromResourceString(t,i,e);return handlerCheck(o!==null),downloadUrlFromResourceString(o,i,t.host,t._protocol)}return n}function sharedErrorHandler(t){function e(n,a){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=unauthorizedApp():i=unauthenticated():n.getStatus()===402?i=quotaExceeded(t.bucket):n.getStatus()===403?i=unauthorized(t.path):i=a,i.status=n.getStatus(),i.serverResponse=a.serverResponse,i}return e}function objectErrorHandler(t){const e=sharedErrorHandler(t);function n(a,i){let o=e(a,i);return a.getStatus()===404&&(o=objectNotFound(t.path)),o.serverResponse=i.serverResponse,o}return n}function list$2(t,e,n,a,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),a&&(o.pageToken=a),i&&(o.maxResults=i);const s=e.bucketOnlyServerUrl(),u=makeUrl(s,t.host,t._protocol),c="GET",f=t.maxOperationRetryTime,L=new RequestInfo(u,c,listHandler(t,e.bucket),f);return L.urlParams=o,L.errorHandler=sharedErrorHandler(e),L}function getDownloadUrl(t,e,n){const a=e.fullServerUrl(),i=makeUrl(a,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,u=new RequestInfo(i,o,downloadUrlHandler(t,n),s);return u.errorHandler=objectErrorHandler(e),u}function deleteObject$2(t,e){const n=e.fullServerUrl(),a=makeUrl(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(c,f){}const u=new RequestInfo(a,i,s,o);return u.successCodes=[200,204],u.errorHandler=objectErrorHandler(e),u}function determineContentType_(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function metadataForUpload_(t,e,n){const a=Object.assign({},n);return a.fullPath=t.path,a.size=e.size(),a.contentType||(a.contentType=determineContentType_(null,e)),a}function multipartUpload(t,e,n,a,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function u(){let we="";for(let ve=0;ve<2;ve++)we=we+Math.random().toString().slice(2);return we}const c=u();s["Content-Type"]="multipart/related; boundary="+c;const f=metadataForUpload_(e,a,i),L=toResourceString(f,n),Se="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+L+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,ge=`\r
--`+c+"--",Le=FbsBlob.getBlob(Se,a,ge);if(Le===null)throw cannotSliceBlob();const We={name:f.fullPath},$e=makeUrl(o,t.host,t._protocol),Qe="POST",Ue=t.maxUploadRetryTime,De=new RequestInfo($e,Qe,metadataHandler(t,n),Ue);return De.urlParams=We,De.headers=s,De.body=Le.uploadData(),De.errorHandler=sharedErrorHandler(e),De}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode$1.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode$1.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode$1.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,i){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(e,n){this._service=e,n instanceof Location?this._location=n:this._location=Location.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Reference(e,n)}get root(){const e=new Location(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const e=parent(this._location.path);if(e===null)return null;const n=new Location(this._location.bucket,e);return new Reference(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw invalidRootOperation(e)}}function uploadBytes$1(t,e,n){t._throwIfRoot("uploadBytes");const a=multipartUpload(t.storage,t._location,getMappings(),new FbsBlob(e,!0),n);return t.storage.makeRequestWithTokens(a,newTextConnection).then(i=>({metadata:i,ref:t}))}function listAll$1(t){const e={prefixes:[],items:[]};return listAllHelper(t,e).then(()=>e)}async function listAllHelper(t,e,n){const i=await list$1(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await listAllHelper(t,e,i.nextPageToken)}function list$1(t,e){e!=null&&typeof e.maxResults=="number"&&validateNumber("options.maxResults",1,1e3,e.maxResults);const n=e||{},a=list$2(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(a,newTextConnection)}function getDownloadURL$1(t){t._throwIfRoot("getDownloadURL");const e=getDownloadUrl(t.storage,t._location,getMappings());return t.storage.makeRequestWithTokens(e,newTextConnection).then(n=>{if(n===null)throw noDownloadURL();return n})}function deleteObject$1(t){t._throwIfRoot("deleteObject");const e=deleteObject$2(t.storage,t._location);return t.storage.makeRequestWithTokens(e,newTextConnection)}function _getChild$1(t,e){const n=child(t._location.path,e),a=new Location(t._location.bucket,n);return new Reference(t.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(t){return/^[A-Za-z]+:\/\//.test(t)}function refFromURL(t,e){return new Reference(t,e)}function refFromPath(t,e){if(t instanceof FirebaseStorageImpl){const n=t;if(n._bucket==null)throw noDefaultBucket();const a=new Reference(n,n._bucket);return e!=null?refFromPath(a,e):a}else return e!==void 0?_getChild$1(t,e):t}function ref$1(t,e){if(e&&isUrl(e)){if(t instanceof FirebaseStorageImpl)return refFromURL(t,e);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(t,e)}function extractBucket(t,e){const n=e==null?void 0:e[CONFIG_STORAGE_BUCKET_KEY];return n==null?null:Location.makeFromBucketSpec(n,t)}function connectStorageEmulator$1(t,e,n,a={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=a;i&&(t._overrideAuthToken=typeof i=="string"?i:createMockUserToken(i,t.app.options.projectId))}class FirebaseStorageImpl{constructor(e,n,a,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,i!=null?this._bucket=Location.makeFromBucketSpec(i,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,e):this._bucket=extractBucket(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Reference(this,e)}_makeRequest(e,n,a,i,o=!0){if(this._deleted)return new FailRequest(appDeleted());{const s=makeRequest(e,this._appId,a,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[a,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,i).getPromise()}}const name$2="@firebase/storage",version$2="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(t,e,n){return t=getModularInstance(t),uploadBytes$1(t,e,n)}function listAll(t){return t=getModularInstance(t),listAll$1(t)}function getDownloadURL(t){return t=getModularInstance(t),getDownloadURL$1(t)}function deleteObject(t){return t=getModularInstance(t),deleteObject$1(t)}function ref(t,e){return t=getModularInstance(t),ref$1(t,e)}function getStorage(t=getApp(),e){t=getModularInstance(t);const a=_getProvider(t,STORAGE_TYPE).getImmediate({identifier:e}),i=getDefaultEmulatorHostnameAndPort("storage");return i&&connectStorageEmulator(a,...i),a}function connectStorageEmulator(t,e,n,a={}){connectStorageEmulator$1(t,e,n,a)}function factory(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new FirebaseStorageImpl(n,a,i,e,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$2,version$2,""),registerVersion(name$2,version$2,"esm2017")}registerStorage();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,n){this._delegate=e,this.firebase=n,_addComponent(e,new Component("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),deleteApp(this._delegate)))}_getService(e,n=DEFAULT_ENTRY_NAME){var a;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((a=i.getComponent())===null||a===void 0?void 0:a.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){_addComponent(this._delegate,e)}_addOrOverwriteComponent(e){_addOrOverwriteComponent(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},ERROR_FACTORY=new ErrorFactory("app-compat","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespaceCore(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion,setLogLevel,onLog,apps:null,SDK_VERSION,INTERNAL:{registerComponent:u,removeApp:a,useAsService:c,modularAPIs}};n.default=n,Object.defineProperty(n,"apps",{get:s});function a(f){delete e[f]}function i(f){if(f=f||DEFAULT_ENTRY_NAME,!contains(e,f))throw ERROR_FACTORY.create("no-app",{appName:f});return e[f]}i.App=t;function o(f,L={}){const Se=initializeApp(f,L);if(contains(e,Se.name))return e[Se.name];const ge=new t(Se,n);return e[Se.name]=ge,ge}function s(){return Object.keys(e).map(f=>e[f])}function u(f){const L=f.name,Se=L.replace("-compat","");if(_registerComponent(f)&&f.type==="PUBLIC"){const ge=(Le=i())=>{if(typeof Le[Se]!="function")throw ERROR_FACTORY.create("invalid-app-argument",{appName:L});return Le[Se]()};f.serviceProps!==void 0&&deepExtend(ge,f.serviceProps),n[Se]=ge,t.prototype[Se]=function(...Le){return this._getService.bind(this,L).apply(this,f.multipleInstances?Le:[])}}return f.type==="PUBLIC"?n[Se]:null}function c(f,L){return L==="serverAuth"?null:L}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespace(){const t=createFirebaseNamespaceCore(FirebaseAppImpl);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace,extendNamespace:e,createSubscribe,ErrorFactory,deepExtend});function e(n){deepExtend(t,n)}return t}const firebase$1=createFirebaseNamespace();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app-compat"),name$1="@firebase/app-compat",version$1="0.2.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(t){registerVersion(name$1,version$1,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(isBrowser$1()&&self.firebase!==void 0){logger.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&logger.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const firebase=firebase$1;registerCoreComponents();var name="firebase",version="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */firebase.registerVersion(name,version,"app-compat");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k,goog=goog||{},l=commonjsGlobal||self;function aa(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function p(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ba(t){return Object.prototype.hasOwnProperty.call(t,ca)&&t[ca]||(t[ca]=++da)}var ca="closure_uid_"+(1e9*Math.random()>>>0),da=0;function ea(t,e,n){return t.call.apply(t.bind,arguments)}function fa(t,e,n){if(!t)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,a),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function q(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q=ea:q=fa,q.apply(null,arguments)}function ha(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var a=n.slice();return a.push.apply(a,arguments),t.apply(this,a)}}function r(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(a,i,o){for(var s=Array(arguments.length-2),u=2;u<arguments.length;u++)s[u-2]=arguments[u];return e.prototype[i].apply(a,s)}}function v$1(){this.s=this.s,this.o=this.o}var ia=0;v$1.prototype.s=!1;v$1.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ia!=0)&&ba(this)};v$1.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ka=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ma(t){const e=t.length;if(0<e){const n=Array(e);for(let a=0;a<e;a++)n[a]=t[a];return n}return[]}function na(t,e){for(let n=1;n<arguments.length;n++){const a=arguments[n];if(aa(a)){const i=t.length||0,o=a.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=a[s]}else t.push(a)}}function w(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var oa=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{l.addEventListener("test",()=>{},e),l.removeEventListener("test",()=>{},e)}catch{}return t}();function x(t){return/^[\s\xa0]*$/.test(t)}function pa(){var t=l.navigator;return t&&(t=t.userAgent)?t:""}function y(t){return pa().indexOf(t)!=-1}function qa(t){return qa[" "](t),t}qa[" "]=function(){};function ra(t,e){var n=sa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var ta=y("Opera"),z=y("Trident")||y("MSIE"),ua=y("Edge"),va=ua||z,wa=y("Gecko")&&!(pa().toLowerCase().indexOf("webkit")!=-1&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),xa=pa().toLowerCase().indexOf("webkit")!=-1&&!y("Edge");function ya(){var t=l.document;return t?t.documentMode:void 0}var za;e:{var Aa="",Ba=function(){var t=pa();if(wa)return/rv:([^\);]+)(\)|;)/.exec(t);if(ua)return/Edge\/([\d\.]+)/.exec(t);if(z)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xa)return/WebKit\/(\S+)/.exec(t);if(ta)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ba&&(Aa=Ba?Ba[1]:""),z){var Ca=ya();if(Ca!=null&&Ca>parseFloat(Aa)){za=String(Ca);break e}}za=Aa}var Da;if(l.document&&z){var Ea=ya();Da=Ea||parseInt(za,10)||void 0}else Da=void 0;var Fa=Da;function A(t,e){if(w.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,a=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(wa){e:{try{qa(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,a?(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Ga[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&A.$.h.call(this)}}r(A,w);var Ga={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ha="closure_listenable_"+(1e6*Math.random()|0),Ia=0;function Ja(t,e,n,a,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!a,this.la=i,this.key=++Ia,this.fa=this.ia=!1}function Ka(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Na(t,e,n){for(const a in t)e.call(n,t[a],a,t)}function Oa(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Pa(t){const e={};for(const n in t)e[n]=t[n];return e}const Qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ra(t,e){let n,a;for(let i=1;i<arguments.length;i++){a=arguments[i];for(n in a)t[n]=a[n];for(let o=0;o<Qa.length;o++)n=Qa[o],Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}}function Sa(t){this.src=t,this.g={},this.h=0}Sa.prototype.add=function(t,e,n,a,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Ta(t,e,a,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new Ja(e,this.src,o,!!a,i),e.ia=n,t.push(e)),e};function Ua(t,e){var n=e.type;if(n in t.g){var a=t.g[n],i=ka(a,e),o;(o=0<=i)&&Array.prototype.splice.call(a,i,1),o&&(Ka(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ta(t,e,n,a){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==a)return i}return-1}var Va="closure_lm_"+(1e6*Math.random()|0),Wa={};function Ya(t,e,n,a,i){if(a&&a.once)return Za(t,e,n,a,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ya(t,e[o],n,a,i);return null}return n=$a(n),t&&t[Ha]?t.O(e,n,p(a)?!!a.capture:!!a,i):ab(t,e,n,!1,a,i)}function ab(t,e,n,a,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,u=bb(t);if(u||(t[Va]=u=new Sa(t)),n=u.add(e,n,a,s,o),n.proxy)return n;if(a=cb(),n.proxy=a,a.src=t,a.listener=n,t.addEventListener)oa||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),a,i);else if(t.attachEvent)t.attachEvent(db$1(e.toString()),a);else if(t.addListener&&t.removeListener)t.addListener(a);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cb(){function t(n){return e.call(t.src,t.listener,n)}const e=eb;return t}function Za(t,e,n,a,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Za(t,e[o],n,a,i);return null}return n=$a(n),t&&t[Ha]?t.P(e,n,p(a)?!!a.capture:!!a,i):ab(t,e,n,!0,a,i)}function fb(t,e,n,a,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fb(t,e[o],n,a,i);else a=p(a)?!!a.capture:!!a,n=$a(n),t&&t[Ha]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Ta(o,n,a,i),-1<n&&(Ka(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=bb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ta(e,n,a,i)),(n=-1<t?e[t]:null)&&gb(n))}function gb(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ha])Ua(e.i,t);else{var n=t.type,a=t.proxy;e.removeEventListener?e.removeEventListener(n,a,t.capture):e.detachEvent?e.detachEvent(db$1(n),a):e.addListener&&e.removeListener&&e.removeListener(a),(n=bb(e))?(Ua(n,t),n.h==0&&(n.src=null,e[Va]=null)):Ka(t)}}}function db$1(t){return t in Wa?Wa[t]:Wa[t]="on"+t}function eb(t,e){if(t.fa)t=!0;else{e=new A(e,this);var n=t.listener,a=t.la||t.src;t.ia&&gb(t),t=n.call(a,e)}return t}function bb(t){return t=t[Va],t instanceof Sa?t:null}var hb="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(t){return typeof t=="function"?t:(t[hb]||(t[hb]=function(e){return t.handleEvent(e)}),t[hb])}function B(){v$1.call(this),this.i=new Sa(this),this.S=this,this.J=null}r(B,v$1);B.prototype[Ha]=!0;B.prototype.removeEventListener=function(t,e,n,a){fb(this,t,e,n,a)};function C$1(t,e){var n,a=t.J;if(a)for(n=[];a;a=a.J)n.push(a);if(t=t.S,a=e.type||e,typeof e=="string")e=new w(e,t);else if(e instanceof w)e.target=e.target||t;else{var i=e;e=new w(a,t),Ra(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=ib(s,a,!0,e)&&i}if(s=e.g=t,i=ib(s,a,!0,e)&&i,i=ib(s,a,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=ib(s,a,!1,e)&&i}B.prototype.N=function(){if(B.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],a=0;a<n.length;a++)Ka(n[a]);delete t.g[e],t.h--}}this.J=null};B.prototype.O=function(t,e,n,a){return this.i.add(String(t),e,!1,n,a)};B.prototype.P=function(t,e,n,a){return this.i.add(String(t),e,!0,n,a)};function ib(t,e,n,a){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var u=s.listener,c=s.la||s.src;s.ia&&Ua(t.i,s),i=u.call(c,a)!==!1&&i}}return i&&!a.defaultPrevented}var jb=l.JSON.stringify;class kb{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function lb(){var t=mb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class nb{constructor(){this.h=this.g=null}add(e,n){const a=ob.get();a.set(e,n),this.h?this.h.next=a:this.g=a,this.h=a}}var ob=new kb(()=>new pb,t=>t.reset());class pb{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function qb(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function rb(t){l.setTimeout(()=>{throw t},0)}let sb,tb=!1,mb=new nb,vb=()=>{const t=l.Promise.resolve(void 0);sb=()=>{t.then(ub)}};var ub=()=>{for(var t;t=lb();){try{t.h.call(t.g)}catch(n){rb(n)}var e=ob;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}tb=!1};function wb(t,e){B.call(this),this.h=t||1,this.g=e||l,this.j=q(this.qb,this),this.l=Date.now()}r(wb,B);k=wb.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),C$1(this,"tick"),this.ga&&(xb(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}k.N=function(){wb.$.N.call(this),xb(this),delete this.g};function yb(t,e,n){if(typeof t=="function")n&&(t=q(t,n));else if(t&&typeof t.handleEvent=="function")t=q(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:l.setTimeout(t,e||0)}function zb(t){t.g=yb(()=>{t.g=null,t.i&&(t.i=!1,zb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Ab extends v$1{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zb(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bb(t){v$1.call(this),this.h=t,this.g={}}r(Bb,v$1);var Cb=[];function Db(t,e,n,a){Array.isArray(n)||(n&&(Cb[0]=n.toString()),n=Cb);for(var i=0;i<n.length;i++){var o=Ya(e,n[i],a||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Fb(t){Na(t.g,function(e,n){this.g.hasOwnProperty(n)&&gb(e)},t),t.g={}}Bb.prototype.N=function(){Bb.$.N.call(this),Fb(this)};Bb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gb(){this.g=!0}Gb.prototype.Ea=function(){this.g=!1};function Hb(t,e,n,a,i,o){t.info(function(){if(t.g)if(o)for(var s="",u=o.split("&"),c=0;c<u.length;c++){var f=u[c].split("=");if(1<f.length){var L=f[0];f=f[1];var Se=L.split("_");s=2<=Se.length&&Se[1]=="type"?s+(L+"="+f+"&"):s+(L+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+a+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function Ib(t,e,n,a,i,o,s){t.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function D$1(t,e,n,a){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Jb(t,n)+(a?" "+a:"")})}function Kb(t,e){t.info(function(){return"TIMEOUT: "+e})}Gb.prototype.info=function(){};function Jb(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var a=n[t];if(!(2>a.length)){var i=a[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return jb(n)}catch{return e}}var E={},Lb=null;function Mb(){return Lb=Lb||new B}E.Ta="serverreachability";function Nb(t){w.call(this,E.Ta,t)}r(Nb,w);function Ob(t){const e=Mb();C$1(e,new Nb(e))}E.STAT_EVENT="statevent";function Pb(t,e){w.call(this,E.STAT_EVENT,t),this.stat=e}r(Pb,w);function F$1(t){const e=Mb();C$1(e,new Pb(e,t))}E.Ua="timingevent";function Qb(t,e){w.call(this,E.Ua,t),this.size=e}r(Qb,w);function Rb(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){t()},e)}var Sb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ub(){}Ub.prototype.h=null;function Vb(t){return t.h||(t.h=t.i())}function Wb(){}var Xb={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yb(){w.call(this,"d")}r(Yb,w);function Zb(){w.call(this,"c")}r(Zb,w);var $b;function ac(){}r(ac,Ub);ac.prototype.g=function(){return new XMLHttpRequest};ac.prototype.i=function(){return{}};$b=new ac;function bc(t,e,n,a){this.l=t,this.j=e,this.m=n,this.W=a||1,this.U=new Bb(this),this.P=cc,t=va?125:void 0,this.V=new wb(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dc}function dc(){this.i=null,this.g="",this.h=!1}var cc=45e3,ec={},fc={};k=bc.prototype;k.setTimeout=function(t){this.P=t};function gc(t,e,n){t.L=1,t.v=hc(G(e)),t.s=n,t.S=!0,ic(t,null)}function ic(t,e){t.G=Date.now(),jc(t),t.A=G(t.v);var n=t.A,a=t.W;Array.isArray(a)||(a=[String(a)]),kc(n.i,"t",a),t.C=0,n=t.l.J,t.h=new dc,t.g=lc(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ab(q(t.Pa,t,t.g),t.O)),Db(t.U,t.g,"readystatechange",t.nb),e=t.I?Pa(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ob(),Hb(t.j,t.u,t.A,t.m,t.W,t.s)}k.nb=function(t){t=t.target;const e=this.M;e&&H(t)==3?e.l():this.Pa(t)};k.Pa=function(t){try{if(t==this.g)e:{const L=H(this.g);var e=this.g.Ia();const Se=this.g.da();if(!(3>L)&&(L!=3||va||this.g&&(this.h.h||this.g.ja()||mc(this.g)))){this.J||L!=4||e==7||(e==8||0>=Se?Ob(3):Ob(2)),nc(this);var n=this.g.da();this.ca=n;t:if(oc(this)){var a=mc(this.g);t="";var i=a.length,o=H(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){I(this),pc(this);var s="";break t}this.h.i=new l.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(a[e],{stream:o&&e==i-1});a.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,Ib(this.j,this.u,this.A,this.m,this.W,L,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(u)){var f=u;break t}}f=null}if(n=f)D$1(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,n);else{this.i=!1,this.o=3,F$1(12),I(this),pc(this);break e}}this.S?(rc(this,L,s),va&&this.i&&L==3&&(Db(this.U,this.V,"tick",this.mb),this.V.start())):(D$1(this.j,this.m,s,null),qc(this,s)),L==4&&I(this),this.i&&!this.J&&(L==4?sc(this.l,this):(this.i=!1,jc(this)))}else tc(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,F$1(12)):(this.o=0,F$1(13)),I(this),pc(this)}}}catch{}finally{}};function oc(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function rc(t,e,n){let a=!0,i;for(;!t.J&&t.C<n.length;)if(i=uc(t,n),i==fc){e==4&&(t.o=4,F$1(14),a=!1),D$1(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ec){t.o=4,F$1(15),D$1(t.j,t.m,n,"[Invalid Chunk]"),a=!1;break}else D$1(t.j,t.m,i,null),qc(t,i);oc(t)&&i!=fc&&i!=ec&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,F$1(16),a=!1),t.i=t.i&&a,a?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vc(e),e.M=!0,F$1(11))):(D$1(t.j,t.m,n,"[Invalid Chunked Response]"),I(t),pc(t))}k.mb=function(){if(this.g){var t=H(this.g),e=this.g.ja();this.C<e.length&&(nc(this),rc(this,t,e),this.i&&t!=4&&jc(this))}};function uc(t,e){var n=t.C,a=e.indexOf(`
`,n);return a==-1?fc:(n=Number(e.substring(n,a)),isNaN(n)?ec:(a+=1,a+n>e.length?fc:(e=e.slice(a,a+n),t.C=a+n,e)))}k.cancel=function(){this.J=!0,I(this)};function jc(t){t.Y=Date.now()+t.P,wc(t,t.P)}function wc(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Rb(q(t.lb,t),e)}function nc(t){t.B&&(l.clearTimeout(t.B),t.B=null)}k.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Kb(this.j,this.A),this.L!=2&&(Ob(),F$1(17)),I(this),this.o=2,pc(this)):wc(this,this.Y-t)};function pc(t){t.l.H==0||t.J||sc(t.l,t)}function I(t){nc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,xb(t.V),Fb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function qc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||xc(n.i,t))){if(!t.K&&xc(n.i,t)&&n.H==3){try{var a=n.Ja.g.parse(e)}catch{a=null}if(Array.isArray(a)&&a.length==3){var i=a;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)yc(n),zc(n);else break e;Ac(n),F$1(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Rb(q(n.ib,n),6e3));if(1>=Bc(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else J(n,11)}else if((t.K||n.g==t)&&yc(n),!x(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let f=i[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const L=f[3];L!=null&&(n.ra=L,n.l.info("VER="+n.ra));const Se=f[4];Se!=null&&(n.Ga=Se,n.l.info("SVER="+n.Ga));const ge=f[5];ge!=null&&typeof ge=="number"&&0<ge&&(a=1.5*ge,n.L=a,n.l.info("backChannelRequestTimeoutMs_="+a)),a=n;const Le=t.g;if(Le){const We=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(We){var o=a.i;o.g||We.indexOf("spdy")==-1&&We.indexOf("quic")==-1&&We.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Cc(o,o.h),o.h=null))}if(a.F){const $e=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;$e&&(a.Da=$e,K(a.I,a.F,$e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),a=n;var s=t;if(a.wa=Dc(a,a.J?a.pa:null,a.Y),s.K){Ec(a.i,s);var u=s,c=a.L;c&&u.setTimeout(c),u.B&&(nc(u),jc(u)),a.g=s}else Fc(a);0<n.j.length&&Gc(n)}else f[0]!="stop"&&f[0]!="close"||J(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?J(n,7):Hc(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Ob(4)}catch{}}function Ic(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(aa(t)){for(var e=[],n=t.length,a=0;a<n;a++)e.push(t[a]);return e}e=[],n=0;for(a in t)e[n++]=t[a];return e}function Jc(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(aa(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const a in t)e[n++]=a;return e}}}function Kc(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(aa(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Jc(t),a=Ic(t),i=a.length,o=0;o<i;o++)e.call(void 0,a[o],n&&n[o],t)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var a=t[n].indexOf("="),i=null;if(0<=a){var o=t[n].substring(0,a);i=t[n].substring(a+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function M(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof M){this.h=t.h,Nc(this,t.j),this.s=t.s,this.g=t.g,Oc(this,t.m),this.l=t.l;var e=t.i,n=new Pc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Qc(this,n),this.o=t.o}else t&&(e=String(t).match(Lc))?(this.h=!1,Nc(this,e[1]||"",!0),this.s=Rc(e[2]||""),this.g=Rc(e[3]||"",!0),Oc(this,e[4]),this.l=Rc(e[5]||"",!0),Qc(this,e[6]||"",!0),this.o=Rc(e[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}M.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Sc(e,Tc,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Sc(e,Tc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Sc(n,n.charAt(0)=="/"?Uc:Vc,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Sc(n,Wc)),t.join("")};function G(t){return new M(t)}function Nc(t,e,n){t.j=n?Rc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Oc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Qc(t,e,n){e instanceof Pc?(t.i=e,Xc(t.i,t.h)):(n||(e=Sc(e,Yc)),t.i=new Pc(e,t.h))}function K(t,e,n){t.i.set(e,n)}function hc(t){return K(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Rc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Zc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zc(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Tc=/[#\/\?@]/g,Vc=/[#\?:]/g,Uc=/[#\?]/g,Yc=/[#\?@]/g,Wc=/#/g;function Pc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function N(t){t.g||(t.g=new Map,t.h=0,t.i&&Mc(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}k=Pc.prototype;k.add=function(t,e){N(this),this.i=null,t=O(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $c(t,e){N(t),e=O(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ad(t,e){return N(t),e=O(t,e),t.g.has(e)}k.forEach=function(t,e){N(this),this.g.forEach(function(n,a){n.forEach(function(i){t.call(e,i,a,this)},this)},this)};k.ta=function(){N(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let a=0;a<e.length;a++){const i=t[a];for(let o=0;o<i.length;o++)n.push(e[a])}return n};k.Z=function(t){N(this);let e=[];if(typeof t=="string")ad(this,t)&&(e=e.concat(this.g.get(O(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};k.set=function(t,e){return N(this),this.i=null,t=O(this,t),ad(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};k.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function kc(t,e,n){$c(t,e),0<n.length&&(t.i=null,t.g.set(O(t,e),ma(n)),t.h+=n.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var a=e[n];const o=encodeURIComponent(String(a)),s=this.Z(a);for(a=0;a<s.length;a++){var i=o;s[a]!==""&&(i+="="+encodeURIComponent(String(s[a]))),t.push(i)}}return this.i=t.join("&")};function O(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Xc(t,e){e&&!t.j&&(N(t),t.i=null,t.g.forEach(function(n,a){var i=a.toLowerCase();a!=i&&($c(this,a),kc(this,i,n))},t)),t.j=e}var bd=class{constructor(t,e){this.g=t,this.map=e}};function cd(t){this.l=t||dd,l.PerformanceNavigationTiming?(t=l.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(l.g&&l.g.Ka&&l.g.Ka()&&l.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dd=10;function ed(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Bc(t){return t.h?1:t.g?t.g.size:0}function xc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Cc(t,e){t.g?t.g.add(e):t.h=e}function Ec(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}cd.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function fd(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ma(t.i)}var gd=class{stringify(t){return l.JSON.stringify(t,void 0)}parse(t){return l.JSON.parse(t,void 0)}};function hd(){this.g=new gd}function id(t,e,n){const a=n||"";try{Kc(t,function(i,o){let s=i;p(i)&&(s=jb(i)),e.push(a+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(a+"type="+encodeURIComponent("_badmap")),i}}function jd(t,e){const n=new Gb;if(l.Image){const a=new Image;a.onload=ha(kd,n,a,"TestLoadImage: loaded",!0,e),a.onerror=ha(kd,n,a,"TestLoadImage: error",!1,e),a.onabort=ha(kd,n,a,"TestLoadImage: abort",!1,e),a.ontimeout=ha(kd,n,a,"TestLoadImage: timeout",!1,e),l.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=t}else e(!1)}function kd(t,e,n,a,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(a)}catch{}}function ld(t){this.l=t.fc||null,this.j=t.ob||!1}r(ld,Ub);ld.prototype.g=function(){return new md(this.l,this.j)};ld.prototype.i=function(t){return function(){return t}}({});function md(t,e){B.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=nd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}r(md,B);var nd=0;k=md.prototype;k.open=function(t,e){if(this.readyState!=nd)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,od(this)};k.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||l).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pd(this)),this.readyState=nd};k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qd(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function qd(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pd(this):od(this),this.readyState==3&&qd(this)}};k.Za=function(t){this.g&&(this.response=this.responseText=t,pd(this))};k.Ya=function(t){this.g&&(this.response=t,pd(this))};k.ka=function(){this.g&&pd(this)};function pd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,od(t)}k.setRequestHeader=function(t,e){this.v.append(t,e)};k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function od(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var rd=l.JSON.parse;function P(t){B.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sd,this.L=this.M=!1}r(P,B);var sd="",td=/^https?$/i,ud=["POST","PUT"];k=P.prototype;k.Oa=function(t){this.M=t};k.ha=function(t,e,n,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$b.g(),this.C=this.u?Vb(this.u):Vb($b),this.g.onreadystatechange=q(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){vd(this,o);return}if(t=n||"",n=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var i in a)n.set(i,a[i]);else if(typeof a.keys=="function"&&typeof a.get=="function")for(const o of a.keys())n.set(o,a.get(o));else throw Error("Unknown input type for opt_headers: "+String(a));a=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=l.FormData&&t instanceof l.FormData,!(0<=ka(ud,e))||a||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wd(this),0<this.B&&((this.L=xd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q(this.ua,this)):this.A=yb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){vd(this,o)}};function xd(t){return z&&typeof t.timeout=="number"&&t.ontimeout!==void 0}k.ua=function(){typeof goog<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C$1(this,"timeout"),this.abort(8))};function vd(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yd(t),zd(t)}function yd(t){t.F||(t.F=!0,C$1(t,"complete"),C$1(t,"error"))}k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,C$1(this,"complete"),C$1(this,"abort"),zd(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),P.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?Ad(this):this.kb())};k.kb=function(){Ad(this)};function Ad(t){if(t.h&&typeof goog<"u"&&(!t.C[1]||H(t)!=4||t.da()!=2)){if(t.v&&H(t)==4)yb(t.La,0,t);else if(C$1(t,"readystatechange"),H(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var a;if(a=s===0){var i=String(t.I).match(Lc)[1]||null;!i&&l.self&&l.self.location&&(i=l.self.location.protocol.slice(0,-1)),a=!td.test(i?i.toLowerCase():"")}n=a}if(n)C$1(t,"complete"),C$1(t,"success");else{t.m=6;try{var o=2<H(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",yd(t)}}finally{zd(t)}}}}function zd(t,e){if(t.g){wd(t);const n=t.g,a=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||C$1(t,"ready");try{n.onreadystatechange=a}catch{}}}function wd(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(l.clearTimeout(t.A),t.A=null)}k.isActive=function(){return!!this.g};function H(t){return t.g?t.g.readyState:0}k.da=function(){try{return 2<H(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),rd(e)}};function mc(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case sd:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tc(t){const e={};t=(t.g&&2<=H(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let a=0;a<t.length;a++){if(x(t[a]))continue;var n=qb(t[a]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}Oa(e,function(a){return a.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Bd(t){let e="";return Na(t,function(n,a){e+=a,e+=":",e+=n,e+=`\r
`}),e}function Cd(t,e,n){e:{for(a in n){var a=!1;break e}a=!0}a||(n=Bd(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):K(t,e,n))}function Dd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ed(t){this.Ga=0,this.j=[],this.l=new Gb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,t),this.hb=Dd("retryDelaySeedMs",1e4,t),this.eb=Dd("forwardChannelMaxRetries",2,t),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new cd(t&&t.concurrentRequestLimit),this.Ja=new hd,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=Ed.prototype;k.ra=8;k.H=1;function Hc(t){if(Fd(t),t.H==3){var e=t.W++,n=G(t.I);if(K(n,"SID",t.K),K(n,"RID",e),K(n,"TYPE","terminate"),Gd(t,n),e=new bc(t,t.l,e),e.L=2,e.v=hc(G(n)),n=!1,l.navigator&&l.navigator.sendBeacon)try{n=l.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&l.Image&&(new Image().src=e.v,n=!0),n||(e.g=lc(e.l,null),e.g.ha(e.v)),e.G=Date.now(),jc(e)}Hd(t)}function zc(t){t.g&&(vc(t),t.g.cancel(),t.g=null)}function Fd(t){zc(t),t.u&&(l.clearTimeout(t.u),t.u=null),yc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&l.clearTimeout(t.m),t.m=null)}function Gc(t){if(!ed(t.i)&&!t.m){t.m=!0;var e=t.Na;sb||vb(),tb||(sb(),tb=!0),mb.add(e,t),t.C=0}}function Id(t,e){return Bc(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Rb(q(t.Na,t,e),Jd(t,t.C)),t.C++,!0)}k.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new bc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Pa(o),Ra(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var a=this.j[n];if("__data__"in a.map&&(a=a.map.__data__,typeof a=="string")){a=a.length;break t}a=void 0}if(a===void 0)break;if(e+=a,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Kd(this,i,e),n=G(this.I),K(n,"RID",t),K(n,"CVER",22),this.F&&K(n,"X-HTTP-Session-Id",this.F),Gd(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Bd(o)))+"&"+e:this.o&&Cd(n,this.o,o)),Cc(this.i,i),this.bb&&K(n,"TYPE","init"),this.P?(K(n,"$req",e),K(n,"SID","null"),i.aa=!0,gc(i,n,null)):gc(i,n,e),this.H=2}}else this.H==3&&(t?Ld(this,t):this.j.length==0||ed(this.i)||Ld(this))};function Ld(t,e){var n;e?n=e.m:n=t.W++;const a=G(t.I);K(a,"SID",t.K),K(a,"RID",n),K(a,"AID",t.V),Gd(t,a),t.o&&t.s&&Cd(a,t.o,t.s),n=new bc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Kd(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Cc(t.i,n),gc(n,a,e)}function Gd(t,e){t.na&&Na(t.na,function(n,a){K(e,a,n)}),t.h&&Kc({},function(n,a){K(e,a,n)})}function Kd(t,e,n){n=Math.min(t.j.length,n);var a=t.h?q(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let u=!0;for(let c=0;c<n;c++){let f=i[c].g;const L=i[c].map;if(f-=o,0>f)o=Math.max(0,i[c].g-100),u=!1;else try{id(L,s,"req"+f+"_")}catch{a&&a(L)}}if(u){a=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,a}function Fc(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;sb||vb(),tb||(sb(),tb=!0),mb.add(e,t),t.A=0}}function Ac(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Rb(q(t.Ma,t),Jd(t,t.A)),t.A++,!0)}k.Ma=function(){if(this.u=null,Md(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Rb(q(this.jb,this),t)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,F$1(10),zc(this),Md(this))};function vc(t){t.B!=null&&(l.clearTimeout(t.B),t.B=null)}function Md(t){t.g=new bc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=G(t.wa);K(e,"RID","rpc"),K(e,"SID",t.K),K(e,"AID",t.V),K(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&K(e,"TO",t.qa),K(e,"TYPE","xmlhttp"),Gd(t,e),t.o&&t.s&&Cd(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=hc(G(e)),n.s=null,n.S=!0,ic(n,t)}k.ib=function(){this.v!=null&&(this.v=null,zc(this),Ac(this),F$1(19))};function yc(t){t.v!=null&&(l.clearTimeout(t.v),t.v=null)}function sc(t,e){var n=null;if(t.g==e){yc(t),vc(t),t.g=null;var a=2}else if(xc(t.i,e))n=e.F,Ec(t.i,e),a=1;else return;if(t.H!=0){if(e.i)if(a==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;a=Mb(),C$1(a,new Qb(a,n)),Gc(t)}else Fc(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(a==1&&Id(t,e)||a==2&&Ac(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:J(t,5);break;case 4:J(t,10);break;case 3:J(t,6);break;default:J(t,2)}}}function Jd(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function J(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var a=q(t.pb,t);n||(n=new M("//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Nc(n,"https"),hc(n)),jd(n.toString(),a)}else F$1(2);t.H=0,t.h&&t.h.za(e),Hd(t),Fd(t)}k.pb=function(t){t?(this.l.info("Successfully pinged google.com"),F$1(2)):(this.l.info("Failed to ping google.com"),F$1(1))};function Hd(t){if(t.H=0,t.ma=[],t.h){const e=fd(t.i);(e.length!=0||t.j.length!=0)&&(na(t.ma,e),na(t.ma,t.j),t.i.i.length=0,ma(t.j),t.j.length=0),t.h.ya()}}function Dc(t,e,n){var a=n instanceof M?G(n):new M(n);if(a.g!="")e&&(a.g=e+"."+a.g),Oc(a,a.m);else{var i=l.location;a=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new M(null);a&&Nc(o,a),e&&(o.g=e),i&&Oc(o,i),n&&(o.l=n),a=o}return n=t.F,e=t.Da,n&&e&&K(a,n,e),K(a,"VER",t.ra),Gd(t,a),a}function lc(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new P(new ld({ob:!0})):new P(t.va),e.Oa(t.J),e}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function Nd(){}k=Nd.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function Od(){if(z&&!(10<=Number(Fa)))throw Error("Environmental error: no available transport.")}Od.prototype.g=function(t,e){return new Q(t,e)};function Q(t,e){B.call(this),this.g=new Ed(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!x(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new R(this)}r(Q,B);Q.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;F$1(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Dc(t,null,t.Y),Gc(t)};Q.prototype.close=function(){Hc(this.g)};Q.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=jb(t),t=n);e.j.push(new bd(e.fb++,t)),e.H==3&&Gc(e)};Q.prototype.N=function(){this.g.h=null,delete this.j,Hc(this.g),delete this.g,Q.$.N.call(this)};function Pd(t){Yb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}r(Pd,Yb);function Qd(){Zb.call(this),this.status=1}r(Qd,Zb);function R(t){this.g=t}r(R,Nd);R.prototype.Ba=function(){C$1(this.g,"a")};R.prototype.Aa=function(t){C$1(this.g,new Pd(t))};R.prototype.za=function(t){C$1(this.g,new Qd)};R.prototype.ya=function(){C$1(this.g,"b")};function Rd(){this.blockSize=-1}function S$1(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}r(S$1,Rd);S$1.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sd(t,e,n){n||(n=0);var a=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)a[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)a[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+a[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+a[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+a[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+a[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+a[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+a[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+a[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+a[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+a[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+a[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+a[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+a[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+a[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+a[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+a[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+a[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+a[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+a[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+a[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+a[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+a[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+a[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+a[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+a[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+a[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+a[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+a[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+a[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+a[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+a[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+a[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+a[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+a[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+a[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+a[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+a[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+a[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+a[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+a[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+a[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+a[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+a[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+a[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+a[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+a[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+a[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+a[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+a[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+a[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+a[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+a[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+a[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+a[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+a[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+a[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+a[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+a[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+a[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+a[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+a[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+a[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+a[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+a[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+a[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}S$1.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,a=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Sd(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(a[i++]=t.charCodeAt(o++),i==this.blockSize){Sd(this,a),i=0;break}}else for(;o<e;)if(a[i++]=t[o++],i==this.blockSize){Sd(this,a),i=0;break}}this.h=i,this.i+=e};S$1.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var a=0;32>a;a+=8)t[n++]=this.g[e]>>>a&255;return t};function T(t,e){this.h=e;for(var n=[],a=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;a&&o==e||(n[i]=o,a=!1)}this.g=n}var sa={};function Td(t){return-128<=t&&128>t?ra(t,function(e){return new T([e|0],0>e?-1:0)}):new T([t|0],0>t?-1:0)}function U(t){if(isNaN(t)||!isFinite(t))return V;if(0>t)return W(U(-t));for(var e=[],n=1,a=0;t>=n;a++)e[a]=t/n|0,n*=Ud;return new T(e,0)}function Vd(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return W(Vd(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=U(Math.pow(e,8)),a=V,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=U(Math.pow(e,o)),a=a.R(o).add(U(s))):(a=a.R(n),a=a.add(U(s)))}return a}var Ud=4294967296,V=Td(0),Wd=Td(1),Xd=Td(16777216);k=T.prototype;k.ea=function(){if(X(this))return-W(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var a=this.D(n);t+=(0<=a?a:Ud+a)*e,e*=Ud}return t};k.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Y(this))return"0";if(X(this))return"-"+W(this).toString(t);for(var e=U(Math.pow(t,6)),n=this,a="";;){var i=Yd(n,e).g;n=Zd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Y(n))return o+a;for(;6>o.length;)o="0"+o;a=o+a}};k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Y(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function X(t){return t.h==-1}k.X=function(t){return t=Zd(this,t),X(t)?-1:Y(t)?0:1};function W(t){for(var e=t.g.length,n=[],a=0;a<e;a++)n[a]=~t.g[a];return new T(n,~t.h).add(Wd)}k.abs=function(){return X(this)?W(this):this};k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],a=0,i=0;i<=e;i++){var o=a+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);a=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new T(n,n[n.length-1]&-2147483648?-1:0)};function Zd(t,e){return t.add(W(e))}k.R=function(t){if(Y(this)||Y(t))return V;if(X(this))return X(t)?W(this).R(W(t)):W(W(this).R(t));if(X(t))return W(this.R(W(t)));if(0>this.X(Xd)&&0>t.X(Xd))return U(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],a=0;a<2*e;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var i=0;i<t.g.length;i++){var o=this.D(a)>>>16,s=this.D(a)&65535,u=t.D(i)>>>16,c=t.D(i)&65535;n[2*a+2*i]+=s*c,$d(n,2*a+2*i),n[2*a+2*i+1]+=o*c,$d(n,2*a+2*i+1),n[2*a+2*i+1]+=s*u,$d(n,2*a+2*i+1),n[2*a+2*i+2]+=o*u,$d(n,2*a+2*i+2)}for(a=0;a<e;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=e;a<2*e;a++)n[a]=0;return new T(n,0)};function $d(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ae$1(t,e){this.g=t,this.h=e}function Yd(t,e){if(Y(e))throw Error("division by zero");if(Y(t))return new ae$1(V,V);if(X(t))return e=Yd(W(t),e),new ae$1(W(e.g),W(e.h));if(X(e))return e=Yd(t,W(e)),new ae$1(W(e.g),e.h);if(30<t.g.length){if(X(t)||X(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Wd,a=e;0>=a.X(t);)n=be(n),a=be(a);var i=Z(n,1),o=Z(a,1);for(a=Z(a,2),n=Z(n,2);!Y(a);){var s=o.add(a);0>=s.X(t)&&(i=i.add(n),o=s),a=Z(a,1),n=Z(n,1)}return e=Zd(t,i.R(e)),new ae$1(i,e)}for(i=V;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),a=Math.ceil(Math.log(n)/Math.LN2),a=48>=a?1:Math.pow(2,a-48),o=U(n),s=o.R(e);X(s)||0<s.X(t);)n-=a,o=U(n),s=o.R(e);Y(o)&&(o=Wd),i=i.add(o),t=Zd(t,s)}return new ae$1(i,t)}k.gb=function(t){return Yd(this,t).h};k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],a=0;a<e;a++)n[a]=this.D(a)&t.D(a);return new T(n,this.h&t.h)};k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],a=0;a<e;a++)n[a]=this.D(a)|t.D(a);return new T(n,this.h|t.h)};k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],a=0;a<e;a++)n[a]=this.D(a)^t.D(a);return new T(n,this.h^t.h)};function be(t){for(var e=t.g.length+1,n=[],a=0;a<e;a++)n[a]=t.D(a)<<1|t.D(a-1)>>>31;return new T(n,t.h)}function Z(t,e){var n=e>>5;e%=32;for(var a=t.g.length-n,i=[],o=0;o<a;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new T(i,t.h)}Od.prototype.createWebChannel=Od.prototype.g;Q.prototype.send=Q.prototype.u;Q.prototype.open=Q.prototype.m;Q.prototype.close=Q.prototype.close;Sb.NO_ERROR=0;Sb.TIMEOUT=8;Sb.HTTP_ERROR=6;Tb.COMPLETE="complete";Wb.EventType=Xb;Xb.OPEN="a";Xb.CLOSE="b";Xb.ERROR="c";Xb.MESSAGE="d";B.prototype.listen=B.prototype.O;P.prototype.listenOnce=P.prototype.P;P.prototype.getLastError=P.prototype.Sa;P.prototype.getLastErrorCode=P.prototype.Ia;P.prototype.getStatus=P.prototype.da;P.prototype.getResponseJson=P.prototype.Wa;P.prototype.getResponseText=P.prototype.ja;P.prototype.send=P.prototype.ha;P.prototype.setWithCredentials=P.prototype.Oa;S$1.prototype.digest=S$1.prototype.l;S$1.prototype.reset=S$1.prototype.reset;S$1.prototype.update=S$1.prototype.j;T.prototype.add=T.prototype.add;T.prototype.multiply=T.prototype.R;T.prototype.modulo=T.prototype.gb;T.prototype.compare=T.prototype.X;T.prototype.toNumber=T.prototype.ea;T.prototype.toString=T.prototype.toString;T.prototype.getBits=T.prototype.D;T.fromNumber=U;T.fromString=Vd;var createWebChannelTransport=function(){return new Od},getStatEventTarget=function(){return Mb()},ErrorCode=Sb,EventType=Tb,Event$1=E,Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},FetchXmlHttpFactory=ld,WebChannel=Wb,XhrIo=P,Md5=S$1,Integer=T;const S="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return D.logLevel}function __PRIVATE_logDebug(t,...e){if(D.logLevel<=LogLevel.DEBUG){const n=e.map(__PRIVATE_argToString);D.debug(`Firestore (${b}): ${t}`,...n)}}function __PRIVATE_logError(t,...e){if(D.logLevel<=LogLevel.ERROR){const n=e.map(__PRIVATE_argToString);D.error(`Firestore (${b}): ${t}`,...n)}}function __PRIVATE_logWarn(t,...e){if(D.logLevel<=LogLevel.WARN){const n=e.map(__PRIVATE_argToString);D.warn(`Firestore (${b}): ${t}`,...n)}}function __PRIVATE_argToString(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(t="Unexpected state"){const e=`FIRESTORE (${b}) INTERNAL ASSERTION FAILED: `+t;throw __PRIVATE_logError(e),new Error(e)}function __PRIVATE_hardAssert(t,e){t||fail()}function __PRIVATE_debugCast(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let a=this.i;const i=c=>this.i!==a?(a=this.i,n(c)):Promise.resolve();let o=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new __PRIVATE_Deferred,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new __PRIVATE_Deferred)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(__PRIVATE_hardAssert(typeof a.accessToken=="string"),new __PRIVATE_OAuthToken(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(e===null||typeof e=="string"),new User(e)}}class __PRIVATE_FirstPartyToken{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const a=o=>{o.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>a(o))};const i=o=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(__PRIVATE_hardAssert(typeof n.token=="string"),this.R=n.token,new AppCheckToken(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<t;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const i=__PRIVATE_randomBytes(40);for(let o=0;o<i.length;++o)a.length<20&&i[o]<n&&(a+=e.charAt(i[o]%e.length))}return a}}function __PRIVATE_primitiveComparator(t,e){return t<e?-1:t>e?1:0}function __PRIVATE_arrayEquals(t,e,n){return t.length===e.length&&t.every((a,i)=>n(a,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new FirestoreError(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new FirestoreError(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new FirestoreError(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(e){return Timestamp.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*n));return new Timestamp(n,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(e){this.timestamp=e}static fromTimestamp(e){return new SnapshotVersion(e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(e,n,a){n===void 0?n=0:n>e.length&&fail(),a===void 0?a=e.length-n:a>e.length-n&&fail(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return BasePath.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let i=0;i<a;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ResourcePath extends BasePath{construct(e,n,a){return new ResourcePath(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new FirestoreError(v.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(i=>i.length>0))}return new ResourcePath(n)}static emptyPath(){return new ResourcePath([])}}const C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,n,a){return new FieldPath$1(e,n,a)}static isValidIdentifier(e){return C.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(e){const n=[];let a="",i=0;const o=()=>{if(a.length===0)throw new FirestoreError(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new FirestoreError(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new FirestoreError(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(a+=u,i++):(o(),i++)}if(o(),s)throw new FirestoreError(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(n)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ResourcePath.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ResourcePath.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath(e.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(t,e){const n=t.toTimestamp().seconds,a=t.toTimestamp().nanoseconds+1,i=SnapshotVersion.fromTimestamp(a===1e9?new Timestamp(n+1,0):new Timestamp(n,a));return new IndexOffset(i,DocumentKey.empty(),e)}function __PRIVATE_newIndexOffsetFromDocument(t){return new IndexOffset(t.readTime,t.key,-1)}class IndexOffset{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=DocumentKey.comparator(t.documentKey,e.documentKey),n!==0?n:__PRIVATE_primitiveComparator(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==F)throw t;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new PersistencePromise((a,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(a,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(a,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof PersistencePromise?n:PersistencePromise.resolve(n)}catch(n){return PersistencePromise.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):PersistencePromise.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):PersistencePromise.reject(n)}static resolve(e){return new PersistencePromise((n,a)=>{n(e)})}static reject(e){return new PersistencePromise((n,a)=>{a(e)})}static waitFor(e){return new PersistencePromise((n,a)=>{let i=0,o=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++o,s&&o===i&&n()},c=>a(c))}),s=!0,o===i&&n()})}static or(e){let n=PersistencePromise.resolve(!1);for(const a of e)n=n.next(i=>i?PersistencePromise.resolve(i):a());return n}static forEach(e,n){const a=[];return e.forEach((i,o)=>{a.push(n.call(this,i,o))}),this.waitFor(a)}static mapArray(e,n){return new PersistencePromise((a,i)=>{const o=e.length,s=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next(L=>{s[f]=L,++u,u===o&&a(s)},L=>i(L))}})}static doWhile(e,n){return new PersistencePromise((a,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):a()};o()})}}function __PRIVATE_isIndexedDbTransactionError(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}__PRIVATE_ListenSequence.ae=-1;function __PRIVATE_isNullOrUndefined(t){return t==null}function __PRIVATE_isNegativeZero(t){return t===0&&1/t==-1/0}function isSafeInteger(t){return typeof t=="number"&&Number.isInteger(t)&&!__PRIVATE_isNegativeZero(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function forEach(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function isEmpty(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(e,n){this.comparator=e,this.root=n||LLRBNode.EMPTY}insert(e,n){return new SortedMap(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator,this.root.remove(e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const i=this.comparator(e,a.key);if(i===0)return n+a.left.size;i<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!0)}}class SortedMapIterator{constructor(e,n,a,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?a(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class LLRBNode{constructor(e,n,a,i,o){this.key=e,this.value=n,this.color=a??LLRBNode.RED,this.left=i??LLRBNode.EMPTY,this.right=o??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,i,o){return new LLRBNode(e??this.key,n??this.value,a??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let i=this;const o=a(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,a),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,a)),i.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return LLRBNode.EMPTY;a=i.right.min(),i=i.copy(a.key,a.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const e=this.left.check();if(e!==this.right.check())throw fail();return e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(e,n,a,i,o){return this}insert(e,n,a){return new LLRBNode(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(e){this.comparator=e,this.data=new SortedMap(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const i=a.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof SortedSet)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=a.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new SortedSet(this.comparator);return n.data=e,n}}class SortedSetIterator{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(e){this.fields=e,e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(e){let n=new SortedSet(FieldPath$1.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new FieldMask(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+o):o}}(e);return new ByteString(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new ByteString(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const te=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(t){if(__PRIVATE_hardAssert(!!t),typeof t=="string"){let e=0;const n=te.exec(t);if(__PRIVATE_hardAssert(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const a=new Date(t);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:__PRIVATE_normalizeNumber(t.seconds),nanos:__PRIVATE_normalizeNumber(t.nanos)}}function __PRIVATE_normalizeNumber(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function __PRIVATE_normalizeByteString(t){return typeof t=="string"?ByteString.fromBase64String(t):ByteString.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(t){const e=t.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(e)?__PRIVATE_getPreviousValue(e):e}function __PRIVATE_getLocalWriteTime(t){const e=__PRIVATE_normalizeTimestamp(t.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(e,n,a,i,o,s,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class DatabaseId{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function __PRIVATE_typeOrder(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__PRIVATE_isServerTimestamp(t)?4:__PRIVATE_isMaxValue(t)?9007199254740991:10:fail()}function __PRIVATE_valueEquals(t,e){if(t===e)return!0;const n=__PRIVATE_typeOrder(t);if(n!==__PRIVATE_typeOrder(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(t).isEqual(__PRIVATE_getLocalWriteTime(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=__PRIVATE_normalizeTimestamp(i.timestampValue),u=__PRIVATE_normalizeTimestamp(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return __PRIVATE_normalizeByteString(i.bytesValue).isEqual(__PRIVATE_normalizeByteString(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return __PRIVATE_normalizeNumber(i.geoPointValue.latitude)===__PRIVATE_normalizeNumber(o.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(i.geoPointValue.longitude)===__PRIVATE_normalizeNumber(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return __PRIVATE_normalizeNumber(i.integerValue)===__PRIVATE_normalizeNumber(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=__PRIVATE_normalizeNumber(i.doubleValue),u=__PRIVATE_normalizeNumber(o.doubleValue);return s===u?__PRIVATE_isNegativeZero(s)===__PRIVATE_isNegativeZero(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return __PRIVATE_arrayEquals(t.arrayValue.values||[],e.arrayValue.values||[],__PRIVATE_valueEquals);case 10:return function(i,o){const s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(__PRIVATE_objectSize(s)!==__PRIVATE_objectSize(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!__PRIVATE_valueEquals(s[c],u[c])))return!1;return!0}(t,e);default:return fail()}}function __PRIVATE_arrayValueContains(t,e){return(t.values||[]).find(n=>__PRIVATE_valueEquals(n,e))!==void 0}function __PRIVATE_valueCompare(t,e){if(t===e)return 0;const n=__PRIVATE_typeOrder(t),a=__PRIVATE_typeOrder(e);if(n!==a)return __PRIVATE_primitiveComparator(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(t.booleanValue,e.booleanValue);case 2:return function(o,s){const u=__PRIVATE_normalizeNumber(o.integerValue||o.doubleValue),c=__PRIVATE_normalizeNumber(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return __PRIVATE_compareTimestamps(t.timestampValue,e.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(t),__PRIVATE_getLocalWriteTime(e));case 5:return __PRIVATE_primitiveComparator(t.stringValue,e.stringValue);case 6:return function(o,s){const u=__PRIVATE_normalizeByteString(o),c=__PRIVATE_normalizeByteString(s);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const u=o.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const L=__PRIVATE_primitiveComparator(u[f],c[f]);if(L!==0)return L}return __PRIVATE_primitiveComparator(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const u=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(o.latitude),__PRIVATE_normalizeNumber(s.latitude));return u!==0?u:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(o.longitude),__PRIVATE_normalizeNumber(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const u=o.values||[],c=s.values||[];for(let f=0;f<u.length&&f<c.length;++f){const L=__PRIVATE_valueCompare(u[f],c[f]);if(L)return L}return __PRIVATE_primitiveComparator(u.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===ne.mapValue&&s===ne.mapValue)return 0;if(o===ne.mapValue)return 1;if(s===ne.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=s.fields||{},L=Object.keys(f);c.sort(),L.sort();for(let Se=0;Se<c.length&&Se<L.length;++Se){const ge=__PRIVATE_primitiveComparator(c[Se],L[Se]);if(ge!==0)return ge;const Le=__PRIVATE_valueCompare(u[c[Se]],f[L[Se]]);if(Le!==0)return Le}return __PRIVATE_primitiveComparator(c.length,L.length)}(t.mapValue,e.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return __PRIVATE_primitiveComparator(t,e);const n=__PRIVATE_normalizeTimestamp(t),a=__PRIVATE_normalizeTimestamp(e),i=__PRIVATE_primitiveComparator(n.seconds,a.seconds);return i!==0?i:__PRIVATE_primitiveComparator(n.nanos,a.nanos)}function canonicalId(t){return __PRIVATE_canonifyValue(t)}function __PRIVATE_canonifyValue(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const a=__PRIVATE_normalizeTimestamp(n);return`time(${a.seconds},${a.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return __PRIVATE_normalizeByteString(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return DocumentKey.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let a="[",i=!0;for(const o of n.values||[])i?i=!1:a+=",",a+=__PRIVATE_canonifyValue(o);return a+"]"}(t.arrayValue):"mapValue"in t?function(n){const a=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of a)o?o=!1:i+=",",i+=`${s}:${__PRIVATE_canonifyValue(n.fields[s])}`;return i+"}"}(t.mapValue):fail()}function isInteger(t){return!!t&&"integerValue"in t}function isArray(t){return!!t&&"arrayValue"in t}function __PRIVATE_isNullValue(t){return!!t&&"nullValue"in t}function __PRIVATE_isNanValue(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function __PRIVATE_isMapValue(t){return!!t&&"mapValue"in t}function __PRIVATE_deepClone(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return forEach(t.mapValue.fields,(n,a)=>e.mapValue.fields[n]=__PRIVATE_deepClone(a)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=__PRIVATE_deepClone(t.arrayValue.values[n]);return e}return Object.assign({},t)}function __PRIVATE_isMaxValue(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(e){this.value=e}static empty(){return new ObjectValue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!__PRIVATE_isMapValue(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone(n)}setAll(e){let n=FieldPath$1.emptyPath(),a={},i=[];e.forEach((s,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,a,i),a={},i=[],n=u.popLast()}s?a[u.lastSegment()]=__PRIVATE_deepClone(s):i.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,a,i)}delete(e){const n=this.field(e.popLast());__PRIVATE_isMapValue(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let i=n.mapValue.fields[e.get(a)];__PRIVATE_isMapValue(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,a){forEach(n,(i,o)=>e[i]=o);for(const i of a)delete e[i]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(t){const e=[];return forEach(t.fields,(n,a)=>{const i=new FieldPath$1([n]);if(__PRIVATE_isMapValue(a)){const o=__PRIVATE_extractFieldMask(a.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new FieldMask(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(e,n,a,i,o,s,u){this.key=e,this.documentType=n,this.version=a,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new MutableDocument(e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(e,n,a,i){return new MutableDocument(e,1,n,SnapshotVersion.min(),a,i,0)}static newNoDocument(e,n){return new MutableDocument(e,2,n,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(e,n){return new MutableDocument(e,3,n,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof MutableDocument&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(e,n){this.position=e,this.inclusive=n}}function __PRIVATE_boundCompareToDocument(t,e,n){let a=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?a=DocumentKey.comparator(DocumentKey.fromName(s.referenceValue),n.key):a=__PRIVATE_valueCompare(s,n.data.field(o.field)),o.dir==="desc"&&(a*=-1),a!==0)break}return a}function __PRIVATE_boundEquals(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!__PRIVATE_valueEquals(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(e,n="asc"){this.field=e,this.dir=n}}function __PRIVATE_orderByEquals(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new __PRIVATE_KeyFieldFilter(e,n,a):n==="array-contains"?new __PRIVATE_ArrayContainsFilter(e,a):n==="in"?new __PRIVATE_InFilter(e,a):n==="not-in"?new __PRIVATE_NotInFilter(e,a):n==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(e,a):new FieldFilter(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new __PRIVATE_KeyFieldInFilter(e,a):new __PRIVATE_KeyFieldNotInFilter(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(__PRIVATE_valueCompare(n,this.value)):n!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(n)&&this.matchesComparison(__PRIVATE_valueCompare(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class CompositeFilter extends Filter{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new CompositeFilter(e,n)}matches(e){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function __PRIVATE_compositeFilterIsConjunction(t){return t.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(t){return __PRIVATE_compositeFilterIsFlat(t)&&__PRIVATE_compositeFilterIsConjunction(t)}function __PRIVATE_compositeFilterIsFlat(t){for(const e of t.filters)if(e instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(t){if(t instanceof FieldFilter)return t.field.canonicalString()+t.op.toString()+canonicalId(t.value);if(__PRIVATE_compositeFilterIsFlatConjunction(t))return t.filters.map(e=>__PRIVATE_canonifyFilter(e)).join(",");{const e=t.filters.map(n=>__PRIVATE_canonifyFilter(n)).join(",");return`${t.op}(${e})`}}function __PRIVATE_filterEquals(t,e){return t instanceof FieldFilter?function(a,i){return i instanceof FieldFilter&&a.op===i.op&&a.field.isEqual(i.field)&&__PRIVATE_valueEquals(a.value,i.value)}(t,e):t instanceof CompositeFilter?function(a,i){return i instanceof CompositeFilter&&a.op===i.op&&a.filters.length===i.filters.length?a.filters.reduce((o,s,u)=>o&&__PRIVATE_filterEquals(s,i.filters[u]),!0):!1}(t,e):void fail()}function __PRIVATE_stringifyFilter(t){return t instanceof FieldFilter?function(n){return`${n.field.canonicalString()} ${n.op} ${canonicalId(n.value)}`}(t):t instanceof CompositeFilter?function(n){return n.op.toString()+" {"+n.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(t):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(e,n,a){super(e,n,a),this.key=DocumentKey.fromName(a.referenceValue)}matches(e){const n=DocumentKey.comparator(e.key,this.key);return this.matchesComparison(n)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(e,n){super(e,"in",n),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(e,n){super(e,"not-in",n),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>DocumentKey.fromName(a.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return isArray(n)&&__PRIVATE_arrayValueContains(n.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,n)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(e,n){super(e,"not-in",n)}matches(e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,n)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!isArray(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>__PRIVATE_arrayValueContains(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(e,n=null,a=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.he=null}}function __PRIVATE_newTarget(t,e=null,n=[],a=[],i=null,o=null,s=null){return new __PRIVATE_TargetImpl(t,e,n,a,i,o,s)}function __PRIVATE_canonifyTarget(t){const e=__PRIVATE_debugCast(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>__PRIVATE_canonifyFilter(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(o){return o.field.canonicalString()+o.dir}(a)).join(","),__PRIVATE_isNullOrUndefined(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>canonicalId(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>canonicalId(a)).join(",")),e.he=n}return e.he}function __PRIVATE_targetEquals(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!__PRIVATE_orderByEquals(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!__PRIVATE_filterEquals(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!__PRIVATE_boundEquals(t.startAt,e.startAt)&&__PRIVATE_boundEquals(t.endAt,e.endAt)}function __PRIVATE_targetIsDocumentTarget(t){return DocumentKey.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(e,n=null,a=[],i=[],o=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(t,e,n,a,i,o,s,u){return new __PRIVATE_QueryImpl(t,e,n,a,i,o,s,u)}function __PRIVATE_newQueryForPath(t){return new __PRIVATE_QueryImpl(t)}function __PRIVATE_queryMatchesAllDocuments(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_getFirstOrderByField(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function __PRIVATE_getInequalityFilterField(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function __PRIVATE_isCollectionGroupQuery(t){return t.collectionGroup!==null}function __PRIVATE_queryOrderBy(t){const e=__PRIVATE_debugCast(t);if(e.Pe===null){e.Pe=[];const n=__PRIVATE_getInequalityFilterField(e),a=__PRIVATE_getFirstOrderByField(e);if(n!==null&&a===null)n.isKeyField()||e.Pe.push(new OrderBy(n)),e.Pe.push(new OrderBy(FieldPath$1.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.Pe.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new OrderBy(FieldPath$1.keyField(),o))}}}return e.Pe}function __PRIVATE_queryToTarget(t){const e=__PRIVATE_debugCast(t);if(!e.Ie)if(e.limitType==="F")e.Ie=__PRIVATE_newTarget(e.path,e.collectionGroup,__PRIVATE_queryOrderBy(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of __PRIVATE_queryOrderBy(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new OrderBy(o.field,s))}const a=e.endAt?new Bound(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bound(e.startAt.position,e.startAt.inclusive):null;e.Ie=__PRIVATE_newTarget(e.path,e.collectionGroup,n,e.filters,e.limit,a,i)}return e.Ie}function __PRIVATE_queryWithLimit(t,e,n){return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function __PRIVATE_queryEquals(t,e){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(t),__PRIVATE_queryToTarget(e))&&t.limitType===e.limitType}function __PRIVATE_canonifyQuery(t){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(t))}|lt:${t.limitType}`}function __PRIVATE_stringifyQuery(t){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(i=>__PRIVATE_stringifyFilter(i)).join(", ")}]`),__PRIVATE_isNullOrUndefined(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(i=>canonicalId(i)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(i=>canonicalId(i)).join(",")),`Target(${a})`}(__PRIVATE_queryToTarget(t))}; limitType=${t.limitType})`}function __PRIVATE_queryMatches(t,e){return e.isFoundDocument()&&function(a,i){const o=i.key.path;return a.collectionGroup!==null?i.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(o):DocumentKey.isDocumentKey(a.path)?a.path.isEqual(o):a.path.isImmediateParentOf(o)}(t,e)&&function(a,i){for(const o of __PRIVATE_queryOrderBy(a))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(a,i){for(const o of a.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(a,i){return!(a.startAt&&!function(s,u,c){const f=__PRIVATE_boundCompareToDocument(s,u,c);return s.inclusive?f<=0:f<0}(a.startAt,__PRIVATE_queryOrderBy(a),i)||a.endAt&&!function(s,u,c){const f=__PRIVATE_boundCompareToDocument(s,u,c);return s.inclusive?f>=0:f>0}(a.endAt,__PRIVATE_queryOrderBy(a),i))}(t,e)}function __PRIVATE_queryCollectionGroup(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function __PRIVATE_newQueryComparator(t){return(e,n)=>{let a=!1;for(const i of __PRIVATE_queryOrderBy(t)){const o=__PRIVATE_compareDocs(i,e,n);if(o!==0)return o;a=a||i.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(t,e,n){const a=t.field.isKeyField()?DocumentKey.comparator(e.key,n.key):function(o,s,u){const c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?__PRIVATE_valueCompare(c,f):fail()}(t.field,e,n);switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[i,o]of a)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),i=this.inner[a];if(i===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return a.length===1?delete this.inner[n]:a.splice(i,1),this.innerSize--,!0;return!1}forEach(e){forEach(this.inner,(n,a)=>{for(const[i,o]of a)e(i,o)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return ie}const se=new SortedMap(DocumentKey.comparator);function documentMap(...t){let e=se;for(const n of t)e=e.insert(n.key,n);return e}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(t){let e=se;return t.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(t=>t.toString(),(t,e)=>t.isEqual(e))}const oe=new SortedMap(DocumentKey.comparator),_e=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...t){let e=_e;for(const n of t)e=e.add(n);return e}const ae=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(e)?"-0":e}}function __PRIVATE_toInteger(t){return{integerValue:""+t}}function toNumber(t,e){return isSafeInteger(e)?__PRIVATE_toInteger(e):__PRIVATE_toDouble(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(t,e,n){return t instanceof __PRIVATE_ServerTimestampTransform?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&__PRIVATE_isServerTimestamp(o)&&(o=__PRIVATE_getPreviousValue(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(t,e):t instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(t,e):function(i,o){const s=__PRIVATE_computeTransformOperationBaseValue(i,o),u=asNumber(s)+asNumber(i.Te);return isInteger(s)&&isInteger(i.Te)?__PRIVATE_toInteger(u):__PRIVATE_toDouble(i.serializer,u)}(t,e)}function __PRIVATE_applyTransformOperationToRemoteDocument(t,e,n){return t instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(t,e):t instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(t,e):n}function __PRIVATE_computeTransformOperationBaseValue(t,e){return t instanceof __PRIVATE_NumericIncrementTransformOperation?function(a){return isInteger(a)||function(o){return!!o&&"doubleValue"in o}(a)}(e)?e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayUnionTransformOperation(t,e){const n=__PRIVATE_coercedFieldValuesArray(e);for(const a of t.elements)n.some(i=>__PRIVATE_valueEquals(i,a))||n.push(a);return{arrayValue:{values:n}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayRemoveTransformOperation(t,e){let n=__PRIVATE_coercedFieldValuesArray(e);for(const a of t.elements)n=n.filter(i=>!__PRIVATE_valueEquals(i,a));return{arrayValue:{values:n}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(e,n){super(),this.serializer=e,this.Te=n}}function asNumber(t){return __PRIVATE_normalizeNumber(t.integerValue||t.doubleValue)}function __PRIVATE_coercedFieldValuesArray(t){return isArray(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(t,e){return t.field.isEqual(e.field)&&function(a,i){return a instanceof __PRIVATE_ArrayUnionTransformOperation&&i instanceof __PRIVATE_ArrayUnionTransformOperation||a instanceof __PRIVATE_ArrayRemoveTransformOperation&&i instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(a.elements,i.elements,__PRIVATE_valueEquals):a instanceof __PRIVATE_NumericIncrementTransformOperation&&i instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(a.Te,i.Te):a instanceof __PRIVATE_ServerTimestampTransform&&i instanceof __PRIVATE_ServerTimestampTransform}(t.transform,e.transform)}class MutationResult{constructor(e,n){this.version=e,this.transformResults=n}}class Precondition{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Precondition}static exists(e){return new Precondition(void 0,e)}static updateTime(e){return new Precondition(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new __PRIVATE_DeleteMutation(t.key,Precondition.none()):new __PRIVATE_SetMutation(t.key,t.data,Precondition.none());{const n=t.data,a=ObjectValue.empty();let i=new SortedSet(FieldPath$1.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?a.delete(o):a.set(o,s),i=i.add(o)}return new __PRIVATE_PatchMutation(t.key,a,new FieldMask(i.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(t,e,n){t instanceof __PRIVATE_SetMutation?function(i,o,s){const u=i.value.clone(),c=__PRIVATE_serverTransformResults(i.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):t instanceof __PRIVATE_PatchMutation?function(i,o,s){if(!__PRIVATE_preconditionIsValidForDocument(i.precondition,o))return void o.convertToUnknownDocument(s.version);const u=__PRIVATE_serverTransformResults(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(__PRIVATE_getPatch(i)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function __PRIVATE_mutationApplyToLocalView(t,e,n,a){return t instanceof __PRIVATE_SetMutation?function(o,s,u,c){if(!__PRIVATE_preconditionIsValidForDocument(o.precondition,s))return u;const f=o.value.clone(),L=__PRIVATE_localTransformResults(o.fieldTransforms,c,s);return f.setAll(L),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,n,a):t instanceof __PRIVATE_PatchMutation?function(o,s,u,c){if(!__PRIVATE_preconditionIsValidForDocument(o.precondition,s))return u;const f=__PRIVATE_localTransformResults(o.fieldTransforms,c,s),L=s.data;return L.setAll(__PRIVATE_getPatch(o)),L.setAll(f),s.convertToFoundDocument(s.version,L).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(Se=>Se.field))}(t,e,n,a):function(o,s,u){return __PRIVATE_preconditionIsValidForDocument(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,n)}function __PRIVATE_mutationExtractBaseValue(t,e){let n=null;for(const a of t.fieldTransforms){const i=e.data.field(a.field),o=__PRIVATE_computeTransformOperationBaseValue(a.transform,i||null);o!=null&&(n===null&&(n=ObjectValue.empty()),n.set(a.field,o))}return n||null}function __PRIVATE_mutationEquals(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(a,i){return a===void 0&&i===void 0||!(!a||!i)&&__PRIVATE_arrayEquals(a,i,(o,s)=>__PRIVATE_fieldTransformEquals(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(e,n,a,i=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(e,n,a,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=t.data.field(n);e.set(n,a)}}),e}function __PRIVATE_serverTransformResults(t,e,n){const a=new Map;__PRIVATE_hardAssert(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,u=e.data.field(o.field);a.set(o.field,__PRIVATE_applyTransformOperationToRemoteDocument(s,u,n[i]))}return a}function __PRIVATE_localTransformResults(t,e,n){const a=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);a.set(i.field,__PRIVATE_applyTransformOperationToLocalView(o,s,e))}return a}class __PRIVATE_DeleteMutation extends Mutation{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(e,n,a,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=i}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument(o,e,a[i])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=__PRIVATE_mutationApplyToLocalView(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=__PRIVATE_mutationApplyToLocalView(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=__PRIVATE_newMutationMap();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;const c=__PRIVATE_calculateOverlayMutation(s,u);c!==null&&a.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(SnapshotVersion.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),__PRIVATE_documentKeySet())}isEqual(e){return this.batchId===e.batchId&&__PRIVATE_arrayEquals(this.mutations,e.mutations,(n,a)=>__PRIVATE_mutationEquals(n,a))&&__PRIVATE_arrayEquals(this.baseMutations,e.baseMutations,(n,a)=>__PRIVATE_mutationEquals(n,a))}}class MutationBatchResult{constructor(e,n,a,i){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=i}static from(e,n,a){__PRIVATE_hardAssert(e.mutations.length===a.length);let i=function(){return oe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,a[s].version);return new MutationBatchResult(e,n,a,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue,ce;function __PRIVATE_isPermanentError(t){switch(t){default:return fail();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(t){if(t===void 0)return __PRIVATE_logError("GRPC error has no .code"),v.UNKNOWN;switch(t){case ue.OK:return v.OK;case ue.CANCELLED:return v.CANCELLED;case ue.UNKNOWN:return v.UNKNOWN;case ue.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case ue.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case ue.INTERNAL:return v.INTERNAL;case ue.UNAVAILABLE:return v.UNAVAILABLE;case ue.UNAUTHENTICATED:return v.UNAUTHENTICATED;case ue.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case ue.NOT_FOUND:return v.NOT_FOUND;case ue.ALREADY_EXISTS:return v.ALREADY_EXISTS;case ue.PERMISSION_DENIED:return v.PERMISSION_DENIED;case ue.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case ue.ABORTED:return v.ABORTED;case ue.OUT_OF_RANGE:return v.OUT_OF_RANGE;case ue.UNIMPLEMENTED:return v.UNIMPLEMENTED;case ue.DATA_LOSS:return v.DATA_LOSS;default:return fail()}}(ce=ue||(ue={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TestingHooks{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return le}static getOrCreateInstance(){return le===null&&(le=new __PRIVATE_TestingHooks),le}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let le=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(t){const e=__PRIVATE_newTextEncoder().encode(t),n=new Md5;return n.update(e),new Uint8Array(n.digest())}function __PRIVATE_get64BitUints(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Integer([n,a],0),new Integer([i,o],0)]}class BloomFilter{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${n}`);if(a<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=Integer.fromNumber(this.de)}Re(e,n,a){let i=e.add(n.multiply(Integer.fromNumber(a)));return i.compare(he)===1&&(i=new Integer([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=__PRIVATE_getMd5HashValue(e),[a,i]=__PRIVATE_get64BitUints(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(a,i,o);if(!this.Ve(s))return!1}return!0}static create(e,n,a){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new BloomFilter(o,i,n);return a.forEach(u=>s.insert(u)),s}insert(e){if(this.de===0)return;const n=__PRIVATE_getMd5HashValue(e),[a,i]=__PRIVATE_get64BitUints(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(a,i,o);this.me(s)}}me(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(e,n,a,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const i=new Map;return i.set(e,TargetChange.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new RemoteEvent(SnapshotVersion.min(),i,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(e,n,a,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new TargetChange(a,n,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(e,n,a,i){this.fe=e,this.removedTargetIds=n,this.key=a,this.ge=i}}class __PRIVATE_ExistenceFilterChange{constructor(e,n){this.targetId=e,this.pe=n}}class __PRIVATE_WatchTargetChange{constructor(e,n,a=ByteString.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=i}}class __PRIVATE_TargetState{constructor(){this.ye=0,this.we=__PRIVATE_snapshotChangesMap(),this.Se=ByteString.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=__PRIVATE_documentKeySet(),n=__PRIVATE_documentKeySet(),a=__PRIVATE_documentKeySet();return this.we.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:a=a.add(i);break;default:fail()}}),new TargetChange(this.Se,this.be,e,n,a)}xe(){this.De=!1,this.we=__PRIVATE_snapshotChangesMap()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class __PRIVATE_WatchChangeAggregator{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=__PRIVATE_mutableDocumentMap(),this.$e=__PRIVATE_documentTargetMap(),this.Ue=new SortedMap(__PRIVATE_primitiveComparator)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Fe(e.resumeToken);break;case 1:a.Le(),a.ve||a.xe(),a.Fe(e.resumeToken);break;case 2:a.Le(),a.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(a.ke(),a.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Fe(e.resumeToken));break;default:fail()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((a,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,a;const i=e.targetId,o=e.pe.count,s=this.Xe(i);if(s){const u=s.target;if(__PRIVATE_targetIsDocumentTarget(u))if(o===0){const c=new DocumentKey(u.path);this.ze(i,c,MutableDocument.newNoDocument(c,SnapshotVersion.min()))}else __PRIVATE_hardAssert(o===1);else{const c=this.et(i);if(c!==o){const f=this.tt(e,c);if(f.status!==0){this.Ye(i);const L=f.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,L)}(n=__PRIVATE_TestingHooks.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(Se,ge,Le,We){var $e,Qe,Ue,De,we,ve;const Ce={localCacheCount:Le,existenceFilterCount:We.count},Ee=We.unchangedNames;return Ee&&(Ce.bloomFilter={applied:Se===0,hashCount:($e=Ee==null?void 0:Ee.hashCount)!==null&&$e!==void 0?$e:0,bitmapLength:(De=(Ue=(Qe=Ee==null?void 0:Ee.bits)===null||Qe===void 0?void 0:Qe.bitmap)===null||Ue===void 0?void 0:Ue.length)!==null&&De!==void 0?De:0,padding:(ve=(we=Ee==null?void 0:Ee.bits)===null||we===void 0?void 0:we.padding)!==null&&ve!==void 0?ve:0},ge&&(Ce.bloomFilter.mightContain=ge)),Ce}(f.status,(a=f.nt)!==null&&a!==void 0?a:null,c,e.pe))}}}}tt(e,n){const{unchangedNames:a,count:i}=e.pe;if(!a||!a.bits)return{status:1};const{bits:{bitmap:o="",padding:s=0},hashCount:u=0}=a;let c,f;try{c=__PRIVATE_normalizeByteString(o).toUint8Array()}catch(Se){if(Se instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+Se.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw Se}try{f=new BloomFilter(c,s,u)}catch(Se){return __PRIVATE_logWarn(Se instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",Se),{status:1}}const L=Se=>{const ge=this.qe.rt();return f.mightContain(`projects/${ge.projectId}/databases/${ge.database}/documents/${Se}`)};return f.de===0?{status:1}:{status:i===n-this.it(e.targetId,L)?0:2,nt:L}}it(e,n){const a=this.qe.getRemoteKeysForTarget(e);let i=0;return a.forEach(o=>{n(o.path.canonicalString())||(this.ze(e,o,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((o,s)=>{const u=this.Xe(s);if(u){if(o.current&&__PRIVATE_targetIsDocumentTarget(u.target)){const c=new DocumentKey(u.target.path);this.Ke.get(c)!==null||this.ot(s,c)||this.ze(s,c,MutableDocument.newNoDocument(c,e))}o.Ce&&(n.set(s,o.Me()),o.xe())}});let a=__PRIVATE_documentKeySet();this.$e.forEach((o,s)=>{let u=!0;s.forEachWhile(c=>{const f=this.Xe(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(a=a.add(o))}),this.Ke.forEach((o,s)=>s.setReadTime(e));const i=new RemoteEvent(e,n,this.Ue,this.Ke,a);return this.Ke=__PRIVATE_mutableDocumentMap(),this.$e=__PRIVATE_documentTargetMap(),this.Ue=new SortedMap(__PRIVATE_primitiveComparator),i}Ge(e,n){if(!this.Je(e))return;const a=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,a),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),a&&(this.Ke=this.Ke.insert(n,a))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new __PRIVATE_TargetState,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new SortedSet(__PRIVATE_primitiveComparator),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new __PRIVATE_TargetState),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Pe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Ie=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Te=(()=>({and:"AND",or:"OR"}))();class JsonProtoSerializer{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function __PRIVATE_toInt32Proto(t,e){return t.useProto3Json||__PRIVATE_isNullOrUndefined(e)?e:{value:e}}function toTimestamp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function __PRIVATE_toBytes(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function __PRIVATE_toVersion(t,e){return toTimestamp(t,e.toTimestamp())}function __PRIVATE_fromVersion(t){return __PRIVATE_hardAssert(!!t),SnapshotVersion.fromTimestamp(function(n){const a=__PRIVATE_normalizeTimestamp(n);return new Timestamp(a.seconds,a.nanos)}(t))}function __PRIVATE_toResourceName(t,e){return function(a){return new ResourcePath(["projects",a.projectId,"databases",a.database])}(t).child("documents").child(e).canonicalString()}function __PRIVATE_fromResourceName(t){const e=ResourcePath.fromString(t);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(e)),e}function __PRIVATE_toName(t,e){return __PRIVATE_toResourceName(t.databaseId,e.path)}function fromName(t,e){const n=__PRIVATE_fromResourceName(e);if(n.get(1)!==t.databaseId.projectId)throw new FirestoreError(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new FirestoreError(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(n))}function __PRIVATE_toQueryPath(t,e){return __PRIVATE_toResourceName(t.databaseId,e)}function __PRIVATE_fromQueryPath(t){const e=__PRIVATE_fromResourceName(t);return e.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(e)}function __PRIVATE_getEncodedDatabaseId(t){return new ResourcePath(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(t){return __PRIVATE_hardAssert(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function __PRIVATE_toMutationDocument(t,e,n){return{name:__PRIVATE_toName(t,e),fields:n.value.mapValue.fields}}function __PRIVATE_fromWatchChange(t,e){let n;if("targetChange"in e){e.targetChange;const a=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:fail()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,L){return f.useProto3Json?(__PRIVATE_hardAssert(L===void 0||typeof L=="string"),ByteString.fromBase64String(L||"")):(__PRIVATE_hardAssert(L===void 0||L instanceof Uint8Array),ByteString.fromUint8Array(L||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(f){const L=f.code===void 0?v.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(f.code);return new FirestoreError(L,f.message||"")}(s);n=new __PRIVATE_WatchTargetChange(a,i,o,u||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const i=fromName(t,a.document.name),o=__PRIVATE_fromVersion(a.document.updateTime),s=a.document.createTime?__PRIVATE_fromVersion(a.document.createTime):SnapshotVersion.min(),u=new ObjectValue({mapValue:{fields:a.document.fields}}),c=MutableDocument.newFoundDocument(i,o,s,u),f=a.targetIds||[],L=a.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange(f,L,c.key,c)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const i=fromName(t,a.document),o=a.readTime?__PRIVATE_fromVersion(a.readTime):SnapshotVersion.min(),s=MutableDocument.newNoDocument(i,o),u=a.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const i=fromName(t,a.document),o=a.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],o,i,null)}else{if(!("filter"in e))return fail();{e.filter;const a=e.filter;a.targetId;const{count:i=0,unchangedNames:o}=a,s=new ExistenceFilter(i,o),u=a.targetId;n=new __PRIVATE_ExistenceFilterChange(u,s)}}return n}function toMutation(t,e){let n;if(e instanceof __PRIVATE_SetMutation)n={update:__PRIVATE_toMutationDocument(t,e.key,e.value)};else if(e instanceof __PRIVATE_DeleteMutation)n={delete:__PRIVATE_toName(t,e.key)};else if(e instanceof __PRIVATE_PatchMutation)n={update:__PRIVATE_toMutationDocument(t,e.key,e.data),updateMask:__PRIVATE_toDocumentMask(e.fieldMask)};else{if(!(e instanceof __PRIVATE_VerifyMutation))return fail();n={verify:__PRIVATE_toName(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(o,s){const u=s.transform;if(u instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:s.field.canonicalString(),increment:u.Te};throw fail()}(0,a))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:fail()}(t,e.precondition)),n}function __PRIVATE_fromWriteResults(t,e){return t&&t.length>0?(__PRIVATE_hardAssert(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?__PRIVATE_fromVersion(i.updateTime):__PRIVATE_fromVersion(o);return s.isEqual(SnapshotVersion.min())&&(s=__PRIVATE_fromVersion(o)),new MutationResult(s,i.transformResults||[])}(n,e))):[]}function __PRIVATE_toDocumentsTarget(t,e){return{documents:[__PRIVATE_toQueryPath(t,e.path)]}}function __PRIVATE_toQueryTarget(t,e){const n={structuredQuery:{}},a=e.path;e.collectionGroup!==null?(n.parent=__PRIVATE_toQueryPath(t,a),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=__PRIVATE_toQueryPath(t,a.popLast()),n.structuredQuery.from=[{collectionId:a.lastSegment()}]);const i=function(c){if(c.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(f=>function(Se){return{field:__PRIVATE_toFieldPathReference(Se.field),direction:__PRIVATE_toDirection(Se.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=__PRIVATE_toInt32Proto(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function __PRIVATE_convertQueryTargetToQuery(t){let e=__PRIVATE_fromQueryPath(t.parent);const n=t.structuredQuery,a=n.from?n.from.length:0;let i=null;if(a>0){__PRIVATE_hardAssert(a===1);const L=n.from[0];L.allDescendants?i=L.collectionId:e=e.child(L.collectionId)}let o=[];n.where&&(o=function(Se){const ge=__PRIVATE_fromFilter(Se);return ge instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(ge)?ge.getFilters():[ge]}(n.where));let s=[];n.orderBy&&(s=function(Se){return Se.map(ge=>function(We){return new OrderBy(__PRIVATE_fromFieldPathReference(We.field),function(Qe){switch(Qe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(We.direction))}(ge))}(n.orderBy));let u=null;n.limit&&(u=function(Se){let ge;return ge=typeof Se=="object"?Se.value:Se,__PRIVATE_isNullOrUndefined(ge)?null:ge}(n.limit));let c=null;n.startAt&&(c=function(Se){const ge=!!Se.before,Le=Se.values||[];return new Bound(Le,ge)}(n.startAt));let f=null;return n.endAt&&(f=function(Se){const ge=!Se.before,Le=Se.values||[];return new Bound(Le,ge)}(n.endAt)),__PRIVATE_newQuery(e,i,s,o,u,"F",c,f)}function __PRIVATE_toListenRequestLabels(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function __PRIVATE_fromFilter(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(a,"==",{doubleValue:NaN});case"IS_NULL":const i=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(t):t.fieldFilter!==void 0?function(n){return FieldFilter.create(__PRIVATE_fromFieldPathReference(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return CompositeFilter.create(n.compositeFilter.filters.map(a=>__PRIVATE_fromFilter(a)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fail()}}(n.compositeFilter.op))}(t):fail()}function __PRIVATE_toDirection(t){return Pe[t]}function __PRIVATE_toOperatorName(t){return Ie[t]}function __PRIVATE_toCompositeOperatorName(t){return Te[t]}function __PRIVATE_toFieldPathReference(t){return{fieldPath:t.canonicalString()}}function __PRIVATE_fromFieldPathReference(t){return FieldPath$1.fromServerFormat(t.fieldPath)}function __PRIVATE_toFilter(t){return t instanceof FieldFilter?function(n){if(n.op==="=="){if(__PRIVATE_isNanValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(__PRIVATE_isNanValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:__PRIVATE_toOperatorName(n.op),value:n.value}}}(t):t instanceof CompositeFilter?function(n){const a=n.getFilters().map(i=>__PRIVATE_toFilter(i));return a.length===1?a[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(n.op),filters:a}}}(t):fail()}function __PRIVATE_toDocumentMask(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function __PRIVATE_isValidResourceName(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(e,n,a,i,o=SnapshotVersion.min(),s=SnapshotVersion.min(),u=ByteString.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new TargetData(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(e){this.ct=e}}function __PRIVATE_fromBundledQuery(t){const e=__PRIVATE_convertQueryTargetToQuery({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?__PRIVATE_queryWithLimit(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.sn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(e,n){return this.sn.add(n),PersistencePromise.resolve()}getCollectionParents(e,n){return PersistencePromise.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return PersistencePromise.resolve()}deleteFieldIndex(e,n){return PersistencePromise.resolve()}getDocumentsMatchingTarget(e,n){return PersistencePromise.resolve(null)}getIndexType(e,n){return PersistencePromise.resolve(0)}getFieldIndexes(e,n){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise.resolve(null)}getMinOffset(e,n){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(e,n){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(e,n,a){return PersistencePromise.resolve()}updateIndexEntries(e,n){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),i=this.index[n]||new SortedSet(ResourcePath.comparator),o=!i.has(a);return this.index[n]=i.add(a),o}has(e){const n=e.lastSegment(),a=e.popLast(),i=this.index[n];return i&&i.has(a)}getEntries(e){return(this.index[e]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new __PRIVATE_TargetIdGenerator(0)}static On(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,MutableDocument.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?PersistencePromise.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(e,n,a,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=i}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(a=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(a!==null&&__PRIVATE_mutationApplyToLocalView(a.mutation,i,FieldMask.empty(),Timestamp.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,__PRIVATE_documentKeySet()).next(()=>a))}getLocalViewOfDocuments(e,n,a=__PRIVATE_documentKeySet()){const i=__PRIVATE_newOverlayMap();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,a).next(o=>{let s=documentMap();return o.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const a=__PRIVATE_newOverlayMap();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,__PRIVATE_documentKeySet()))}populateOverlays(e,n,a){const i=[];return a.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,u)=>{n.set(s,u)})})}computeViews(e,n,a,i){let o=__PRIVATE_mutableDocumentMap();const s=__PRIVATE_newDocumentKeyMap(),u=function(){return __PRIVATE_newDocumentKeyMap()}();return n.forEach((c,f)=>{const L=a.get(f.key);i.has(f.key)&&(L===void 0||L.mutation instanceof __PRIVATE_PatchMutation)?o=o.insert(f.key,f):L!==void 0?(s.set(f.key,L.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(L.mutation,f,L.mutation.getFieldMask(),Timestamp.now())):s.set(f.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,L)=>s.set(f,L)),n.forEach((f,L)=>{var Se;return u.set(f,new OverlayedDocument(L,(Se=s.get(f))!==null&&Se!==void 0?Se:null))}),u))}recalculateAndSaveOverlays(e,n){const a=__PRIVATE_newDocumentKeyMap();let i=new SortedMap((s,u)=>s-u),o=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const u of s)u.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let L=a.get(c)||FieldMask.empty();L=u.applyToLocalView(f,L),a.set(c,L);const Se=(i.get(u.batchId)||__PRIVATE_documentKeySet()).add(c);i=i.insert(u.batchId,Se)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,L=c.value,Se=__PRIVATE_newMutationMap();L.forEach(ge=>{if(!o.has(ge)){const Le=__PRIVATE_calculateOverlayMutation(n.get(ge),a.get(ge));Le!==null&&Se.set(ge,Le),o=o.add(ge)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,Se))}return PersistencePromise.waitFor(s)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a){return function(o){return DocumentKey.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):__PRIVATE_isCollectionGroupQuery(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a):this.getDocumentsMatchingCollectionQuery(e,n,a)}getNextDocuments(e,n,a,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,i-o.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let u=-1,c=o;return s.next(f=>PersistencePromise.forEach(f,(L,Se)=>(u<Se.largestBatchId&&(u=Se.largestBatchId),o.get(L)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(e,L).next(ge=>{c=c.insert(L,ge)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,__PRIVATE_documentKeySet())).next(L=>({batchId:u,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(L)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new DocumentKey(n)).next(a=>{let i=documentMap();return a.isFoundDocument()&&(i=i.insert(a.key,a)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,a){const i=n.collectionGroup;let o=documentMap();return this.indexManager.getCollectionParents(e,i).next(s=>PersistencePromise.forEach(s,u=>{const c=function(L,Se){return new __PRIVATE_QueryImpl(Se,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,a).next(f=>{f.forEach((L,Se)=>{o=o.insert(L,Se)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,i))).next(o=>{i.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,MutableDocument.newInvalidDocument(f)))});let s=documentMap();return o.forEach((u,c)=>{const f=i.get(u);f!==void 0&&__PRIVATE_mutationApplyToLocalView(f.mutation,c,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(n,c)&&(s=s.insert(u,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return PersistencePromise.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:__PRIVATE_fromVersion(i.createTime)}}(n)),PersistencePromise.resolve()}getNamedQuery(e,n){return PersistencePromise.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:__PRIVATE_fromBundledQuery(i.bundledQuery),readTime:__PRIVATE_fromVersion(i.readTime)}}(n)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.cr=new Map}getOverlay(e,n){return PersistencePromise.resolve(this.overlays.get(n))}getOverlays(e,n){const a=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&a.set(i,o)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((i,o)=>{this.ht(e,n,o)}),PersistencePromise.resolve()}removeOverlaysForBatchId(e,n,a){const i=this.cr.get(a);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.cr.delete(a)),PersistencePromise.resolve()}getOverlaysForCollection(e,n,a){const i=__PRIVATE_newOverlayMap(),o=n.length+1,s=new DocumentKey(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>a&&i.set(c.getKey(),c)}return PersistencePromise.resolve(i)}getOverlaysForCollectionGroup(e,n,a,i){let o=new SortedMap((f,L)=>f-L);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>a){let L=o.get(f.largestBatchId);L===null&&(L=__PRIVATE_newOverlayMap(),o=o.insert(f.largestBatchId,L)),L.set(f.getKey(),f)}}const u=__PRIVATE_newOverlayMap(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,L)=>u.set(f,L)),!(u.size()>=i)););return PersistencePromise.resolve(u)}ht(e,n,a){const i=this.overlays.get(a.key);if(i!==null){const s=this.cr.get(i.largestBatchId).delete(a.key);this.cr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(a.key,new Overlay(n,a));let o=this.cr.get(n);o===void 0&&(o=__PRIVATE_documentKeySet(),this.cr.set(n,o)),this.cr.set(n,o.add(a.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.lr=new SortedSet(__PRIVATE_DocReference.hr),this.Pr=new SortedSet(__PRIVATE_DocReference.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const a=new __PRIVATE_DocReference(e,n);this.lr=this.lr.add(a),this.Pr=this.Pr.add(a)}Tr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Er(new __PRIVATE_DocReference(e,n))}dr(e,n){e.forEach(a=>this.removeReference(a,n))}Ar(e){const n=new DocumentKey(new ResourcePath([])),a=new __PRIVATE_DocReference(n,e),i=new __PRIVATE_DocReference(n,e+1),o=[];return this.Pr.forEachInRange([a,i],s=>{this.Er(s),o.push(s.key)}),o}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new DocumentKey(new ResourcePath([])),a=new __PRIVATE_DocReference(n,e),i=new __PRIVATE_DocReference(n,e+1);let o=__PRIVATE_documentKeySet();return this.Pr.forEachInRange([a,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new __PRIVATE_DocReference(e,0),a=this.lr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class __PRIVATE_DocReference{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return DocumentKey.comparator(e.key,n.key)||__PRIVATE_primitiveComparator(e.mr,n.mr)}static Ir(e,n){return __PRIVATE_primitiveComparator(e.mr,n.mr)||DocumentKey.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new SortedSet(__PRIVATE_DocReference.hr)}checkEmpty(e){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,i){const o=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new MutationBatch(o,n,a,i);this.mutationQueue.push(s);for(const u of i)this.pr=this.pr.add(new __PRIVATE_DocReference(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return PersistencePromise.resolve(s)}lookupMutationBatch(e,n){return PersistencePromise.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,i=this.wr(a),o=i<0?0:i;return PersistencePromise.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new __PRIVATE_DocReference(n,0),i=new __PRIVATE_DocReference(n,Number.POSITIVE_INFINITY),o=[];return this.pr.forEachInRange([a,i],s=>{const u=this.yr(s.mr);o.push(u)}),PersistencePromise.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new SortedSet(__PRIVATE_primitiveComparator);return n.forEach(i=>{const o=new __PRIVATE_DocReference(i,0),s=new __PRIVATE_DocReference(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([o,s],u=>{a=a.add(u.mr)})}),PersistencePromise.resolve(this.Sr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,i=a.length+1;let o=a;DocumentKey.isDocumentKey(o)||(o=o.child(""));const s=new __PRIVATE_DocReference(new DocumentKey(o),0);let u=new SortedSet(__PRIVATE_primitiveComparator);return this.pr.forEachWhile(c=>{const f=c.key.path;return!!a.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.mr)),!0)},s),PersistencePromise.resolve(this.Sr(u))}Sr(e){const n=[];return e.forEach(a=>{const i=this.yr(a);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){__PRIVATE_hardAssert(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.pr;return PersistencePromise.forEach(n.mutations,i=>{const o=new __PRIVATE_DocReference(i.key,n.batchId);return a=a.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=a})}Cn(e){}containsKey(e,n){const a=new __PRIVATE_DocReference(n,0),i=this.pr.firstAfterOrEqual(a);return PersistencePromise.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(e){this.Dr=e,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,i=this.docs.get(a),o=i?i.size:0,s=this.Dr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return PersistencePromise.resolve(a?a.document.mutableCopy():MutableDocument.newInvalidDocument(n))}getEntries(e,n){let a=__PRIVATE_mutableDocumentMap();return n.forEach(i=>{const o=this.docs.get(i);a=a.insert(i,o?o.document.mutableCopy():MutableDocument.newInvalidDocument(i))}),PersistencePromise.resolve(a)}getDocumentsMatchingQuery(e,n,a,i){let o=__PRIVATE_mutableDocumentMap();const s=n.path,u=new DocumentKey(s.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:L}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(L),a)<=0||(i.has(L.key)||__PRIVATE_queryMatches(n,L))&&(o=o.insert(L.key,L.mutableCopy()))}return PersistencePromise.resolve(o)}getAllFromCollectionGroup(e,n,a,i){fail()}vr(e,n){return PersistencePromise.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((a,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(a)}),PersistencePromise.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(e){this.persistence=e,this.Cr=new ObjectMap(n=>__PRIVATE_canonifyTarget(n),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Or=__PRIVATE_TargetIdGenerator.xn()}forEachTarget(e,n){return this.Cr.forEach((a,i)=>n(i)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.Fr&&(this.Fr=n),PersistencePromise.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new __PRIVATE_TargetIdGenerator(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(e,n){return this.Ln(n),PersistencePromise.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(e,n,a){let i=0;const o=[];return this.Cr.forEach((s,u)=>{u.sequenceNumber<=n&&a.get(u.targetId)===null&&(this.Cr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),PersistencePromise.waitFor(o).next(()=>i)}getTargetCount(e){return PersistencePromise.resolve(this.targetCount)}getTargetData(e,n){const a=this.Cr.get(n)||null;return PersistencePromise.resolve(a)}addMatchingKeys(e,n,a){return this.Mr.Tr(n,a),PersistencePromise.resolve()}removeMatchingKeys(e,n,a){this.Mr.dr(n,a);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),PersistencePromise.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),PersistencePromise.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Mr.Vr(n);return PersistencePromise.resolve(a)}containsKey(e,n){return PersistencePromise.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(e,n){this.Nr={},this.overlays={},this.Br=new __PRIVATE_ListenSequence(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(i){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(i)}(a=>this.referenceDelegate.qr(a)),this.serializer=new __PRIVATE_LocalSerializer(n),this.Qr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Nr[e.toKey()];return a||(a=new __PRIVATE_MemoryMutationQueue(n,this.referenceDelegate),this.Nr[e.toKey()]=a),a}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,a){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",e);const i=new __PRIVATE_MemoryTransaction(this.Br.next());return this.referenceDelegate.Kr(),a(i).next(o=>this.referenceDelegate.$r(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ur(e,n){return PersistencePromise.or(Object.values(this.Nr).map(a=>()=>a.containsKey(e,n)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(e){super(),this.currentSequenceNumber=e}}class __PRIVATE_MemoryEagerDelegate{constructor(e){this.persistence=e,this.Wr=new __PRIVATE_ReferenceSet,this.Gr=null}static zr(e){return new __PRIVATE_MemoryEagerDelegate(e)}get jr(){if(this.Gr)return this.Gr;throw fail()}addReference(e,n,a){return this.Wr.addReference(a,n),this.jr.delete(a.toString()),PersistencePromise.resolve()}removeReference(e,n,a){return this.Wr.removeReference(a,n),this.jr.add(a.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),PersistencePromise.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.jr.add(o.toString()))}).next(()=>a.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.jr,a=>{const i=DocumentKey.fromPath(a);return this.Hr(e,i).next(o=>{o||n.removeEntry(i,SnapshotVersion.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(a=>{a?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(e,n,a,i){this.targetId=e,this.fromCache=n,this.Li=a,this.ki=i}static qi(e,n){let a=__PRIVATE_documentKeySet(),i=__PRIVATE_documentKeySet();for(const o of n.docChanges)switch(o.type){case 0:a=a.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new __PRIVATE_LocalViewChanges(e,n.fromCache,a,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,a,i){return this.$i(e,n).next(o=>o||this.Ui(e,n,i,a)).next(o=>o||this.Wi(e,n))}$i(e,n){if(__PRIVATE_queryMatchesAllDocuments(n))return PersistencePromise.resolve(null);let a=__PRIVATE_queryToTarget(n);return this.indexManager.getIndexType(e,a).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=__PRIVATE_queryWithLimit(n,null,"F"),a=__PRIVATE_queryToTarget(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(o=>{const s=__PRIVATE_documentKeySet(...o);return this.Ki.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,a).next(c=>{const f=this.Gi(n,u);return this.zi(n,f,s,c.readTime)?this.$i(e,__PRIVATE_queryWithLimit(n,null,"F")):this.ji(e,f,n,c)}))})))}Ui(e,n,a,i){return __PRIVATE_queryMatchesAllDocuments(n)||i.isEqual(SnapshotVersion.min())?this.Wi(e,n):this.Ki.getDocuments(e,a).next(o=>{const s=this.Gi(n,o);return this.zi(n,s,a,i)?this.Wi(e,n):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),__PRIVATE_stringifyQuery(n)),this.ji(e,s,n,__PRIVATE_newIndexOffsetSuccessorFromReadTime(i,-1)))})}Gi(e,n){let a=new SortedSet(__PRIVATE_newQueryComparator(e));return n.forEach((i,o)=>{__PRIVATE_queryMatches(e,o)&&(a=a.add(o))}),a}zi(e,n,a,i){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Wi(e,n){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(n)),this.Ki.getDocumentsMatchingQuery(e,n,IndexOffset.min())}ji(e,n,a,i){return this.Ki.getDocumentsMatchingQuery(e,a,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(e,n,a,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new SortedMap(__PRIVATE_primitiveComparator),this.Yi=new ObjectMap(o=>__PRIVATE_canonifyTarget(o),__PRIVATE_targetEquals),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(a)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function __PRIVATE_newLocalStore(t,e,n,a){return new __PRIVATE_LocalStoreImpl(t,e,n,a)}async function __PRIVATE_localStoreHandleUserChange(t,e){const n=__PRIVATE_debugCast(t);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let i;return n.mutationQueue.getAllMutationBatches(a).next(o=>(i=o,n.es(e),n.mutationQueue.getAllMutationBatches(a))).next(o=>{const s=[],u=[];let c=__PRIVATE_documentKeySet();for(const f of i){s.push(f.batchId);for(const L of f.mutations)c=c.add(L.key)}for(const f of o){u.push(f.batchId);for(const L of f.mutations)c=c.add(L.key)}return n.localDocuments.getDocuments(a,c).next(f=>({ts:f,removedBatchIds:s,addedBatchIds:u}))})})}function __PRIVATE_localStoreAcknowledgeBatch(t,e){const n=__PRIVATE_debugCast(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const i=e.batch.keys(),o=n.Xi.newChangeBuffer({trackRemovals:!0});return function(u,c,f,L){const Se=f.batch,ge=Se.keys();let Le=PersistencePromise.resolve();return ge.forEach(We=>{Le=Le.next(()=>L.getEntry(c,We)).next($e=>{const Qe=f.docVersions.get(We);__PRIVATE_hardAssert(Qe!==null),$e.version.compareTo(Qe)<0&&(Se.applyToRemoteDocument($e,f),$e.isValidDocument()&&($e.setReadTime(f.commitVersion),L.addEntry($e)))})}),Le.next(()=>u.mutationQueue.removeMutationBatch(c,Se))}(n,a,e,o).next(()=>o.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(u){let c=__PRIVATE_documentKeySet();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(a,i))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(t){const e=__PRIVATE_debugCast(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(t,e){const n=__PRIVATE_debugCast(t),a=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const u=[];e.targetChanges.forEach((L,Se)=>{const ge=i.get(Se);if(!ge)return;u.push(n.kr.removeMatchingKeys(o,L.removedDocuments,Se).next(()=>n.kr.addMatchingKeys(o,L.addedDocuments,Se)));let Le=ge.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(Se)!==null?Le=Le.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):L.resumeToken.approximateByteSize()>0&&(Le=Le.withResumeToken(L.resumeToken,a)),i=i.insert(Se,Le),function($e,Qe,Ue){return $e.resumeToken.approximateByteSize()===0||Qe.snapshotVersion.toMicroseconds()-$e.snapshotVersion.toMicroseconds()>=3e8?!0:Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0}(ge,Le,L)&&u.push(n.kr.updateTargetData(o,Le))});let c=__PRIVATE_mutableDocumentMap(),f=__PRIVATE_documentKeySet();if(e.documentUpdates.forEach(L=>{e.resolvedLimboDocuments.has(L)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,L))}),u.push(__PRIVATE_populateDocumentChangeBuffer(o,s,e.documentUpdates).next(L=>{c=L.ns,f=L.rs})),!a.isEqual(SnapshotVersion.min())){const L=n.kr.getLastRemoteSnapshotVersion(o).next(Se=>n.kr.setTargetsMetadata(o,o.currentSequenceNumber,a));u.push(L)}return PersistencePromise.waitFor(u).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,f)).next(()=>c)}).then(o=>(n.Ji=i,o))}function __PRIVATE_populateDocumentChangeBuffer(t,e,n){let a=__PRIVATE_documentKeySet(),i=__PRIVATE_documentKeySet();return n.forEach(o=>a=a.add(o)),e.getEntries(t,a).next(o=>{let s=__PRIVATE_mutableDocumentMap();return n.forEach((u,c)=>{const f=o.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(SnapshotVersion.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{ns:s,rs:i}})}function __PRIVATE_localStoreGetNextMutationBatch(t,e){const n=__PRIVATE_debugCast(t);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function __PRIVATE_localStoreAllocateTarget(t,e){const n=__PRIVATE_debugCast(t);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let i;return n.kr.getTargetData(a,e).next(o=>o?(i=o,PersistencePromise.resolve(i)):n.kr.allocateTargetId(a).next(s=>(i=new TargetData(e,s,"TargetPurposeListen",a.currentSequenceNumber),n.kr.addTargetData(a,i).next(()=>i))))}).then(a=>{const i=n.Ji.get(a.targetId);return(i===null||a.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(a.targetId,a),n.Yi.set(e,a.targetId)),a})}async function __PRIVATE_localStoreReleaseTarget(t,e,n){const a=__PRIVATE_debugCast(t),i=a.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",o,s=>a.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!__PRIVATE_isIndexedDbTransactionError(s))throw s;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}a.Ji=a.Ji.remove(e),a.Yi.delete(i.target)}function __PRIVATE_localStoreExecuteQuery(t,e,n){const a=__PRIVATE_debugCast(t);let i=SnapshotVersion.min(),o=__PRIVATE_documentKeySet();return a.persistence.runTransaction("Execute query","readonly",s=>function(c,f,L){const Se=__PRIVATE_debugCast(c),ge=Se.Yi.get(L);return ge!==void 0?PersistencePromise.resolve(Se.Ji.get(ge)):Se.kr.getTargetData(f,L)}(a,s,__PRIVATE_queryToTarget(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,a.kr.getMatchingKeysForTargetId(s,u.targetId).next(c=>{o=c})}).next(()=>a.Hi.getDocumentsMatchingQuery(s,e,n?i:SnapshotVersion.min(),n?o:__PRIVATE_documentKeySet())).next(u=>(__PRIVATE_setMaxReadTime(a,__PRIVATE_queryCollectionGroup(e),u),{documents:u,ss:o})))}function __PRIVATE_setMaxReadTime(t,e,n){let a=t.Zi.get(e)||SnapshotVersion.min();n.forEach((i,o)=>{o.readTime.compareTo(a)>0&&(a=o.readTime)}),t.Zi.set(e,a)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.Hs=new __PRIVATE_LocalClientState,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,a){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Re=null;function __PRIVATE_generateUniqueDebugId(){return Re===null?Re=function(){return 268435456+Math.round(2147483648*Math.random())}():Re++,"0x"+Re.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.To=a+"://"+n.host,this.Eo=`projects/${i}/databases/${o}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Ro(){return!1}Vo(n,a,i,o,s){const u=__PRIVATE_generateUniqueDebugId(),c=this.mo(n,a);__PRIVATE_logDebug("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(f,o,s),this.po(n,c,f,i).then(L=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${n}' ${u}: `,L),L),L=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${n}' ${u} failed with error: `,L,"url: ",c,"request:",i),L})}yo(n,a,i,o,s,u){return this.Vo(n,a,i,o,s)}fo(n,a,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+b}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}mo(n,a){const i=Ve[n];return`${this.To}/v1/${a}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}po(e,n,a,i){const o=__PRIVATE_generateUniqueDebugId();return new Promise((s,u)=>{const c=new XhrIo;c.setWithCredentials(!0),c.listenOnce(EventType.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ErrorCode.NO_ERROR:const L=c.getResponseJson();__PRIVATE_logDebug(me,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(L)),s(L);break;case ErrorCode.TIMEOUT:__PRIVATE_logDebug(me,`RPC '${e}' ${o} timed out`),u(new FirestoreError(v.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const Se=c.getStatus();if(__PRIVATE_logDebug(me,`RPC '${e}' ${o} failed with status:`,Se,"response text:",c.getResponseText()),Se>0){let ge=c.getResponseJson();Array.isArray(ge)&&(ge=ge[0]);const Le=ge==null?void 0:ge.error;if(Le&&Le.status&&Le.message){const We=function(Qe){const Ue=Qe.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(Ue)>=0?Ue:v.UNKNOWN}(Le.status);u(new FirestoreError(We,Le.message))}else u(new FirestoreError(v.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new FirestoreError(v.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(me,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);__PRIVATE_logDebug(me,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",f,a,15)})}wo(e,n,a){const i=__PRIVATE_generateUniqueDebugId(),o=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=createWebChannelTransport(),u=getStatEventTarget(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.xmlHttpFactory=new FetchXmlHttpFactory({})),this.fo(c.initMessageHeaders,n,a),c.encodeInitMessageHeaders=!0;const L=o.join("");__PRIVATE_logDebug(me,`Creating RPC '${e}' stream ${i}: ${L}`,c);const Se=s.createWebChannel(L,c);let ge=!1,Le=!1;const We=new __PRIVATE_StreamBridge({so:Qe=>{Le?__PRIVATE_logDebug(me,`Not sending because RPC '${e}' stream ${i} is closed:`,Qe):(ge||(__PRIVATE_logDebug(me,`Opening RPC '${e}' stream ${i} transport.`),Se.open(),ge=!0),__PRIVATE_logDebug(me,`RPC '${e}' stream ${i} sending:`,Qe),Se.send(Qe))},oo:()=>Se.close()}),$e=(Qe,Ue,De)=>{Qe.listen(Ue,we=>{try{De(we)}catch(ve){setTimeout(()=>{throw ve},0)}})};return $e(Se,WebChannel.EventType.OPEN,()=>{Le||__PRIVATE_logDebug(me,`RPC '${e}' stream ${i} transport opened.`)}),$e(Se,WebChannel.EventType.CLOSE,()=>{Le||(Le=!0,__PRIVATE_logDebug(me,`RPC '${e}' stream ${i} transport closed`),We.Po())}),$e(Se,WebChannel.EventType.ERROR,Qe=>{Le||(Le=!0,__PRIVATE_logWarn(me,`RPC '${e}' stream ${i} transport errored:`,Qe),We.Po(new FirestoreError(v.UNAVAILABLE,"The operation could not be completed")))}),$e(Se,WebChannel.EventType.MESSAGE,Qe=>{var Ue;if(!Le){const De=Qe.data[0];__PRIVATE_hardAssert(!!De);const we=De,ve=we.error||((Ue=we[0])===null||Ue===void 0?void 0:Ue.error);if(ve){__PRIVATE_logDebug(me,`RPC '${e}' stream ${i} received error:`,ve);const Ce=ve.status;let Ee=function(Ae){const _=ue[Ae];if(_!==void 0)return __PRIVATE_mapCodeFromRpcCode(_)}(Ce),xe=ve.message;Ee===void 0&&(Ee=v.INTERNAL,xe="Unknown error status: "+Ce+" with message "+ve.message),Le=!0,We.Po(new FirestoreError(Ee,xe)),Se.close()}else __PRIVATE_logDebug(me,`RPC '${e}' stream ${i} received:`,De),We.Io(De)}}),$e(u,Event$1.STAT_EVENT,Qe=>{Qe.stat===Stat.PROXY?__PRIVATE_logDebug(me,`RPC '${e}' stream ${i} detected buffering proxy`):Qe.stat===Stat.NOPROXY&&__PRIVATE_logDebug(me,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{We.ho()},0),We}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(t){return new JsonProtoSerializer(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(e,n,a=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.So=a,this.bo=i,this.Do=o,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(e){this.cancel();const n=Math.floor(this.vo+this.Oo()),a=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-a);i>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),e())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(e,n,a,i,o,s,u,c){this.ii=e,this.Bo=a,this.Lo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new __PRIVATE_ExponentialBackoff(e,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(e){this.Jo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(e,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,e!==4?this.Ko.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(__PRIVATE_logError(n.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===v.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const e=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,i])=>{this.ko===n&&this.e_(a,i)},a=>{e(()=>{const i=new FirestoreError(v.UNKNOWN,"Fetching auth token failed: "+a.message);return this.t_(i)})})}e_(e,n){const a=this.Xo(this.ko);this.stream=this.n_(e,n),this.stream._o(()=>{a(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{a(()=>this.t_(i))}),this.stream.onMessage(i=>{a(()=>this.onMessage(i))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(e){return __PRIVATE_logDebug("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.ko===e?n():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(e,n,a,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,i,s),this.serializer=o}n_(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Ko.reset();const n=__PRIVATE_fromWatchChange(this.serializer,e),a=function(o){if(!("targetChange"in o))return SnapshotVersion.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?SnapshotVersion.min():s.readTime?__PRIVATE_fromVersion(s.readTime):SnapshotVersion.min()}(e);return this.listener.r_(n,a)}i_(e){const n={};n.database=__PRIVATE_getEncodedDatabaseId(this.serializer),n.addTarget=function(o,s){let u;const c=s.target;if(u=__PRIVATE_targetIsDocumentTarget(c)?{documents:__PRIVATE_toDocumentsTarget(o,c)}:{query:__PRIVATE_toQueryTarget(o,c)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=__PRIVATE_toBytes(o,s.resumeToken);const f=__PRIVATE_toInt32Proto(o,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(SnapshotVersion.min())>0){u.readTime=toTimestamp(o,s.snapshotVersion.toTimestamp());const f=__PRIVATE_toInt32Proto(o,s.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const a=__PRIVATE_toListenRequestLabels(this.serializer,e);a&&(n.labels=a),this.Ho(n)}s_(e){const n={};n.database=__PRIVATE_getEncodedDatabaseId(this.serializer),n.removeTarget=e,this.Ho(n)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(e,n,a,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,i,s),this.serializer=o,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(__PRIVATE_hardAssert(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();const n=__PRIVATE_fromWriteResults(e.writeResults,e.commitTime),a=__PRIVATE_fromVersion(e.commitTime);return this.listener.u_(a,n)}return __PRIVATE_hardAssert(!e.writeResults||e.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const e={};e.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.Ho(e)}a_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>toMutation(this.serializer,a))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(e,n,a,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=i,this.h_=!1}P_(){if(this.h_)throw new FirestoreError(v.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(e,n,a){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Vo(e,n,a,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new FirestoreError(v.UNKNOWN,i.toString())})}yo(e,n,a,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.yo(e,n,a,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new FirestoreError(v.UNKNOWN,o.toString())})}terminate(){this.h_=!0}}class __PRIVATE_OnlineStateTracker{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(e){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.R_("Offline")))}set(e){this.f_(),this.T_=0,e==="Online"&&(this.d_=!1),this.R_(e)}R_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}V_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(__PRIVATE_logError(n),this.d_=!1):__PRIVATE_logDebug("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(e,n,a,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=o,this.S_.Ys(s=>{a.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=__PRIVATE_debugCast(c);f.y_.add(4),await __PRIVATE_disableNetworkInternal(f),f.b_.set("Unknown"),f.y_.delete(4),await __PRIVATE_enableNetworkInternal(f)}(this))})}),this.b_=new __PRIVATE_OnlineStateTracker(a,i)}}async function __PRIVATE_enableNetworkInternal(t){if(__PRIVATE_canUseNetwork(t))for(const e of t.w_)await e(!0)}async function __PRIVATE_disableNetworkInternal(t){for(const e of t.w_)await e(!1)}function __PRIVATE_remoteStoreListen(t,e){const n=__PRIVATE_debugCast(t);n.p_.has(e.targetId)||(n.p_.set(e.targetId,e),__PRIVATE_shouldStartWatchStream(n)?__PRIVATE_startWatchStream(n):__PRIVATE_ensureWatchStream(n).Uo()&&__PRIVATE_sendWatchRequest(n,e))}function __PRIVATE_remoteStoreUnlisten(t,e){const n=__PRIVATE_debugCast(t),a=__PRIVATE_ensureWatchStream(n);n.p_.delete(e),a.Uo()&&__PRIVATE_sendUnwatchRequest(n,e),n.p_.size===0&&(a.Uo()?a.zo():__PRIVATE_canUseNetwork(n)&&n.b_.set("Unknown"))}function __PRIVATE_sendWatchRequest(t,e){if(t.D_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}__PRIVATE_ensureWatchStream(t).i_(e)}function __PRIVATE_sendUnwatchRequest(t,e){t.D_.Be(e),__PRIVATE_ensureWatchStream(t).s_(e)}function __PRIVATE_startWatchStream(t){t.D_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.p_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(t).start(),t.b_.A_()}function __PRIVATE_shouldStartWatchStream(t){return __PRIVATE_canUseNetwork(t)&&!__PRIVATE_ensureWatchStream(t).$o()&&t.p_.size>0}function __PRIVATE_canUseNetwork(t){return __PRIVATE_debugCast(t).y_.size===0}function __PRIVATE_cleanUpWatchStreamState(t){t.D_=void 0}async function __PRIVATE_onWatchStreamOpen(t){t.p_.forEach((e,n)=>{__PRIVATE_sendWatchRequest(t,e)})}async function __PRIVATE_onWatchStreamClose(t,e){__PRIVATE_cleanUpWatchStreamState(t),__PRIVATE_shouldStartWatchStream(t)?(t.b_.m_(e),__PRIVATE_startWatchStream(t)):t.b_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(t,e,n){if(t.b_.set("Online"),e instanceof __PRIVATE_WatchTargetChange&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const u of o.targetIds)i.p_.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.p_.delete(u),i.D_.removeTarget(u))}(t,e)}catch(a){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),await __PRIVATE_disableNetworkUntilRecovery(t,a)}else if(e instanceof __PRIVATE_DocumentWatchChange?t.D_.We(e):e instanceof __PRIVATE_ExistenceFilterChange?t.D_.Ze(e):t.D_.je(e),!n.isEqual(SnapshotVersion.min()))try{const a=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(t.localStore);n.compareTo(a)>=0&&await function(o,s){const u=o.D_.st(s);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const L=o.p_.get(f);L&&o.p_.set(f,L.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,f)=>{const L=o.p_.get(c);if(!L)return;o.p_.set(c,L.withResumeToken(ByteString.EMPTY_BYTE_STRING,L.snapshotVersion)),__PRIVATE_sendUnwatchRequest(o,c);const Se=new TargetData(L.target,c,f,L.sequenceNumber);__PRIVATE_sendWatchRequest(o,Se)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(a){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",a),await __PRIVATE_disableNetworkUntilRecovery(t,a)}}async function __PRIVATE_disableNetworkUntilRecovery(t,e,n){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;t.y_.add(1),await __PRIVATE_disableNetworkInternal(t),t.b_.set("Offline"),n||(n=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await n(),t.y_.delete(1),await __PRIVATE_enableNetworkInternal(t)})}function __PRIVATE_executeWithRecovery(t,e){return e().catch(n=>__PRIVATE_disableNetworkUntilRecovery(t,n,e))}async function __PRIVATE_fillWritePipeline(t){const e=__PRIVATE_debugCast(t),n=__PRIVATE_ensureWriteStream(e);let a=e.g_.length>0?e.g_[e.g_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(e);)try{const i=await __PRIVATE_localStoreGetNextMutationBatch(e.localStore,a);if(i===null){e.g_.length===0&&n.zo();break}a=i.batchId,__PRIVATE_addToWritePipeline(e,i)}catch(i){await __PRIVATE_disableNetworkUntilRecovery(e,i)}__PRIVATE_shouldStartWriteStream(e)&&__PRIVATE_startWriteStream(e)}function __PRIVATE_canAddToWritePipeline(t){return __PRIVATE_canUseNetwork(t)&&t.g_.length<10}function __PRIVATE_addToWritePipeline(t,e){t.g_.push(e);const n=__PRIVATE_ensureWriteStream(t);n.Uo()&&n.__&&n.a_(e.mutations)}function __PRIVATE_shouldStartWriteStream(t){return __PRIVATE_canUseNetwork(t)&&!__PRIVATE_ensureWriteStream(t).$o()&&t.g_.length>0}function __PRIVATE_startWriteStream(t){__PRIVATE_ensureWriteStream(t).start()}async function __PRIVATE_onWriteStreamOpen(t){__PRIVATE_ensureWriteStream(t).l_()}async function __PRIVATE_onWriteHandshakeComplete(t){const e=__PRIVATE_ensureWriteStream(t);for(const n of t.g_)e.a_(n.mutations)}async function __PRIVATE_onMutationResult(t,e,n){const a=t.g_.shift(),i=MutationBatchResult.from(a,e,n);await __PRIVATE_executeWithRecovery(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await __PRIVATE_fillWritePipeline(t)}async function __PRIVATE_onWriteStreamClose(t,e){e&&__PRIVATE_ensureWriteStream(t).__&&await async function(a,i){if(function(s){return __PRIVATE_isPermanentError(s)&&s!==v.ABORTED}(i.code)){const o=a.g_.shift();__PRIVATE_ensureWriteStream(a).Go(),await __PRIVATE_executeWithRecovery(a,()=>a.remoteSyncer.rejectFailedWrite(o.batchId,i)),await __PRIVATE_fillWritePipeline(a)}}(t,e),__PRIVATE_shouldStartWriteStream(t)&&__PRIVATE_startWriteStream(t)}async function __PRIVATE_remoteStoreHandleCredentialChange(t,e){const n=__PRIVATE_debugCast(t);n.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const a=__PRIVATE_canUseNetwork(n);n.y_.add(3),await __PRIVATE_disableNetworkInternal(n),a&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.y_.delete(3),await __PRIVATE_enableNetworkInternal(n)}async function __PRIVATE_remoteStoreApplyPrimaryState(t,e){const n=__PRIVATE_debugCast(t);e?(n.y_.delete(2),await __PRIVATE_enableNetworkInternal(n)):e||(n.y_.add(2),await __PRIVATE_disableNetworkInternal(n),n.b_.set("Unknown"))}function __PRIVATE_ensureWatchStream(t){return t.v_||(t.v_=function(n,a,i){const o=__PRIVATE_debugCast(n);return o.P_(),new __PRIVATE_PersistentListenStream(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{_o:__PRIVATE_onWatchStreamOpen.bind(null,t),uo:__PRIVATE_onWatchStreamClose.bind(null,t),r_:__PRIVATE_onWatchStreamChange.bind(null,t)}),t.w_.push(async e=>{e?(t.v_.Go(),__PRIVATE_shouldStartWatchStream(t)?__PRIVATE_startWatchStream(t):t.b_.set("Unknown")):(await t.v_.stop(),__PRIVATE_cleanUpWatchStreamState(t))})),t.v_}function __PRIVATE_ensureWriteStream(t){return t.C_||(t.C_=function(n,a,i){const o=__PRIVATE_debugCast(n);return o.P_(),new __PRIVATE_PersistentWriteStream(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{_o:__PRIVATE_onWriteStreamOpen.bind(null,t),uo:__PRIVATE_onWriteStreamClose.bind(null,t),c_:__PRIVATE_onWriteHandshakeComplete.bind(null,t),u_:__PRIVATE_onMutationResult.bind(null,t)}),t.w_.push(async e=>{e?(t.C_.Go(),await __PRIVATE_fillWritePipeline(t)):(await t.C_.stop(),t.g_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${t.g_.length} pending writes`),t.g_=[]))})),t.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(e,n,a,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=i,this.removalCallback=o,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,a,i,o){const s=Date.now()+a,u=new DelayedOperation(e,n,s,i,o);return u.start(a),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(t,e){if(__PRIVATE_logError("AsyncQueue",`${e}: ${t}`),__PRIVATE_isIndexedDbTransactionError(t))return new FirestoreError(v.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(e){this.comparator=e?(n,a)=>e(n,a)||DocumentKey.comparator(n.key,a.key):(n,a)=>DocumentKey.comparator(n.key,a.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(e){return new DocumentSet(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof DocumentSet)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=a.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new DocumentSet;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.F_=new SortedMap(DocumentKey.comparator)}track(e){const n=e.doc.key,a=this.F_.get(n);a?e.type!==0&&a.type===3?this.F_=this.F_.insert(n,e):e.type===3&&a.type!==1?this.F_=this.F_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.F_=this.F_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.F_=this.F_.remove(n):e.type===1&&a.type===2?this.F_=this.F_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):fail():this.F_=this.F_.insert(n,e)}M_(){const e=[];return this.F_.inorderTraversal((n,a)=>{e.push(a)}),e}}class ViewSnapshot{constructor(e,n,a,i,o,s,u,c,f){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,a,i,o){const s=[];return n.forEach(u=>{s.push({type:0,doc:u})}),new ViewSnapshot(e,n,DocumentSet.emptySet(n),s,a,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==a[i].type||!n[i].doc.isEqual(a[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.x_=void 0,this.listeners=[]}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=new ObjectMap(e=>__PRIVATE_canonifyQuery(e),__PRIVATE_queryEquals),this.onlineState="Unknown",this.O_=new Set}}async function __PRIVATE_eventManagerListen(t,e){const n=__PRIVATE_debugCast(t),a=e.query;let i=!1,o=n.queries.get(a);if(o||(i=!0,o=new __PRIVATE_QueryListenersInfo),i)try{o.x_=await n.onListen(a)}catch(s){const u=__PRIVATE_wrapInUserErrorIfRecoverable(s,`Initialization of query '${__PRIVATE_stringifyQuery(e.query)}' failed`);return void e.onError(u)}n.queries.set(a,o),o.listeners.push(e),e.N_(n.onlineState),o.x_&&e.B_(o.x_)&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}async function __PRIVATE_eventManagerUnlisten(t,e){const n=__PRIVATE_debugCast(t),a=e.query;let i=!1;const o=n.queries.get(a);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(a),n.onUnlisten(a)}function __PRIVATE_eventManagerOnWatchChange(t,e){const n=__PRIVATE_debugCast(t);let a=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const u of s.listeners)u.B_(i)&&(a=!0);s.x_=i}}a&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}function __PRIVATE_eventManagerOnWatchError(t,e,n){const a=__PRIVATE_debugCast(t),i=a.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);a.queries.delete(e)}function __PRIVATE_raiseSnapshotsInSyncEvent(t){t.O_.forEach(e=>{e.next()})}class __PRIVATE_QueryListener{constructor(e,n,a){this.query=e,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=a||{}}B_(e){if(!this.options.includeMetadataChanges){const a=[];for(const i of e.docChanges)i.type!==3&&a.push(i);e=new ViewSnapshot(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),n=!0):this.K_(e,this.onlineState)&&(this.U_(e),n=!0),this.q_=e,n}onError(e){this.L_.error(e)}N_(e){this.onlineState=e;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),n=!0),n}K_(e,n){if(!e.fromCache)return!0;const a=n!=="Offline";return(!this.options.W_||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Q_(e){if(e.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(e){e=ViewSnapshot.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_View{constructor(e,n){this.query=e,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.na=__PRIVATE_newQueryComparator(e),this.ra=new DocumentSet(this.na)}get ia(){return this.X_}sa(e,n){const a=n?n.oa:new __PRIVATE_DocumentChangeSet,i=n?n.ra:this.ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((L,Se)=>{const ge=i.get(L),Le=__PRIVATE_queryMatches(this.query,Se)?Se:null,We=!!ge&&this.mutatedKeys.has(ge.key),$e=!!Le&&(Le.hasLocalMutations||this.mutatedKeys.has(Le.key)&&Le.hasCommittedMutations);let Qe=!1;ge&&Le?ge.data.isEqual(Le.data)?We!==$e&&(a.track({type:3,doc:Le}),Qe=!0):this._a(ge,Le)||(a.track({type:2,doc:Le}),Qe=!0,(c&&this.na(Le,c)>0||f&&this.na(Le,f)<0)&&(u=!0)):!ge&&Le?(a.track({type:0,doc:Le}),Qe=!0):ge&&!Le&&(a.track({type:1,doc:ge}),Qe=!0,(c||f)&&(u=!0)),Qe&&(Le?(s=s.add(Le),o=$e?o.add(L):o.delete(L)):(s=s.delete(L),o=o.delete(L)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const L=this.query.limitType==="F"?s.last():s.first();s=s.delete(L.key),o=o.delete(L.key),a.track({type:1,doc:L})}return{ra:s,oa:a,zi:u,mutatedKeys:o}}_a(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a){const i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;const o=e.oa.M_();o.sort((f,L)=>function(ge,Le){const We=$e=>{switch($e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return We(ge)-We(Le)}(f.type,L.type)||this.na(f.doc,L.doc)),this.aa(a);const s=n?this.ua():[],u=this.ta.size===0&&this.current?1:0,c=u!==this.ea;return this.ea=u,o.length!==0||c?{snapshot:new ViewSnapshot(this.query,e.ra,i,o,e.mutatedKeys,u===0,c,!1,!!a&&a.resumeToken.approximateByteSize()>0),ca:s}:{ca:s}}N_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}aa(e){e&&(e.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=e.current)}ua(){if(!this.current)return[];const e=this.ta;this.ta=__PRIVATE_documentKeySet(),this.ra.forEach(a=>{this.la(a.key)&&(this.ta=this.ta.add(a.key))});const n=[];return e.forEach(a=>{this.ta.has(a)||n.push(new __PRIVATE_RemovedLimboDocument(a))}),this.ta.forEach(a=>{e.has(a)||n.push(new __PRIVATE_AddedLimboDocument(a))}),n}ha(e){this.X_=e.ss,this.ta=__PRIVATE_documentKeySet();const n=this.sa(e.documents);return this.applyChanges(n,!0)}Pa(){return ViewSnapshot.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class LimboResolution{constructor(e){this.key=e,this.Ia=!1}}class __PRIVATE_SyncEngineImpl{constructor(e,n,a,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ta={},this.Ea=new ObjectMap(u=>__PRIVATE_canonifyQuery(u),__PRIVATE_queryEquals),this.da=new Map,this.Aa=new Set,this.Ra=new SortedMap(DocumentKey.comparator),this.Va=new Map,this.ma=new __PRIVATE_ReferenceSet,this.fa={},this.ga=new Map,this.pa=__PRIVATE_TargetIdGenerator.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function __PRIVATE_syncEngineListen(t,e){const n=__PRIVATE_ensureWatchCallbacks(t);let a,i;const o=n.Ea.get(e);if(o)a=o.targetId,n.sharedClientState.addLocalQueryTarget(a),i=o.view.Pa();else{const s=await __PRIVATE_localStoreAllocateTarget(n.localStore,__PRIVATE_queryToTarget(e)),u=n.sharedClientState.addLocalQueryTarget(s.targetId);a=s.targetId,i=await __PRIVATE_initializeViewAndComputeSnapshot(n,e,a,u==="current",s.resumeToken),n.isPrimaryClient&&__PRIVATE_remoteStoreListen(n.remoteStore,s)}return i}async function __PRIVATE_initializeViewAndComputeSnapshot(t,e,n,a,i){t.wa=(Se,ge,Le)=>async function($e,Qe,Ue,De){let we=Qe.view.sa(Ue);we.zi&&(we=await __PRIVATE_localStoreExecuteQuery($e.localStore,Qe.query,!1).then(({documents:Ee})=>Qe.view.sa(Ee,we)));const ve=De&&De.targetChanges.get(Qe.targetId),Ce=Qe.view.applyChanges(we,$e.isPrimaryClient,ve);return __PRIVATE_updateTrackedLimbos($e,Qe.targetId,Ce.ca),Ce.snapshot}(t,Se,ge,Le);const o=await __PRIVATE_localStoreExecuteQuery(t.localStore,e,!0),s=new __PRIVATE_View(e,o.ss),u=s.sa(o.documents),c=TargetChange.createSynthesizedTargetChangeForCurrentChange(n,a&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);__PRIVATE_updateTrackedLimbos(t,n,f.ca);const L=new __PRIVATE_QueryView(e,n,s);return t.Ea.set(e,L),t.da.has(n)?t.da.get(n).push(e):t.da.set(n,[e]),f.snapshot}async function __PRIVATE_syncEngineUnlisten(t,e){const n=__PRIVATE_debugCast(t),a=n.Ea.get(e),i=n.da.get(a.targetId);if(i.length>1)return n.da.set(a.targetId,i.filter(o=>!__PRIVATE_queryEquals(o,e))),void n.Ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await __PRIVATE_localStoreReleaseTarget(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),__PRIVATE_remoteStoreUnlisten(n.remoteStore,a.targetId),__PRIVATE_removeAndCleanupTarget(n,a.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(n,a.targetId),await __PRIVATE_localStoreReleaseTarget(n.localStore,a.targetId,!0))}async function __PRIVATE_syncEngineWrite(t,e,n){const a=__PRIVATE_syncEngineEnsureWriteCallbacks(t);try{const i=await function(s,u){const c=__PRIVATE_debugCast(s),f=Timestamp.now(),L=u.reduce((Le,We)=>Le.add(We.key),__PRIVATE_documentKeySet());let Se,ge;return c.persistence.runTransaction("Locally write mutations","readwrite",Le=>{let We=__PRIVATE_mutableDocumentMap(),$e=__PRIVATE_documentKeySet();return c.Xi.getEntries(Le,L).next(Qe=>{We=Qe,We.forEach((Ue,De)=>{De.isValidDocument()||($e=$e.add(Ue))})}).next(()=>c.localDocuments.getOverlayedDocuments(Le,We)).next(Qe=>{Se=Qe;const Ue=[];for(const De of u){const we=__PRIVATE_mutationExtractBaseValue(De,Se.get(De.key).overlayedDocument);we!=null&&Ue.push(new __PRIVATE_PatchMutation(De.key,we,__PRIVATE_extractFieldMask(we.value.mapValue),Precondition.exists(!0)))}return c.mutationQueue.addMutationBatch(Le,f,Ue,u)}).next(Qe=>{ge=Qe;const Ue=Qe.applyToLocalDocumentSet(Se,$e);return c.documentOverlayCache.saveOverlays(Le,Qe.batchId,Ue)})}).then(()=>({batchId:ge.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(Se)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let f=s.fa[s.currentUser.toKey()];f||(f=new SortedMap(__PRIVATE_primitiveComparator)),f=f.insert(u,c),s.fa[s.currentUser.toKey()]=f}(a,i.batchId,n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(a,i.changes),await __PRIVATE_fillWritePipeline(a.remoteStore)}catch(i){const o=__PRIVATE_wrapInUserErrorIfRecoverable(i,"Failed to persist write");n.reject(o)}}async function __PRIVATE_syncEngineApplyRemoteEvent(t,e){const n=__PRIVATE_debugCast(t);try{const a=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Va.get(o);s&&(__PRIVATE_hardAssert(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ia=!0:i.modifiedDocuments.size>0?__PRIVATE_hardAssert(s.Ia):i.removedDocuments.size>0&&(__PRIVATE_hardAssert(s.Ia),s.Ia=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,a,e)}catch(a){await __PRIVATE_ignoreIfPrimaryLeaseLoss(a)}}function __PRIVATE_syncEngineApplyOnlineStateChange(t,e,n){const a=__PRIVATE_debugCast(t);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const i=[];a.Ea.forEach((o,s)=>{const u=s.view.N_(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=__PRIVATE_debugCast(s);c.onlineState=u;let f=!1;c.queries.forEach((L,Se)=>{for(const ge of Se.listeners)ge.N_(u)&&(f=!0)}),f&&__PRIVATE_raiseSnapshotsInSyncEvent(c)}(a.eventManager,e),i.length&&a.Ta.r_(i),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function __PRIVATE_syncEngineRejectListen(t,e,n){const a=__PRIVATE_debugCast(t);a.sharedClientState.updateQueryState(e,"rejected",n);const i=a.Va.get(e),o=i&&i.key;if(o){let s=new SortedMap(DocumentKey.comparator);s=s.insert(o,MutableDocument.newNoDocument(o,SnapshotVersion.min()));const u=__PRIVATE_documentKeySet().add(o),c=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),s,u);await __PRIVATE_syncEngineApplyRemoteEvent(a,c),a.Ra=a.Ra.remove(o),a.Va.delete(e),__PRIVATE_pumpEnqueuedLimboResolutions(a)}else await __PRIVATE_localStoreReleaseTarget(a.localStore,e,!1).then(()=>__PRIVATE_removeAndCleanupTarget(a,e,n)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(t,e){const n=__PRIVATE_debugCast(t),a=e.batch.batchId;try{const i=await __PRIVATE_localStoreAcknowledgeBatch(n.localStore,e);__PRIVATE_processUserCallback(n,a,null),__PRIVATE_triggerPendingWritesCallbacks(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,i)}catch(i){await __PRIVATE_ignoreIfPrimaryLeaseLoss(i)}}async function __PRIVATE_syncEngineRejectFailedWrite(t,e,n){const a=__PRIVATE_debugCast(t);try{const i=await function(s,u){const c=__PRIVATE_debugCast(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let L;return c.mutationQueue.lookupMutationBatch(f,u).next(Se=>(__PRIVATE_hardAssert(Se!==null),L=Se.keys(),c.mutationQueue.removeMutationBatch(f,Se))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,L,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,L)).next(()=>c.localDocuments.getDocuments(f,L))})}(a.localStore,e);__PRIVATE_processUserCallback(a,e,n),__PRIVATE_triggerPendingWritesCallbacks(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(a,i)}catch(i){await __PRIVATE_ignoreIfPrimaryLeaseLoss(i)}}function __PRIVATE_triggerPendingWritesCallbacks(t,e){(t.ga.get(e)||[]).forEach(n=>{n.resolve()}),t.ga.delete(e)}function __PRIVATE_processUserCallback(t,e,n){const a=__PRIVATE_debugCast(t);let i=a.fa[a.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),a.fa[a.currentUser.toKey()]=i}}function __PRIVATE_removeAndCleanupTarget(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const a of t.da.get(e))t.Ea.delete(a),n&&t.Ta.Sa(a,n);t.da.delete(e),t.isPrimaryClient&&t.ma.Ar(e).forEach(a=>{t.ma.containsKey(a)||__PRIVATE_removeLimboTarget(t,a)})}function __PRIVATE_removeLimboTarget(t,e){t.Aa.delete(e.path.canonicalString());const n=t.Ra.get(e);n!==null&&(__PRIVATE_remoteStoreUnlisten(t.remoteStore,n),t.Ra=t.Ra.remove(e),t.Va.delete(n),__PRIVATE_pumpEnqueuedLimboResolutions(t))}function __PRIVATE_updateTrackedLimbos(t,e,n){for(const a of n)a instanceof __PRIVATE_AddedLimboDocument?(t.ma.addReference(a.key,e),__PRIVATE_trackLimboChange(t,a)):a instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+a.key),t.ma.removeReference(a.key,e),t.ma.containsKey(a.key)||__PRIVATE_removeLimboTarget(t,a.key)):fail()}function __PRIVATE_trackLimboChange(t,e){const n=e.key,a=n.path.canonicalString();t.Ra.get(n)||t.Aa.has(a)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+n),t.Aa.add(a),__PRIVATE_pumpEnqueuedLimboResolutions(t))}function __PRIVATE_pumpEnqueuedLimboResolutions(t){for(;t.Aa.size>0&&t.Ra.size<t.maxConcurrentLimboResolutions;){const e=t.Aa.values().next().value;t.Aa.delete(e);const n=new DocumentKey(ResourcePath.fromString(e)),a=t.pa.next();t.Va.set(a,new LimboResolution(n)),t.Ra=t.Ra.insert(n,a),__PRIVATE_remoteStoreListen(t.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(n.path)),a,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.ae))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(t,e,n){const a=__PRIVATE_debugCast(t),i=[],o=[],s=[];a.Ea.isEmpty()||(a.Ea.forEach((u,c)=>{s.push(a.wa(c,e,n).then(f=>{if((f||n)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(c.targetId,f!=null&&f.fromCache?"not-current":"current"),f){i.push(f);const L=__PRIVATE_LocalViewChanges.qi(c.targetId,f);o.push(L)}}))}),await Promise.all(s),a.Ta.r_(i),await async function(c,f){const L=__PRIVATE_debugCast(c);try{await L.persistence.runTransaction("notifyLocalViewChanges","readwrite",Se=>PersistencePromise.forEach(f,ge=>PersistencePromise.forEach(ge.Li,Le=>L.persistence.referenceDelegate.addReference(Se,ge.targetId,Le)).next(()=>PersistencePromise.forEach(ge.ki,Le=>L.persistence.referenceDelegate.removeReference(Se,ge.targetId,Le)))))}catch(Se){if(!__PRIVATE_isIndexedDbTransactionError(Se))throw Se;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+Se)}for(const Se of f){const ge=Se.targetId;if(!Se.fromCache){const Le=L.Ji.get(ge),We=Le.snapshotVersion,$e=Le.withLastLimboFreeSnapshotVersion(We);L.Ji=L.Ji.insert(ge,$e)}}}(a.localStore,o))}async function __PRIVATE_syncEngineHandleCredentialChange(t,e){const n=__PRIVATE_debugCast(t);if(!n.currentUser.isEqual(e)){__PRIVATE_logDebug("SyncEngine","User change. New user:",e.toKey());const a=await __PRIVATE_localStoreHandleUserChange(n.localStore,e);n.currentUser=e,function(o,s){o.ga.forEach(u=>{u.forEach(c=>{c.reject(new FirestoreError(v.CANCELLED,s))})}),o.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,a.ts)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(t,e){const n=__PRIVATE_debugCast(t),a=n.Va.get(e);if(a&&a.Ia)return __PRIVATE_documentKeySet().add(a.key);{let i=__PRIVATE_documentKeySet();const o=n.da.get(e);if(!o)return i;for(const s of o){const u=n.Ea.get(s);i=i.unionWith(u.view.ia)}return i}}function __PRIVATE_ensureWatchCallbacks(t){const e=__PRIVATE_debugCast(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,e),e.Ta.r_=__PRIVATE_eventManagerOnWatchChange.bind(null,e.eventManager),e.Ta.Sa=__PRIVATE_eventManagerOnWatchError.bind(null,e.eventManager),e}function __PRIVATE_syncEngineEnsureWriteCallbacks(t){const e=__PRIVATE_debugCast(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,e),e}class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}createPersistence(e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.zr,this.serializer)}createSharedClientState(e){return new __PRIVATE_MemorySharedClientState}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OnlineComponentProvider{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(e){const n=__PRIVATE_newSerializer(e.databaseInfo.databaseId),a=function(o){return new __PRIVATE_WebChannelConnection(o)}(e.databaseInfo);return function(o,s,u,c){return new __PRIVATE_DatastoreImpl(o,s,u,c)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,i,o,s,u){return new __PRIVATE_RemoteStoreImpl(a,i,o,s,u)}(this.localStore,this.datastore,e.asyncQueue,n=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,n,0),function(){return __PRIVATE_BrowserConnectivityMonitor.v()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(e,n){return function(i,o,s,u,c,f,L){const Se=new __PRIVATE_SyncEngineImpl(i,o,s,u,c,f);return L&&(Se.ya=!0),Se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const a=__PRIVATE_debugCast(n);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),a.y_.add(5),await __PRIVATE_disableNetworkInternal(a),a.S_.shutdown(),a.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.va(this.observer.next,e)}error(e){this.observer.error?this.va(this.observer.error,e):__PRIVATE_logError("Uncaught Error in snapshot listener:",e.toString())}Ca(){this.muted=!0}va(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(e,n,a,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=i,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,async o=>{__PRIVATE_logDebug("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(a,o=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=__PRIVATE_wrapInUserErrorIfRecoverable(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function __PRIVATE_setOfflineComponentProvider(t,e){t.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let a=n.initialUser;t.setCredentialChangeListener(async i=>{a.isEqual(i)||(await __PRIVATE_localStoreHandleUserChange(e.localStore,i),a=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function __PRIVATE_setOnlineComponentProvider(t,e){t.asyncQueue.verifyOperationInProgress();const n=await __PRIVATE_ensureOfflineComponents(t);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider");const a=await t.getConfiguration();await e.initialize(n,a),t.setCredentialChangeListener(i=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,o)),t._onlineComponents=e}function __PRIVATE_canFallbackFromIndexedDbError(t){return t.name==="FirebaseError"?t.code===v.FAILED_PRECONDITION||t.code===v.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function __PRIVATE_ensureOfflineComponents(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!__PRIVATE_canFallbackFromIndexedDbError(n))throw n;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+n),await __PRIVATE_setOfflineComponentProvider(t,new MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(t,new MemoryOfflineComponentProvider);return t._offlineComponents}async function __PRIVATE_ensureOnlineComponents(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(t,t._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(t,new OnlineComponentProvider))),t._onlineComponents}function __PRIVATE_getSyncEngine(t){return __PRIVATE_ensureOnlineComponents(t).then(e=>e.syncEngine)}async function __PRIVATE_getEventManager(t){const e=await __PRIVATE_ensureOnlineComponents(t),n=e.eventManager;return n.onListen=__PRIVATE_syncEngineListen.bind(null,e.syncEngine),n.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,e.syncEngine),n}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(t,e,n={}){const a=new __PRIVATE_Deferred;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,u,c,f){const L=new __PRIVATE_AsyncObserver({next:ge=>{s.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(o,Se)),ge.fromCache&&c.source==="server"?f.reject(new FirestoreError(v.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(ge)},error:ge=>f.reject(ge)}),Se=new __PRIVATE_QueryListener(u,L,{includeMetadataChanges:!0,W_:!0});return __PRIVATE_eventManagerListen(o,Se)}(await __PRIVATE_getEventManager(t),t.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(t,e,n){if(!n)throw new FirestoreError(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function __PRIVATE_validateIsNotUsedTogether(t,e,n,a){if(e===!0&&a===!0)throw new FirestoreError(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function __PRIVATE_validateDocumentPath(t){if(!DocumentKey.isDocumentKey(t))throw new FirestoreError(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function __PRIVATE_validateCollectionPath(t){if(DocumentKey.isDocumentKey(t))throw new FirestoreError(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function __PRIVATE_valueDescription(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fail()}function __PRIVATE_cast(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new FirestoreError(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=__PRIVATE_valueDescription(t);throw new FirestoreError(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new FirestoreError(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new FirestoreError(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new FirestoreError(v.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new FirestoreError(v.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new FirestoreError(v.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,i){return a.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,n,a,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(a.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new FirestoreError(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=fe.get(n);a&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),fe.delete(n),a.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(t,e,n,a={}){var i;const o=(t=__PRIVATE_cast(t,Firestore$1))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),a.mockUserToken){let u,c;if(typeof a.mockUserToken=="string")u=a.mockUserToken,c=User.MOCK_USER;else{u=createMockUserToken(a.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=a.mockUserToken.sub||a.mockUserToken.user_id;if(!f)throw new FirestoreError(v.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new User(f)}t._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Query(this.firestore,e,this._query)}}class DocumentReference{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference(this.firestore,e,this._key)}}class CollectionReference extends Query{constructor(e,n,a){super(e,n,__PRIVATE_newQueryForPath(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(e))}withConverter(e){return new CollectionReference(this.firestore,e,this._path)}}function collection(t,e,...n){if(t=getModularInstance(t),__PRIVATE_validateNonEmptyArgument("collection","path",e),t instanceof Firestore$1){const a=ResourcePath.fromString(e,...n);return __PRIVATE_validateCollectionPath(a),new CollectionReference(t,null,a)}{if(!(t instanceof DocumentReference||t instanceof CollectionReference))throw new FirestoreError(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(ResourcePath.fromString(e,...n));return __PRIVATE_validateCollectionPath(a),new CollectionReference(t.firestore,null,a)}}function doc(t,e,...n){if(t=getModularInstance(t),arguments.length===1&&(e=__PRIVATE_AutoId.V()),__PRIVATE_validateNonEmptyArgument("doc","path",e),t instanceof Firestore$1){const a=ResourcePath.fromString(e,...n);return __PRIVATE_validateDocumentPath(a),new DocumentReference(t,null,new DocumentKey(a))}{if(!(t instanceof DocumentReference||t instanceof CollectionReference))throw new FirestoreError(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(ResourcePath.fromString(e,...n));return __PRIVATE_validateDocumentPath(a),new DocumentReference(t.firestore,t instanceof CollectionReference?t.converter:null,new DocumentKey(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Xa=()=>{const n=getDocument();n&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const e=getDocument();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.eu(),this.tu(e)}enterRestrictedMode(e){if(!this.za){this.za=!0,this.Ya=e||!1;const n=getDocument();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(e){if(this.eu(),this.za)return new Promise(()=>{});const n=new __PRIVATE_Deferred;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ga.push(e),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+e)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(e){const n=this.Wa.then(()=>(this.Ja=!0,e().catch(a=>{this.Ha=a,this.Ja=!1;const i=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(a);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",i),a}).then(a=>(this.Ja=!1,a))));return this.Wa=n,n}enqueueAfterDelay(e,n,a){this.eu(),this.Za.indexOf(e)>-1&&(n=0);const i=DelayedOperation.createAndSchedule(this,e,n,a,o=>this.ru(o));return this.ja.push(i),i}eu(){this.Ha&&fail()}verifyOperationInProgress(){}async iu(){let e;do e=this.Wa,await e;while(e!==this.Wa)}su(e){for(const n of this.ja)if(n.timerId===e)return!0;return!1}ou(e){return this.iu().then(()=>{this.ja.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.iu()})}_u(e){this.Za.push(e)}ru(e){const n=this.ja.indexOf(e);this.ja.splice(n,1)}}class Firestore extends Firestore$1{constructor(e,n,a,i){super(e,n,a,i),this.type="firestore",this._queue=function(){return new __PRIVATE_AsyncQueueImpl}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore(this),this._firestoreClient.terminate()}}function getFirestore(t,e){const n=typeof t=="object"?t:getApp(),a=typeof t=="string"?t:e||"(default)",i=_getProvider(n,"firestore").getImmediate({identifier:a});if(!i._initialized){const o=getDefaultEmulatorHostnameAndPort("firestore");o&&connectFirestoreEmulator(i,...o)}return i}function ensureFirestoreConfigured(t){return t._firestoreClient||__PRIVATE_configureFirestore(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function __PRIVATE_configureFirestore(t){var e,n,a;const i=t._freezeSettings(),o=function(u,c,f,L){return new DatabaseInfo(u,c,f,L.host,L.ssl,L.experimentalForceLongPolling,L.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(L.experimentalLongPollingOptions),L.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new FirestoreClient(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=i.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(n){throw new FirestoreError(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new FirestoreError(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new FirestoreError(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe=/^__.*__$/;class ParsedSetData{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,n,this.fieldTransforms):new __PRIVATE_SetMutation(e,this.data,n,this.fieldTransforms)}}class ParsedUpdateData{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function __PRIVATE_isWrite(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(e,n,a,i,o,s){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=i,o===void 0&&this.au(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(e){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:a,hu:!1});return i.Pu(e),i}Iu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:a,hu:!1});return i.au(),i}Tu(e){return this.cu({path:void 0,hu:!0})}Eu(e){return __PRIVATE_createError(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}Pu(e){if(e.length===0)throw this.Eu("Document fields must not be empty");if(__PRIVATE_isWrite(this.uu)&&pe.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||__PRIVATE_newSerializer(e)}Ru(e,n,a,i=!1){return new __PRIVATE_ParseContextImpl({uu:e,methodName:n,Au:a,path:FieldPath$1.emptyPath(),hu:!1,du:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(t){const e=t._freezeSettings(),n=__PRIVATE_newSerializer(t._databaseId);return new __PRIVATE_UserDataReader(t._databaseId,!!e.ignoreUndefinedProperties,n)}function __PRIVATE_parseSetData(t,e,n,a,i,o={}){const s=t.Ru(o.merge||o.mergeFields?2:0,e,n,i);__PRIVATE_validatePlainObject("Data must be an object, but it was:",s,a);const u=__PRIVATE_parseObject(a,s);let c,f;if(o.merge)c=new FieldMask(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const L=[];for(const Se of o.mergeFields){const ge=__PRIVATE_fieldPathFromArgument$1(e,Se,n);if(!s.contains(ge))throw new FirestoreError(v.INVALID_ARGUMENT,`Field '${ge}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(L,ge)||L.push(ge)}c=new FieldMask(L),f=s.fieldTransforms.filter(Se=>c.covers(Se.field))}else c=null,f=s.fieldTransforms;return new ParsedSetData(new ObjectValue(u),c,f)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(e){if(e.uu!==2)throw e.uu===1?e.Eu(`${this._methodName}() can only appear at the top level of your update data`):e.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_parseUpdateData(t,e,n,a){const i=t.Ru(1,e,n);__PRIVATE_validatePlainObject("Data must be an object, but it was:",i,a);const o=[],s=ObjectValue.empty();forEach(a,(c,f)=>{const L=__PRIVATE_fieldPathFromDotSeparatedString(e,c,n);f=getModularInstance(f);const Se=i.Iu(L);if(f instanceof __PRIVATE_DeleteFieldValueImpl)o.push(L);else{const ge=__PRIVATE_parseData(f,Se);ge!=null&&(o.push(L),s.set(L,ge))}});const u=new FieldMask(o);return new ParsedUpdateData(s,u,i.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(t,e,n,a,i,o){const s=t.Ru(1,e,n),u=[__PRIVATE_fieldPathFromArgument$1(e,a,n)],c=[i];if(o.length%2!=0)throw new FirestoreError(v.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ge=0;ge<o.length;ge+=2)u.push(__PRIVATE_fieldPathFromArgument$1(e,o[ge])),c.push(o[ge+1]);const f=[],L=ObjectValue.empty();for(let ge=u.length-1;ge>=0;--ge)if(!__PRIVATE_fieldMaskContains(f,u[ge])){const Le=u[ge];let We=c[ge];We=getModularInstance(We);const $e=s.Iu(Le);if(We instanceof __PRIVATE_DeleteFieldValueImpl)f.push(Le);else{const Qe=__PRIVATE_parseData(We,$e);Qe!=null&&(f.push(Le),L.set(Le,Qe))}}const Se=new FieldMask(f);return new ParsedUpdateData(L,Se,s.fieldTransforms)}function __PRIVATE_parseData(t,e){if(__PRIVATE_looksLikeJsonObject(t=getModularInstance(t)))return __PRIVATE_validatePlainObject("Unsupported field value:",e,t),__PRIVATE_parseObject(t,e);if(t instanceof FieldValue)return function(a,i){if(!__PRIVATE_isWrite(i.uu))throw i.Eu(`${a._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Eu(`${a._methodName}() is not currently supported inside arrays`);const o=a._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.hu&&e.uu!==4)throw e.Eu("Nested arrays are not supported");return function(a,i){const o=[];let s=0;for(const u of a){let c=__PRIVATE_parseData(u,i.Tu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(a,i){if((a=getModularInstance(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return toNumber(i.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const o=Timestamp.fromDate(a);return{timestampValue:toTimestamp(i.serializer,o)}}if(a instanceof Timestamp){const o=new Timestamp(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:toTimestamp(i.serializer,o)}}if(a instanceof GeoPoint)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(i.serializer,a._byteString)};if(a instanceof DocumentReference){const o=i.databaseId,s=a.firestore._databaseId;if(!s.isEqual(o))throw i.Eu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:__PRIVATE_toResourceName(a.firestore._databaseId||i.databaseId,a._key.path)}}throw i.Eu(`Unsupported field value: ${__PRIVATE_valueDescription(a)}`)}(t,e)}function __PRIVATE_parseObject(t,e){const n={};return isEmpty(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):forEach(t,(a,i)=>{const o=__PRIVATE_parseData(i,e.lu(a));o!=null&&(n[a]=o)}),{mapValue:{fields:n}}}function __PRIVATE_looksLikeJsonObject(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Timestamp||t instanceof GeoPoint||t instanceof Bytes||t instanceof DocumentReference||t instanceof FieldValue)}function __PRIVATE_validatePlainObject(t,e,n){if(!__PRIVATE_looksLikeJsonObject(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const a=__PRIVATE_valueDescription(n);throw a==="an object"?e.Eu(t+" a custom object"):e.Eu(t+" "+a)}}function __PRIVATE_fieldPathFromArgument$1(t,e,n){if((e=getModularInstance(e))instanceof FieldPath)return e._internalPath;if(typeof e=="string")return __PRIVATE_fieldPathFromDotSeparatedString(t,e);throw __PRIVATE_createError("Field path arguments must be of type string or ",t,!1,void 0,n)}const ye=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(t,e,n){if(e.search(ye)>=0)throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new FieldPath(...e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function __PRIVATE_createError(t,e,n,a,i){const o=a&&!a.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${a}`),s&&(c+=` in document ${i}`),c+=")"),new FirestoreError(v.INVALID_ARGUMENT,u+t+c)}function __PRIVATE_fieldMaskContains(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(e,n,a,i,o){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(t,e){return typeof e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(t,e):e instanceof FieldPath?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new FirestoreError(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AbstractUserDataWriter{convertValue(e,n="none"){switch(__PRIVATE_typeOrder(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fail()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return forEach(e,(i,o)=>{a[i]=this.convertValue(o,n)}),a}convertGeoPoint(e){return new GeoPoint(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=__PRIVATE_getPreviousValue(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(e));default:return null}}convertTimestamp(e){const n=__PRIVATE_normalizeTimestamp(e);return new Timestamp(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ResourcePath.fromString(e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(a));const i=new DatabaseId(a.get(1),a.get(3)),o=new DocumentKey(a.popFirst(5));return i.isEqual(n)||__PRIVATE_logError(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(t,e,n){let a;return a=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(e,n,a,i,o,s){super(e,n,a,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(e={}){return super.data(e)}}class QuerySnapshot{constructor(e,n,a,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new SnapshotMetadata(i.hasPendingWrites,i.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,a.key,a,new SnapshotMetadata(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{const c=new QueryDocumentSnapshot(i._firestore,i._userDataWriter,u.doc.key,u.doc,new SnapshotMetadata(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const c=new QueryDocumentSnapshot(i._firestore,i._userDataWriter,u.doc.key,u.doc,new SnapshotMetadata(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,L=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),L=s.indexOf(u.doc.key)),{type:__PRIVATE_resultChangeType(u.type),doc:c,oldIndex:f,newIndex:L}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function __PRIVATE_resultChangeType(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,n)}}function getDocs(t){t=__PRIVATE_cast(t,Query);const e=__PRIVATE_cast(t.firestore,Firestore),n=ensureFirestoreConfigured(e),a=new __PRIVATE_ExpUserDataWriter(e);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(t._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(n,t._query).then(i=>new QuerySnapshot(e,a,t,i))}function updateDoc(t,e,n,...a){t=__PRIVATE_cast(t,DocumentReference);const i=__PRIVATE_cast(t.firestore,Firestore),o=__PRIVATE_newUserDataReader(i);let s;return s=typeof(e=getModularInstance(e))=="string"||e instanceof FieldPath?__PRIVATE_parseUpdateVarargs(o,"updateDoc",t._key,e,n,a):__PRIVATE_parseUpdateData(o,"updateDoc",t._key,e),executeWrite(i,[s.toMutation(t._key,Precondition.exists(!0))])}function deleteDoc(t){return executeWrite(__PRIVATE_cast(t.firestore,Firestore),[new __PRIVATE_DeleteMutation(t._key,Precondition.none())])}function addDoc(t,e){const n=__PRIVATE_cast(t.firestore,Firestore),a=doc(t),i=__PRIVATE_applyFirestoreDataConverter(t.converter,e);return executeWrite(n,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(t.firestore),"addDoc",a._key,i,t.converter!==null,{}).toMutation(a._key,Precondition.exists(!1))]).then(()=>a)}function executeWrite(t,e){return function(a,i){const o=new __PRIVATE_Deferred;return a.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(a),i,o)),o.promise}(ensureFirestoreConfigured(t),e)}(function(e,n=!0){(function(i){b=i})(SDK_VERSION),_registerComponent(new Component("firestore",(a,{instanceIdentifier:i,options:o})=>{const s=a.getProvider("app").getImmediate(),u=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(a.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(a.getProvider("app-check-internal")),function(f,L){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new FirestoreError(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(f.options.projectId,L)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),registerVersion(S,"4.1.0",e),registerVersion(S,"4.1.0","esm2017")})();const firebaseConfig={apiKey:"AIzaSyB1588kKBUXF5top9UxNCQdnC6h5xSCdZg",authDomain:"mythree-org.firebaseapp.com",projectId:"mythree-org",storageBucket:"mythree-org.appspot.com",messagingSenderId:"946128923664",appId:"1:946128923664:web:69418c6e093cb16e72ee95",measurementId:"G-9SZFX4XJTW"},app$1=initializeApp(firebaseConfig),storage=getStorage(app$1),appdb=firebase.initializeApp(firebaseConfig),db=getFirestore(appdb),getTokenFromUrl=t=>new URLSearchParams(new URL(t).search).get("token")??"",fetchImageURL=async t=>await getDownloadURL(ref(storage,t)),fetchFileNames=async t=>{const e=await listAll(ref(storage,t));return Object.values(e.items).filter(a=>a.name).map(a=>a.name)},groupBy=t=>e=>e.reduce((n,a)=>{const i=a[t];return n[i]=(n[i]||[]).concat(a),n},{}),uploadFile=async(t,e)=>{const n=getStorage(),a=ref(n,t+"/"+e.name);return await uploadBytes(a,e).then(i=>(console.log("Uploaded!"),!0)).catch(i=>(console.log("Error",i),!1))},deleteFile=async(t,e)=>{const n=getStorage(),a=ref(n,t+"/"+e.name);return await deleteObject(a)},getFullUrlPath=(t,e,n)=>{let a=encodeURIComponent(e);return"https://firebasestorage.googleapis.com/v0/b/mythree-org.appspot.com/o/"+t+"%2F"+a+"?alt=media&token="+n},readCollection=async function(t){const e=collection(db,t);return(await getDocs(e)).docs.map(i=>{const o=i.data();return{id:i.id,data:o}})},sortByDateAscending=t=>t.sort((e,n)=>{if(e.publishedDate===void 0&&n.publishedDate===void 0)return 0;if(e.publishedDate===void 0)return-1;if(n.publishedDate===void 0)return 1;{const a=new Date(e.publishedDate).getTime(),i=new Date(n.publishedDate).getTime();return a-i}}),sortByDateDescending=t=>t.sort((e,n)=>{if(e.publishedDate===void 0&&n.publishedDate===void 0)return 0;if(e.publishedDate===void 0)return-1;if(n.publishedDate===void 0)return 1;{const a=new Date(e.publishedDate).getTime();return new Date(n.publishedDate).getTime()-a}}),_sfc_main$7={data(){return{publicPath:"/mythreeorg/",latestNews:[],TOKEN:"",newsFolder:"news"}},async created(){await fetchImageURL("logo.png").then(t=>{this.TOKEN=getTokenFromUrl(t)}),await fetchFileNames(this.newsFolder).then(t=>{t.sort((e,n)=>n.toLowerCase().localeCompare(e.toLowerCase())).forEach(e=>{let n=getFullUrlPath(this.newsFolder,e,this.TOKEN);this.latestNews.push(n)})})}},_imports_0="/mythreeorg/assets/mythree-logo-639f4d3a.png",_imports_1="/mythreeorg/assets/mitrarashmi-6de5502f.png",_imports_2="/mythreeorg/assets/events-e9f6b171.jpg",_imports_3="/mythreeorg/assets/books-050e9519.jpeg",LayoutHome_vue_vue_type_style_index_0_scoped_761cd184_lang="",_withScopeId$2=t=>(pushScopeId("data-v-761cd184"),t=t(),popScopeId(),t),_hoisted_1$7=_withScopeId$2(()=>createBaseVNode("header",{class:"w3-container w3-teal w3-center",style:{padding:"64px 16px"}},[createBaseVNode("h1",{class:"w3-margin w3-jumbo"}," - ")],-1)),_hoisted_2$6={class:"w3-row"},_hoisted_3$5={class:"w3-col l8 s12"},_hoisted_4$5=_withScopeId$2(()=>createBaseVNode("div",{class:"w3-card-4 w3-margin w3-white"},[createBaseVNode("div",{class:"w3-center"},[createBaseVNode("img",{src:_imports_0,alt:"Logo",class:"w3-image",style:{"max-height":"150px"}})]),createBaseVNode("div",{class:"w3-container"},[createBaseVNode("h3",null,[createBaseVNode("b",null,"Mythree Samskritha Samskrithi Prathisthanam")]),createBaseVNode("h5",null,"Mythree is a not-for-profit organisation making an earnest attempt to revamp and re-join the soul of Indian Culture, Indian Heritage and National Pride")])],-1)),_hoisted_5$5=_withScopeId$2(()=>createBaseVNode("hr",null,null,-1)),_hoisted_6$5={class:"w3-card-4 w3-margin w3-white"},_hoisted_7$5=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_1,style:{width:"100%"}},null,-1)),_hoisted_8$5={class:"w3-container"},_hoisted_9$5=_withScopeId$2(()=>createBaseVNode("h3",null,[createBaseVNode("b",null," ")],-1)),_hoisted_10$3=_withScopeId$2(()=>createBaseVNode("h3",null,"|  ,  ",-1)),_hoisted_11$3={class:"w3-padding-8"},_hoisted_12$3={class:"w3-card-4 w3-margin w3-white"},_hoisted_13$3=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_2,style:{width:"100%"}},null,-1)),_hoisted_14$3={class:"w3-container"},_hoisted_15$2=_withScopeId$2(()=>createBaseVNode("h3",null,[createBaseVNode("b",null,"")],-1)),_hoisted_16$1={class:"w3-padding-8"},_hoisted_17$1={class:"w3-card-4 w3-margin w3-white"},_hoisted_18$1=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_3,style:{width:"100%"}},null,-1)),_hoisted_19$1={class:"w3-container"},_hoisted_20$1=_withScopeId$2(()=>createBaseVNode("h3",null,[createBaseVNode("b",null,"")],-1)),_hoisted_21$1=_withScopeId$2(()=>createBaseVNode("h3",null,"           ",-1)),_hoisted_22$1={class:"w3-padding-8"},_hoisted_23$1={class:"w3-card-4 w3-margin w3-white"},_hoisted_24$1={class:"w3-container"},_hoisted_25$1=_withScopeId$2(()=>createBaseVNode("h3",null,[createBaseVNode("b",null,"")],-1)),_hoisted_26$1=_withScopeId$2(()=>createBaseVNode("h3",null,": |  ",-1)),_hoisted_27$1={class:"w3-padding-8"},_hoisted_28$1={class:"w3-padding-8"},_hoisted_29$1=_withScopeId$2(()=>createBaseVNode("h5",{class:"w3-padding-8"},[createTextVNode("   , "),createBaseVNode("a",{href:"https://www.facebook.com/samskrutagurukulam",target:"_blank"},"  ")],-1)),_hoisted_30$1=_withScopeId$2(()=>createBaseVNode("div",{class:"w3-card-4 w3-margin w3-white"},[createBaseVNode("div",{class:"iframe-container"},[createBaseVNode("iframe",{src:"https://calendar.google.com/calendar/embed?height=600&wkst=1&bgcolor=%23ffffff&ctz=Asia%2FKolkata&showNav=1&showPrint=0&showTabs=0&showTz=1&showCalendars=1&title=Mythree%20Pratishtanam%20Programs&src=bXl0aHJlZXByYXRpc2h0YW5hQGdtYWlsLmNvbQ&color=%23039BE5",style:{padding:"20px"},width:"800",height:"600",frameborder:"0",scrolling:"no"})]),createBaseVNode("h4",{class:"w3-center w3-margin"},'          "+ Google Calendar"   ')],-1)),_hoisted_31$1={class:"w3-col l4"},_hoisted_32$1={class:"w3-card w3-margin w3-margin-top"},_hoisted_33$1={class:"w3-container w3-white"},_hoisted_34$1=_withScopeId$2(()=>createBaseVNode("h4",{class:"w3-center"},[createBaseVNode("b",null," ")],-1)),_hoisted_35$1={class:"w3-image-container",style:{height:"500px",display:"flex","justify-content":"center"}},_hoisted_36$1=["href"],_hoisted_37$1=["src"],_hoisted_38$1=_withScopeId$2(()=>createBaseVNode("hr",null,null,-1)),_hoisted_39$1=_withScopeId$2(()=>createBaseVNode("div",{class:"w3-card w3-margin w3-margin-top"},[createBaseVNode("div",{class:"iframe-container"},[createBaseVNode("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSfezDnMaAdIODS0CyL4wWeBBAW2wW879Z-Cpz2vw4iueDeR0Q/viewform?embedded=true",width:"750",height:"1685",frameborder:"0",marginheight:"0",marginwidth:"0"},"Loading")])],-1)),_hoisted_40$1=_withScopeId$2(()=>createBaseVNode("hr",null,null,-1)),_hoisted_41$1=_withScopeId$2(()=>createBaseVNode("br",null,null,-1)),_hoisted_42$1=_withScopeId$2(()=>createBaseVNode("div",{class:"w3-container w3-black w3-center w3-opacity w3-padding-64"},[createBaseVNode("h1",{class:"w3-margin w3-xlarge"},"  ")],-1));function _sfc_render$7(t,e,n,a,i,o){const s=resolveComponent("router-link");return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$7,createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$5,[_hoisted_4$5,_hoisted_5$5,createBaseVNode("div",_hoisted_6$5,[_hoisted_7$5,createBaseVNode("div",_hoisted_8$5,[_hoisted_9$5,_hoisted_10$3,createBaseVNode("h5",_hoisted_11$3,[createTextVNode("  , "),createVNode(s,{to:{name:"mitrarashmi"},class:""},{default:withCtx(()=>[createTextVNode("  ")]),_:1})])])]),createBaseVNode("div",_hoisted_12$3,[_hoisted_13$3,createBaseVNode("div",_hoisted_14$3,[_hoisted_15$2,createBaseVNode("h5",_hoisted_16$1,[createTextVNode("    , "),createVNode(s,{to:{name:"events"},class:""},{default:withCtx(()=>[createTextVNode("  ")]),_:1})])])]),createBaseVNode("div",_hoisted_17$1,[_hoisted_18$1,createBaseVNode("div",_hoisted_19$1,[_hoisted_20$1,_hoisted_21$1,createBaseVNode("h5",_hoisted_22$1,[createTextVNode("   , "),createVNode(s,{to:{name:"books"},class:""},{default:withCtx(()=>[createTextVNode("  ")]),_:1})])])]),createBaseVNode("div",_hoisted_23$1,[createBaseVNode("div",_hoisted_24$1,[_hoisted_25$1,_hoisted_26$1,createBaseVNode("h5",_hoisted_27$1,[createTextVNode("   , "),createVNode(s,{to:{name:"arogyasubashita"},class:""},{default:withCtx(()=>[createTextVNode("  ")]),_:1})]),createBaseVNode("h5",_hoisted_28$1,[createTextVNode("   , "),createVNode(s,{to:{name:"nityasubashita"},class:""},{default:withCtx(()=>[createTextVNode("  ")]),_:1})]),_hoisted_29$1])]),_hoisted_30$1]),createBaseVNode("div",_hoisted_31$1,[createBaseVNode("div",_hoisted_32$1,[createBaseVNode("div",_hoisted_33$1,[_hoisted_34$1,createBaseVNode("div",_hoisted_35$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.latestNews,u=>(openBlock(),createElementBlock("a",{href:`${u}`,target:"_blank"},[createBaseVNode("img",{class:"mySlides",alt:"slidingImages",src:`${u}`,style:{width:"100%","max-width":"100%","max-height":"100%"}},null,8,_hoisted_37$1)],8,_hoisted_36$1))),256))])])]),_hoisted_38$1,_hoisted_39$1,_hoisted_40$1])]),_hoisted_41$1,_hoisted_42$1],64)}const LayoutHome=_export_sfc(_sfc_main$7,[["render",_sfc_render$7],["__scopeId","data-v-761cd184"]]),EventsBucket="events",BooksBucket="books",GroupsBucket="groups",MitraRashmiBucket="mitrarashmi",_sfc_main$6={data(){return{events:[],magazines:[],books:[],groups:[],file:{},documentId:"",eventName:"",eventdescription:"",eventdetails:"",eventjoiningLink:"",eventGroupId:"",eventOrderId:"",eventimageName:"",mitrarashmiTitle:"",mitrarashmiLink:"",mitrarashmiImage:"",mitrarashmiDate:new Date,bookName:"",bookImage:"",bookDescription:"",bookAuthor:"",bookGroupId:"",groupId:"",groupTitle:"",groupOrderId:"",bookPublishDate:new Date,TOKEN:"",EventsBucket,GroupsBucket,MitraRashmiBucket,BooksBucket,createMode:!0,buttonText:"Create",fileInputKey:0}},async created(){await fetchImageURL("logo.png").then(t=>{this.TOKEN=getTokenFromUrl(t)})},computed:{buttonText(){return this.createMode?"Create":"Edit"}},methods:{clearImage(){this.fileInputKey++},readEvents:async function(){const t=collection(db,EventsBucket);let n=(await getDocs(t)).docs.map(a=>{const i=a.data();return{id:a.id,name:i.name,description:i.description,details:i.details,imageName:i.imageName,joiningLink:i.joiningLink,groupId:i.groupId,orderId:i.orderId,groupTitle:this.getGroupName(i.groupId)}});this.events=n.sort((a,i)=>(a.groupTitle||"").localeCompare(i.groupTitle||""))},readMagazines:async function(){const t=collection(db,MitraRashmiBucket);let n=(await getDocs(t)).docs.map(a=>{const i=a.data();return{id:a.id,title:i.title,imageName:i.imageName,linkToMagazine:i.linkToMagazine,publishedDate:i.publishedDate}});this.magazines=sortByDateAscending(n)},readBooks:async function(){const t=collection(db,BooksBucket),e=await getDocs(t);this.books=e.docs.map(n=>{const a=n.data();return{id:n.id,name:a.name,imageName:a.imageName,description:a.description,author:a.author,groupId:"2",publishedDate:a.publishedDate}})},readGroups:async function(){const t=collection(db,GroupsBucket),e=await getDocs(t);this.groups=e.docs.map(n=>{const a=n.data();return{id:n.id,title:a.title,orderId:a.orderId}})},clearEvent:function(){this.createMode=!0,this.eventName="",this.eventdescription="",this.eventdetails="",this.eventimageName="",this.eventjoiningLink="",this.eventGroupId="",this.eventOrderId="",this.documentId="",this.clearImage()},createEvent:async function(t){addDoc(collection(db,EventsBucket),{details:t.details,description:t.description,imageName:t.imageName,joiningLink:t.joiningLink,name:t.name,groupId:t.groupId,orderId:t.orderId}).then(e=>{console.log("Document added with id",e.id),this.readEvents(),this.clearEvent()}).catch(e=>{console.error("Error adding document",e)})},clearMagazine(){this.createMode=!0,this.mitrarashmiTitle="",this.mitrarashmiImage="",this.mitrarashmiLink="",this.mitrarashmiDate=new Date,this.clearImage(),this.documentId=""},createMagazine:async function(t){addDoc(collection(db,MitraRashmiBucket),{imageName:t.imageName,linkToMagazine:t.linkToMagazine,title:t.title,publishedDate:t.publishedDate}).then(e=>{console.log("Document added with id",e.id),this.readMagazines(),this.clearMagazine()}).catch(e=>{console.error("Error adding document",e)})},clearBook:function(){this.createMode=!0,this.bookName="",this.bookAuthor="",this.bookDescription="",this.bookImage="",this.bookGroupId="",this.bookPublishDate=new Date,this.clearImage(),this.documentId=""},clearGroup:function(){this.createMode=!0,this.groupId="",this.groupTitle="",this.groupOrderId="",this.documentId=""},createBook:async function(t){addDoc(collection(db,BooksBucket),{imageName:t.imageName,description:t.description,name:t.name,author:t.author,groupId:t.groupId,publishedDate:t.publishedDate}).then(e=>{console.log("Document added with id",e.id),this.readBooks(),this.clearBook()}).catch(e=>{console.error("Error adding document",e)})},createGroup:async function(t){addDoc(collection(db,GroupsBucket),{title:t.title,orderId:t.orderId}).then(e=>{console.log("Document added with id",e.id),this.readGroups(),this.clearGroup()}).catch(e=>{console.error("Error adding document",e)})},deleteDocument:async function(t,e,n){deleteFile(t,e),deleteDoc(doc(db,t,n)).then(()=>{switch(console.log("Document deleted"),t){case EventsBucket:this.readEvents();break;case MitraRashmiBucket:this.readMagazines();break;case BooksBucket:this.readBooks();break;case GroupsBucket:this.readGroups();break}}).catch(a=>{console.error("Error deleting document",a),alert("Error deleting Event")})},updateEvents:async function(t){this.uploadImage(EventsBucket);const e=doc(db,EventsBucket,t);updateDoc(e,{description:this.eventdescription,details:this.eventdetails,imageName:this.eventimageName,joiningLink:this.eventjoiningLink,name:this.eventName,groupId:this.eventGroupId,orderId:this.eventOrderId}).then(()=>{console.log("Document updated"),this.createMode=!1,this.readEvents(),this.clearEvent()}).catch(n=>{})},updateBooks:async function(t){this.uploadImage(BooksBucket);const e=doc(db,BooksBucket,t);updateDoc(e,{author:this.bookAuthor,description:this.bookDescription,groupId:this.bookGroupId,imageName:this.bookImage,name:this.bookName,publishedDate:this.bookPublishDate}).then(()=>{console.log("Document updated"),this.createMode=!1,this.readBooks(),this.clearBook()}).catch(n=>{})},updateMagazine:async function(t){this.uploadImage(MitraRashmiBucket);const e=doc(db,MitraRashmiBucket,t);updateDoc(e,{title:this.mitrarashmiTitle,linkToMagazine:this.mitrarashmiLink,imageName:this.mitrarashmiImage,publishedDate:this.mitrarashmiDate}).then(()=>{console.log("Document updated"),this.createMode=!1,this.readMagazines(),this.clearMagazine()}).catch(n=>{})},updateGroups:async function(t){const e=doc(db,GroupsBucket,t);updateDoc(e,{title:this.groupTitle,orderId:this.groupOrderId}).then(()=>{console.log("Document updated"),this.createMode=!1,this.readGroups(),this.clearGroup()}).catch(n=>{})},displayEventInForm:function(t){let e=this.events.find(n=>n.id==t);e!==void 0&&(this.eventdescription=e.description,this.eventdetails=e.details,this.eventimageName=e.imageName,this.eventjoiningLink=e.joiningLink,this.eventName=e.name,this.eventGroupId=e.groupId,this.eventOrderId=e.orderId,this.documentId=t,this.createMode=!1)},displayBookInForm:function(t){let e=this.books.find(n=>n.id==t);e!==void 0&&(this.bookAuthor=e.author,this.bookDescription=e.description,this.bookImage=e.imageName,this.bookName=e.name,this.bookGroupId=e.groupId,this.bookPublishDate=e.publishedDate,this.documentId=t,this.createMode=!1)},displayMagazineInForm:function(t){let e=this.magazines.find(n=>n.id==t);e!==void 0&&(this.mitrarashmiImage=e.imageName,this.mitrarashmiLink=e.linkToMagazine,this.mitrarashmiTitle=e.title,this.mitrarashmiDate=e.publishedDate,this.documentId=t,this.createMode=!1)},displayGroupInForm:function(t){let e=this.groups.find(n=>n.id==t);e!==void 0&&(this.groupId=e.id,this.groupTitle=e.title,this.documentId=t,this.createMode=!1)},previewEventImage:function(t){this.file=t.target.files[0],this.eventimageName=t.target.files[0].name},previewMagazineImage:function(t){this.file=t.target.files[0],this.mitrarashmiImage=t.target.files[0].name},previewBookImage:function(t){this.file=t.target.files[0],this.bookImage=t.target.files[0].name},uploadImage:async function(t){return this.file.name!=null?await uploadFile(t,this.file):!1},uploadEventDetails:async function(){this.uploadImage(EventsBucket),this.createEvent({description:this.eventdescription,details:this.eventdetails,id:"-1",imageName:this.eventimageName,joiningLink:this.eventjoiningLink,name:this.eventName,groupId:this.eventGroupId,orderId:this.eventOrderId})},uploadMagazineDetails:async function(){this.uploadImage(MitraRashmiBucket),this.createMagazine({id:"-1",imageName:this.mitrarashmiImage,linkToMagazine:this.mitrarashmiLink,title:this.mitrarashmiTitle,publishedDate:this.mitrarashmiDate})},uploadBookDetails:async function(){await this.uploadImage(BooksBucket)&&this.createBook({id:"-1",imageName:this.bookImage,name:this.bookName,description:this.bookDescription,author:this.bookAuthor,groupId:"2",publishedDate:this.bookPublishDate})},uploadGroupDetails:async function(){this.createGroup({id:"-1",title:this.groupTitle,orderId:this.groupOrderId})},getImageUrl(t,e){return getFullUrlPath(t,e,this.TOKEN)},getGroupName(t){var e;return(e=this.groups.find(n=>n.id==t))==null?void 0:e.title}},mounted(){this.readGroups(),this.readEvents(),this.readMagazines(),this.readBooks()}},Admin_vue_vue_type_style_index_0_scoped_f2fd285e_lang="",_withScopeId$1=t=>(pushScopeId("data-v-f2fd285e"),t=t(),popScopeId(),t),_hoisted_1$6=_withScopeId$1(()=>createBaseVNode("header",{class:"w3-container w3-teal w3-center",style:{padding:"64px 16px"}},[createBaseVNode("h3",{class:"w3-margin w3-jumbo"},"Admin")],-1)),_hoisted_2$5=_withScopeId$1(()=>createBaseVNode("div",{class:"w3-bar w3-gray w3-margin"},[createBaseVNode("button",{class:"w3-bar-item w3-button tablink w3-teal",onclick:"openCity(event,'events')"},""),createBaseVNode("button",{class:"w3-bar-item w3-button tablink",onclick:"openCity(event,'mitrarashmi')"},""),createBaseVNode("button",{class:"w3-bar-item w3-button tablink",onclick:"openCity(event,'books')"},""),createBaseVNode("button",{class:"w3-bar-item w3-button tablink",onclick:"openCity(event,'groups')"},"Groups")],-1)),_hoisted_3$4={id:"events",class:"w3-row-padding w3-padding-32 w3-container w3-border city",style:{"padding-bottom":"0px!important"}},_hoisted_4$4=_withScopeId$1(()=>createBaseVNode("p",{class:"w3-center w3-xlarge"},"",-1)),_hoisted_5$4={class:"w3-table"},_hoisted_6$4=_withScopeId$1(()=>createBaseVNode("tr",null,[createBaseVNode("th",null,"Event Name"),createBaseVNode("th",null,"Description"),createBaseVNode("th",null,"Image"),createBaseVNode("th",null,"Joining Link"),createBaseVNode("td",null,"Group"),createBaseVNode("td",null,"Order Id"),createBaseVNode("th",null,"Edit"),createBaseVNode("th",null,"Delete")],-1)),_hoisted_7$4=["href"],_hoisted_8$4=["href"],_hoisted_9$4=["onClick"],_hoisted_10$2=["onClick"],_hoisted_11$2={class:"formStyle"},_hoisted_12$2={class:"formdesign"},_hoisted_13$2=_withScopeId$1(()=>createBaseVNode("h1",null," FORM",-1)),_hoisted_14$2={class:"inputStyle"},_hoisted_15$1=_withScopeId$1(()=>createBaseVNode("label",null,"Name",-1)),_hoisted_16={class:"inputStyle"},_hoisted_17=_withScopeId$1(()=>createBaseVNode("label",null,"Description",-1)),_hoisted_18={class:"inputStyle"},_hoisted_19=_withScopeId$1(()=>createBaseVNode("label",null,"Link",-1)),_hoisted_20={class:"inputStyle"},_hoisted_21=_withScopeId$1(()=>createBaseVNode("label",null,"Group",-1)),_hoisted_22=["value"],_hoisted_23={class:"inputStyle"},_hoisted_24=_withScopeId$1(()=>createBaseVNode("label",null,"Order id",-1)),_hoisted_25={key:0,class:"inputStyle"},_hoisted_26=_withScopeId$1(()=>createBaseVNode("label",null,"Current selected image",-1)),_hoisted_27={class:"inputStyle"},_hoisted_28=_withScopeId$1(()=>createBaseVNode("label",null,"Image to Upload",-1)),_hoisted_29=["textContent"],_hoisted_30={id:"mitrarashmi",class:"w3-row-padding w3-padding-32 w3-container w3-border city",style:{"padding-bottom":"0px!important",display:"none"}},_hoisted_31=_withScopeId$1(()=>createBaseVNode("p",{class:"w3-center w3-xlarge"},"",-1)),_hoisted_32={class:"w3-table"},_hoisted_33=_withScopeId$1(()=>createBaseVNode("tr",null,[createBaseVNode("th",null,"title"),createBaseVNode("th",null,"Image"),createBaseVNode("th",null,"Link"),createBaseVNode("th",null,"Publish date"),createBaseVNode("th",null,"Edit"),createBaseVNode("th",null,"Delete")],-1)),_hoisted_34=["href"],_hoisted_35=["href"],_hoisted_36=["onClick"],_hoisted_37=["onClick"],_hoisted_38={class:"formStyle"},_hoisted_39={class:"formdesign"},_hoisted_40=_withScopeId$1(()=>createBaseVNode("h1",null," FORM",-1)),_hoisted_41={class:"inputStyle"},_hoisted_42=_withScopeId$1(()=>createBaseVNode("label",null,"Title",-1)),_hoisted_43={class:"inputStyle"},_hoisted_44=_withScopeId$1(()=>createBaseVNode("label",null,"Link",-1)),_hoisted_45={key:0,class:"inputStyle"},_hoisted_46=_withScopeId$1(()=>createBaseVNode("label",null,"Current selected image",-1)),_hoisted_47={class:"inputStyle"},_hoisted_48=_withScopeId$1(()=>createBaseVNode("label",null,"Publishing date",-1)),_hoisted_49={class:"inputStyle"},_hoisted_50=_withScopeId$1(()=>createBaseVNode("label",null,"Image to Upload",-1)),_hoisted_51=["textContent"],_hoisted_52={id:"books",class:"w3-row-padding w3-padding-32 w3-container w3-border city",style:{"padding-bottom":"0px!important",display:"none"}},_hoisted_53=_withScopeId$1(()=>createBaseVNode("p",{class:"w3-center w3-xlarge"},"",-1)),_hoisted_54={class:"w3-table"},_hoisted_55=_withScopeId$1(()=>createBaseVNode("tr",null,[createBaseVNode("th",null,"title"),createBaseVNode("th",null,"Image"),createBaseVNode("th",null,"description"),createBaseVNode("th",null,"Author"),createBaseVNode("th",null,"Publish date"),createBaseVNode("th",null,"Delete")],-1)),_hoisted_56=["href"],_hoisted_57=["onClick"],_hoisted_58=["onClick"],_hoisted_59={class:"formStyle"},_hoisted_60={class:"formdesign"},_hoisted_61=_withScopeId$1(()=>createBaseVNode("h1",null," FORM",-1)),_hoisted_62={class:"inputStyle"},_hoisted_63=_withScopeId$1(()=>createBaseVNode("label",null,"Title",-1)),_hoisted_64={class:"inputStyle"},_hoisted_65=_withScopeId$1(()=>createBaseVNode("label",null,"Description",-1)),_hoisted_66={class:"inputStyle"},_hoisted_67=_withScopeId$1(()=>createBaseVNode("label",null,"author",-1)),_hoisted_68={key:0,class:"inputStyle"},_hoisted_69=_withScopeId$1(()=>createBaseVNode("label",null,"Current selected image",-1)),_hoisted_70={class:"inputStyle"},_hoisted_71=_withScopeId$1(()=>createBaseVNode("label",null,"Image to Upload",-1)),_hoisted_72={class:"inputStyle"},_hoisted_73=_withScopeId$1(()=>createBaseVNode("label",null,"Publishing date",-1)),_hoisted_74=["textContent"],_hoisted_75={id:"groups",class:"w3-row-padding w3-padding-32 w3-container w3-border city",style:{"padding-bottom":"0px!important"}},_hoisted_76=_withScopeId$1(()=>createBaseVNode("p",{class:"w3-center w3-xlarge"},"Groups",-1)),_hoisted_77={class:"w3-table"},_hoisted_78=_withScopeId$1(()=>createBaseVNode("tr",null,[createBaseVNode("th",null,"Group Name"),createBaseVNode("th",null,"Order Id"),createBaseVNode("th",null,"Edit"),createBaseVNode("th",null,"Delete")],-1)),_hoisted_79=["onClick"],_hoisted_80=["onClick"],_hoisted_81={class:"formStyle"},_hoisted_82={class:"formdesign"},_hoisted_83=_withScopeId$1(()=>createBaseVNode("h1",null,"Group FORM",-1)),_hoisted_84={class:"inputStyle"},_hoisted_85=_withScopeId$1(()=>createBaseVNode("label",null,"Name",-1)),_hoisted_86={class:"inputStyle"},_hoisted_87=_withScopeId$1(()=>createBaseVNode("label",null,"Order Id",-1)),_hoisted_88=["textContent"];function _sfc_render$6(t,e,n,a,i,o){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$6,_hoisted_2$5,createBaseVNode("div",_hoisted_3$4,[_hoisted_4$4,createBaseVNode("table",_hoisted_5$4,[_hoisted_6$4,(openBlock(!0),createElementBlock(Fragment,null,renderList(i.events,s=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("td",null,toDisplayString(s.name),1),createBaseVNode("td",null,toDisplayString(s.description),1),createBaseVNode("td",null,[createBaseVNode("a",{href:o.getImageUrl(i.EventsBucket,s.imageName),target:"_blank"},toDisplayString(s.imageName),9,_hoisted_7$4)]),createBaseVNode("td",null,[createBaseVNode("a",{href:s.joiningLink,target:"_blank"},"Link",8,_hoisted_8$4)]),createBaseVNode("td",null,toDisplayString(o.getGroupName(s.groupId)),1),createBaseVNode("td",null,toDisplayString(s.orderId),1),createBaseVNode("td",null,[createBaseVNode("button",{onClick:u=>o.displayEventInForm(s.id)},"Edit",8,_hoisted_9$4)]),createBaseVNode("td",null,[createBaseVNode("button",{onClick:u=>o.deleteDocument(i.EventsBucket,s.imageName,s.id)},"Delete",8,_hoisted_10$2)])]))),256))]),createBaseVNode("div",_hoisted_11$2,[createBaseVNode("div",_hoisted_12$2,[_hoisted_13$2,createBaseVNode("div",_hoisted_14$2,[_hoisted_15$1,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>i.eventName=s),class:"form-control",placeholder:"Event Title"},null,512),[[vModelText,i.eventName]])]),createBaseVNode("div",_hoisted_16,[_hoisted_17,withDirectives(createBaseVNode("textarea",{rows:"10",cols:"50","onUpdate:modelValue":e[1]||(e[1]=s=>i.eventdescription=s),class:"form-control",placeholder:"Event description"},null,512),[[vModelText,i.eventdescription]])]),createBaseVNode("div",_hoisted_18,[_hoisted_19,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=s=>i.eventjoiningLink=s),class:"form-control",placeholder:"Event link"},null,512),[[vModelText,i.eventjoiningLink]])]),createBaseVNode("div",_hoisted_20,[_hoisted_21,withDirectives(createBaseVNode("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>i.eventGroupId=s),class:"form-control",placeholder:"Select a group"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.groups,s=>(openBlock(),createElementBlock("option",{value:`${s.id}`},toDisplayString(s.title),9,_hoisted_22))),256))],512),[[vModelSelect,i.eventGroupId]])]),createBaseVNode("div",_hoisted_23,[_hoisted_24,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=s=>i.eventOrderId=s),class:"form-control",placeholder:"Order id within group"},null,512),[[vModelText,i.eventOrderId]])]),!i.createMode&&i.eventimageName!==""?(openBlock(),createElementBlock("div",_hoisted_25,[_hoisted_26,createBaseVNode("label",null,toDisplayString(i.eventimageName),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_27,[_hoisted_28,(openBlock(),createElementBlock("input",{type:"file",key:i.fileInputKey,onChange:e[5]||(e[5]=(...s)=>o.previewEventImage&&o.previewEventImage(...s)),accept:"image/*"},null,32))]),createBaseVNode("div",null,[createBaseVNode("button",{textContent:toDisplayString(o.buttonText),class:"w3-margin w3-padding-small",onClick:e[6]||(e[6]=s=>i.createMode?o.uploadEventDetails():o.updateEvents(i.documentId))},null,8,_hoisted_29),i.createMode?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,class:"w3-margin w3-padding-small",onClick:e[7]||(e[7]=s=>o.clearEvent())},"Cancel"))])])])]),createBaseVNode("div",_hoisted_30,[_hoisted_31,createBaseVNode("table",_hoisted_32,[_hoisted_33,(openBlock(!0),createElementBlock(Fragment,null,renderList(i.magazines,s=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("td",null,toDisplayString(s.title),1),createBaseVNode("td",null,[createBaseVNode("a",{href:o.getImageUrl(i.MitraRashmiBucket,s.imageName),target:"_blank"},toDisplayString(s.imageName),9,_hoisted_34)]),createBaseVNode("td",null,[createBaseVNode("a",{href:s.linkToMagazine,target:"_blank"},"Link",8,_hoisted_35)]),createBaseVNode("td",null,toDisplayString(s.publishedDate),1),createBaseVNode("td",null,[createBaseVNode("button",{onClick:u=>o.displayMagazineInForm(s.id)},"Edit",8,_hoisted_36)]),createBaseVNode("td",null,[createBaseVNode("button",{onClick:u=>o.deleteDocument(i.MitraRashmiBucket,s.imageName,s.id)},"Delete",8,_hoisted_37)])]))),256))]),createBaseVNode("div",_hoisted_38,[createBaseVNode("div",_hoisted_39,[_hoisted_40,createBaseVNode("div",_hoisted_41,[_hoisted_42,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=s=>i.mitrarashmiTitle=s),class:"form-control",placeholder:"Magazine title"},null,512),[[vModelText,i.mitrarashmiTitle]])]),createBaseVNode("div",_hoisted_43,[_hoisted_44,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=s=>i.mitrarashmiLink=s),class:"form-control",placeholder:"Link to magazine"},null,512),[[vModelText,i.mitrarashmiLink]])]),!i.createMode&&i.mitrarashmiImage!==""?(openBlock(),createElementBlock("div",_hoisted_45,[_hoisted_46,createBaseVNode("label",null,toDisplayString(i.mitrarashmiImage),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_47,[_hoisted_48,withDirectives(createBaseVNode("input",{type:"date","onUpdate:modelValue":e[10]||(e[10]=s=>i.mitrarashmiDate=s)},null,512),[[vModelText,i.mitrarashmiDate]])]),createBaseVNode("div",_hoisted_49,[_hoisted_50,(openBlock(),createElementBlock("input",{type:"file",key:i.fileInputKey,onChange:e[11]||(e[11]=(...s)=>o.previewMagazineImage&&o.previewMagazineImage(...s)),accept:"image/*"},null,32))]),createBaseVNode("div",null,[createBaseVNode("button",{textContent:toDisplayString(o.buttonText),class:"w3-margin w3-padding-small",onClick:e[12]||(e[12]=s=>i.createMode?o.uploadMagazineDetails():o.updateMagazine(i.documentId))},null,8,_hoisted_51),i.createMode?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,class:"w3-margin w3-padding-small",onClick:e[13]||(e[13]=s=>o.clearMagazine())},"Cancel"))])])])]),createBaseVNode("div",_hoisted_52,[_hoisted_53,createBaseVNode("table",_hoisted_54,[_hoisted_55,(openBlock(!0),createElementBlock(Fragment,null,renderList(i.books,s=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("td",null,toDisplayString(s.name),1),createBaseVNode("td",null,[createBaseVNode("a",{href:o.getImageUrl(i.BooksBucket,s.imageName),target:"_blank"},toDisplayString(s.imageName),9,_hoisted_56)]),createBaseVNode("td",null,toDisplayString(s.description),1),createBaseVNode("td",null,toDisplayString(s.author),1),createBaseVNode("td",null,toDisplayString(s.publishedDate),1),createBaseVNode("td",null,[createBaseVNode("button",{onClick:u=>o.displayBookInForm(s.id)},"Edit",8,_hoisted_57)]),createBaseVNode("td",null,[createBaseVNode("button",{onClick:u=>o.deleteDocument(i.BooksBucket,s.imageName,s.id)},"Delete",8,_hoisted_58)])]))),256))]),createBaseVNode("div",_hoisted_59,[createBaseVNode("div",_hoisted_60,[_hoisted_61,createBaseVNode("div",_hoisted_62,[_hoisted_63,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=s=>i.bookName=s),class:"form-control",placeholder:"book title"},null,512),[[vModelText,i.bookName]])]),createBaseVNode("div",_hoisted_64,[_hoisted_65,withDirectives(createBaseVNode("textarea",{rows:"10",cols:"50","onUpdate:modelValue":e[15]||(e[15]=s=>i.bookDescription=s),class:"form-control",placeholder:"Description"},null,512),[[vModelText,i.bookDescription]])]),createBaseVNode("div",_hoisted_66,[_hoisted_67,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=s=>i.bookAuthor=s),class:"form-control",placeholder:"author"},null,512),[[vModelText,i.bookAuthor]])]),!i.createMode&&i.bookImage!==""?(openBlock(),createElementBlock("div",_hoisted_68,[_hoisted_69,createBaseVNode("label",null,toDisplayString(i.bookImage),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_70,[_hoisted_71,(openBlock(),createElementBlock("input",{type:"file",onChange:e[17]||(e[17]=(...s)=>o.previewBookImage&&o.previewBookImage(...s)),key:i.fileInputKey,accept:"image/*"},null,32))]),createBaseVNode("div",_hoisted_72,[_hoisted_73,withDirectives(createBaseVNode("input",{type:"date","onUpdate:modelValue":e[18]||(e[18]=s=>i.bookPublishDate=s)},null,512),[[vModelText,i.bookPublishDate]])]),createBaseVNode("div",null,[createBaseVNode("button",{textContent:toDisplayString(o.buttonText),class:"w3-margin w3-padding-small",onClick:e[19]||(e[19]=s=>i.createMode?o.uploadBookDetails():o.updateBooks(i.documentId))},null,8,_hoisted_74),i.createMode?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,class:"w3-margin w3-padding-small",onClick:e[20]||(e[20]=s=>o.clearBook())},"Cancel"))])])])]),createBaseVNode("div",_hoisted_75,[_hoisted_76,createBaseVNode("table",_hoisted_77,[_hoisted_78,(openBlock(!0),createElementBlock(Fragment,null,renderList(i.groups,s=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("td",null,toDisplayString(s.title),1),createBaseVNode("td",null,toDisplayString(s.orderId),1),createBaseVNode("td",null,[createBaseVNode("button",{onClick:u=>o.displayGroupInForm(s.id)},"Edit",8,_hoisted_79)]),createBaseVNode("td",null,[createBaseVNode("button",{onClick:u=>o.deleteDocument(i.GroupsBucket,"",s.id)},"Delete",8,_hoisted_80)])]))),256))]),createBaseVNode("div",_hoisted_81,[createBaseVNode("div",_hoisted_82,[_hoisted_83,createBaseVNode("div",_hoisted_84,[_hoisted_85,withDirectives(createBaseVNode("textarea",{rows:"10",cols:"50",type:"text","onUpdate:modelValue":e[21]||(e[21]=s=>i.groupTitle=s),class:"form-control",placeholder:"Group Title"},null,512),[[vModelText,i.groupTitle]])]),createBaseVNode("div",_hoisted_86,[_hoisted_87,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":e[22]||(e[22]=s=>i.groupOrderId=s),class:"form-control",placeholder:"order id"},null,512),[[vModelText,i.groupOrderId]])]),createBaseVNode("div",null,[createBaseVNode("button",{textContent:toDisplayString(o.buttonText),class:"w3-margin w3-padding-small",onClick:e[23]||(e[23]=s=>i.createMode?o.uploadGroupDetails():o.updateGroups(i.documentId))},null,8,_hoisted_88),i.createMode?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,class:"w3-margin w3-padding-small",onClick:e[24]||(e[24]=s=>o.clearGroup())},"Cancel"))])])])])],64)}const Admin=_export_sfc(_sfc_main$6,[["render",_sfc_render$6],["__scopeId","data-v-f2fd285e"]]),_sfc_main$5={data(){return{TOKEN:"",publicPath:"/mythreeorg/",groups:[],books:[],imageUrl:"",images:[],array:[],groupedBooks:{}}},async created(){await fetchImageURL("logo.png").then(t=>{this.TOKEN=getTokenFromUrl(t)}),await readCollection(GroupsBucket).then(t=>{t.map(e=>{this.groups.push({id:e.data.groupId,title:e.data.title,orderId:e.data.orderId})})}),await readCollection(BooksBucket).then(t=>{t.map(e=>{this.books.push({description:e.data.description,id:e.id,imageName:getFullUrlPath(BooksBucket,e.data.imageName,this.TOKEN),name:e.data.name,author:e.data.author,groupId:e.data.groupId,publishedDate:e.data.publishedDate})})}).then(()=>{this.groupedBooks=groupBy("groupId")(this.books)})},methods:{getGroupName(t){var e;return(e=this.groups.find(n=>n.id==t))==null?void 0:e.title}}},_hoisted_1$5=createBaseVNode("header",{class:"w3-container w3-teal w3-center",style:{padding:"64px 16px"}},[createBaseVNode("h3",{class:"w3-margin w3-jumbo"}," "),createBaseVNode("p",{class:"w3-xlarge"},"           .")],-1),_hoisted_2$4={class:"w3-row-padding w3-padding-32 w3-container"},_hoisted_3$3={class:"w3-container w3-margin-bottom"},_hoisted_4$3={class:"w3-center"},_hoisted_5$3={class:"w3-third w3-container w3-margin-bottom",style:{"box-shadow":"0 4px 8px rgba(0, 0, 0, 0.1)"}},_hoisted_6$3={class:"w3-image-container",style:{height:"300px",display:"flex","align-items":"center","justify-content":"center"}},_hoisted_7$3=["src","alt"],_hoisted_8$3={class:"w3-container w3-white w3-center"},_hoisted_9$3=createStaticVNode('<div class="w3-container w3-black w3-center w3-opacity w3-padding-64"><h1 class="w3-margin w3-xlarge">   , <a href="https://forms.gle/cXQCc6hWP7sQH6KC8" target="_blank">  </a></h1></div><div class="w3-row-padding w3-padding-8 w3-container w3-margin-bottom"><h2 class="w3-text-teal w3-center">   </h2><li>  </li><li>  </li><li>  5   </li><li>  100 ,  </li><li>3-4    </li><li>    </li><li>,  ,   </li><li>  ,   , </li><li>  </li><li>       </li></div>',2);function _sfc_render$5(t,e,n,a,i,o){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$5,createBaseVNode("div",_hoisted_2$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.groupedBooks,(s,u)=>(openBlock(),createElementBlock("div",_hoisted_3$3,[createBaseVNode("h3",_hoisted_4$3,toDisplayString(o.getGroupName(u)),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(s,c=>(openBlock(),createElementBlock("div",_hoisted_5$3,[createBaseVNode("div",_hoisted_6$3,[createBaseVNode("img",{src:`${c.imageName}`,alt:`${c.title}`,style:{"max-width":"100%","max-height":"100%"}},null,8,_hoisted_7$3)]),createBaseVNode("div",_hoisted_8$3,[createBaseVNode("h4",null,[createBaseVNode("b",null,toDisplayString(c.name),1)]),createBaseVNode("p",null,[createBaseVNode("b",null,toDisplayString(c.author),1)]),createBaseVNode("p",null,toDisplayString(c.description),1)])]))),256))]))),256))]),_hoisted_9$3],64)}const Publication=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]);function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function a(){if(this instanceof a){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),n}var vue3PdfEmbed={exports:{}};const require$$0=getAugmentedNamespace(vue_runtime_esmBundler);(function(module,exports){(function(t,e){module.exports=e(require$$0)})(self,function(__WEBPACK_EXTERNAL_MODULE__103__){return(()=>{var __webpack_modules__={194:(t,e,n)=>{n.r(e),n.d(e,{default:()=>o});var a=n(645),i=n.n(a)()(function(s){return s[1]});i.push([t.id,`.textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}.textLayer span,.textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}.textLayer span.markedContent{top:0;height:0}.textLayer .highlight{margin:-1px;padding:1px;background-color:rgba(180, 0, 170, 1);border-radius:4px}.textLayer .highlight.appended{position:initial}.textLayer .highlight.begin{border-radius:4px 0 0 4px}.textLayer .highlight.end{border-radius:0 4px 4px 0}.textLayer .highlight.middle{border-radius:0}.textLayer .highlight.selected{background-color:rgba(0, 100, 0, 1)}.textLayer ::-moz-selection{background:rgba(0, 0, 255, 1)}.textLayer ::selection{background:rgba(0, 0, 255, 1)}.textLayer br::-moz-selection{background:transparent}.textLayer br::selection{background:transparent}.textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.textLayer .endOfContent.active{top:0}:root{--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>")}.annotationLayer section{position:absolute;text-align:initial}.annotationLayer .linkAnnotation>a,.annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}.annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}.annotationLayer .linkAnnotation>a:hover,.annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgba(255, 255, 0, 1);box-shadow:0 2px 10px rgba(255, 255, 0, 1)}.annotationLayer .textAnnotation img{position:absolute;cursor:pointer}.annotationLayer .textWidgetAnnotation input,.annotationLayer .textWidgetAnnotation textarea,.annotationLayer .choiceWidgetAnnotation select,.annotationLayer .buttonWidgetAnnotation.checkBox input,.annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}.annotationLayer .choiceWidgetAnnotation select option{padding:0}.annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}.annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}.annotationLayer .textWidgetAnnotation input[disabled],.annotationLayer .textWidgetAnnotation textarea[disabled],.annotationLayer .choiceWidgetAnnotation select[disabled],.annotationLayer .buttonWidgetAnnotation.checkBox input[disabled],.annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}.annotationLayer .textWidgetAnnotation input:hover,.annotationLayer .textWidgetAnnotation textarea:hover,.annotationLayer .choiceWidgetAnnotation select:hover,.annotationLayer .buttonWidgetAnnotation.checkBox input:hover,.annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgba(0, 0, 0, 1)}.annotationLayer .textWidgetAnnotation input:focus,.annotationLayer .textWidgetAnnotation textarea:focus,.annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}.annotationLayer .textWidgetAnnotation input :focus,.annotationLayer .textWidgetAnnotation textarea :focus,.annotationLayer .choiceWidgetAnnotation select :focus,.annotationLayer .buttonWidgetAnnotation.checkBox :focus,.annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before,.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after,.annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:rgba(0, 0, 0, 1);content:"";display:block;position:absolute}.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before,.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}.annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}.annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}.annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}.annotationLayer .buttonWidgetAnnotation.checkBox input,.annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}.annotationLayer .popupWrapper{position:absolute;width:20em}.annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:rgba(255, 255, 153, 1);box-shadow:0 2px 5px rgba(136, 136, 136, 1);border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}.annotationLayer .popup>*{font-size:9px}.annotationLayer .popup h1{display:inline-block}.annotationLayer .popupDate{display:inline-block;margin-left:5px}.annotationLayer .popupContent{border-top:1px solid rgba(51, 51, 51, 1);margin-top:2px;padding-top:2px}.annotationLayer .richText>*{white-space:pre-wrap}.annotationLayer .highlightAnnotation,.annotationLayer .underlineAnnotation,.annotationLayer .squigglyAnnotation,.annotationLayer .strikeoutAnnotation,.annotationLayer .freeTextAnnotation,.annotationLayer .lineAnnotation svg line,.annotationLayer .squareAnnotation svg rect,.annotationLayer .circleAnnotation svg ellipse,.annotationLayer .polylineAnnotation svg polyline,.annotationLayer .polygonAnnotation svg polygon,.annotationLayer .caretAnnotation,.annotationLayer .inkAnnotation svg polyline,.annotationLayer .stampAnnotation,.annotationLayer .fileAttachmentAnnotation{cursor:pointer}.vue-pdf-embed>div{position:relative}.vue-pdf-embed canvas{display:block}`,""]);const o=i},645:t=>{t.exports=function(e){var n=[];return n.toString=function(){return this.map(function(a){var i=e(a);return a[2]?"@media ".concat(a[2]," {").concat(i,"}"):i}).join("")},n.i=function(a,i,o){typeof a=="string"&&(a=[[null,a,""]]);var s={};if(o)for(var u=0;u<this.length;u++){var c=this[u][0];c!=null&&(s[c]=!0)}for(var f=0;f<a.length;f++){var L=[].concat(a[f]);o&&s[L[0]]||(i&&(L[2]?L[2]="".concat(i," and ").concat(L[2]):L[2]=i),n.push(L))}},n}},783:function(module,__unused_webpack_exports,__webpack_require__){var factory;factory=function(){return(()=>{var __webpack_modules__=[,(t,e,n)=>{function a($){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},a($)}Object.defineProperty(e,"__esModule",{value:!0}),e.addLinkAttributes=function($){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=ee.url,je=ee.target,He=ee.rel,qe=ee.enabled,ze=qe===void 0||qe;(0,s.assert)(ke&&typeof ke=="string",'addLinkAttributes: A valid "url" parameter must provided.');var at=(0,s.removeNullCharacters)(ke);ze?$.href=$.title=at:($.href="",$.title="Disabled: ".concat(at),$.onclick=function(){return!1});var et="";switch(je){case g.NONE:break;case g.SELF:et="_self";break;case g.BLANK:et="_blank";break;case g.PARENT:et="_parent";break;case g.TOP:et="_top"}$.target=et,$.rel=typeof He=="string"?He:we},e.deprecated=function($){console.log("Deprecated API usage: "+$)},e.getFilenameFromUrl=function($){var ee=$.indexOf("#"),ke=$.indexOf("?"),je=Math.min(ee>0?ee:$.length,ke>0?ke:$.length);return $.substring($.lastIndexOf("/",je)+1,je)},e.getPdfFilenameFromUrl=function($){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof $!="string")return ee;if(de($))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ee;var ke=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,je=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,He=ke.exec($),qe=je.exec(He[1])||je.exec(He[2])||je.exec(He[3]);if(qe&&(qe=qe[0]).includes("%"))try{qe=je.exec(decodeURIComponent(qe))[0]}catch{}return qe||ee},e.isDataScheme=de,e.isFetchSupported=Be,e.isPdfFile=function($){return typeof $=="string"&&/\.pdf$/i.test($)},e.isValidFetchUrl=Me,e.loadScript=function($){var ee=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Promise(function(ke,je){var He=document.createElement("script");He.src=$,He.onload=function(qe){ee&&He.remove(),ke(qe)},He.onerror=function(){je(new Error("Cannot load script at: ".concat(He.src)))},(document.head||document.documentElement).appendChild(He)})},e.StatTimer=e.RenderingCancelledException=e.PDFDateString=e.PageViewport=e.LinkTarget=e.DOMSVGFactory=e.DOMCMapReaderFactory=e.DOMCanvasFactory=e.DEFAULT_LINK_REL=e.BaseCMapReaderFactory=e.BaseCanvasFactory=void 0;var i,o=(i=n(2))&&i.__esModule?i:{default:i},s=n(4);function u($,ee){var ke=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!ke){if(Array.isArray($)||(ke=function(et,tt){if(et){if(typeof et=="string")return c(et,tt);var Ze=Object.prototype.toString.call(et).slice(8,-1);return Ze==="Object"&&et.constructor&&(Ze=et.constructor.name),Ze==="Map"||Ze==="Set"?Array.from(et):Ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ze)?c(et,tt):void 0}}($))||ee&&$&&typeof $.length=="number"){ke&&($=ke);var je=0,He=function(){};return{s:He,n:function(){return je>=$.length?{done:!0}:{done:!1,value:$[je++]}},e:function(et){throw et},f:He}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qe,ze=!0,at=!1;return{s:function(){ke=ke.call($)},n:function(){var et=ke.next();return ze=et.done,et},e:function(et){at=!0,qe=et},f:function(){try{ze||ke.return==null||ke.return()}finally{if(at)throw qe}}}}function c($,ee){(ee==null||ee>$.length)&&(ee=$.length);for(var ke=0,je=new Array(ee);ke<ee;ke++)je[ke]=$[ke];return je}function f($,ee,ke,je,He,qe,ze){try{var at=$[qe](ze),et=at.value}catch(tt){return void ke(tt)}at.done?ee(et):Promise.resolve(et).then(je,He)}function L($){return function(){var ee=this,ke=arguments;return new Promise(function(je,He){var qe=$.apply(ee,ke);function ze(et){f(qe,je,He,ze,at,"next",et)}function at(et){f(qe,je,He,ze,at,"throw",et)}ze(void 0)})}}function Se($,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(ee&&ee.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),ee&&ge($,ee)}function ge($,ee){return ge=Object.setPrototypeOf||function(ke,je){return ke.__proto__=je,ke},ge($,ee)}function Le($){var ee=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ke,je=$e($);if(ee){var He=$e(this).constructor;ke=Reflect.construct(je,arguments,He)}else ke=je.apply(this,arguments);return We(this,ke)}}function We($,ee){return!ee||a(ee)!=="object"&&typeof ee!="function"?function(ke){if(ke===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ke}($):ee}function $e($){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},$e($)}function Qe($,ee){if(!($ instanceof ee))throw new TypeError("Cannot call a class as a function")}function Ue($,ee){for(var ke=0;ke<ee.length;ke++){var je=ee[ke];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty($,je.key,je)}}function De($,ee,ke){return ee&&Ue($.prototype,ee),ke&&Ue($,ke),$}var we="noopener noreferrer nofollow";e.DEFAULT_LINK_REL=we;var ve="http://www.w3.org/2000/svg",Ce=function(){function $(){Qe(this,$),this.constructor===$&&(0,s.unreachable)("Cannot initialize BaseCanvasFactory.")}return De($,[{key:"create",value:function(ee,ke){(0,s.unreachable)("Abstract method `create` called.")}},{key:"reset",value:function(ee,ke,je){if(!ee.canvas)throw new Error("Canvas is not specified");if(ke<=0||je<=0)throw new Error("Invalid canvas size");ee.canvas.width=ke,ee.canvas.height=je}},{key:"destroy",value:function(ee){if(!ee.canvas)throw new Error("Canvas is not specified");ee.canvas.width=0,ee.canvas.height=0,ee.canvas=null,ee.context=null}}]),$}();e.BaseCanvasFactory=Ce;var Ee=function($){Se(ke,$);var ee=Le(ke);function ke(){var je,He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},qe=He.ownerDocument,ze=qe===void 0?globalThis.document:qe;return Qe(this,ke),(je=ee.call(this))._document=ze,je}return De(ke,[{key:"create",value:function(je,He){if(je<=0||He<=0)throw new Error("Invalid canvas size");var qe=this._document.createElement("canvas"),ze=qe.getContext("2d");return qe.width=je,qe.height=He,{canvas:qe,context:ze}}}]),ke}(Ce);e.DOMCanvasFactory=Ee;var xe=function(){function $(ke){var je=ke.baseUrl,He=je===void 0?null:je,qe=ke.isCompressed,ze=qe!==void 0&&qe;Qe(this,$),this.constructor===$&&(0,s.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=He,this.isCompressed=ze}var ee;return De($,[{key:"fetch",value:(ee=L(o.default.mark(function ke(je){var He,qe,ze,at=this;return o.default.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(He=je.name,this.baseUrl){et.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(He){et.next=5;break}throw new Error("CMap name must be specified.");case 5:return qe=this.baseUrl+He+(this.isCompressed?".bcmap":""),ze=this.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE,et.abrupt("return",this._fetchData(qe,ze).catch(function(tt){throw new Error("Unable to load ".concat(at.isCompressed?"binary ":"","CMap at: ").concat(qe))}));case 8:case"end":return et.stop()}},ke,this)})),function(ke){return ee.apply(this,arguments)})},{key:"_fetchData",value:function(ke,je){(0,s.unreachable)("Abstract method `_fetchData` called.")}}]),$}();e.BaseCMapReaderFactory=xe;var re=function($){Se(ke,$);var ee=Le(ke);function ke(){return Qe(this,ke),ee.apply(this,arguments)}return De(ke,[{key:"_fetchData",value:function(je,He){var qe=this;return Be()&&Me(je,document.baseURI)?fetch(je).then(function(){var ze=L(o.default.mark(function at(et){var tt;return o.default.wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(et.ok){Ze.next=2;break}throw new Error(et.statusText);case 2:if(!qe.isCompressed){Ze.next=10;break}return Ze.t0=Uint8Array,Ze.next=6,et.arrayBuffer();case 6:Ze.t1=Ze.sent,tt=new Ze.t0(Ze.t1),Ze.next=15;break;case 10:return Ze.t2=s.stringToBytes,Ze.next=13,et.text();case 13:Ze.t3=Ze.sent,tt=(0,Ze.t2)(Ze.t3);case 15:return Ze.abrupt("return",{cMapData:tt,compressionType:He});case 16:case"end":return Ze.stop()}},at)}));return function(at){return ze.apply(this,arguments)}}()):new Promise(function(ze,at){var et=new XMLHttpRequest;et.open("GET",je,!0),qe.isCompressed&&(et.responseType="arraybuffer"),et.onreadystatechange=function(){if(et.readyState===XMLHttpRequest.DONE){var tt;if((et.status===200||et.status===0)&&(qe.isCompressed&&et.response?tt=new Uint8Array(et.response):!qe.isCompressed&&et.responseText&&(tt=(0,s.stringToBytes)(et.responseText)),tt))return void ze({cMapData:tt,compressionType:He});at(new Error(et.statusText))}},et.send(null)})}}]),ke}(xe);e.DOMCMapReaderFactory=re;var Ae=function(){function $(){Qe(this,$)}return De($,[{key:"create",value:function(ee,ke){(0,s.assert)(ee>0&&ke>0,"Invalid SVG dimensions");var je=document.createElementNS(ve,"svg:svg");return je.setAttribute("version","1.1"),je.setAttribute("width",ee+"px"),je.setAttribute("height",ke+"px"),je.setAttribute("preserveAspectRatio","none"),je.setAttribute("viewBox","0 0 "+ee+" "+ke),je}},{key:"createElement",value:function(ee){return(0,s.assert)(typeof ee=="string","Invalid SVG element type"),document.createElementNS(ve,ee)}}]),$}();e.DOMSVGFactory=Ae;var _=function(){function $(ee){var ke=ee.viewBox,je=ee.scale,He=ee.rotation,qe=ee.offsetX,ze=qe===void 0?0:qe,at=ee.offsetY,et=at===void 0?0:at,tt=ee.dontFlip,Ze=tt!==void 0&&tt;Qe(this,$),this.viewBox=ke,this.scale=je,this.rotation=He,this.offsetX=ze,this.offsetY=et;var st,ut,Je,Ke,Ge,Ye,Xe,rt,ot=(ke[2]+ke[0])/2,it=(ke[3]+ke[1])/2;switch((He%=360)<0&&(He+=360),He){case 180:st=-1,ut=0,Je=0,Ke=1;break;case 90:st=0,ut=1,Je=1,Ke=0;break;case 270:st=0,ut=-1,Je=-1,Ke=0;break;case 0:st=1,ut=0,Je=0,Ke=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ze&&(Je=-Je,Ke=-Ke),st===0?(Ge=Math.abs(it-ke[1])*je+ze,Ye=Math.abs(ot-ke[0])*je+et,Xe=Math.abs(ke[3]-ke[1])*je,rt=Math.abs(ke[2]-ke[0])*je):(Ge=Math.abs(ot-ke[0])*je+ze,Ye=Math.abs(it-ke[1])*je+et,Xe=Math.abs(ke[2]-ke[0])*je,rt=Math.abs(ke[3]-ke[1])*je),this.transform=[st*je,ut*je,Je*je,Ke*je,Ge-st*je*ot-Je*je*it,Ye-ut*je*ot-Ke*je*it],this.width=Xe,this.height=rt}return De($,[{key:"clone",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=ee.scale,je=ke===void 0?this.scale:ke,He=ee.rotation,qe=He===void 0?this.rotation:He,ze=ee.offsetX,at=ze===void 0?this.offsetX:ze,et=ee.offsetY,tt=et===void 0?this.offsetY:et,Ze=ee.dontFlip,st=Ze!==void 0&&Ze;return new $({viewBox:this.viewBox.slice(),scale:je,rotation:qe,offsetX:at,offsetY:tt,dontFlip:st})}},{key:"convertToViewportPoint",value:function(ee,ke){return s.Util.applyTransform([ee,ke],this.transform)}},{key:"convertToViewportRectangle",value:function(ee){var ke=s.Util.applyTransform([ee[0],ee[1]],this.transform),je=s.Util.applyTransform([ee[2],ee[3]],this.transform);return[ke[0],ke[1],je[0],je[1]]}},{key:"convertToPdfPoint",value:function(ee,ke){return s.Util.applyInverseTransform([ee,ke],this.transform)}}]),$}();e.PageViewport=_;var d=function($){Se(ke,$);var ee=Le(ke);function ke(je,He){var qe;return Qe(this,ke),(qe=ee.call(this,je)).type=He,qe}return ke}(s.BaseException);e.RenderingCancelledException=d;var g={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function de($){for(var ee=$.length,ke=0;ke<ee&&$[ke].trim()==="";)ke++;return $.substring(ke,ke+5).toLowerCase()==="data:"}e.LinkTarget=g;var m,Oe=function(){function $(){Qe(this,$),this.started=Object.create(null),this.times=[]}return De($,[{key:"time",value:function(ee){ee in this.started&&(0,s.warn)("Timer is already running for ".concat(ee)),this.started[ee]=Date.now()}},{key:"timeEnd",value:function(ee){ee in this.started||(0,s.warn)("Timer has not been started for ".concat(ee)),this.times.push({name:ee,start:this.started[ee],end:Date.now()}),delete this.started[ee]}},{key:"toString",value:function(){var ee,ke=[],je=0,He=u(this.times);try{for(He.s();!(ee=He.n()).done;){var qe=ee.value.name;qe.length>je&&(je=qe.length)}}catch(Ze){He.e(Ze)}finally{He.f()}var ze,at=u(this.times);try{for(at.s();!(ze=at.n()).done;){var et=ze.value,tt=et.end-et.start;ke.push("".concat(et.name.padEnd(je)," ").concat(tt,`ms
`))}}catch(Ze){at.e(Ze)}finally{at.f()}return ke.join("")}}]),$}();function Be(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&typeof ReadableStream<"u"}function Me($,ee){try{var ke=(ee?new URL($,ee):new URL($)).protocol;return ke==="http:"||ke==="https:"}catch{return!1}}e.StatTimer=Oe;var Fe=function(){function $(){Qe(this,$)}return De($,null,[{key:"toDateObject",value:function(ee){if(!ee||!(0,s.isString)(ee))return null;m||(m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var ke=m.exec(ee);if(!ke)return null;var je=parseInt(ke[1],10),He=parseInt(ke[2],10);He=He>=1&&He<=12?He-1:0;var qe=parseInt(ke[3],10);qe=qe>=1&&qe<=31?qe:1;var ze=parseInt(ke[4],10);ze=ze>=0&&ze<=23?ze:0;var at=parseInt(ke[5],10);at=at>=0&&at<=59?at:0;var et=parseInt(ke[6],10);et=et>=0&&et<=59?et:0;var tt=ke[7]||"Z",Ze=parseInt(ke[8],10);Ze=Ze>=0&&Ze<=23?Ze:0;var st=parseInt(ke[9],10)||0;return st=st>=0&&st<=59?st:0,tt==="-"?(ze+=Ze,at+=st):tt==="+"&&(ze-=Ze,at-=st),new Date(Date.UTC(je,He,qe,ze,at,et))}}]),$}();e.PDFDateString=Fe},(t,e,n)=>{t.exports=n(3)},(t,e,n)=>{function a(o){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a(o)}var i=function(o){var s,u=Object.prototype,c=u.hasOwnProperty,f=typeof Symbol=="function"?Symbol:{},L=f.iterator||"@@iterator",Se=f.asyncIterator||"@@asyncIterator",ge=f.toStringTag||"@@toStringTag";function Le(ee,ke,je){return Object.defineProperty(ee,ke,{value:je,enumerable:!0,configurable:!0,writable:!0}),ee[ke]}try{Le({},"")}catch{Le=function(ke,je,He){return ke[je]=He}}function We(ee,ke,je,He){var qe=ke&&ke.prototype instanceof Ce?ke:Ce,ze=Object.create(qe.prototype),at=new Me(He||[]);return ze._invoke=function(et,tt,Ze){var st=Qe;return function(ut,Je){if(st===De)throw new Error("Generator is already running");if(st===we){if(ut==="throw")throw Je;return $()}for(Ze.method=ut,Ze.arg=Je;;){var Ke=Ze.delegate;if(Ke){var Ge=m(Ke,Ze);if(Ge){if(Ge===ve)continue;return Ge}}if(Ze.method==="next")Ze.sent=Ze._sent=Ze.arg;else if(Ze.method==="throw"){if(st===Qe)throw st=we,Ze.arg;Ze.dispatchException(Ze.arg)}else Ze.method==="return"&&Ze.abrupt("return",Ze.arg);st=De;var Ye=$e(et,tt,Ze);if(Ye.type==="normal"){if(st=Ze.done?we:Ue,Ye.arg===ve)continue;return{value:Ye.arg,done:Ze.done}}Ye.type==="throw"&&(st=we,Ze.method="throw",Ze.arg=Ye.arg)}}}(ee,je,at),ze}function $e(ee,ke,je){try{return{type:"normal",arg:ee.call(ke,je)}}catch(He){return{type:"throw",arg:He}}}o.wrap=We;var Qe="suspendedStart",Ue="suspendedYield",De="executing",we="completed",ve={};function Ce(){}function Ee(){}function xe(){}var re={};re[L]=function(){return this};var Ae=Object.getPrototypeOf,_=Ae&&Ae(Ae(Fe([])));_&&_!==u&&c.call(_,L)&&(re=_);var d=xe.prototype=Ce.prototype=Object.create(re);function g(ee){["next","throw","return"].forEach(function(ke){Le(ee,ke,function(je){return this._invoke(ke,je)})})}function de(ee,ke){function je(qe,ze,at,et){var tt=$e(ee[qe],ee,ze);if(tt.type!=="throw"){var Ze=tt.arg,st=Ze.value;return st&&a(st)==="object"&&c.call(st,"__await")?ke.resolve(st.__await).then(function(ut){je("next",ut,at,et)},function(ut){je("throw",ut,at,et)}):ke.resolve(st).then(function(ut){Ze.value=ut,at(Ze)},function(ut){return je("throw",ut,at,et)})}et(tt.arg)}var He;this._invoke=function(qe,ze){function at(){return new ke(function(et,tt){je(qe,ze,et,tt)})}return He=He?He.then(at,at):at()}}function m(ee,ke){var je=ee.iterator[ke.method];if(je===s){if(ke.delegate=null,ke.method==="throw"){if(ee.iterator.return&&(ke.method="return",ke.arg=s,m(ee,ke),ke.method==="throw"))return ve;ke.method="throw",ke.arg=new TypeError("The iterator does not provide a 'throw' method")}return ve}var He=$e(je,ee.iterator,ke.arg);if(He.type==="throw")return ke.method="throw",ke.arg=He.arg,ke.delegate=null,ve;var qe=He.arg;return qe?qe.done?(ke[ee.resultName]=qe.value,ke.next=ee.nextLoc,ke.method!=="return"&&(ke.method="next",ke.arg=s),ke.delegate=null,ve):qe:(ke.method="throw",ke.arg=new TypeError("iterator result is not an object"),ke.delegate=null,ve)}function Oe(ee){var ke={tryLoc:ee[0]};1 in ee&&(ke.catchLoc=ee[1]),2 in ee&&(ke.finallyLoc=ee[2],ke.afterLoc=ee[3]),this.tryEntries.push(ke)}function Be(ee){var ke=ee.completion||{};ke.type="normal",delete ke.arg,ee.completion=ke}function Me(ee){this.tryEntries=[{tryLoc:"root"}],ee.forEach(Oe,this),this.reset(!0)}function Fe(ee){if(ee){var ke=ee[L];if(ke)return ke.call(ee);if(typeof ee.next=="function")return ee;if(!isNaN(ee.length)){var je=-1,He=function qe(){for(;++je<ee.length;)if(c.call(ee,je))return qe.value=ee[je],qe.done=!1,qe;return qe.value=s,qe.done=!0,qe};return He.next=He}}return{next:$}}function $(){return{value:s,done:!0}}return Ee.prototype=d.constructor=xe,xe.constructor=Ee,Ee.displayName=Le(xe,ge,"GeneratorFunction"),o.isGeneratorFunction=function(ee){var ke=typeof ee=="function"&&ee.constructor;return!!ke&&(ke===Ee||(ke.displayName||ke.name)==="GeneratorFunction")},o.mark=function(ee){return Object.setPrototypeOf?Object.setPrototypeOf(ee,xe):(ee.__proto__=xe,Le(ee,ge,"GeneratorFunction")),ee.prototype=Object.create(d),ee},o.awrap=function(ee){return{__await:ee}},g(de.prototype),de.prototype[Se]=function(){return this},o.AsyncIterator=de,o.async=function(ee,ke,je,He,qe){qe===void 0&&(qe=Promise);var ze=new de(We(ee,ke,je,He),qe);return o.isGeneratorFunction(ke)?ze:ze.next().then(function(at){return at.done?at.value:ze.next()})},g(d),Le(d,ge,"Generator"),d[L]=function(){return this},d.toString=function(){return"[object Generator]"},o.keys=function(ee){var ke=[];for(var je in ee)ke.push(je);return ke.reverse(),function He(){for(;ke.length;){var qe=ke.pop();if(qe in ee)return He.value=qe,He.done=!1,He}return He.done=!0,He}},o.values=Fe,Me.prototype={constructor:Me,reset:function(ee){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(Be),!ee)for(var ke in this)ke.charAt(0)==="t"&&c.call(this,ke)&&!isNaN(+ke.slice(1))&&(this[ke]=s)},stop:function(){this.done=!0;var ee=this.tryEntries[0].completion;if(ee.type==="throw")throw ee.arg;return this.rval},dispatchException:function(ee){if(this.done)throw ee;var ke=this;function je(tt,Ze){return ze.type="throw",ze.arg=ee,ke.next=tt,Ze&&(ke.method="next",ke.arg=s),!!Ze}for(var He=this.tryEntries.length-1;He>=0;--He){var qe=this.tryEntries[He],ze=qe.completion;if(qe.tryLoc==="root")return je("end");if(qe.tryLoc<=this.prev){var at=c.call(qe,"catchLoc"),et=c.call(qe,"finallyLoc");if(at&&et){if(this.prev<qe.catchLoc)return je(qe.catchLoc,!0);if(this.prev<qe.finallyLoc)return je(qe.finallyLoc)}else if(at){if(this.prev<qe.catchLoc)return je(qe.catchLoc,!0)}else{if(!et)throw new Error("try statement without catch or finally");if(this.prev<qe.finallyLoc)return je(qe.finallyLoc)}}}},abrupt:function(ee,ke){for(var je=this.tryEntries.length-1;je>=0;--je){var He=this.tryEntries[je];if(He.tryLoc<=this.prev&&c.call(He,"finallyLoc")&&this.prev<He.finallyLoc){var qe=He;break}}qe&&(ee==="break"||ee==="continue")&&qe.tryLoc<=ke&&ke<=qe.finallyLoc&&(qe=null);var ze=qe?qe.completion:{};return ze.type=ee,ze.arg=ke,qe?(this.method="next",this.next=qe.finallyLoc,ve):this.complete(ze)},complete:function(ee,ke){if(ee.type==="throw")throw ee.arg;return ee.type==="break"||ee.type==="continue"?this.next=ee.arg:ee.type==="return"?(this.rval=this.arg=ee.arg,this.method="return",this.next="end"):ee.type==="normal"&&ke&&(this.next=ke),ve},finish:function(ee){for(var ke=this.tryEntries.length-1;ke>=0;--ke){var je=this.tryEntries[ke];if(je.finallyLoc===ee)return this.complete(je.completion,je.afterLoc),Be(je),ve}},catch:function(ee){for(var ke=this.tryEntries.length-1;ke>=0;--ke){var je=this.tryEntries[ke];if(je.tryLoc===ee){var He=je.completion;if(He.type==="throw"){var qe=He.arg;Be(je)}return qe}}throw new Error("illegal catch attempt")},delegateYield:function(ee,ke,je){return this.delegate={iterator:Fe(ee),resultName:ke,nextLoc:je},this.method==="next"&&(this.arg=s),ve}},o}(a(t=n.nmd(t))==="object"?t.exports:{});try{regeneratorRuntime=i}catch{Function("r","regeneratorRuntime = r")(i)}},(t,e,n)=>{function a(ee,ke){for(var je=0;je<ke.length;je++){var He=ke[je];He.enumerable=He.enumerable||!1,He.configurable=!0,"value"in He&&(He.writable=!0),Object.defineProperty(ee,He.key,He)}}function i(ee,ke){if(ee){if(typeof ee=="string")return o(ee,ke);var je=Object.prototype.toString.call(ee).slice(8,-1);return je==="Object"&&ee.constructor&&(je=ee.constructor.name),je==="Map"||je==="Set"?Array.from(ee):je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(je)?o(ee,ke):void 0}}function o(ee,ke){(ke==null||ke>ee.length)&&(ke=ee.length);for(var je=0,He=new Array(ke);je<ke;je++)He[je]=ee[je];return He}function s(ee){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ke){return typeof ke}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke},s(ee)}function u(ee,ke){if(!(ee instanceof ke))throw new TypeError("Cannot call a class as a function")}function c(ee,ke){if(typeof ke!="function"&&ke!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(ke&&ke.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),ke&&f(ee,ke)}function f(ee,ke){return f=Object.setPrototypeOf||function(je,He){return je.__proto__=He,je},f(ee,ke)}function L(ee){var ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,He=ge(ee);if(ke){var qe=ge(this).constructor;je=Reflect.construct(He,arguments,qe)}else je=He.apply(this,arguments);return Se(this,je)}}function Se(ee,ke){return!ke||s(ke)!=="object"&&typeof ke!="function"?function(je){if(je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return je}(ee):ke}function ge(ee){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(ke){return ke.__proto__||Object.getPrototypeOf(ke)},ge(ee)}Object.defineProperty(e,"__esModule",{value:!0}),e.arrayByteLength=de,e.arraysToBytes=function(ee){var ke=ee.length;if(ke===1&&ee[0]instanceof Uint8Array)return ee[0];for(var je=0,He=0;He<ke;He++)je+=de(ee[He]);for(var qe=0,ze=new Uint8Array(je),at=0;at<ke;at++){var et=ee[at];et instanceof Uint8Array||(et=typeof et=="string"?g(et):new Uint8Array(et));var tt=et.byteLength;ze.set(et,qe),qe+=tt}return ze},e.assert=Ue,e.bytesToString=function(ee){Ue(ee!==null&&s(ee)==="object"&&ee.length!==void 0,"Invalid argument for bytesToString");var ke=ee.length,je=8192;if(ke<je)return String.fromCharCode.apply(null,ee);for(var He=[],qe=0;qe<ke;qe+=je){var ze=Math.min(qe+je,ke),at=ee.subarray(qe,ze);He.push(String.fromCharCode.apply(null,at))}return He.join("")},e.createObjectURL=function(ee){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",je=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(URL.createObjectURL&&!je)return URL.createObjectURL(new Blob([ee],{type:ke}));for(var He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",qe="data:".concat(ke,";base64,"),ze=0,at=ee.length;ze<at;ze+=3){var et=255&ee[ze],tt=255&ee[ze+1],Ze=255&ee[ze+2],st=et>>2,ut=(3&et)<<4|tt>>4,Je=ze+1<at?(15&tt)<<2|Ze>>6:64,Ke=ze+2<at?63&Ze:64;qe+=He[st]+He[ut]+He[Je]+He[Ke]}return qe},e.createPromiseCapability=function(){var ee=Object.create(null),ke=!1;return Object.defineProperty(ee,"settled",{get:function(){return ke}}),ee.promise=new Promise(function(je,He){ee.resolve=function(qe){ke=!0,je(qe)},ee.reject=function(qe){ke=!0,He(qe)}}),ee},e.createValidAbsoluteUrl=function(ee,ke){if(!ee)return null;try{var je=ke?new URL(ee,ke):new URL(ee);if(function(He){if(!He)return!1;switch(He.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(je))return je}catch{}return null},e.escapeString=function(ee){return ee.replace(/([()\\\n\r])/g,function(ke){return ke===`
`?"\\n":ke==="\r"?"\\r":"\\".concat(ke)})},e.getModificationDate=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date,ke=[ee.getUTCFullYear().toString(),(ee.getUTCMonth()+1).toString().padStart(2,"0"),ee.getUTCDate().toString().padStart(2,"0"),ee.getUTCHours().toString().padStart(2,"0"),ee.getUTCMinutes().toString().padStart(2,"0"),ee.getUTCSeconds().toString().padStart(2,"0")];return ke.join("")},e.getVerbosityLevel=function(){return We},e.info=function(ee){We>=Le.INFOS&&console.log("Info: ".concat(ee))},e.isArrayBuffer=function(ee){return s(ee)==="object"&&ee!==null&&ee.byteLength!==void 0},e.isArrayEqual=function(ee,ke){if(ee.length!==ke.length)return!1;for(var je=0,He=ee.length;je<He;je++)if(ee[je]!==ke[je])return!1;return!0},e.isAscii=function(ee){return/^[\x00-\x7F]*$/.test(ee)},e.isBool=function(ee){return typeof ee=="boolean"},e.isNum=function(ee){return typeof ee=="number"},e.isSameOrigin=function(ee,ke){var je;try{if(!(je=new URL(ee)).origin||je.origin==="null")return!1}catch{return!1}var He=new URL(ke,je);return je.origin===He.origin},e.isString=function(ee){return typeof ee=="string"},e.objectFromMap=function(ee){var ke,je,He,qe=Object.create(null),ze=function(Ze,st){var ut=typeof Symbol<"u"&&Ze[Symbol.iterator]||Ze["@@iterator"];if(!ut){if(Array.isArray(Ze)||(ut=i(Ze))||st&&Ze&&typeof Ze.length=="number"){ut&&(Ze=ut);var Je=0,Ke=function(){};return{s:Ke,n:function(){return Je>=Ze.length?{done:!0}:{done:!1,value:Ze[Je++]}},e:function(rt){throw rt},f:Ke}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ge,Ye=!0,Xe=!1;return{s:function(){ut=ut.call(Ze)},n:function(){var rt=ut.next();return Ye=rt.done,rt},e:function(rt){Xe=!0,Ge=rt},f:function(){try{Ye||ut.return==null||ut.return()}finally{if(Xe)throw Ge}}}}(ee);try{for(ze.s();!(ke=ze.n()).done;){var at=(je=ke.value,He=2,function(Ze){if(Array.isArray(Ze))return Ze}(je)||function(Ze,st){var ut=Ze&&(typeof Symbol<"u"&&Ze[Symbol.iterator]||Ze["@@iterator"]);if(ut!=null){var Je,Ke,Ge=[],Ye=!0,Xe=!1;try{for(ut=ut.call(Ze);!(Ye=(Je=ut.next()).done)&&(Ge.push(Je.value),!st||Ge.length!==st);Ye=!0);}catch(rt){Xe=!0,Ke=rt}finally{try{Ye||ut.return==null||ut.return()}finally{if(Xe)throw Ke}}return Ge}}(je,He)||i(je,He)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),et=at[0],tt=at[1];qe[et]=tt}}catch(Ze){ze.e(Ze)}finally{ze.f()}return qe},e.objectSize=function(ee){return Object.keys(ee).length},e.removeNullCharacters=function(ee){return typeof ee!="string"?($e("The argument for removeNullCharacters must be a string."),ee):ee.replace(d,"")},e.setVerbosityLevel=function(ee){Number.isInteger(ee)&&(We=ee)},e.shadow=De,e.string32=function(ee){return String.fromCharCode(ee>>24&255,ee>>16&255,ee>>8&255,255&ee)},e.stringToBytes=g,e.stringToPDFString=function(ee){var ke=ee.length,je=[];if(ee[0]===""&&ee[1]==="")for(var He=2;He<ke;He+=2)je.push(String.fromCharCode(ee.charCodeAt(He)<<8|ee.charCodeAt(He+1)));else if(ee[0]===""&&ee[1]==="")for(var qe=2;qe<ke;qe+=2)je.push(String.fromCharCode(ee.charCodeAt(qe+1)<<8|ee.charCodeAt(qe)));else for(var ze=0;ze<ke;++ze){var at=$[ee.charCodeAt(ze)];je.push(at?String.fromCharCode(at):ee.charAt(ze))}return je.join("")},e.stringToUTF16BEString=function(ee){for(var ke=[""],je=0,He=ee.length;je<He;je++){var qe=ee.charCodeAt(je);ke.push(String.fromCharCode(qe>>8&255),String.fromCharCode(255&qe))}return ke.join("")},e.stringToUTF8String=function(ee){return decodeURIComponent(escape(ee))},e.unreachable=Qe,e.utf8StringToString=function(ee){return unescape(encodeURIComponent(ee))},e.warn=$e,e.VerbosityLevel=e.Util=e.UNSUPPORTED_FEATURES=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.StreamType=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.IsLittleEndianCached=e.IsEvalSupportedCached=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,n(5),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},e.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},e.PageActionEventType={O:"PageOpen",C:"PageClose"},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var Le={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=Le,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var We=Le.WARNINGS;function $e(ee){We>=Le.WARNINGS&&console.log("Warning: ".concat(ee))}function Qe(ee){throw new Error(ee)}function Ue(ee,ke){ee||Qe(ke)}function De(ee,ke,je){return Object.defineProperty(ee,ke,{value:je,enumerable:!0,configurable:!0,writable:!1}),je}var we=function(){function ee(ke){this.constructor===ee&&Qe("Cannot initialize BaseException."),this.message=ke,this.name=this.constructor.name}return ee.prototype=new Error,ee.constructor=ee,ee}();e.BaseException=we;var ve=function(ee){c(je,ee);var ke=L(je);function je(He,qe){var ze;return u(this,je),(ze=ke.call(this,He)).code=qe,ze}return je}(we);e.PasswordException=ve;var Ce=function(ee){c(je,ee);var ke=L(je);function je(He,qe){var ze;return u(this,je),(ze=ke.call(this,He)).details=qe,ze}return je}(we);e.UnknownErrorException=Ce;var Ee=function(ee){c(je,ee);var ke=L(je);function je(){return u(this,je),ke.apply(this,arguments)}return je}(we);e.InvalidPDFException=Ee;var xe=function(ee){c(je,ee);var ke=L(je);function je(){return u(this,je),ke.apply(this,arguments)}return je}(we);e.MissingPDFException=xe;var re=function(ee){c(je,ee);var ke=L(je);function je(He,qe){var ze;return u(this,je),(ze=ke.call(this,He)).status=qe,ze}return je}(we);e.UnexpectedResponseException=re;var Ae=function(ee){c(je,ee);var ke=L(je);function je(){return u(this,je),ke.apply(this,arguments)}return je}(we);e.FormatError=Ae;var _=function(ee){c(je,ee);var ke=L(je);function je(){return u(this,je),ke.apply(this,arguments)}return je}(we);e.AbortException=_;var d=/\x00/g;function g(ee){Ue(typeof ee=="string","Invalid argument for stringToBytes");for(var ke=ee.length,je=new Uint8Array(ke),He=0;He<ke;++He)je[He]=255&ee.charCodeAt(He);return je}function de(ee){return ee.length!==void 0?ee.length:(Ue(ee.byteLength!==void 0,"arrayByteLength - invalid argument."),ee.byteLength)}var m={get value(){return De(this,"value",((ee=new Uint8Array(4))[0]=1,new Uint32Array(ee.buffer,0,1)[0]===1));var ee}};e.IsLittleEndianCached=m;var Oe={get value(){return De(this,"value",function(){try{return new Function(""),!0}catch{return!1}}())}};e.IsEvalSupportedCached=Oe;var Be,Me=(Be=Array(256).keys(),function(ee){if(Array.isArray(ee))return o(ee)}(Be)||function(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}(Be)||i(Be)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(ee){return ee.toString(16).padStart(2,"0")}),Fe=function(){function ee(){u(this,ee)}var ke,je,He;return ke=ee,He=[{key:"makeHexColor",value:function(qe,ze,at){return"#".concat(Me[qe]).concat(Me[ze]).concat(Me[at])}},{key:"transform",value:function(qe,ze){return[qe[0]*ze[0]+qe[2]*ze[1],qe[1]*ze[0]+qe[3]*ze[1],qe[0]*ze[2]+qe[2]*ze[3],qe[1]*ze[2]+qe[3]*ze[3],qe[0]*ze[4]+qe[2]*ze[5]+qe[4],qe[1]*ze[4]+qe[3]*ze[5]+qe[5]]}},{key:"applyTransform",value:function(qe,ze){return[qe[0]*ze[0]+qe[1]*ze[2]+ze[4],qe[0]*ze[1]+qe[1]*ze[3]+ze[5]]}},{key:"applyInverseTransform",value:function(qe,ze){var at=ze[0]*ze[3]-ze[1]*ze[2];return[(qe[0]*ze[3]-qe[1]*ze[2]+ze[2]*ze[5]-ze[4]*ze[3])/at,(-qe[0]*ze[1]+qe[1]*ze[0]+ze[4]*ze[1]-ze[5]*ze[0])/at]}},{key:"getAxialAlignedBoundingBox",value:function(qe,ze){var at=ee.applyTransform(qe,ze),et=ee.applyTransform(qe.slice(2,4),ze),tt=ee.applyTransform([qe[0],qe[3]],ze),Ze=ee.applyTransform([qe[2],qe[1]],ze);return[Math.min(at[0],et[0],tt[0],Ze[0]),Math.min(at[1],et[1],tt[1],Ze[1]),Math.max(at[0],et[0],tt[0],Ze[0]),Math.max(at[1],et[1],tt[1],Ze[1])]}},{key:"inverseTransform",value:function(qe){var ze=qe[0]*qe[3]-qe[1]*qe[2];return[qe[3]/ze,-qe[1]/ze,-qe[2]/ze,qe[0]/ze,(qe[2]*qe[5]-qe[4]*qe[3])/ze,(qe[4]*qe[1]-qe[5]*qe[0])/ze]}},{key:"apply3dTransform",value:function(qe,ze){return[qe[0]*ze[0]+qe[1]*ze[1]+qe[2]*ze[2],qe[3]*ze[0]+qe[4]*ze[1]+qe[5]*ze[2],qe[6]*ze[0]+qe[7]*ze[1]+qe[8]*ze[2]]}},{key:"singularValueDecompose2dScale",value:function(qe){var ze=[qe[0],qe[2],qe[1],qe[3]],at=qe[0]*ze[0]+qe[1]*ze[2],et=qe[0]*ze[1]+qe[1]*ze[3],tt=qe[2]*ze[0]+qe[3]*ze[2],Ze=qe[2]*ze[1]+qe[3]*ze[3],st=(at+Ze)/2,ut=Math.sqrt(Math.pow(at+Ze,2)-4*(at*Ze-tt*et))/2,Je=st+ut||1,Ke=st-ut||1;return[Math.sqrt(Je),Math.sqrt(Ke)]}},{key:"normalizeRect",value:function(qe){var ze=qe.slice(0);return qe[0]>qe[2]&&(ze[0]=qe[2],ze[2]=qe[0]),qe[1]>qe[3]&&(ze[1]=qe[3],ze[3]=qe[1]),ze}},{key:"intersect",value:function(qe,ze){function at(st,ut){return st-ut}var et=[qe[0],qe[2],ze[0],ze[2]].sort(at),tt=[qe[1],qe[3],ze[1],ze[3]].sort(at),Ze=[];return qe=ee.normalizeRect(qe),ze=ee.normalizeRect(ze),et[0]===qe[0]&&et[1]===ze[0]||et[0]===ze[0]&&et[1]===qe[0]?(Ze[0]=et[1],Ze[2]=et[2],tt[0]===qe[1]&&tt[1]===ze[1]||tt[0]===ze[1]&&tt[1]===qe[1]?(Ze[1]=tt[1],Ze[3]=tt[2],Ze):null):null}}],(je=null)&&a(ke.prototype,je),He&&a(ke,He),ee}();e.Util=Fe;var $=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]},(t,e,n)=>{var a=n(6);typeof globalThis<"u"&&globalThis._pdfjsCompatibilityChecked||(typeof globalThis<"u"&&globalThis.Math===Math||(globalThis=n(7)),globalThis._pdfjsCompatibilityChecked=!0,!globalThis.btoa&&a.isNodeJS&&(globalThis.btoa=function(i){return Buffer.from(i,"binary").toString("base64")}),!globalThis.atob&&a.isNodeJS&&(globalThis.atob=function(i){return Buffer.from(i,"base64").toString("binary")}),Object.fromEntries||n(53),globalThis.Promise.allSettled||(globalThis.Promise=n(84)),function(){var i=!1;if(typeof ReadableStream<"u")try{new ReadableStream({start:function(o){o.close()}}),i=!0}catch{}i||(globalThis.ReadableStream=n(112).ReadableStream)}())},(t,e)=>{function n(i){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},n(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;var a=!((typeof process>"u"?"undefined":n(process))!=="object"||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=a},(t,e,n)=>{n(8),t.exports=n(10)},(t,e,n)=>{n(9)({global:!0},{globalThis:n(10)})},(t,e,n)=>{var a=n(10),i=n(11).f,o=n(26),s=n(29),u=n(30),c=n(40),f=n(52);t.exports=function(L,Se){var ge,Le,We,$e,Qe,Ue=L.target,De=L.global,we=L.stat;if(ge=De?a:we?a[Ue]||u(Ue,{}):(a[Ue]||{}).prototype)for(Le in Se){if($e=Se[Le],We=L.noTargetGet?(Qe=i(ge,Le))&&Qe.value:ge[Le],!f(De?Le:Ue+(we?".":"#")+Le,L.forced)&&We!==void 0){if(typeof $e==typeof We)continue;c($e,We)}(L.sham||We&&We.sham)&&o($e,"sham",!0),s(ge,Le,$e,L)}}},t=>{var e=function(n){return n&&n.Math==Math&&n};t.exports=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof __webpack_require__.g=="object"&&__webpack_require__.g)||function(){return this}()||Function("return this")()},(t,e,n)=>{var a=n(12),i=n(14),o=n(15),s=n(16),u=n(20),c=n(22),f=n(24),L=Object.getOwnPropertyDescriptor;e.f=a?L:function(Se,ge){if(Se=s(Se),ge=u(ge,!0),f)try{return L(Se,ge)}catch{}if(c(Se,ge))return o(!i.f.call(Se,ge),Se[ge])}},(t,e,n)=>{var a=n(13);t.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},t=>{t.exports=function(e){try{return!!e()}catch{return!0}}},(t,e)=>{var n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!n.call({1:2},1);e.f=i?function(o){var s=a(this,o);return!!s&&s.enumerable}:n},t=>{t.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},(t,e,n)=>{var a=n(17),i=n(19);t.exports=function(o){return a(i(o))}},(t,e,n)=>{var a=n(13),i=n(18),o="".split;t.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(s){return i(s)=="String"?o.call(s,""):Object(s)}:Object},t=>{var e={}.toString;t.exports=function(n){return e.call(n).slice(8,-1)}},t=>{t.exports=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e}},(t,e,n)=>{var a=n(21);t.exports=function(i,o){if(!a(i))return i;var s,u;if(o&&typeof(s=i.toString)=="function"&&!a(u=s.call(i))||typeof(s=i.valueOf)=="function"&&!a(u=s.call(i))||!o&&typeof(s=i.toString)=="function"&&!a(u=s.call(i)))return u;throw TypeError("Can't convert object to primitive value")}},t=>{t.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}},(t,e,n)=>{var a=n(23),i={}.hasOwnProperty;t.exports=Object.hasOwn||function(o,s){return i.call(a(o),s)}},(t,e,n)=>{var a=n(19);t.exports=function(i){return Object(a(i))}},(t,e,n)=>{var a=n(12),i=n(13),o=n(25);t.exports=!a&&!i(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!=7})},(t,e,n)=>{var a=n(10),i=n(21),o=a.document,s=i(o)&&i(o.createElement);t.exports=function(u){return s?o.createElement(u):{}}},(t,e,n)=>{var a=n(12),i=n(27),o=n(15);t.exports=a?function(s,u,c){return i.f(s,u,o(1,c))}:function(s,u,c){return s[u]=c,s}},(t,e,n)=>{var a=n(12),i=n(24),o=n(28),s=n(20),u=Object.defineProperty;e.f=a?u:function(c,f,L){if(o(c),f=s(f,!0),o(L),i)try{return u(c,f,L)}catch{}if("get"in L||"set"in L)throw TypeError("Accessors not supported");return"value"in L&&(c[f]=L.value),c}},(t,e,n)=>{var a=n(21);t.exports=function(i){if(!a(i))throw TypeError(String(i)+" is not an object");return i}},(t,e,n)=>{var a=n(10),i=n(26),o=n(22),s=n(30),u=n(31),c=n(33),f=c.get,L=c.enforce,Se=String(String).split("String");(t.exports=function(ge,Le,We,$e){var Qe,Ue=!!$e&&!!$e.unsafe,De=!!$e&&!!$e.enumerable,we=!!$e&&!!$e.noTargetGet;typeof We=="function"&&(typeof Le!="string"||o(We,"name")||i(We,"name",Le),(Qe=L(We)).source||(Qe.source=Se.join(typeof Le=="string"?Le:""))),ge!==a?(Ue?!we&&ge[Le]&&(De=!0):delete ge[Le],De?ge[Le]=We:i(ge,Le,We)):De?ge[Le]=We:s(Le,We)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||u(this)})},(t,e,n)=>{var a=n(10),i=n(26);t.exports=function(o,s){try{i(a,o,s)}catch{a[o]=s}return s}},(t,e,n)=>{var a=n(32),i=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(o){return i.call(o)}),t.exports=a.inspectSource},(t,e,n)=>{var a=n(10),i=n(30),o="__core-js_shared__",s=a[o]||i(o,{});t.exports=s},(t,e,n)=>{var a,i,o,s=n(34),u=n(10),c=n(21),f=n(26),L=n(22),Se=n(32),ge=n(35),Le=n(39),We="Object already initialized",$e=u.WeakMap;if(s||Se.state){var Qe=Se.state||(Se.state=new $e),Ue=Qe.get,De=Qe.has,we=Qe.set;a=function(Ce,Ee){if(De.call(Qe,Ce))throw new TypeError(We);return Ee.facade=Ce,we.call(Qe,Ce,Ee),Ee},i=function(Ce){return Ue.call(Qe,Ce)||{}},o=function(Ce){return De.call(Qe,Ce)}}else{var ve=ge("state");Le[ve]=!0,a=function(Ce,Ee){if(L(Ce,ve))throw new TypeError(We);return Ee.facade=Ce,f(Ce,ve,Ee),Ee},i=function(Ce){return L(Ce,ve)?Ce[ve]:{}},o=function(Ce){return L(Ce,ve)}}t.exports={set:a,get:i,has:o,enforce:function(Ce){return o(Ce)?i(Ce):a(Ce,{})},getterFor:function(Ce){return function(Ee){var xe;if(!c(Ee)||(xe=i(Ee)).type!==Ce)throw TypeError("Incompatible receiver, "+Ce+" required");return xe}}}},(t,e,n)=>{var a=n(10),i=n(31),o=a.WeakMap;t.exports=typeof o=="function"&&/native code/.test(i(o))},(t,e,n)=>{var a=n(36),i=n(38),o=a("keys");t.exports=function(s){return o[s]||(o[s]=i(s))}},(t,e,n)=>{var a=n(37),i=n(32);(t.exports=function(o,s){return i[o]||(i[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.13.1",mode:a?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},t=>{t.exports=!1},t=>{var e=0,n=Math.random();t.exports=function(a){return"Symbol("+String(a===void 0?"":a)+")_"+(++e+n).toString(36)}},t=>{t.exports={}},(t,e,n)=>{var a=n(22),i=n(41),o=n(11),s=n(27);t.exports=function(u,c){for(var f=i(c),L=s.f,Se=o.f,ge=0;ge<f.length;ge++){var Le=f[ge];a(u,Le)||L(u,Le,Se(c,Le))}}},(t,e,n)=>{var a=n(42),i=n(44),o=n(51),s=n(28);t.exports=a("Reflect","ownKeys")||function(u){var c=i.f(s(u)),f=o.f;return f?c.concat(f(u)):c}},(t,e,n)=>{var a=n(43),i=n(10),o=function(s){return typeof s=="function"?s:void 0};t.exports=function(s,u){return arguments.length<2?o(a[s])||o(i[s]):a[s]&&a[s][u]||i[s]&&i[s][u]}},(t,e,n)=>{var a=n(10);t.exports=a},(t,e,n)=>{var a=n(45),i=n(50).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(o){return a(o,i)}},(t,e,n)=>{var a=n(22),i=n(16),o=n(46).indexOf,s=n(39);t.exports=function(u,c){var f,L=i(u),Se=0,ge=[];for(f in L)!a(s,f)&&a(L,f)&&ge.push(f);for(;c.length>Se;)a(L,f=c[Se++])&&(~o(ge,f)||ge.push(f));return ge}},(t,e,n)=>{var a=n(16),i=n(47),o=n(49),s=function(u){return function(c,f,L){var Se,ge=a(c),Le=i(ge.length),We=o(L,Le);if(u&&f!=f){for(;Le>We;)if((Se=ge[We++])!=Se)return!0}else for(;Le>We;We++)if((u||We in ge)&&ge[We]===f)return u||We||0;return!u&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},(t,e,n)=>{var a=n(48),i=Math.min;t.exports=function(o){return o>0?i(a(o),9007199254740991):0}},t=>{var e=Math.ceil,n=Math.floor;t.exports=function(a){return isNaN(a=+a)?0:(a>0?n:e)(a)}},(t,e,n)=>{var a=n(48),i=Math.max,o=Math.min;t.exports=function(s,u){var c=a(s);return c<0?i(c+u,0):o(c,u)}},t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(t,e)=>{e.f=Object.getOwnPropertySymbols},(t,e,n)=>{var a=n(13),i=/#|\.prototype\./,o=function(L,Se){var ge=u[s(L)];return ge==f||ge!=c&&(typeof Se=="function"?a(Se):!!Se)},s=o.normalize=function(L){return String(L).replace(i,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",f=o.POLYFILL="P";t.exports=o},(t,e,n)=>{n(54),n(74);var a=n(43);t.exports=a.Object.fromEntries},(t,e,n)=>{var a=n(16),i=n(55),o=n(65),s=n(33),u=n(66),c="Array Iterator",f=s.set,L=s.getterFor(c);t.exports=u(Array,"Array",function(Se,ge){f(this,{type:c,target:a(Se),index:0,kind:ge})},function(){var Se=L(this),ge=Se.target,Le=Se.kind,We=Se.index++;return!ge||We>=ge.length?(Se.target=void 0,{value:void 0,done:!0}):Le=="keys"?{value:We,done:!1}:Le=="values"?{value:ge[We],done:!1}:{value:[We,ge[We]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},(t,e,n)=>{var a=n(56),i=n(61),o=n(27),s=a("unscopables"),u=Array.prototype;u[s]==null&&o.f(u,s,{configurable:!0,value:i(null)}),t.exports=function(c){u[s][c]=!0}},(t,e,n)=>{var a=n(10),i=n(36),o=n(22),s=n(38),u=n(57),c=n(60),f=i("wks"),L=a.Symbol,Se=c?L:L&&L.withoutSetter||s;t.exports=function(ge){return o(f,ge)&&(u||typeof f[ge]=="string")||(u&&o(L,ge)?f[ge]=L[ge]:f[ge]=Se("Symbol."+ge)),f[ge]}},(t,e,n)=>{var a=n(58),i=n(13);t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var o=Symbol();return!String(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&a&&a<41})},(t,e,n)=>{var a,i,o=n(10),s=n(59),u=o.process,c=u&&u.versions,f=c&&c.v8;f?i=(a=f.split("."))[0]<4?1:a[0]+a[1]:s&&(!(a=s.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=s.match(/Chrome\/(\d+)/))&&(i=a[1]),t.exports=i&&+i},(t,e,n)=>{var a=n(42);t.exports=a("navigator","userAgent")||""},(t,e,n)=>{var a=n(57);t.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(t,e,n)=>{var a,i=n(28),o=n(62),s=n(50),u=n(39),c=n(64),f=n(25),L=n(35),Se=L("IE_PROTO"),ge=function(){},Le=function($e){return"<script>"+$e+"<\/script>"},We=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch{}var $e,Qe;We=a?function(De){De.write(Le("")),De.close();var we=De.parentWindow.Object;return De=null,we}(a):((Qe=f("iframe")).style.display="none",c.appendChild(Qe),Qe.src="javascript:",($e=Qe.contentWindow.document).open(),$e.write(Le("document.F=Object")),$e.close(),$e.F);for(var Ue=s.length;Ue--;)delete We.prototype[s[Ue]];return We()};u[Se]=!0,t.exports=Object.create||function($e,Qe){var Ue;return $e!==null?(ge.prototype=i($e),Ue=new ge,ge.prototype=null,Ue[Se]=$e):Ue=We(),Qe===void 0?Ue:o(Ue,Qe)}},(t,e,n)=>{var a=n(12),i=n(27),o=n(28),s=n(63);t.exports=a?Object.defineProperties:function(u,c){o(u);for(var f,L=s(c),Se=L.length,ge=0;Se>ge;)i.f(u,f=L[ge++],c[f]);return u}},(t,e,n)=>{var a=n(45),i=n(50);t.exports=Object.keys||function(o){return a(o,i)}},(t,e,n)=>{var a=n(42);t.exports=a("document","documentElement")},t=>{t.exports={}},(t,e,n)=>{var a=n(9),i=n(67),o=n(69),s=n(72),u=n(71),c=n(26),f=n(29),L=n(56),Se=n(37),ge=n(65),Le=n(68),We=Le.IteratorPrototype,$e=Le.BUGGY_SAFARI_ITERATORS,Qe=L("iterator"),Ue="keys",De="values",we="entries",ve=function(){return this};t.exports=function(Ce,Ee,xe,re,Ae,_,d){i(xe,Ee,re);var g,de,m,Oe=function(je){if(je===Ae&&ee)return ee;if(!$e&&je in Fe)return Fe[je];switch(je){case Ue:case De:case we:return function(){return new xe(this,je)}}return function(){return new xe(this)}},Be=Ee+" Iterator",Me=!1,Fe=Ce.prototype,$=Fe[Qe]||Fe["@@iterator"]||Ae&&Fe[Ae],ee=!$e&&$||Oe(Ae),ke=Ee=="Array"&&Fe.entries||$;if(ke&&(g=o(ke.call(new Ce)),We!==Object.prototype&&g.next&&(Se||o(g)===We||(s?s(g,We):typeof g[Qe]!="function"&&c(g,Qe,ve)),u(g,Be,!0,!0),Se&&(ge[Be]=ve))),Ae==De&&$&&$.name!==De&&(Me=!0,ee=function(){return $.call(this)}),Se&&!d||Fe[Qe]===ee||c(Fe,Qe,ee),ge[Ee]=ee,Ae)if(de={values:Oe(De),keys:_?ee:Oe(Ue),entries:Oe(we)},d)for(m in de)($e||Me||!(m in Fe))&&f(Fe,m,de[m]);else a({target:Ee,proto:!0,forced:$e||Me},de);return de}},(t,e,n)=>{var a=n(68).IteratorPrototype,i=n(61),o=n(15),s=n(71),u=n(65),c=function(){return this};t.exports=function(f,L,Se){var ge=L+" Iterator";return f.prototype=i(a,{next:o(1,Se)}),s(f,ge,!1,!0),u[ge]=c,f}},(t,e,n)=>{var a,i,o,s=n(13),u=n(69),c=n(26),f=n(22),L=n(56),Se=n(37),ge=L("iterator"),Le=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(a=i):Le=!0);var We=a==null||s(function(){var $e={};return a[ge].call($e)!==$e});We&&(a={}),Se&&!We||f(a,ge)||c(a,ge,function(){return this}),t.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:Le}},(t,e,n)=>{var a=n(22),i=n(23),o=n(35),s=n(70),u=o("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(f){return f=i(f),a(f,u)?f[u]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?c:null}},(t,e,n)=>{var a=n(13);t.exports=!a(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},(t,e,n)=>{var a=n(27).f,i=n(22),o=n(56)("toStringTag");t.exports=function(s,u,c){s&&!i(s=c?s:s.prototype,o)&&a(s,o,{configurable:!0,value:u})}},(t,e,n)=>{var a=n(28),i=n(73);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o,s=!1,u={};try{(o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(u,[]),s=u instanceof Array}catch{}return function(c,f){return a(c),i(f),s?o.call(c,f):c.__proto__=f,c}}():void 0)},(t,e,n)=>{var a=n(21);t.exports=function(i){if(!a(i)&&i!==null)throw TypeError("Can't set "+String(i)+" as a prototype");return i}},(t,e,n)=>{var a=n(9),i=n(75),o=n(83);a({target:"Object",stat:!0},{fromEntries:function(s){var u={};return i(s,function(c,f){o(u,c,f)},{AS_ENTRIES:!0}),u}})},(t,e,n)=>{var a=n(28),i=n(76),o=n(47),s=n(77),u=n(79),c=n(82),f=function(L,Se){this.stopped=L,this.result=Se};t.exports=function(L,Se,ge){var Le,We,$e,Qe,Ue,De,we,ve=ge&&ge.that,Ce=!(!ge||!ge.AS_ENTRIES),Ee=!(!ge||!ge.IS_ITERATOR),xe=!(!ge||!ge.INTERRUPTED),re=s(Se,ve,1+Ce+xe),Ae=function(d){return Le&&c(Le),new f(!0,d)},_=function(d){return Ce?(a(d),xe?re(d[0],d[1],Ae):re(d[0],d[1])):xe?re(d,Ae):re(d)};if(Ee)Le=L;else{if(typeof(We=u(L))!="function")throw TypeError("Target is not iterable");if(i(We)){for($e=0,Qe=o(L.length);Qe>$e;$e++)if((Ue=_(L[$e]))&&Ue instanceof f)return Ue;return new f(!1)}Le=We.call(L)}for(De=Le.next;!(we=De.call(Le)).done;){try{Ue=_(we.value)}catch(d){throw c(Le),d}if(typeof Ue=="object"&&Ue&&Ue instanceof f)return Ue}return new f(!1)}},(t,e,n)=>{var a=n(56),i=n(65),o=a("iterator"),s=Array.prototype;t.exports=function(u){return u!==void 0&&(i.Array===u||s[o]===u)}},(t,e,n)=>{var a=n(78);t.exports=function(i,o,s){if(a(i),o===void 0)return i;switch(s){case 0:return function(){return i.call(o)};case 1:return function(u){return i.call(o,u)};case 2:return function(u,c){return i.call(o,u,c)};case 3:return function(u,c,f){return i.call(o,u,c,f)}}return function(){return i.apply(o,arguments)}}},t=>{t.exports=function(e){if(typeof e!="function")throw TypeError(String(e)+" is not a function");return e}},(t,e,n)=>{var a=n(80),i=n(65),o=n(56)("iterator");t.exports=function(s){if(s!=null)return s[o]||s["@@iterator"]||i[a(s)]}},(t,e,n)=>{var a=n(81),i=n(18),o=n(56)("toStringTag"),s=i(function(){return arguments}())=="Arguments";t.exports=a?i:function(u){var c,f,L;return u===void 0?"Undefined":u===null?"Null":typeof(f=function(Se,ge){try{return Se[ge]}catch{}}(c=Object(u),o))=="string"?f:s?i(c):(L=i(c))=="Object"&&typeof c.callee=="function"?"Arguments":L}},(t,e,n)=>{var a={};a[n(56)("toStringTag")]="z",t.exports=String(a)==="[object z]"},(t,e,n)=>{var a=n(28);t.exports=function(i){var o=i.return;if(o!==void 0)return a(o.call(i)).value}},(t,e,n)=>{var a=n(20),i=n(27),o=n(15);t.exports=function(s,u,c){var f=a(u);f in s?i.f(s,f,o(0,c)):s[f]=c}},(t,e,n)=>{n(85),n(86),n(88),n(105),n(106),n(107),n(108),n(110);var a=n(43);t.exports=a.Promise},(t,e,n)=>{var a=n(9),i=n(69),o=n(72),s=n(61),u=n(26),c=n(15),f=n(75),L=function(Se,ge){var Le=this;if(!(Le instanceof L))return new L(Se,ge);o&&(Le=o(new Error(void 0),i(Le))),ge!==void 0&&u(Le,"message",String(ge));var We=[];return f(Se,We.push,{that:We}),u(Le,"errors",We),Le};L.prototype=s(Error.prototype,{constructor:c(5,L),message:c(5,""),name:c(5,"AggregateError")}),a({global:!0},{AggregateError:L})},(t,e,n)=>{var a=n(81),i=n(29),o=n(87);a||i(Object.prototype,"toString",o,{unsafe:!0})},(t,e,n)=>{var a=n(81),i=n(80);t.exports=a?{}.toString:function(){return"[object "+i(this)+"]"}},(t,e,n)=>{var a,i,o,s,u=n(9),c=n(37),f=n(10),L=n(42),Se=n(89),ge=n(29),Le=n(90),We=n(72),$e=n(71),Qe=n(91),Ue=n(21),De=n(78),we=n(92),ve=n(31),Ce=n(75),Ee=n(93),xe=n(94),re=n(95).set,Ae=n(98),_=n(100),d=n(102),g=n(101),de=n(103),m=n(33),Oe=n(52),Be=n(56),Me=n(104),Fe=n(97),$=n(58),ee=Be("species"),ke="Promise",je=m.get,He=m.set,qe=m.getterFor(ke),ze=Se&&Se.prototype,at=Se,et=ze,tt=f.TypeError,Ze=f.document,st=f.process,ut=g.f,Je=ut,Ke=!!(Ze&&Ze.createEvent&&f.dispatchEvent),Ge=typeof PromiseRejectionEvent=="function",Ye="unhandledrejection",Xe=!1,rt=Oe(ke,function(){var ft=ve(at)!==String(at);if(!ft&&$===66||c&&!et.finally)return!0;if($>=51&&/native code/.test(at))return!1;var mt=new at(function(At){At(1)}),wt=function(At){At(function(){},function(){})};return(mt.constructor={})[ee]=wt,!(Xe=mt.then(function(){})instanceof wt)||!ft&&Me&&!Ge}),ot=rt||!Ee(function(ft){at.all(ft).catch(function(){})}),it=function(ft){var mt;return!(!Ue(ft)||typeof(mt=ft.then)!="function")&&mt},lt=function(ft,mt){if(!ft.notified){ft.notified=!0;var wt=ft.reactions;Ae(function(){for(var At=ft.value,St=ft.state==1,Et=0;wt.length>Et;){var xt,Tt,Ot,Dt=wt[Et++],Ut=St?Dt.ok:Dt.fail,$t=Dt.resolve,zt=Dt.reject,Nt=Dt.domain;try{Ut?(St||(ft.rejection===2&&vt(ft),ft.rejection=1),Ut===!0?xt=At:(Nt&&Nt.enter(),xt=Ut(At),Nt&&(Nt.exit(),Ot=!0)),xt===Dt.promise?zt(tt("Promise-chain cycle")):(Tt=it(xt))?Tt.call(xt,$t,zt):$t(xt)):zt(At)}catch(ur){Nt&&!Ot&&Nt.exit(),zt(ur)}}ft.reactions=[],ft.notified=!1,mt&&!ft.rejection&&dt(ft)})}},ct=function(ft,mt,wt){var At,St;Ke?((At=Ze.createEvent("Event")).promise=mt,At.reason=wt,At.initEvent(ft,!1,!0),f.dispatchEvent(At)):At={promise:mt,reason:wt},!Ge&&(St=f["on"+ft])?St(At):ft===Ye&&d("Unhandled promise rejection",wt)},dt=function(ft){re.call(f,function(){var mt,wt=ft.facade,At=ft.value;if(gt(ft)&&(mt=de(function(){Fe?st.emit("unhandledRejection",At,wt):ct(Ye,wt,At)}),ft.rejection=Fe||gt(ft)?2:1,mt.error))throw mt.value})},gt=function(ft){return ft.rejection!==1&&!ft.parent},vt=function(ft){re.call(f,function(){var mt=ft.facade;Fe?st.emit("rejectionHandled",mt):ct("rejectionhandled",mt,ft.value)})},pt=function(ft,mt,wt){return function(At){ft(mt,At,wt)}},_t=function(ft,mt,wt){ft.done||(ft.done=!0,wt&&(ft=wt),ft.value=mt,ft.state=2,lt(ft,!0))},yt=function(ft,mt,wt){if(!ft.done){ft.done=!0,wt&&(ft=wt);try{if(ft.facade===mt)throw tt("Promise can't be resolved itself");var At=it(mt);At?Ae(function(){var St={done:!1};try{At.call(mt,pt(yt,St,ft),pt(_t,St,ft))}catch(Et){_t(St,Et,ft)}}):(ft.value=mt,ft.state=1,lt(ft,!1))}catch(St){_t({done:!1},St,ft)}}};if(rt&&(et=(at=function(ft){we(this,at,ke),De(ft),a.call(this);var mt=je(this);try{ft(pt(yt,mt),pt(_t,mt))}catch(wt){_t(mt,wt)}}).prototype,(a=function(ft){He(this,{type:ke,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Le(et,{then:function(ft,mt){var wt=qe(this),At=ut(xe(this,at));return At.ok=typeof ft!="function"||ft,At.fail=typeof mt=="function"&&mt,At.domain=Fe?st.domain:void 0,wt.parent=!0,wt.reactions.push(At),wt.state!=0&&lt(wt,!1),At.promise},catch:function(ft){return this.then(void 0,ft)}}),i=function(){var ft=new a,mt=je(ft);this.promise=ft,this.resolve=pt(yt,mt),this.reject=pt(_t,mt)},g.f=ut=function(ft){return ft===at||ft===o?new i(ft):Je(ft)},!c&&typeof Se=="function"&&ze!==Object.prototype)){s=ze.then,Xe||(ge(ze,"then",function(ft,mt){var wt=this;return new at(function(At,St){s.call(wt,At,St)}).then(ft,mt)},{unsafe:!0}),ge(ze,"catch",et.catch,{unsafe:!0}));try{delete ze.constructor}catch{}We&&We(ze,et)}u({global:!0,wrap:!0,forced:rt},{Promise:at}),$e(at,ke,!1,!0),Qe(ke),o=L(ke),u({target:ke,stat:!0,forced:rt},{reject:function(ft){var mt=ut(this);return mt.reject.call(void 0,ft),mt.promise}}),u({target:ke,stat:!0,forced:c||rt},{resolve:function(ft){return _(c&&this===o?at:this,ft)}}),u({target:ke,stat:!0,forced:ot},{all:function(ft){var mt=this,wt=ut(mt),At=wt.resolve,St=wt.reject,Et=de(function(){var xt=De(mt.resolve),Tt=[],Ot=0,Dt=1;Ce(ft,function(Ut){var $t=Ot++,zt=!1;Tt.push(void 0),Dt++,xt.call(mt,Ut).then(function(Nt){zt||(zt=!0,Tt[$t]=Nt,--Dt||At(Tt))},St)}),--Dt||At(Tt)});return Et.error&&St(Et.value),wt.promise},race:function(ft){var mt=this,wt=ut(mt),At=wt.reject,St=de(function(){var Et=De(mt.resolve);Ce(ft,function(xt){Et.call(mt,xt).then(wt.resolve,At)})});return St.error&&At(St.value),wt.promise}})},(t,e,n)=>{var a=n(10);t.exports=a.Promise},(t,e,n)=>{var a=n(29);t.exports=function(i,o,s){for(var u in o)a(i,u,o[u],s);return i}},(t,e,n)=>{var a=n(42),i=n(27),o=n(56),s=n(12),u=o("species");t.exports=function(c){var f=a(c),L=i.f;s&&f&&!f[u]&&L(f,u,{configurable:!0,get:function(){return this}})}},t=>{t.exports=function(e,n,a){if(!(e instanceof n))throw TypeError("Incorrect "+(a?a+" ":"")+"invocation");return e}},(t,e,n)=>{var a=n(56)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[a]=function(){return this},Array.from(s,function(){throw 2})}catch{}t.exports=function(u,c){if(!c&&!i)return!1;var f=!1;try{var L={};L[a]=function(){return{next:function(){return{done:f=!0}}}},u(L)}catch{}return f}},(t,e,n)=>{var a=n(28),i=n(78),o=n(56)("species");t.exports=function(s,u){var c,f=a(s).constructor;return f===void 0||(c=a(f)[o])==null?u:i(c)}},(t,e,n)=>{var a,i,o,s=n(10),u=n(13),c=n(77),f=n(64),L=n(25),Se=n(96),ge=n(97),Le=s.location,We=s.setImmediate,$e=s.clearImmediate,Qe=s.process,Ue=s.MessageChannel,De=s.Dispatch,we=0,ve={},Ce="onreadystatechange",Ee=function(_){if(ve.hasOwnProperty(_)){var d=ve[_];delete ve[_],d()}},xe=function(_){return function(){Ee(_)}},re=function(_){Ee(_.data)},Ae=function(_){s.postMessage(_+"",Le.protocol+"//"+Le.host)};We&&$e||(We=function(_){for(var d=[],g=1;arguments.length>g;)d.push(arguments[g++]);return ve[++we]=function(){(typeof _=="function"?_:Function(_)).apply(void 0,d)},a(we),we},$e=function(_){delete ve[_]},ge?a=function(_){Qe.nextTick(xe(_))}:De&&De.now?a=function(_){De.now(xe(_))}:Ue&&!Se?(o=(i=new Ue).port2,i.port1.onmessage=re,a=c(o.postMessage,o,1)):s.addEventListener&&typeof postMessage=="function"&&!s.importScripts&&Le&&Le.protocol!=="file:"&&!u(Ae)?(a=Ae,s.addEventListener("message",re,!1)):a=Ce in L("script")?function(_){f.appendChild(L("script")).onreadystatechange=function(){f.removeChild(this),Ee(_)}}:function(_){setTimeout(xe(_),0)}),t.exports={set:We,clear:$e}},(t,e,n)=>{var a=n(59);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(a)},(t,e,n)=>{var a=n(18),i=n(10);t.exports=a(i.process)=="process"},(t,e,n)=>{var a,i,o,s,u,c,f,L,Se=n(10),ge=n(11).f,Le=n(95).set,We=n(96),$e=n(99),Qe=n(97),Ue=Se.MutationObserver||Se.WebKitMutationObserver,De=Se.document,we=Se.process,ve=Se.Promise,Ce=ge(Se,"queueMicrotask"),Ee=Ce&&Ce.value;Ee||(a=function(){var xe,re;for(Qe&&(xe=we.domain)&&xe.exit();i;){re=i.fn,i=i.next;try{re()}catch(Ae){throw i?s():o=void 0,Ae}}o=void 0,xe&&xe.enter()},We||Qe||$e||!Ue||!De?ve&&ve.resolve?((f=ve.resolve(void 0)).constructor=ve,L=f.then,s=function(){L.call(f,a)}):s=Qe?function(){we.nextTick(a)}:function(){Le.call(Se,a)}:(u=!0,c=De.createTextNode(""),new Ue(a).observe(c,{characterData:!0}),s=function(){c.data=u=!u})),t.exports=Ee||function(xe){var re={fn:xe,next:void 0};o&&(o.next=re),i||(i=re,s()),o=re}},(t,e,n)=>{var a=n(59);t.exports=/web0s(?!.*chrome)/i.test(a)},(t,e,n)=>{var a=n(28),i=n(21),o=n(101);t.exports=function(s,u){if(a(s),i(u)&&u.constructor===s)return u;var c=o.f(s);return(0,c.resolve)(u),c.promise}},(t,e,n)=>{var a=n(78),i=function(o){var s,u;this.promise=new o(function(c,f){if(s!==void 0||u!==void 0)throw TypeError("Bad Promise constructor");s=c,u=f}),this.resolve=a(s),this.reject=a(u)};t.exports.f=function(o){return new i(o)}},(t,e,n)=>{var a=n(10);t.exports=function(i,o){var s=a.console;s&&s.error&&(arguments.length===1?s.error(i):s.error(i,o))}},t=>{t.exports=function(e){try{return{error:!1,value:e()}}catch(n){return{error:!0,value:n}}}},t=>{t.exports=typeof window=="object"},(t,e,n)=>{var a=n(9),i=n(78),o=n(101),s=n(103),u=n(75);a({target:"Promise",stat:!0},{allSettled:function(c){var f=this,L=o.f(f),Se=L.resolve,ge=L.reject,Le=s(function(){var We=i(f.resolve),$e=[],Qe=0,Ue=1;u(c,function(De){var we=Qe++,ve=!1;$e.push(void 0),Ue++,We.call(f,De).then(function(Ce){ve||(ve=!0,$e[we]={status:"fulfilled",value:Ce},--Ue||Se($e))},function(Ce){ve||(ve=!0,$e[we]={status:"rejected",reason:Ce},--Ue||Se($e))})}),--Ue||Se($e)});return Le.error&&ge(Le.value),L.promise}})},(t,e,n)=>{var a=n(9),i=n(78),o=n(42),s=n(101),u=n(103),c=n(75),f="No one promise resolved";a({target:"Promise",stat:!0},{any:function(L){var Se=this,ge=s.f(Se),Le=ge.resolve,We=ge.reject,$e=u(function(){var Qe=i(Se.resolve),Ue=[],De=0,we=1,ve=!1;c(L,function(Ce){var Ee=De++,xe=!1;Ue.push(void 0),we++,Qe.call(Se,Ce).then(function(re){xe||ve||(ve=!0,Le(re))},function(re){xe||ve||(xe=!0,Ue[Ee]=re,--we||We(new(o("AggregateError"))(Ue,f)))})}),--we||We(new(o("AggregateError"))(Ue,f))});return $e.error&&We($e.value),ge.promise}})},(t,e,n)=>{var a=n(9),i=n(37),o=n(89),s=n(13),u=n(42),c=n(94),f=n(100),L=n(29);if(a({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){o.prototype.finally.call({then:function(){}},function(){})})},{finally:function(ge){var Le=c(this,u("Promise")),We=typeof ge=="function";return this.then(We?function($e){return f(Le,ge()).then(function(){return $e})}:ge,We?function($e){return f(Le,ge()).then(function(){throw $e})}:ge)}}),!i&&typeof o=="function"){var Se=u("Promise").prototype.finally;o.prototype.finally!==Se&&L(o.prototype,"finally",Se,{unsafe:!0})}},(t,e,n)=>{var a=n(109).charAt,i=n(33),o=n(66),s="String Iterator",u=i.set,c=i.getterFor(s);o(String,"String",function(f){u(this,{type:s,string:String(f),index:0})},function(){var f,L=c(this),Se=L.string,ge=L.index;return ge>=Se.length?{value:void 0,done:!0}:(f=a(Se,ge),L.index+=f.length,{value:f,done:!1})})},(t,e,n)=>{var a=n(48),i=n(19),o=function(s){return function(u,c){var f,L,Se=String(i(u)),ge=a(c),Le=Se.length;return ge<0||ge>=Le?s?"":void 0:(f=Se.charCodeAt(ge))<55296||f>56319||ge+1===Le||(L=Se.charCodeAt(ge+1))<56320||L>57343?s?Se.charAt(ge):f:s?Se.slice(ge,ge+2):L-56320+(f-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},(t,e,n)=>{var a=n(10),i=n(111),o=n(54),s=n(26),u=n(56),c=u("iterator"),f=u("toStringTag"),L=o.values;for(var Se in i){var ge=a[Se],Le=ge&&ge.prototype;if(Le){if(Le[c]!==L)try{s(Le,c,L)}catch{Le[c]=L}if(Le[f]||s(Le,f,Se),i[Se]){for(var We in o)if(Le[We]!==o[We])try{s(Le,We,o[We])}catch{Le[We]=o[We]}}}}},t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e){(function(n){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(j){return"Symbol("+j+")"};function i(){}function o(){return typeof self<"u"?self:typeof window<"u"?window:__webpack_require__.g!==void 0?__webpack_require__.g:void 0}var s=o();function u(j){return typeof j=="object"&&j!==null||typeof j=="function"}var c=i,f=Promise,L=Promise.prototype.then,Se=Promise.resolve.bind(f),ge=Promise.reject.bind(f);function Le(j){return new f(j)}function We(j){return Se(j)}function $e(j){return ge(j)}function Qe(j,Ne,nt){return L.call(j,Ne,nt)}function Ue(j,Ne,nt){Qe(Qe(j,Ne,nt),void 0,c)}function De(j,Ne){Ue(j,Ne)}function we(j,Ne){Ue(j,void 0,Ne)}function ve(j,Ne,nt){return Qe(j,Ne,nt)}function Ce(j){Qe(j,void 0,c)}var Ee=function(){var j=s&&s.queueMicrotask;if(typeof j=="function")return j;var Ne=We(void 0);return function(nt){return Qe(Ne,nt)}}();function xe(j,Ne,nt){if(typeof j!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(j,Ne,nt)}function re(j,Ne,nt){try{return We(xe(j,Ne,nt))}catch(ht){return $e(ht)}}var Ae=16384,_=function(){function j(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(j.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),j.prototype.push=function(Ne){var nt=this._back,ht=nt;nt._elements.length===Ae-1&&(ht={_elements:[],_next:void 0}),nt._elements.push(Ne),ht!==nt&&(this._back=ht,nt._next=ht),++this._size},j.prototype.shift=function(){var Ne=this._front,nt=Ne,ht=this._cursor,bt=ht+1,Ct=Ne._elements,kt=Ct[ht];return bt===Ae&&(nt=Ne._next,bt=0),--this._size,this._cursor=bt,Ne!==nt&&(this._front=nt),Ct[ht]=void 0,kt},j.prototype.forEach=function(Ne){for(var nt=this._cursor,ht=this._front,bt=ht._elements;!(nt===bt.length&&ht._next===void 0||nt===bt.length&&(nt=0,(bt=(ht=ht._next)._elements).length===0));)Ne(bt[nt]),++nt},j.prototype.peek=function(){var Ne=this._front,nt=this._cursor;return Ne._elements[nt]},j}();function d(j,Ne){j._ownerReadableStream=Ne,Ne._reader=j,Ne._state==="readable"?Oe(j):Ne._state==="closed"?Me(j):Be(j,Ne._storedError)}function g(j,Ne){return Zt(j._ownerReadableStream,Ne)}function de(j){j._ownerReadableStream._state==="readable"?Fe(j,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):$(j,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),j._ownerReadableStream._reader=void 0,j._ownerReadableStream=void 0}function m(j){return new TypeError("Cannot "+j+" a stream using a released reader")}function Oe(j){j._closedPromise=Le(function(Ne,nt){j._closedPromise_resolve=Ne,j._closedPromise_reject=nt})}function Be(j,Ne){Oe(j),Fe(j,Ne)}function Me(j){Oe(j),ee(j)}function Fe(j,Ne){j._closedPromise_reject!==void 0&&(Ce(j._closedPromise),j._closedPromise_reject(Ne),j._closedPromise_resolve=void 0,j._closedPromise_reject=void 0)}function $(j,Ne){Be(j,Ne)}function ee(j){j._closedPromise_resolve!==void 0&&(j._closedPromise_resolve(void 0),j._closedPromise_resolve=void 0,j._closedPromise_reject=void 0)}var ke=a("[[AbortSteps]]"),je=a("[[ErrorSteps]]"),He=a("[[CancelSteps]]"),qe=a("[[PullSteps]]"),ze=Number.isFinite||function(j){return typeof j=="number"&&isFinite(j)},at=Math.trunc||function(j){return j<0?Math.ceil(j):Math.floor(j)};function et(j){return typeof j=="object"||typeof j=="function"}function tt(j,Ne){if(j!==void 0&&!et(j))throw new TypeError(Ne+" is not an object.")}function Ze(j,Ne){if(typeof j!="function")throw new TypeError(Ne+" is not a function.")}function st(j){return typeof j=="object"&&j!==null||typeof j=="function"}function ut(j,Ne){if(!st(j))throw new TypeError(Ne+" is not an object.")}function Je(j,Ne,nt){if(j===void 0)throw new TypeError("Parameter "+Ne+" is required in '"+nt+"'.")}function Ke(j,Ne,nt){if(j===void 0)throw new TypeError(Ne+" is required in '"+nt+"'.")}function Ge(j){return Number(j)}function Ye(j){return j===0?0:j}function Xe(j){return Ye(at(j))}function rt(j,Ne){var nt=0,ht=Number.MAX_SAFE_INTEGER,bt=Number(j);if(bt=Ye(bt),!ze(bt))throw new TypeError(Ne+" is not a finite number");if((bt=Xe(bt))<nt||bt>ht)throw new TypeError(Ne+" is outside the accepted range of "+nt+" to "+ht+", inclusive");return ze(bt)&&bt!==0?bt:0}function ot(j,Ne){if(!Xt(j))throw new TypeError(Ne+" is not a ReadableStream.")}function it(j){return new _t(j)}function lt(j,Ne){j._reader._readRequests.push(Ne)}function ct(j,Ne,nt){var ht=j._reader._readRequests.shift();nt?ht._closeSteps():ht._chunkSteps(Ne)}function dt(j){return j._reader._readRequests.length}function gt(j){var Ne=j._reader;return Ne!==void 0&&!!yt(Ne)}var vt,pt,_t=function(){function j(Ne){if(Je(Ne,1,"ReadableStreamDefaultReader"),ot(Ne,"First parameter"),Gt(Ne))throw new TypeError("This stream has already been locked for exclusive reading by another reader");d(this,Ne),this._readRequests=new _}return Object.defineProperty(j.prototype,"closed",{get:function(){return yt(this)?this._closedPromise:$e(mt("closed"))},enumerable:!1,configurable:!0}),j.prototype.cancel=function(Ne){return Ne===void 0&&(Ne=void 0),yt(this)?this._ownerReadableStream===void 0?$e(m("cancel")):g(this,Ne):$e(mt("cancel"))},j.prototype.read=function(){if(!yt(this))return $e(mt("read"));if(this._ownerReadableStream===void 0)return $e(m("read from"));var Ne,nt,ht=Le(function(bt,Ct){Ne=bt,nt=Ct});return ft(this,{_chunkSteps:function(bt){return Ne({value:bt,done:!1})},_closeSteps:function(){return Ne({value:void 0,done:!0})},_errorSteps:function(bt){return nt(bt)}}),ht},j.prototype.releaseLock=function(){if(!yt(this))throw mt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");de(this)}},j}();function yt(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_readRequests")}function ft(j,Ne){var nt=j._ownerReadableStream;nt._disturbed=!0,nt._state==="closed"?Ne._closeSteps():nt._state==="errored"?Ne._errorSteps(nt._storedError):nt._readableStreamController[qe](Ne)}function mt(j){return new TypeError("ReadableStreamDefaultReader.prototype."+j+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties(_t.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(_t.prototype,a.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),typeof a.asyncIterator=="symbol"&&((vt={})[a.asyncIterator]=function(){return this},pt=vt,Object.defineProperty(pt,a.asyncIterator,{enumerable:!1}));var wt=function(){function j(Ne,nt){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=Ne,this._preventCancel=nt}return j.prototype.next=function(){var Ne=this,nt=function(){return Ne._nextSteps()};return this._ongoingPromise=this._ongoingPromise?ve(this._ongoingPromise,nt,nt):nt(),this._ongoingPromise},j.prototype.return=function(Ne){var nt=this,ht=function(){return nt._returnSteps(Ne)};return this._ongoingPromise?ve(this._ongoingPromise,ht,ht):ht()},j.prototype._nextSteps=function(){var Ne=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var nt,ht,bt=this._reader;if(bt._ownerReadableStream===void 0)return $e(m("iterate"));var Ct=Le(function(kt,Pt){nt=kt,ht=Pt});return ft(bt,{_chunkSteps:function(kt){Ne._ongoingPromise=void 0,Ee(function(){return nt({value:kt,done:!1})})},_closeSteps:function(){Ne._ongoingPromise=void 0,Ne._isFinished=!0,de(bt),nt({value:void 0,done:!0})},_errorSteps:function(kt){Ne._ongoingPromise=void 0,Ne._isFinished=!0,de(bt),ht(kt)}}),Ct},j.prototype._returnSteps=function(Ne){if(this._isFinished)return Promise.resolve({value:Ne,done:!0});this._isFinished=!0;var nt=this._reader;if(nt._ownerReadableStream===void 0)return $e(m("finish iterating"));if(!this._preventCancel){var ht=g(nt,Ne);return de(nt),ve(ht,function(){return{value:Ne,done:!0}})}return de(nt),We({value:Ne,done:!0})},j}(),At={next:function(){return Et(this)?this._asyncIteratorImpl.next():$e(xt("next"))},return:function(j){return Et(this)?this._asyncIteratorImpl.return(j):$e(xt("return"))}};function St(j,Ne){var nt=it(j),ht=new wt(nt,Ne),bt=Object.create(At);return bt._asyncIteratorImpl=ht,bt}function Et(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_asyncIteratorImpl")}function xt(j){return new TypeError("ReadableStreamAsyncIterator."+j+" can only be used on a ReadableSteamAsyncIterator")}pt!==void 0&&Object.setPrototypeOf(At,pt);var Tt=Number.isNaN||function(j){return j!=j};function Ot(j){return!!Dt(j)&&j!==1/0}function Dt(j){return!(typeof j!="number"||Tt(j)||j<0)}function Ut(j){var Ne=j._queue.shift();return j._queueTotalSize-=Ne.size,j._queueTotalSize<0&&(j._queueTotalSize=0),Ne.value}function $t(j,Ne,nt){if(!Ot(nt=Number(nt)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");j._queue.push({value:Ne,size:nt}),j._queueTotalSize+=nt}function zt(j){return j._queue.peek().value}function Nt(j){j._queue=new _,j._queueTotalSize=0}function ur(j){return j.slice()}function ei(j,Ne,nt,ht,bt){new Uint8Array(j).set(new Uint8Array(nt,ht,bt),Ne)}function Eo(j){return j}function ti(j){return!1}var _r=function(){function j(){throw new TypeError("Illegal constructor")}return Object.defineProperty(j.prototype,"view",{get:function(){if(!Yr(this))throw en("view");return this._view},enumerable:!1,configurable:!0}),j.prototype.respond=function(Ne){if(!Yr(this))throw en("respond");if(Je(Ne,1,"respond"),Ne=rt(Ne,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");ti(this._view.buffer),ci(this._associatedReadableByteStreamController,Ne)},j.prototype.respondWithNewView=function(Ne){if(!Yr(this))throw en("respondWithNewView");if(Je(Ne,1,"respondWithNewView"),!ArrayBuffer.isView(Ne))throw new TypeError("You can only respond with array buffer views");if(Ne.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(Ne.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");li(this._associatedReadableByteStreamController,Ne)},j}();Object.defineProperties(_r.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(_r.prototype,a.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var wr=function(){function j(){throw new TypeError("Illegal constructor")}return Object.defineProperty(j.prototype,"byobRequest",{get:function(){if(!rr(this))throw lr("byobRequest");if(this._byobRequest===null&&this._pendingPullIntos.length>0){var Ne=this._pendingPullIntos.peek(),nt=new Uint8Array(Ne.buffer,Ne.byteOffset+Ne.bytesFilled,Ne.byteLength-Ne.bytesFilled),ht=Object.create(_r.prototype);di(ht,this,nt),this._byobRequest=ht}return this._byobRequest},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"desiredSize",{get:function(){if(!rr(this))throw lr("desiredSize");return Sn(this)},enumerable:!1,configurable:!0}),j.prototype.close=function(){if(!rr(this))throw lr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var Ne=this._controlledReadableByteStream._state;if(Ne!=="readable")throw new TypeError("The stream (in "+Ne+" state) is not in the readable state and cannot be closed");si(this)},j.prototype.enqueue=function(Ne){if(!rr(this))throw lr("enqueue");if(Je(Ne,1,"enqueue"),!ArrayBuffer.isView(Ne))throw new TypeError("chunk must be an array buffer view");if(Ne.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(Ne.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var nt=this._controlledReadableByteStream._state;if(nt!=="readable")throw new TypeError("The stream (in "+nt+" state) is not in the readable state and cannot be enqueued to");ui(this,Ne)},j.prototype.error=function(Ne){if(Ne===void 0&&(Ne=void 0),!rr(this))throw lr("error");cr(this,Ne)},j.prototype[He]=function(Ne){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),Nt(this);var nt=this._cancelAlgorithm(Ne);return Ar(this),nt},j.prototype[qe]=function(Ne){var nt=this._controlledReadableByteStream;if(this._queueTotalSize>0){var ht=this._queue.shift();this._queueTotalSize-=ht.byteLength,Cn(this);var bt=new Uint8Array(ht.buffer,ht.byteOffset,ht.byteLength);Ne._chunkSteps(bt)}else{var Ct=this._autoAllocateChunkSize;if(Ct!==void 0){var kt=void 0;try{kt=new ArrayBuffer(Ct)}catch(It){return void Ne._errorSteps(It)}var Pt={buffer:kt,byteOffset:0,byteLength:Ct,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Pt)}lt(nt,Ne),Yt(this)}},j}();function rr(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_controlledReadableByteStream")}function Yr(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_associatedReadableByteStreamController")}function Yt(j){oi(j)&&(j._pulling?j._pullAgain=!0:(j._pulling=!0,Ue(j._pullAlgorithm(),function(){j._pulling=!1,j._pullAgain&&(j._pullAgain=!1,Yt(j))},function(Ne){cr(j,Ne)})))}function ri(j){Jr(j),j._pendingPullIntos=new _}function Qr(j,Ne){var nt=!1;j._state==="closed"&&(nt=!0);var ht=bn(Ne);Ne.readerType==="default"?ct(j,ht,nt):gi(j,ht,nt)}function bn(j){var Ne=j.bytesFilled,nt=j.elementSize;return new j.viewConstructor(j.buffer,j.byteOffset,Ne/nt)}function Cr(j,Ne,nt,ht){j._queue.push({buffer:Ne,byteOffset:nt,byteLength:ht}),j._queueTotalSize+=ht}function _n(j,Ne){var nt=Ne.elementSize,ht=Ne.bytesFilled-Ne.bytesFilled%nt,bt=Math.min(j._queueTotalSize,Ne.byteLength-Ne.bytesFilled),Ct=Ne.bytesFilled+bt,kt=Ct-Ct%nt,Pt=bt,It=!1;kt>ht&&(Pt=kt-Ne.bytesFilled,It=!0);for(var Ft=j._queue;Pt>0;){var Bt=Ft.peek(),jt=Math.min(Pt,Bt.byteLength),Lt=Ne.byteOffset+Ne.bytesFilled;ei(Ne.buffer,Lt,Bt.buffer,Bt.byteOffset,jt),Bt.byteLength===jt?Ft.shift():(Bt.byteOffset+=jt,Bt.byteLength-=jt),j._queueTotalSize-=jt,wn(j,jt,Ne),Pt-=jt}return It}function wn(j,Ne,nt){Jr(j),nt.bytesFilled+=Ne}function Cn(j){j._queueTotalSize===0&&j._closeRequested?(Ar(j),yr(j._controlledReadableByteStream)):Yt(j)}function Jr(j){j._byobRequest!==null&&(j._byobRequest._associatedReadableByteStreamController=void 0,j._byobRequest._view=null,j._byobRequest=null)}function An(j){for(;j._pendingPullIntos.length>0;){if(j._queueTotalSize===0)return;var Ne=j._pendingPullIntos.peek();_n(j,Ne)&&(Zr(j),Qr(j._controlledReadableByteStream,Ne))}}function ni(j,Ne,nt){var ht=j._controlledReadableByteStream,bt=1;Ne.constructor!==DataView&&(bt=Ne.constructor.BYTES_PER_ELEMENT);var Ct=Ne.constructor,kt={buffer:Ne.buffer,byteOffset:Ne.byteOffset,byteLength:Ne.byteLength,bytesFilled:0,elementSize:bt,viewConstructor:Ct,readerType:"byob"};if(j._pendingPullIntos.length>0)return j._pendingPullIntos.push(kt),void Tn(ht,nt);if(ht._state!=="closed"){if(j._queueTotalSize>0){if(_n(j,kt)){var Pt=bn(kt);return Cn(j),void nt._chunkSteps(Pt)}if(j._closeRequested){var It=new TypeError("Insufficient bytes to fill elements in the given buffer");return cr(j,It),void nt._errorSteps(It)}}j._pendingPullIntos.push(kt),Tn(ht,nt),Yt(j)}else{var Ft=new Ct(kt.buffer,kt.byteOffset,0);nt._closeSteps(Ft)}}function ai(j,Ne){Ne.buffer=Ne.buffer;var nt=j._controlledReadableByteStream;if(tn(nt))for(;En(nt)>0;)Qr(nt,Zr(j))}function ii(j,Ne,nt){if(nt.bytesFilled+Ne>nt.byteLength)throw new RangeError("bytesWritten out of range");if(wn(j,Ne,nt),!(nt.bytesFilled<nt.elementSize)){Zr(j);var ht=nt.bytesFilled%nt.elementSize;if(ht>0){var bt=nt.byteOffset+nt.bytesFilled,Ct=nt.buffer.slice(bt-ht,bt);Cr(j,Ct,0,Ct.byteLength)}nt.buffer=nt.buffer,nt.bytesFilled-=ht,Qr(j._controlledReadableByteStream,nt),An(j)}}function kn(j,Ne){var nt=j._pendingPullIntos.peek();if(j._controlledReadableByteStream._state==="closed"){if(Ne!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");ai(j,nt)}else ii(j,Ne,nt);Yt(j)}function Zr(j){var Ne=j._pendingPullIntos.shift();return Jr(j),Ne}function oi(j){var Ne=j._controlledReadableByteStream;return Ne._state==="readable"&&!j._closeRequested&&!!j._started&&(!!(gt(Ne)&&dt(Ne)>0)||!!(tn(Ne)&&En(Ne)>0)||Sn(j)>0)}function Ar(j){j._pullAlgorithm=void 0,j._cancelAlgorithm=void 0}function si(j){var Ne=j._controlledReadableByteStream;if(!j._closeRequested&&Ne._state==="readable")if(j._queueTotalSize>0)j._closeRequested=!0;else{if(j._pendingPullIntos.length>0&&j._pendingPullIntos.peek().bytesFilled>0){var nt=new TypeError("Insufficient bytes to fill elements in the given buffer");throw cr(j,nt),nt}Ar(j),yr(Ne)}}function ui(j,Ne){var nt=j._controlledReadableByteStream;if(!j._closeRequested&&nt._state==="readable"){var ht=Ne.buffer,bt=Ne.byteOffset,Ct=Ne.byteLength,kt=ht;gt(nt)?dt(nt)===0?Cr(j,kt,bt,Ct):ct(nt,new Uint8Array(kt,bt,Ct),!1):tn(nt)?(Cr(j,kt,bt,Ct),An(j)):Cr(j,kt,bt,Ct),Yt(j)}}function cr(j,Ne){var nt=j._controlledReadableByteStream;nt._state==="readable"&&(ri(j),Nt(j),Ar(j),Yn(nt,Ne))}function Sn(j){var Ne=j._controlledReadableByteStream._state;return Ne==="errored"?null:Ne==="closed"?0:j._strategyHWM-j._queueTotalSize}function ci(j,Ne){if(!Ot(Ne=Number(Ne)))throw new RangeError("bytesWritten must be a finite");kn(j,Ne)}function li(j,Ne){var nt=j._pendingPullIntos.peek();if(nt.byteOffset+nt.bytesFilled!==Ne.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(nt.byteLength!==Ne.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");nt.buffer=Ne.buffer,kn(j,Ne.byteLength)}function hi(j,Ne,nt,ht,bt,Ct,kt){Ne._controlledReadableByteStream=j,Ne._pullAgain=!1,Ne._pulling=!1,Ne._byobRequest=null,Ne._queue=Ne._queueTotalSize=void 0,Nt(Ne),Ne._closeRequested=!1,Ne._started=!1,Ne._strategyHWM=Ct,Ne._pullAlgorithm=ht,Ne._cancelAlgorithm=bt,Ne._autoAllocateChunkSize=kt,Ne._pendingPullIntos=new _,j._readableStreamController=Ne,Ue(We(nt()),function(){Ne._started=!0,Yt(Ne)},function(Pt){cr(Ne,Pt)})}function fi(j,Ne,nt){var ht=Object.create(wr.prototype),bt=function(){},Ct=function(){return We(void 0)},kt=function(){return We(void 0)};Ne.start!==void 0&&(bt=function(){return Ne.start(ht)}),Ne.pull!==void 0&&(Ct=function(){return Ne.pull(ht)}),Ne.cancel!==void 0&&(kt=function(It){return Ne.cancel(It)});var Pt=Ne.autoAllocateChunkSize;if(Pt===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");hi(j,ht,bt,Ct,kt,nt,Pt)}function di(j,Ne,nt){j._associatedReadableByteStreamController=Ne,j._view=nt}function en(j){return new TypeError("ReadableStreamBYOBRequest.prototype."+j+" can only be used on a ReadableStreamBYOBRequest")}function lr(j){return new TypeError("ReadableByteStreamController.prototype."+j+" can only be used on a ReadableByteStreamController")}function pi(j){return new kr(j)}function Tn(j,Ne){j._reader._readIntoRequests.push(Ne)}function gi(j,Ne,nt){var ht=j._reader._readIntoRequests.shift();nt?ht._closeSteps(Ne):ht._chunkSteps(Ne)}function En(j){return j._reader._readIntoRequests.length}function tn(j){var Ne=j._reader;return Ne!==void 0&&!!hr(Ne)}Object.defineProperties(wr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(wr.prototype,a.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var kr=function(){function j(Ne){if(Je(Ne,1,"ReadableStreamBYOBReader"),ot(Ne,"First parameter"),Gt(Ne))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!rr(Ne._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");d(this,Ne),this._readIntoRequests=new _}return Object.defineProperty(j.prototype,"closed",{get:function(){return hr(this)?this._closedPromise:$e(Sr("closed"))},enumerable:!1,configurable:!0}),j.prototype.cancel=function(Ne){return Ne===void 0&&(Ne=void 0),hr(this)?this._ownerReadableStream===void 0?$e(m("cancel")):g(this,Ne):$e(Sr("cancel"))},j.prototype.read=function(Ne){if(!hr(this))return $e(Sr("read"));if(!ArrayBuffer.isView(Ne))return $e(new TypeError("view must be an array buffer view"));if(Ne.byteLength===0)return $e(new TypeError("view must have non-zero byteLength"));if(Ne.buffer.byteLength===0)return $e(new TypeError("view's buffer must have non-zero byteLength"));if(this._ownerReadableStream===void 0)return $e(m("read from"));var nt,ht,bt=Le(function(Ct,kt){nt=Ct,ht=kt});return mi(this,Ne,{_chunkSteps:function(Ct){return nt({value:Ct,done:!1})},_closeSteps:function(Ct){return nt({value:Ct,done:!0})},_errorSteps:function(Ct){return ht(Ct)}}),bt},j.prototype.releaseLock=function(){if(!hr(this))throw Sr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");de(this)}},j}();function hr(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_readIntoRequests")}function mi(j,Ne,nt){var ht=j._ownerReadableStream;ht._disturbed=!0,ht._state==="errored"?nt._errorSteps(ht._storedError):ni(ht._readableStreamController,Ne,nt)}function Sr(j){return new TypeError("ReadableStreamBYOBReader.prototype."+j+" can only be used on a ReadableStreamBYOBReader")}function fr(j,Ne){var nt=j.highWaterMark;if(nt===void 0)return Ne;if(Tt(nt)||nt<0)throw new RangeError("Invalid highWaterMark");return nt}function Tr(j){var Ne=j.size;return Ne||function(){return 1}}function Er(j,Ne){tt(j,Ne);var nt=j==null?void 0:j.highWaterMark,ht=j==null?void 0:j.size;return{highWaterMark:nt===void 0?void 0:Ge(nt),size:ht===void 0?void 0:vi(ht,Ne+" has member 'size' that")}}function vi(j,Ne){return Ze(j,Ne),function(nt){return Ge(j(nt))}}function yi(j,Ne){tt(j,Ne);var nt=j==null?void 0:j.abort,ht=j==null?void 0:j.close,bt=j==null?void 0:j.start,Ct=j==null?void 0:j.type,kt=j==null?void 0:j.write;return{abort:nt===void 0?void 0:bi(nt,j,Ne+" has member 'abort' that"),close:ht===void 0?void 0:_i(ht,j,Ne+" has member 'close' that"),start:bt===void 0?void 0:wi(bt,j,Ne+" has member 'start' that"),write:kt===void 0?void 0:Ci(kt,j,Ne+" has member 'write' that"),type:Ct}}function bi(j,Ne,nt){return Ze(j,nt),function(ht){return re(j,Ne,[ht])}}function _i(j,Ne,nt){return Ze(j,nt),function(){return re(j,Ne,[])}}function wi(j,Ne,nt){return Ze(j,nt),function(ht){return xe(j,Ne,[ht])}}function Ci(j,Ne,nt){return Ze(j,nt),function(ht,bt){return re(j,Ne,[ht,bt])}}function Pn(j,Ne){if(!nr(j))throw new TypeError(Ne+" is not a WritableStream.")}Object.defineProperties(kr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(kr.prototype,a.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Pr=function(){function j(Ne,nt){Ne===void 0&&(Ne={}),nt===void 0&&(nt={}),Ne===void 0?Ne=null:ut(Ne,"First parameter");var ht=Er(nt,"Second parameter"),bt=yi(Ne,"First parameter");if(In(this),bt.type!==void 0)throw new RangeError("Invalid type is specified");var Ct=Tr(ht);Ni(this,bt,fr(ht,1),Ct)}return Object.defineProperty(j.prototype,"locked",{get:function(){if(!nr(this))throw Dr("locked");return ar(this)},enumerable:!1,configurable:!0}),j.prototype.abort=function(Ne){return Ne===void 0&&(Ne=void 0),nr(this)?ar(this)?$e(new TypeError("Cannot abort a stream that already has a writer")):xr(this,Ne):$e(Dr("abort"))},j.prototype.close=function(){return nr(this)?ar(this)?$e(new TypeError("Cannot close a stream that already has a writer")):Ht(this)?$e(new TypeError("Cannot close an already-closing stream")):Rn(this):$e(Dr("close"))},j.prototype.getWriter=function(){if(!nr(this))throw Dr("getWriter");return xn(this)},j}();function xn(j){return new Rr(j)}function Ai(j,Ne,nt,ht,bt,Ct){bt===void 0&&(bt=1),Ct===void 0&&(Ct=function(){return 1});var kt=Object.create(Pr.prototype);return In(kt),Nn(kt,Object.create(dr.prototype),j,Ne,nt,ht,bt,Ct),kt}function In(j){j._state="writable",j._storedError=void 0,j._writer=void 0,j._writableStreamController=void 0,j._writeRequests=new _,j._inFlightWriteRequest=void 0,j._closeRequest=void 0,j._inFlightCloseRequest=void 0,j._pendingAbortRequest=void 0,j._backpressure=!1}function nr(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_writableStreamController")}function ar(j){return j._writer!==void 0}function xr(j,Ne){var nt=j._state;if(nt==="closed"||nt==="errored")return We(void 0);if(j._pendingAbortRequest!==void 0)return j._pendingAbortRequest._promise;var ht=!1;nt==="erroring"&&(ht=!0,Ne=void 0);var bt=Le(function(Ct,kt){j._pendingAbortRequest={_promise:void 0,_resolve:Ct,_reject:kt,_reason:Ne,_wasAlreadyErroring:ht}});return j._pendingAbortRequest._promise=bt,ht||nn(j,Ne),bt}function Rn(j){var Ne=j._state;if(Ne==="closed"||Ne==="errored")return $e(new TypeError("The stream (in "+Ne+" state) is not in the writable state and cannot be closed"));var nt=Le(function(bt,Ct){var kt={_resolve:bt,_reject:Ct};j._closeRequest=kt}),ht=j._writer;return ht!==void 0&&j._backpressure&&Ne==="writable"&&hn(ht),Li(j._writableStreamController),nt}function ki(j){return Le(function(Ne,nt){var ht={_resolve:Ne,_reject:nt};j._writeRequests.push(ht)})}function rn(j,Ne){j._state!=="writable"?an(j):nn(j,Ne)}function nn(j,Ne){var nt=j._writableStreamController;j._state="erroring",j._storedError=Ne;var ht=j._writer;ht!==void 0&&Fn(ht,Ne),!xi(j)&&nt._started&&an(j)}function an(j){j._state="errored",j._writableStreamController[je]();var Ne=j._storedError;if(j._writeRequests.forEach(function(ht){ht._reject(Ne)}),j._writeRequests=new _,j._pendingAbortRequest!==void 0){var nt=j._pendingAbortRequest;if(j._pendingAbortRequest=void 0,nt._wasAlreadyErroring)return nt._reject(Ne),void Ir(j);Ue(j._writableStreamController[ke](nt._reason),function(){nt._resolve(),Ir(j)},function(ht){nt._reject(ht),Ir(j)})}else Ir(j)}function Si(j){j._inFlightWriteRequest._resolve(void 0),j._inFlightWriteRequest=void 0}function Ti(j,Ne){j._inFlightWriteRequest._reject(Ne),j._inFlightWriteRequest=void 0,rn(j,Ne)}function Ei(j){j._inFlightCloseRequest._resolve(void 0),j._inFlightCloseRequest=void 0,j._state==="erroring"&&(j._storedError=void 0,j._pendingAbortRequest!==void 0&&(j._pendingAbortRequest._resolve(),j._pendingAbortRequest=void 0)),j._state="closed";var Ne=j._writer;Ne!==void 0&&Un(Ne)}function Pi(j,Ne){j._inFlightCloseRequest._reject(Ne),j._inFlightCloseRequest=void 0,j._pendingAbortRequest!==void 0&&(j._pendingAbortRequest._reject(Ne),j._pendingAbortRequest=void 0),rn(j,Ne)}function Ht(j){return j._closeRequest!==void 0||j._inFlightCloseRequest!==void 0}function xi(j){return j._inFlightWriteRequest!==void 0||j._inFlightCloseRequest!==void 0}function Ii(j){j._inFlightCloseRequest=j._closeRequest,j._closeRequest=void 0}function Ri(j){j._inFlightWriteRequest=j._writeRequests.shift()}function Ir(j){j._closeRequest!==void 0&&(j._closeRequest._reject(j._storedError),j._closeRequest=void 0);var Ne=j._writer;Ne!==void 0&&cn(Ne,j._storedError)}function on(j,Ne){var nt=j._writer;nt!==void 0&&Ne!==j._backpressure&&(Ne?zi(nt):hn(nt)),j._backpressure=Ne}Object.defineProperties(Pr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(Pr.prototype,a.toStringTag,{value:"WritableStream",configurable:!0});var Rr=function(){function j(Ne){if(Je(Ne,1,"WritableStreamDefaultWriter"),Pn(Ne,"First parameter"),ar(Ne))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=Ne,Ne._writer=this;var nt=Ne._state;if(nt==="writable")!Ht(Ne)&&Ne._backpressure?Mr(this):qn(this),Br(this);else if(nt==="erroring")ln(this,Ne._storedError),Br(this);else if(nt==="closed")qn(this),$i(this);else{var ht=Ne._storedError;ln(this,ht),Vn(this,ht)}}return Object.defineProperty(j.prototype,"closed",{get:function(){return Qt(this)?this._closedPromise:$e(Jt("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"desiredSize",{get:function(){if(!Qt(this))throw Jt("desiredSize");if(this._ownerWritableStream===void 0)throw pr("desiredSize");return Bi(this)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"ready",{get:function(){return Qt(this)?this._readyPromise:$e(Jt("ready"))},enumerable:!1,configurable:!0}),j.prototype.abort=function(Ne){return Ne===void 0&&(Ne=void 0),Qt(this)?this._ownerWritableStream===void 0?$e(pr("abort")):Oi(this,Ne):$e(Jt("abort"))},j.prototype.close=function(){if(!Qt(this))return $e(Jt("close"));var Ne=this._ownerWritableStream;return Ne===void 0?$e(pr("close")):Ht(Ne)?$e(new TypeError("Cannot close an already-closing stream")):On(this)},j.prototype.releaseLock=function(){if(!Qt(this))throw Jt("releaseLock");this._ownerWritableStream!==void 0&&Dn(this)},j.prototype.write=function(Ne){return Ne===void 0&&(Ne=void 0),Qt(this)?this._ownerWritableStream===void 0?$e(pr("write to")):Bn(this,Ne):$e(Jt("write"))},j}();function Qt(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_ownerWritableStream")}function Oi(j,Ne){return xr(j._ownerWritableStream,Ne)}function On(j){return Rn(j._ownerWritableStream)}function Fi(j){var Ne=j._ownerWritableStream,nt=Ne._state;return Ht(Ne)||nt==="closed"?We(void 0):nt==="errored"?$e(Ne._storedError):On(j)}function Di(j,Ne){j._closedPromiseState==="pending"?cn(j,Ne):Hi(j,Ne)}function Fn(j,Ne){j._readyPromiseState==="pending"?$n(j,Ne):Wi(j,Ne)}function Bi(j){var Ne=j._ownerWritableStream,nt=Ne._state;return nt==="errored"||nt==="erroring"?null:nt==="closed"?0:Ln(Ne._writableStreamController)}function Dn(j){var Ne=j._ownerWritableStream,nt=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Fn(j,nt),Di(j,nt),Ne._writer=void 0,j._ownerWritableStream=void 0}function Bn(j,Ne){var nt=j._ownerWritableStream,ht=nt._writableStreamController,bt=ji(ht,Ne);if(nt!==j._ownerWritableStream)return $e(pr("write to"));var Ct=nt._state;if(Ct==="errored")return $e(nt._storedError);if(Ht(nt)||Ct==="closed")return $e(new TypeError("The stream is closing or closed and cannot be written to"));if(Ct==="erroring")return $e(nt._storedError);var kt=ki(nt);return Vi(ht,Ne,bt),kt}Object.defineProperties(Rr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(Rr.prototype,a.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Mn={},dr=function(){function j(){throw new TypeError("Illegal constructor")}return j.prototype.error=function(Ne){if(Ne===void 0&&(Ne=void 0),!Mi(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&jn(this,Ne)},j.prototype[ke]=function(Ne){var nt=this._abortAlgorithm(Ne);return Or(this),nt},j.prototype[je]=function(){Nt(this)},j}();function Mi(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_controlledWritableStream")}function Nn(j,Ne,nt,ht,bt,Ct,kt,Pt){Ne._controlledWritableStream=j,j._writableStreamController=Ne,Ne._queue=void 0,Ne._queueTotalSize=void 0,Nt(Ne),Ne._started=!1,Ne._strategySizeAlgorithm=Pt,Ne._strategyHWM=kt,Ne._writeAlgorithm=ht,Ne._closeAlgorithm=bt,Ne._abortAlgorithm=Ct;var It=un(Ne);on(j,It),Ue(We(nt()),function(){Ne._started=!0,Fr(Ne)},function(Ft){Ne._started=!0,rn(j,Ft)})}function Ni(j,Ne,nt,ht){var bt=Object.create(dr.prototype),Ct=function(){},kt=function(){return We(void 0)},Pt=function(){return We(void 0)},It=function(){return We(void 0)};Ne.start!==void 0&&(Ct=function(){return Ne.start(bt)}),Ne.write!==void 0&&(kt=function(Ft){return Ne.write(Ft,bt)}),Ne.close!==void 0&&(Pt=function(){return Ne.close()}),Ne.abort!==void 0&&(It=function(Ft){return Ne.abort(Ft)}),Nn(j,bt,Ct,kt,Pt,It,nt,ht)}function Or(j){j._writeAlgorithm=void 0,j._closeAlgorithm=void 0,j._abortAlgorithm=void 0,j._strategySizeAlgorithm=void 0}function Li(j){$t(j,Mn,0),Fr(j)}function ji(j,Ne){try{return j._strategySizeAlgorithm(Ne)}catch(nt){return sn(j,nt),1}}function Ln(j){return j._strategyHWM-j._queueTotalSize}function Vi(j,Ne,nt){try{$t(j,Ne,nt)}catch(bt){return void sn(j,bt)}var ht=j._controlledWritableStream;Ht(ht)||ht._state!=="writable"||on(ht,un(j)),Fr(j)}function Fr(j){var Ne=j._controlledWritableStream;if(j._started&&Ne._inFlightWriteRequest===void 0)if(Ne._state!=="erroring"){if(j._queue.length!==0){var nt=zt(j);nt===Mn?Ui(j):qi(j,nt)}}else an(Ne)}function sn(j,Ne){j._controlledWritableStream._state==="writable"&&jn(j,Ne)}function Ui(j){var Ne=j._controlledWritableStream;Ii(Ne),Ut(j);var nt=j._closeAlgorithm();Or(j),Ue(nt,function(){Ei(Ne)},function(ht){Pi(Ne,ht)})}function qi(j,Ne){var nt=j._controlledWritableStream;Ri(nt),Ue(j._writeAlgorithm(Ne),function(){Si(nt);var ht=nt._state;if(Ut(j),!Ht(nt)&&ht==="writable"){var bt=un(j);on(nt,bt)}Fr(j)},function(ht){nt._state==="writable"&&Or(j),Ti(nt,ht)})}function un(j){return Ln(j)<=0}function jn(j,Ne){var nt=j._controlledWritableStream;Or(j),nn(nt,Ne)}function Dr(j){return new TypeError("WritableStream.prototype."+j+" can only be used on a WritableStream")}function Jt(j){return new TypeError("WritableStreamDefaultWriter.prototype."+j+" can only be used on a WritableStreamDefaultWriter")}function pr(j){return new TypeError("Cannot "+j+" a stream using a released writer")}function Br(j){j._closedPromise=Le(function(Ne,nt){j._closedPromise_resolve=Ne,j._closedPromise_reject=nt,j._closedPromiseState="pending"})}function Vn(j,Ne){Br(j),cn(j,Ne)}function $i(j){Br(j),Un(j)}function cn(j,Ne){j._closedPromise_reject!==void 0&&(Ce(j._closedPromise),j._closedPromise_reject(Ne),j._closedPromise_resolve=void 0,j._closedPromise_reject=void 0,j._closedPromiseState="rejected")}function Hi(j,Ne){Vn(j,Ne)}function Un(j){j._closedPromise_resolve!==void 0&&(j._closedPromise_resolve(void 0),j._closedPromise_resolve=void 0,j._closedPromise_reject=void 0,j._closedPromiseState="resolved")}function Mr(j){j._readyPromise=Le(function(Ne,nt){j._readyPromise_resolve=Ne,j._readyPromise_reject=nt}),j._readyPromiseState="pending"}function ln(j,Ne){Mr(j),$n(j,Ne)}function qn(j){Mr(j),hn(j)}function $n(j,Ne){j._readyPromise_reject!==void 0&&(Ce(j._readyPromise),j._readyPromise_reject(Ne),j._readyPromise_resolve=void 0,j._readyPromise_reject=void 0,j._readyPromiseState="rejected")}function zi(j){Mr(j)}function Wi(j,Ne){ln(j,Ne)}function hn(j){j._readyPromise_resolve!==void 0&&(j._readyPromise_resolve(void 0),j._readyPromise_resolve=void 0,j._readyPromise_reject=void 0,j._readyPromiseState="fulfilled")}function Xi(j){if(typeof j!="object"||j===null)return!1;try{return typeof j.aborted=="boolean"}catch{return!1}}Object.defineProperties(dr.prototype,{error:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(dr.prototype,a.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Hn=typeof DOMException<"u"?DOMException:void 0;function Gi(j){if(typeof j!="function"&&typeof j!="object")return!1;try{return new j,!0}catch{return!1}}function Ki(){var j=function(Ne,nt){this.message=Ne||"",this.name=nt||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return j.prototype=Object.create(Error.prototype),Object.defineProperty(j.prototype,"constructor",{value:j,writable:!0,configurable:!0}),j}var Yi=Gi(Hn)?Hn:Ki();function zn(j,Ne,nt,ht,bt,Ct){var kt=it(j),Pt=xn(Ne);j._disturbed=!0;var It=!1,Ft=We(void 0);return Le(function(Bt,jt){var Lt;if(Ct!==void 0){if(Lt=function(){var Rt=new Yi("Aborted","AbortError"),Mt=[];ht||Mt.push(function(){return Ne._state==="writable"?xr(Ne,Rt):We(void 0)}),bt||Mt.push(function(){return j._state==="readable"?Zt(j,Rt):We(void 0)}),br(function(){return Promise.all(Mt.map(function(qt){return qt()}))},!0,Rt)},Ct.aborted)return void Lt();Ct.addEventListener("abort",Lt)}function vn(){return Le(function(Rt,Mt){function qt(Kr){Kr?Rt():Qe(yn(),qt,Mt)}qt(!1)})}function yn(){return It?We(!0):Qe(Pt._readyPromise,function(){return Le(function(Rt,Mt){ft(kt,{_chunkSteps:function(qt){Ft=Qe(Bn(Pt,qt),void 0,i),Rt(!1)},_closeSteps:function(){return Rt(!0)},_errorSteps:Mt})})})}if(Kt(j,kt._closedPromise,function(Rt){ht?Xr(!0,Rt):br(function(){return xr(Ne,Rt)},!0,Rt)}),Kt(Ne,Pt._closedPromise,function(Rt){bt?Xr(!0,Rt):br(function(){return Zt(j,Rt)},!0,Rt)}),tr(j,kt._closedPromise,function(){nt?Xr():br(function(){return Fi(Pt)})}),Ht(Ne)||Ne._state==="closed"){var sr=new TypeError("the destination writable stream closed before all data could be piped to it");bt?Xr(!0,sr):br(function(){return Zt(j,sr)},!0,sr)}function Vt(){var Rt=Ft;return Qe(Ft,function(){return Rt!==Ft?Vt():void 0})}function Kt(Rt,Mt,qt){Rt._state==="errored"?qt(Rt._storedError):we(Mt,qt)}function tr(Rt,Mt,qt){Rt._state==="closed"?qt():De(Mt,qt)}function br(Rt,Mt,qt){function Kr(){Ue(Rt(),function(){return Gr(Mt,qt)},function(To){return Gr(!0,To)})}It||(It=!0,Ne._state!=="writable"||Ht(Ne)?Kr():De(Vt(),Kr))}function Xr(Rt,Mt){It||(It=!0,Ne._state!=="writable"||Ht(Ne)?Gr(Rt,Mt):De(Vt(),function(){return Gr(Rt,Mt)}))}function Gr(Rt,Mt){Dn(Pt),de(kt),Ct!==void 0&&Ct.removeEventListener("abort",Lt),Rt?jt(Mt):Bt(void 0)}Ce(vn())})}var gr=function(){function j(){throw new TypeError("Illegal constructor")}return Object.defineProperty(j.prototype,"desiredSize",{get:function(){if(!Nr(this))throw Vr("desiredSize");return fn(this)},enumerable:!1,configurable:!0}),j.prototype.close=function(){if(!Nr(this))throw Vr("close");if(!ir(this))throw new TypeError("The stream is not in a state that permits close");vr(this)},j.prototype.enqueue=function(Ne){if(Ne===void 0&&(Ne=void 0),!Nr(this))throw Vr("enqueue");if(!ir(this))throw new TypeError("The stream is not in a state that permits enqueue");return jr(this,Ne)},j.prototype.error=function(Ne){if(Ne===void 0&&(Ne=void 0),!Nr(this))throw Vr("error");Wt(this,Ne)},j.prototype[He]=function(Ne){Nt(this);var nt=this._cancelAlgorithm(Ne);return Lr(this),nt},j.prototype[qe]=function(Ne){var nt=this._controlledReadableStream;if(this._queue.length>0){var ht=Ut(this);this._closeRequested&&this._queue.length===0?(Lr(this),yr(nt)):mr(this),Ne._chunkSteps(ht)}else lt(nt,Ne),mr(this)},j}();function Nr(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_controlledReadableStream")}function mr(j){Wn(j)&&(j._pulling?j._pullAgain=!0:(j._pulling=!0,Ue(j._pullAlgorithm(),function(){j._pulling=!1,j._pullAgain&&(j._pullAgain=!1,mr(j))},function(Ne){Wt(j,Ne)})))}function Wn(j){var Ne=j._controlledReadableStream;return!!ir(j)&&!!j._started&&(!!(Gt(Ne)&&dt(Ne)>0)||fn(j)>0)}function Lr(j){j._pullAlgorithm=void 0,j._cancelAlgorithm=void 0,j._strategySizeAlgorithm=void 0}function vr(j){if(ir(j)){var Ne=j._controlledReadableStream;j._closeRequested=!0,j._queue.length===0&&(Lr(j),yr(Ne))}}function jr(j,Ne){if(ir(j)){var nt=j._controlledReadableStream;if(Gt(nt)&&dt(nt)>0)ct(nt,Ne,!1);else{var ht=void 0;try{ht=j._strategySizeAlgorithm(Ne)}catch(bt){throw Wt(j,bt),bt}try{$t(j,Ne,ht)}catch(bt){throw Wt(j,bt),bt}}mr(j)}}function Wt(j,Ne){var nt=j._controlledReadableStream;nt._state==="readable"&&(Nt(j),Lr(j),Yn(nt,Ne))}function fn(j){var Ne=j._controlledReadableStream._state;return Ne==="errored"?null:Ne==="closed"?0:j._strategyHWM-j._queueTotalSize}function Qi(j){return!Wn(j)}function ir(j){var Ne=j._controlledReadableStream._state;return!j._closeRequested&&Ne==="readable"}function Xn(j,Ne,nt,ht,bt,Ct,kt){Ne._controlledReadableStream=j,Ne._queue=void 0,Ne._queueTotalSize=void 0,Nt(Ne),Ne._started=!1,Ne._closeRequested=!1,Ne._pullAgain=!1,Ne._pulling=!1,Ne._strategySizeAlgorithm=kt,Ne._strategyHWM=Ct,Ne._pullAlgorithm=ht,Ne._cancelAlgorithm=bt,j._readableStreamController=Ne,Ue(We(nt()),function(){Ne._started=!0,mr(Ne)},function(Pt){Wt(Ne,Pt)})}function Ji(j,Ne,nt,ht){var bt=Object.create(gr.prototype),Ct=function(){},kt=function(){return We(void 0)},Pt=function(){return We(void 0)};Ne.start!==void 0&&(Ct=function(){return Ne.start(bt)}),Ne.pull!==void 0&&(kt=function(){return Ne.pull(bt)}),Ne.cancel!==void 0&&(Pt=function(It){return Ne.cancel(It)}),Xn(j,bt,Ct,kt,Pt,nt,ht)}function Vr(j){return new TypeError("ReadableStreamDefaultController.prototype."+j+" can only be used on a ReadableStreamDefaultController")}function Zi(j,Ne){var nt,ht,bt,Ct,kt,Pt=it(j),It=!1,Ft=!1,Bt=!1,jt=Le(function(Vt){kt=Vt});function Lt(){return It||(It=!0,ft(Pt,{_chunkSteps:function(Vt){Ee(function(){It=!1;var Kt=Vt,tr=Vt;Ft||jr(bt._readableStreamController,Kt),Bt||jr(Ct._readableStreamController,tr)})},_closeSteps:function(){It=!1,Ft||vr(bt._readableStreamController),Bt||vr(Ct._readableStreamController),Ft&&Bt||kt(void 0)},_errorSteps:function(){It=!1}})),We(void 0)}function vn(Vt){if(Ft=!0,nt=Vt,Bt){var Kt=ur([nt,ht]),tr=Zt(j,Kt);kt(tr)}return jt}function yn(Vt){if(Bt=!0,ht=Vt,Ft){var Kt=ur([nt,ht]),tr=Zt(j,Kt);kt(tr)}return jt}function sr(){}return bt=dn(sr,Lt,vn),Ct=dn(sr,Lt,yn),we(Pt._closedPromise,function(Vt){Wt(bt._readableStreamController,Vt),Wt(Ct._readableStreamController,Vt),Ft&&Bt||kt(void 0)}),[bt,Ct]}function eo(j,Ne){tt(j,Ne);var nt=j,ht=nt==null?void 0:nt.autoAllocateChunkSize,bt=nt==null?void 0:nt.cancel,Ct=nt==null?void 0:nt.pull,kt=nt==null?void 0:nt.start,Pt=nt==null?void 0:nt.type;return{autoAllocateChunkSize:ht===void 0?void 0:rt(ht,Ne+" has member 'autoAllocateChunkSize' that"),cancel:bt===void 0?void 0:to(bt,nt,Ne+" has member 'cancel' that"),pull:Ct===void 0?void 0:ro(Ct,nt,Ne+" has member 'pull' that"),start:kt===void 0?void 0:no(kt,nt,Ne+" has member 'start' that"),type:Pt===void 0?void 0:ao(Pt,Ne+" has member 'type' that")}}function to(j,Ne,nt){return Ze(j,nt),function(ht){return re(j,Ne,[ht])}}function ro(j,Ne,nt){return Ze(j,nt),function(ht){return re(j,Ne,[ht])}}function no(j,Ne,nt){return Ze(j,nt),function(ht){return xe(j,Ne,[ht])}}function ao(j,Ne){if((j=""+j)!="bytes")throw new TypeError(Ne+" '"+j+"' is not a valid enumeration value for ReadableStreamType");return j}function io(j,Ne){tt(j,Ne);var nt=j==null?void 0:j.mode;return{mode:nt===void 0?void 0:oo(nt,Ne+" has member 'mode' that")}}function oo(j,Ne){if((j=""+j)!="byob")throw new TypeError(Ne+" '"+j+"' is not a valid enumeration value for ReadableStreamReaderMode");return j}function so(j,Ne){tt(j,Ne);var nt=j==null?void 0:j.preventCancel;return{preventCancel:!!nt}}function Gn(j,Ne){tt(j,Ne);var nt=j==null?void 0:j.preventAbort,ht=j==null?void 0:j.preventCancel,bt=j==null?void 0:j.preventClose,Ct=j==null?void 0:j.signal;return Ct!==void 0&&uo(Ct,Ne+" has member 'signal' that"),{preventAbort:!!nt,preventCancel:!!ht,preventClose:!!bt,signal:Ct}}function uo(j,Ne){if(!Xi(j))throw new TypeError(Ne+" is not an AbortSignal.")}function co(j,Ne){tt(j,Ne);var nt=j==null?void 0:j.readable;Ke(nt,"readable","ReadableWritablePair"),ot(nt,Ne+" has member 'readable' that");var ht=j==null?void 0:j.writable;return Ke(ht,"writable","ReadableWritablePair"),Pn(ht,Ne+" has member 'writable' that"),{readable:nt,writable:ht}}Object.defineProperties(gr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(gr.prototype,a.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var or=function(){function j(Ne,nt){Ne===void 0&&(Ne={}),nt===void 0&&(nt={}),Ne===void 0?Ne=null:ut(Ne,"First parameter");var ht=Er(nt,"Second parameter"),bt=eo(Ne,"First parameter");if(Kn(this),bt.type==="bytes"){if(ht.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");fi(this,bt,fr(ht,0))}else{var Ct=Tr(ht);Ji(this,bt,fr(ht,1),Ct)}}return Object.defineProperty(j.prototype,"locked",{get:function(){if(!Xt(this))throw er("locked");return Gt(this)},enumerable:!1,configurable:!0}),j.prototype.cancel=function(Ne){return Ne===void 0&&(Ne=void 0),Xt(this)?Gt(this)?$e(new TypeError("Cannot cancel a stream that already has a reader")):Zt(this,Ne):$e(er("cancel"))},j.prototype.getReader=function(Ne){if(Ne===void 0&&(Ne=void 0),!Xt(this))throw er("getReader");return io(Ne,"First parameter").mode===void 0?it(this):pi(this)},j.prototype.pipeThrough=function(Ne,nt){if(nt===void 0&&(nt={}),!Xt(this))throw er("pipeThrough");Je(Ne,1,"pipeThrough");var ht=co(Ne,"First parameter"),bt=Gn(nt,"Second parameter");if(Gt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ar(ht.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Ce(zn(this,ht.writable,bt.preventClose,bt.preventAbort,bt.preventCancel,bt.signal)),ht.readable},j.prototype.pipeTo=function(Ne,nt){if(nt===void 0&&(nt={}),!Xt(this))return $e(er("pipeTo"));if(Ne===void 0)return $e("Parameter 1 is required in 'pipeTo'.");if(!nr(Ne))return $e(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var ht;try{ht=Gn(nt,"Second parameter")}catch(bt){return $e(bt)}return Gt(this)?$e(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ar(Ne)?$e(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):zn(this,Ne,ht.preventClose,ht.preventAbort,ht.preventCancel,ht.signal)},j.prototype.tee=function(){if(!Xt(this))throw er("tee");return ur(Zi(this))},j.prototype.values=function(Ne){if(Ne===void 0&&(Ne=void 0),!Xt(this))throw er("values");return St(this,so(Ne,"First parameter").preventCancel)},j}();function dn(j,Ne,nt,ht,bt){ht===void 0&&(ht=1),bt===void 0&&(bt=function(){return 1});var Ct=Object.create(or.prototype);return Kn(Ct),Xn(Ct,Object.create(gr.prototype),j,Ne,nt,ht,bt),Ct}function Kn(j){j._state="readable",j._reader=void 0,j._storedError=void 0,j._disturbed=!1}function Xt(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_readableStreamController")}function Gt(j){return j._reader!==void 0}function Zt(j,Ne){return j._disturbed=!0,j._state==="closed"?We(void 0):j._state==="errored"?$e(j._storedError):(yr(j),ve(j._readableStreamController[He](Ne),i))}function yr(j){j._state="closed";var Ne=j._reader;Ne!==void 0&&(ee(Ne),yt(Ne)&&(Ne._readRequests.forEach(function(nt){nt._closeSteps()}),Ne._readRequests=new _))}function Yn(j,Ne){j._state="errored",j._storedError=Ne;var nt=j._reader;nt!==void 0&&(Fe(nt,Ne),yt(nt)?(nt._readRequests.forEach(function(ht){ht._errorSteps(Ne)}),nt._readRequests=new _):(nt._readIntoRequests.forEach(function(ht){ht._errorSteps(Ne)}),nt._readIntoRequests=new _))}function er(j){return new TypeError("ReadableStream.prototype."+j+" can only be used on a ReadableStream")}function Qn(j,Ne){tt(j,Ne);var nt=j==null?void 0:j.highWaterMark;return Ke(nt,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Ge(nt)}}Object.defineProperties(or.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(or.prototype,a.toStringTag,{value:"ReadableStream",configurable:!0}),typeof a.asyncIterator=="symbol"&&Object.defineProperty(or.prototype,a.asyncIterator,{value:or.prototype.values,writable:!0,configurable:!0});var lo=function(j){return j.byteLength},pn=function(){function j(Ne){Je(Ne,1,"ByteLengthQueuingStrategy"),Ne=Qn(Ne,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=Ne.highWaterMark}return Object.defineProperty(j.prototype,"highWaterMark",{get:function(){if(!Zn(this))throw Jn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"size",{get:function(){if(!Zn(this))throw Jn("size");return lo},enumerable:!1,configurable:!0}),j}();function Jn(j){return new TypeError("ByteLengthQueuingStrategy.prototype."+j+" can only be used on a ByteLengthQueuingStrategy")}function Zn(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(pn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(pn.prototype,a.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var ho=function(){return 1},gn=function(){function j(Ne){Je(Ne,1,"CountQueuingStrategy"),Ne=Qn(Ne,"First parameter"),this._countQueuingStrategyHighWaterMark=Ne.highWaterMark}return Object.defineProperty(j.prototype,"highWaterMark",{get:function(){if(!ga(this))throw la("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"size",{get:function(){if(!ga(this))throw la("size");return ho},enumerable:!1,configurable:!0}),j}();function la(j){return new TypeError("CountQueuingStrategy.prototype."+j+" can only be used on a CountQueuingStrategy")}function ga(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_countQueuingStrategyHighWaterMark")}function fo(j,Ne){tt(j,Ne);var nt=j==null?void 0:j.flush,ht=j==null?void 0:j.readableType,bt=j==null?void 0:j.start,Ct=j==null?void 0:j.transform,kt=j==null?void 0:j.writableType;return{flush:nt===void 0?void 0:po(nt,j,Ne+" has member 'flush' that"),readableType:ht,start:bt===void 0?void 0:go(bt,j,Ne+" has member 'start' that"),transform:Ct===void 0?void 0:mo(Ct,j,Ne+" has member 'transform' that"),writableType:kt}}function po(j,Ne,nt){return Ze(j,nt),function(ht){return re(j,Ne,[ht])}}function go(j,Ne,nt){return Ze(j,nt),function(ht){return xe(j,Ne,[ht])}}function mo(j,Ne,nt){return Ze(j,nt),function(ht,bt){return re(j,Ne,[ht,bt])}}Object.defineProperties(gn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(gn.prototype,a.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var mn=function(){function j(Ne,nt,ht){Ne===void 0&&(Ne={}),nt===void 0&&(nt={}),ht===void 0&&(ht={}),Ne===void 0&&(Ne=null);var bt=Er(nt,"Second parameter"),Ct=Er(ht,"Third parameter"),kt=fo(Ne,"First parameter");if(kt.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(kt.writableType!==void 0)throw new RangeError("Invalid writableType specified");var Pt,It=fr(Ct,0),Ft=Tr(Ct),Bt=fr(bt,1),jt=Tr(bt);vo(this,Le(function(Lt){Pt=Lt}),Bt,jt,It,Ft),bo(this,kt),kt.start!==void 0?Pt(kt.start(this._transformStreamController)):Pt(void 0)}return Object.defineProperty(j.prototype,"readable",{get:function(){if(!_a(this))throw Xa("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"writable",{get:function(){if(!_a(this))throw Xa("writable");return this._writable},enumerable:!1,configurable:!0}),j}();function vo(j,Ne,nt,ht,bt,Ct){function kt(){return Ne}function Pt(Lt){return Co(j,Lt)}function It(Lt){return Ao(j,Lt)}function Ft(){return ko(j)}function Bt(){return So(j)}function jt(Lt){return qr(j,Lt),We(void 0)}j._writable=Ai(kt,Pt,Ft,It,nt,ht),j._readable=dn(kt,Bt,jt,bt,Ct),j._backpressure=void 0,j._backpressureChangePromise=void 0,j._backpressureChangePromise_resolve=void 0,$r(j,!0),j._transformStreamController=void 0}function _a(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_transformStreamController")}function Ur(j,Ne){Wt(j._readable._readableStreamController,Ne),qr(j,Ne)}function qr(j,Ne){Ma(j._transformStreamController),sn(j._writable._writableStreamController,Ne),j._backpressure&&$r(j,!1)}function $r(j,Ne){j._backpressureChangePromise!==void 0&&j._backpressureChangePromise_resolve(),j._backpressureChangePromise=Le(function(nt){j._backpressureChangePromise_resolve=nt}),j._backpressure=Ne}Object.defineProperties(mn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(mn.prototype,a.toStringTag,{value:"TransformStream",configurable:!0});var Hr=function(){function j(){throw new TypeError("Illegal constructor")}return Object.defineProperty(j.prototype,"desiredSize",{get:function(){if(!zr(this))throw Wr("desiredSize");return fn(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),j.prototype.enqueue=function(Ne){if(Ne===void 0&&(Ne=void 0),!zr(this))throw Wr("enqueue");La(this,Ne)},j.prototype.error=function(Ne){if(Ne===void 0&&(Ne=void 0),!zr(this))throw Wr("error");_o(this,Ne)},j.prototype.terminate=function(){if(!zr(this))throw Wr("terminate");wo(this)},j}();function zr(j){return!!u(j)&&!!Object.prototype.hasOwnProperty.call(j,"_controlledTransformStream")}function yo(j,Ne,nt,ht){Ne._controlledTransformStream=j,j._transformStreamController=Ne,Ne._transformAlgorithm=nt,Ne._flushAlgorithm=ht}function bo(j,Ne){var nt=Object.create(Hr.prototype),ht=function(Ct){try{return La(nt,Ct),We(void 0)}catch(kt){return $e(kt)}},bt=function(){return We(void 0)};Ne.transform!==void 0&&(ht=function(Ct){return Ne.transform(Ct,nt)}),Ne.flush!==void 0&&(bt=function(){return Ne.flush(nt)}),yo(j,nt,ht,bt)}function Ma(j){j._transformAlgorithm=void 0,j._flushAlgorithm=void 0}function La(j,Ne){var nt=j._controlledTransformStream,ht=nt._readable._readableStreamController;if(!ir(ht))throw new TypeError("Readable side is not in a state that permits enqueue");try{jr(ht,Ne)}catch(bt){throw qr(nt,bt),nt._readable._storedError}Qi(ht)!==nt._backpressure&&$r(nt,!0)}function _o(j,Ne){Ur(j._controlledTransformStream,Ne)}function ja(j,Ne){return ve(j._transformAlgorithm(Ne),void 0,function(nt){throw Ur(j._controlledTransformStream,nt),nt})}function wo(j){var Ne=j._controlledTransformStream;vr(Ne._readable._readableStreamController),qr(Ne,new TypeError("TransformStream terminated"))}function Co(j,Ne){var nt=j._transformStreamController;return j._backpressure?ve(j._backpressureChangePromise,function(){var ht=j._writable;if(ht._state==="erroring")throw ht._storedError;return ja(nt,Ne)}):ja(nt,Ne)}function Ao(j,Ne){return Ur(j,Ne),We(void 0)}function ko(j){var Ne=j._readable,nt=j._transformStreamController,ht=nt._flushAlgorithm();return Ma(nt),ve(ht,function(){if(Ne._state==="errored")throw Ne._storedError;vr(Ne._readableStreamController)},function(bt){throw Ur(j,bt),Ne._storedError})}function So(j){return $r(j,!1),j._backpressureChangePromise}function Wr(j){return new TypeError("TransformStreamDefaultController.prototype."+j+" can only be used on a TransformStreamDefaultController")}function Xa(j){return new TypeError("TransformStream.prototype."+j+" can only be used on a TransformStream")}Object.defineProperties(Hr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(Hr.prototype,a.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),n.ByteLengthQueuingStrategy=pn,n.CountQueuingStrategy=gn,n.ReadableByteStreamController=wr,n.ReadableStream=or,n.ReadableStreamBYOBReader=kr,n.ReadableStreamBYOBRequest=_r,n.ReadableStreamDefaultController=gr,n.ReadableStreamDefaultReader=_t,n.TransformStream=mn,n.TransformStreamDefaultController=Hr,n.WritableStream=Pr,n.WritableStreamDefaultController=dr,n.WritableStreamDefaultWriter=Rr,Object.defineProperty(n,"__esModule",{value:!0})})(e)},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(114),_node_utils=__w_pdfjs_require__(115),_annotation_storage=__w_pdfjs_require__(116),_api_compatibility=__w_pdfjs_require__(117),_canvas=__w_pdfjs_require__(118),_worker_options=__w_pdfjs_require__(120),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(121),_metadata=__w_pdfjs_require__(122),_optional_content_config=__w_pdfjs_require__(123),_transport_stream=__w_pdfjs_require__(124);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function asyncGeneratorStep(t,e,n,a,i,o,s){try{var u=t[o](s),c=u.value}catch(f){return void n(f)}u.done?e(c):Promise.resolve(c).then(a,i)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var o=t.apply(e,n);function s(c){asyncGeneratorStep(o,a,i,s,u,"next",c)}function u(c){asyncGeneratorStep(o,a,i,s,u,"throw",c)}s(void 0)})}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return s=c.done,c},e:function(c){u=!0,o=c},f:function(){try{s||n.return==null||n.return()}finally{if(u)throw o}}}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function _iterableToArrayLimit(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var a,i,o=[],s=!0,u=!1;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(o.push(a.value),!e||o.length!==e);s=!0);}catch(c){u=!0,i=c}finally{try{s||n.return==null||n.return()}finally{if(u)throw i}}return o}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){var e,n=new PDFDocumentLoadingTask;if(typeof t=="string"||t instanceof URL)e={url:t};else if((0,_util.isArrayBuffer)(t))e={data:t};else if(t instanceof PDFDataRangeTransport)e={range:t};else{if(_typeof(t)!=="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");e=t}var a=Object.create(null),i=null,o=null;for(var s in e){var u=e[s];switch(s){case"url":if(typeof window<"u")try{a[s]=new URL(u,window.location).href;continue}catch(L){(0,_util.warn)('Cannot create valid URL: "'.concat(L,'".'))}else if(typeof u=="string"||u instanceof URL){a[s]=u.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=u;continue;case"worker":o=u;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&u instanceof Buffer)a[s]=new Uint8Array(u);else{if(u instanceof Uint8Array)break;if(typeof u=="string")a[s]=(0,_util.stringToBytes)(u);else if(_typeof(u)!=="object"||u===null||isNaN(u.length)){if(!(0,_util.isArrayBuffer)(u))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");a[s]=new Uint8Array(u)}else a[s]=new Uint8Array(u)}continue}a[s]=u}if(a.rangeChunkSize=a.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,a.CMapReaderFactory=a.CMapReaderFactory||DefaultCMapReaderFactory,a.ignoreErrors=a.stopAtErrors!==!0,a.fontExtraProperties=a.fontExtraProperties===!0,a.pdfBug=a.pdfBug===!0,a.enableXfa=a.enableXfa===!0,(typeof a.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(a.docBaseUrl))&&(a.docBaseUrl=null),Number.isInteger(a.maxImageSize)||(a.maxImageSize=-1),typeof a.isEvalSupported!="boolean"&&(a.isEvalSupported=!0),typeof a.disableFontFace!="boolean"&&(a.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),a.ownerDocument===void 0&&(a.ownerDocument=globalThis.document),typeof a.disableRange!="boolean"&&(a.disableRange=!1),typeof a.disableStream!="boolean"&&(a.disableStream=!1),typeof a.disableAutoFetch!="boolean"&&(a.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(a.verbosity),!o){var c={verbosity:a.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=c.port?PDFWorker.fromPort(c):new PDFWorker(c),n._worker=o}var f=n.docId;return o.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");var L=_fetchDocument(o,a,i,f),Se=new Promise(function(ge){var Le;i?Le=new _transport_stream.PDFDataTransportStream({length:a.length,initialData:a.initialData,progressiveDone:a.progressiveDone,contentDispositionFilename:a.contentDispositionFilename,disableRange:a.disableRange,disableStream:a.disableStream},i):a.data||(Le=createPDFNetworkStream({url:a.url,length:a.length,httpHeaders:a.httpHeaders,withCredentials:a.withCredentials,rangeChunkSize:a.rangeChunkSize,disableRange:a.disableRange,disableStream:a.disableStream})),ge(Le)});return Promise.all([L,Se]).then(function(ge){var Le=_slicedToArray(ge,2),We=Le[0],$e=Le[1];if(n.destroyed)throw new Error("Loading aborted");var Qe=new _message_handler.MessageHandler(f,We,o.port);Qe.postMessageTransfers=o.postMessageTransfers;var Ue=new WorkerTransport(Qe,n,$e,a);n._transport=Ue,Qe.send("Ready",null)})}).catch(n._capability.reject),n}function _fetchDocument(t,e,n,a){return t.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(e.length=n.length,e.initialData=n.initialData,e.progressiveDone=n.progressiveDone,e.contentDispositionFilename=n.contentDispositionFilename),t.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.9.359",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,postMessageTransfers:t.postMessageTransfers,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa}).then(function(i){if(t.destroyed)throw new Error("Worker was destroyed");return i}))}exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var PDFDocumentLoadingTask=(nextDocumentId=0,function(){function t(){_classCallCheck(this,t),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+nextDocumentId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(t,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})}}]),t}()),nextDocumentId,PDFDataRangeTransport=function(){function t(e,n){var a=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;_classCallCheck(this,t),this.length=e,this.initialData=n,this.progressiveDone=a,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(t,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,n){var a,i=_createForOfIteratorHelper(this._rangeListeners);try{for(i.s();!(a=i.n()).done;)(0,a.value)(e,n)}catch(o){i.e(o)}finally{i.f()}}},{key:"onDataProgress",value:function(e,n){var a=this;this._readyCapability.promise.then(function(){var i,o=_createForOfIteratorHelper(a._progressListeners);try{for(o.s();!(i=o.n()).done;)(0,i.value)(e,n)}catch(s){o.e(s)}finally{o.f()}})}},{key:"onDataProgressiveRead",value:function(e){var n=this;this._readyCapability.promise.then(function(){var a,i=_createForOfIteratorHelper(n._progressiveReadListeners);try{for(i.s();!(a=i.n()).done;)(0,a.value)(e)}catch(o){i.e(o)}finally{i.f()}})}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then(function(){var n,a=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(a.s();!(n=a.n()).done;)(0,n.value)()}catch(i){a.e(i)}finally{a.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,n){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),t}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function t(e,n){_classCallCheck(this,t),this._pdfInfo=e,this._transport=n}return _createClass(t,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"isPureXfa",get:function(){return this._pdfInfo.isPureXfa}},{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return arguments.length>0&&(0,_display_utils.deprecated)("saveDocument no longer accepts any options."),this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),t}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function t(e,n,a,i){var o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];_classCallCheck(this,t),this._pageIndex=e,this._pageInfo=n,this._ownerDocument=i,this._transport=a,this._stats=o?new _display_utils.StatTimer:null,this._pdfBug=o,this.commonObjs=a.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}return _createClass(t,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.scale,a=e.rotation,i=a===void 0?this.rotate:a,o=e.offsetX,s=o===void 0?0:o,u=e.offsetY,c=u===void 0?0:u,f=e.dontFlip,L=f!==void 0&&f;return new _display_utils.PageViewport({viewBox:this.view,scale:n,rotation:i,offsetX:s,offsetY:c,dontFlip:L})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.intent,a=n===void 0?null:n;return this._annotationsPromise&&this._annotationsIntent===a||(this._annotationsPromise=this._transport.getAnnotations(this._pageIndex,a),this._annotationsIntent=a),this._annotationsPromise}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){return this._xfaPromise||(this._xfaPromise=this._transport.getPageXfa(this._pageIndex))}},{key:"render",value:function(e){var n,a,i=this,o=e.canvasContext,s=e.viewport,u=e.intent,c=u===void 0?"display":u,f=e.renderInteractiveForms,L=f!==void 0&&f,Se=e.transform,ge=Se===void 0?null:Se,Le=e.imageLayer,We=Le===void 0?null:Le,$e=e.canvasFactory,Qe=$e===void 0?null:$e,Ue=e.background,De=Ue===void 0?null:Ue,we=e.includeAnnotationStorage,ve=we!==void 0&&we,Ce=e.optionalContentConfigPromise,Ee=Ce===void 0?null:Ce;((n=arguments[0])===null||n===void 0?void 0:n.annotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts an `annotationStorage` option, please use the `includeAnnotationStorage`-boolean instead."),ve||(ve=!!arguments[0].annotationStorage)),this._stats&&this._stats.time("Overall");var xe=c==="print"?"print":"display";this.pendingCleanup=!1,Ee||(Ee=this._transport.getOptionalContentConfig());var re=this._intentStates.get(xe);re||(re=Object.create(null),this._intentStates.set(xe,re)),re.streamReaderCancelTimeout&&(clearTimeout(re.streamReaderCancelTimeout),re.streamReaderCancelTimeout=null);var Ae=Qe||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),_=ve?this._transport.annotationStorage.serializable:null;re.displayReadyCapability||(re.displayReadyCapability=(0,_util.createPromiseCapability)(),re.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:xe,renderInteractiveForms:L===!0,annotationStorage:_}));var d=function(m){re.renderTasks.delete(g),(i.cleanupAfterRender||xe==="print")&&(i.pendingCleanup=!0),i._tryCleanup(),m?(g.capability.reject(m),i._abortOperatorList({intentState:re,reason:m})):g.capability.resolve(),i._stats&&(i._stats.timeEnd("Rendering"),i._stats.timeEnd("Overall"))},g=new InternalRenderTask({callback:d,params:{canvasContext:o,viewport:s,transform:ge,imageLayer:We,background:De},objs:this.objs,commonObjs:this.commonObjs,operatorList:re.operatorList,pageIndex:this._pageIndex,canvasFactory:Ae,useRequestAnimationFrame:xe!=="print",pdfBug:this._pdfBug});((a=re).renderTasks||(a.renderTasks=new Set)).add(g);var de=g.task;return Promise.all([re.displayReadyCapability.promise,Ee]).then(function(m){var Oe=_slicedToArray(m,2),Be=Oe[0],Me=Oe[1];i.pendingCleanup?d():(i._stats&&i._stats.time("Rendering"),g.initializeGraphics({transparency:Be,optionalContentConfig:Me}),g.operatorListChanged())}).catch(d),de}},{key:"getOperatorList",value:function(){var e,n,a="oplist",i=this._intentStates.get(a);return i||(i=Object.create(null),this._intentStates.set(a,i)),i.opListReadCapability||((e=Object.create(null)).operatorListChanged=function(){i.operatorList.lastChunk&&(i.opListReadCapability.resolve(i.operatorList),i.renderTasks.delete(e))},i.opListReadCapability=(0,_util.createPromiseCapability)(),((n=i).renderTasks||(n.renderTasks=new Set)).add(e),i.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:a})),i.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.normalizeWhitespace,a=n!==void 0&&n,i=e.disableCombineTextItems,o=i!==void 0&&i,s=e.includeMarkedContent,u=s!==void 0&&s,c=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:a===!0,combineTextItems:o!==!0,includeMarkedContent:u===!0},{highWaterMark:c,size:function(f){return f.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=this.streamTextContent(e);return new Promise(function(a,i){var o=n.getReader(),s={items:[],styles:Object.create(null)};(function u(){o.read().then(function(c){var f,L=c.value;c.done?a(s):(Object.assign(s.styles,L.styles),(f=s.items).push.apply(f,_toConsumableArray(L.items)),u())},i)})()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var e,n=[],a=_createForOfIteratorHelper(this._intentStates);try{for(a.s();!(e=a.n()).done;){var i=_slicedToArray(e.value,2),o=i[0],s=i[1];if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),o!=="oplist"){var u,c=_createForOfIteratorHelper(s.renderTasks);try{for(c.s();!(u=c.n()).done;){var f=u.value;n.push(f.completed),f.cancel()}}catch(L){c.e(L)}finally{c.f()}}}}catch(L){a.e(L)}finally{a.f()}return this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._xfaPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(n)}},{key:"cleanup",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!this.pendingCleanup)return!1;var n,a=_createForOfIteratorHelper(this._intentStates.values());try{for(a.s();!(n=a.n()).done;){var i=n.value,o=i.renderTasks,s=i.operatorList;if(o.size>0||!s.lastChunk)return!1}}catch(u){a.e(u)}finally{a.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._xfaPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(e,n){var a=this._intentStates.get(n);a&&(this._stats&&this._stats.timeEnd("Page Request"),a.displayReadyCapability&&a.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,n){for(var a=0,i=e.length;a<i;a++)n.operatorList.fnArray.push(e.fnArray[a]),n.operatorList.argsArray.push(e.argsArray[a]);n.operatorList.lastChunk=e.lastChunk;var o,s=_createForOfIteratorHelper(n.renderTasks);try{for(s.s();!(o=s.n()).done;)o.value.operatorListChanged()}catch(u){s.e(u)}finally{s.f()}e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var n=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var a=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),i=this._intentStates.get(e.intent);i.streamReader=a,function o(){a.read().then(function(s){var u=s.value;s.done?i.streamReader=null:n._transport.destroyed||(n._renderPageChunk(u,i),o())},function(s){if(i.streamReader=null,!n._transport.destroyed){if(i.operatorList){i.operatorList.lastChunk=!0;var u,c=_createForOfIteratorHelper(i.renderTasks);try{for(c.s();!(u=c.n()).done;)u.value.operatorListChanged()}catch(f){c.e(f)}finally{c.f()}n._tryCleanup()}if(i.displayReadyCapability)i.displayReadyCapability.reject(s);else{if(!i.opListReadCapability)throw s;i.opListReadCapability.reject(s)}}})}()}},{key:"_abortOperatorList",value:function(e){var n=this,a=e.intentState,i=e.reason,o=e.force,s=o!==void 0&&o;if((0,_util.assert)(i instanceof Error||_typeof(i)==="object"&&i!==null,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),a.streamReader){if(!s){if(a.renderTasks.size>0)return;if(i instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(function(){n._abortOperatorList({intentState:a,reason:i,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(i==null?void 0:i.message)),a.streamReader=null,!this._transport.destroyed){var u,c=_createForOfIteratorHelper(this._intentStates);try{for(c.s();!(u=c.n()).done;){var f=_slicedToArray(u.value,2),L=f[0];if(f[1]===a){this._intentStates.delete(L);break}}}catch(Se){c.e(Se)}finally{c.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),t}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function t(){_classCallCheck(this,t),this._listeners=[],this._deferred=Promise.resolve(void 0)}return _createClass(t,[{key:"postMessage",value:function(e,n){var a=this,i=new WeakMap,o={data:function s(u){if(_typeof(u)!=="object"||u===null)return u;if(i.has(u))return i.get(u);var c,f;if((c=u.buffer)&&(0,_util.isArrayBuffer)(c))return f=n!=null&&n.includes(c)?new u.constructor(c,u.byteOffset,u.byteLength):new u.constructor(u),i.set(u,f),f;if(u instanceof Map){f=new Map,i.set(u,f);var L,Se=_createForOfIteratorHelper(u);try{for(Se.s();!(L=Se.n()).done;){var ge=_slicedToArray(L.value,2),Le=ge[0],We=ge[1];f.set(Le,s(We))}}catch(Ee){Se.e(Ee)}finally{Se.f()}return f}if(u instanceof Set){f=new Set,i.set(u,f);var $e,Qe=_createForOfIteratorHelper(u);try{for(Qe.s();!($e=Qe.n()).done;){var Ue=$e.value;f.add(s(Ue))}}catch(Ee){Qe.e(Ee)}finally{Qe.f()}return f}if(u instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(u));for(var De in f=Array.isArray(u)?[]:Object.create(null),i.set(u,f),u){for(var we,ve=void 0,Ce=u;!(ve=Object.getOwnPropertyDescriptor(Ce,De));)Ce=Object.getPrototypeOf(Ce);if(ve.value!==void 0){if(typeof ve.value!="function")f[De]=s(ve.value);else if((we=u.hasOwnProperty)!==null&&we!==void 0&&we.call(u,De))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(u[De]))}}return f}(e)};this._deferred.then(function(){var s,u=_createForOfIteratorHelper(a._listeners);try{for(u.s();!(s=u.n()).done;)s.value.call(a,o)}catch(c){u.e(c)}finally{u.f()}})}},{key:"addEventListener",value:function(e,n){this._listeners.push(n)}},{key:"removeEventListener",value:function(e,n){var a=this._listeners.indexOf(n);this._listeners.splice(a,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),t}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if((typeof document>"u"?"undefined":_typeof(document))==="object"&&"currentScript"in document){var _document$currentScri,pdfjsFilePath=(_document$currentScri=document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(fallbackWorkerSrc!==void 0)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var t;try{var e;t=(e=globalThis.pdfjsWorker)===null||e===void 0?void 0:e.WorkerMessageHandler}catch{}return t||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref12=_asyncToGenerator(_regenerator.default.mark(function _callee(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}},_callee)}));return function(){return _ref12.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(t){var e="importScripts('"+t+"');";return URL.createObjectURL(new Blob([e]))}var PDFWorker=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.name,a=n===void 0?null:n,i=e.port,o=i===void 0?null:i,s=e.verbosity,u=s===void 0?(0,_util.getVerbosityLevel)():s;if(_classCallCheck(this,t),o&&pdfWorkerPorts.has(o))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=a,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=u,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return pdfWorkerPorts.set(o,this),void this._initializeFromPort(o);this._initialize()}return _createClass(t,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if(typeof Worker<"u"&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var n=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,n)||(n=createCDNWrapper(new URL(n,window.location).href));var a=new Worker(n),i=new _message_handler.MessageHandler("main","worker",a),o=function(){a.removeEventListener("error",s),i.destroy(),a.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},s=function(){e._webWorker||o()};a.addEventListener("error",s),i.on("test",function(c){a.removeEventListener("error",s),e.destroyed?o():c?(e._messageHandler=i,e._port=a,e._webWorker=a,c.supportTransfers||(e.postMessageTransfers=!1),e._readyCapability.resolve(),i.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),i.destroy(),a.terminate())}),i.on("ready",function(c){if(a.removeEventListener("error",s),e.destroyed)o();else try{u()}catch{e._setupFakeWorker()}});var u=function(){var c=new Uint8Array([e.postMessageTransfers?255:0]);try{i.send("test",c,[c.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),c[0]=0,i.send("test",c)}};return void u()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(function(n){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var a=new LoopbackPort;e._port=a;var i="fake"+nextFakeWorkerId++,o=new _message_handler.MessageHandler(i+"_worker",i,a);n.setup(o,a);var s=new _message_handler.MessageHandler(i,i+"_worker",a);e._messageHandler=s,e._readyCapability.resolve(),s.send("configure",{verbosity:e.verbosity})}}).catch(function(n){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(n.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(e.port)?pdfWorkerPorts.get(e.port):new t(e)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),t}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function t(n,a,i,o){_classCallCheck(this,t),this.messageHandler=n,this.loadingTask=a,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:a.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:o.ownerDocument}),this._params=o,this.CMapReaderFactory=new o.CMapReaderFactory({baseUrl:o.cMapUrl,isCompressed:o.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}var e;return _createClass(t,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"destroy",value:function(){var n=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var a,i=[],o=_createForOfIteratorHelper(this.pageCache);try{for(o.s();!(a=o.n()).done;){var s=a.value;s&&i.push(s._destroy())}}catch(c){o.e(c)}finally{o.f()}this.pageCache.length=0,this.pagePromises.length=0,this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var u=this.messageHandler.sendWithPromise("Terminate",null);return i.push(u),Promise.all(i).then(function(){n.commonObjs.clear(),n.fontLoader.clear(),n._hasJSActionsPromise=null,n._networkStream&&n._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),n.messageHandler&&(n.messageHandler.destroy(),n.messageHandler=null),n.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var n=this,a=this.messageHandler,i=this.loadingTask;a.on("GetReader",function(o,s){(0,_util.assert)(n._networkStream,"GetReader - no `IPDFStream` instance available."),n._fullReader=n._networkStream.getFullReader(),n._fullReader.onProgress=function(u){n._lastProgress={loaded:u.loaded,total:u.total}},s.onPull=function(){n._fullReader.read().then(function(u){var c=u.value;u.done?s.close():((0,_util.assert)((0,_util.isArrayBuffer)(c),"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(c),1,[c]))}).catch(function(u){s.error(u)})},s.onCancel=function(u){n._fullReader.cancel(u),s.ready.catch(function(c){if(!n.destroyed)throw c})}}),a.on("ReaderHeadersReady",function(o){var s=(0,_util.createPromiseCapability)(),u=n._fullReader;return u.headersReady.then(function(){u.isStreamingSupported&&u.isRangeSupported||(n._lastProgress&&i.onProgress&&i.onProgress(n._lastProgress),u.onProgress=function(c){i.onProgress&&i.onProgress({loaded:c.loaded,total:c.total})}),s.resolve({isStreamingSupported:u.isStreamingSupported,isRangeSupported:u.isRangeSupported,contentLength:u.contentLength})},s.reject),s.promise}),a.on("GetRangeReader",function(o,s){(0,_util.assert)(n._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var u=n._networkStream.getRangeReader(o.begin,o.end);u?(s.onPull=function(){u.read().then(function(c){var f=c.value;c.done?s.close():((0,_util.assert)((0,_util.isArrayBuffer)(f),"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(f),1,[f]))}).catch(function(c){s.error(c)})},s.onCancel=function(c){u.cancel(c),s.ready.catch(function(f){if(!n.destroyed)throw f})}):s.close()}),a.on("GetDoc",function(o){var s=o.pdfInfo;n._numPages=s.numPages,i._capability.resolve(new PDFDocumentProxy(s,n))}),a.on("DocException",function(o){var s;switch(o.name){case"PasswordException":s=new _util.PasswordException(o.message,o.code);break;case"InvalidPDFException":s=new _util.InvalidPDFException(o.message);break;case"MissingPDFException":s=new _util.MissingPDFException(o.message);break;case"UnexpectedResponseException":s=new _util.UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":s=new _util.UnknownErrorException(o.message,o.details)}s instanceof Error||(0,_util.warn)("DocException - expected a valid Error."),i._capability.reject(s)}),a.on("PasswordRequest",function(o){if(n._passwordCapability=(0,_util.createPromiseCapability)(),i.onPassword)try{i.onPassword(function(s){n._passwordCapability.resolve({password:s})},o.code)}catch(s){n._passwordCapability.reject(s)}else n._passwordCapability.reject(new _util.PasswordException(o.message,o.code));return n._passwordCapability.promise}),a.on("DataLoaded",function(o){i.onProgress&&i.onProgress({loaded:o.length,total:o.length}),n.downloadInfoCapability.resolve(o)}),a.on("StartRenderPage",function(o){n.destroyed||n.pageCache[o.pageIndex]._startRenderPage(o.transparency,o.intent)}),a.on("commonobj",function(o){var s;if(!n.destroyed){var u=_slicedToArray(o,3),c=u[0],f=u[1],L=u[2];if(!n.commonObjs.has(c))switch(f){case"Font":var Se=n._params;if("error"in L){var ge=L.error;(0,_util.warn)("Error during font loading: ".concat(ge)),n.commonObjs.resolve(c,ge);break}var Le=null;Se.pdfBug&&(s=globalThis.FontInspector)!==null&&s!==void 0&&s.enabled&&(Le={registerFont:function($e,Qe){globalThis.FontInspector.fontAdded($e,Qe)}});var We=new _font_loader.FontFaceObject(L,{isEvalSupported:Se.isEvalSupported,disableFontFace:Se.disableFontFace,ignoreErrors:Se.ignoreErrors,onUnsupportedFeature:n._onUnsupportedFeature.bind(n),fontRegistry:Le});n.fontLoader.bind(We).catch(function($e){return a.sendWithPromise("FontFallback",{id:c})}).finally(function(){!Se.fontExtraProperties&&We.data&&(We.data=null),n.commonObjs.resolve(c,We)});break;case"FontPath":case"Image":n.commonObjs.resolve(c,L);break;default:throw new Error("Got unknown common object type ".concat(f))}}}),a.on("obj",function(o){var s;if(!n.destroyed){var u=_slicedToArray(o,4),c=u[0],f=u[1],L=u[2],Se=u[3],ge=n.pageCache[f];if(!ge.objs.has(c)){if(L!=="Image")throw new Error("Got unknown object type ".concat(L));ge.objs.resolve(c,Se),(Se==null||(s=Se.data)===null||s===void 0?void 0:s.length)>8e6&&(ge.cleanupAfterRender=!0)}}}),a.on("DocProgress",function(o){n.destroyed||i.onProgress&&i.onProgress({loaded:o.loaded,total:o.total})}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",function(o,s){if(n.destroyed)s.error(new Error("Worker was destroyed"));else{var u=!1;s.onPull=function(){u?s.close():(u=!0,n.CMapReaderFactory.fetch(o).then(function(c){s.enqueue(c,1,[c.cMapData.buffer])}).catch(function(c){s.error(c)}))}}})}},{key:"_onUnsupportedFeature",value:function(n){var a=n.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(a)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(n){var a=this;if(!Number.isInteger(n)||n<=0||n>this._numPages)return Promise.reject(new Error("Invalid page request"));var i=n-1;if(i in this.pagePromises)return this.pagePromises[i];var o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(function(s){if(a.destroyed)throw new Error("Transport destroyed");var u=new PDFPageProxy(i,s,a,a._params.ownerDocument,a._params.pdfBug);return a.pageCache[i]=u,u});return this.pagePromises[i]=o,o}},{key:"getPageIndex",value:function(n){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:n}).catch(function(a){return Promise.reject(new Error(a))})}},{key:"getAnnotations",value:function(n,a){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:n,intent:a})}},{key:"saveDocument",value:function(){var n,a,i=this;return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(n=(a=this._fullReader)===null||a===void 0?void 0:a.filename)!==null&&n!==void 0?n:null}).finally(function(){i.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(n){return typeof n!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:n})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(n){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:n})}},{key:"getPageXfa",value:function(n){return this.messageHandler.sendWithPromise("GetPageXfa",{pageIndex:n})}},{key:"getStructTree",value:function(n){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:n})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(n){return new _optional_content_config.OptionalContentConfig(n)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var n=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(a){var i,o,s,u;return{info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:(i=(o=n._fullReader)===null||o===void 0?void 0:o.filename)!==null&&i!==void 0?i:null,contentLength:(s=(u=n._fullReader)===null||u===void 0?void 0:u.contentLength)!==null&&s!==void 0?s:null}})}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:(e=_asyncToGenerator(_regenerator.default.mark(function n(){var a,i,o,s,u=arguments;return _regenerator.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return a=u.length>0&&u[0]!==void 0&&u[0],c.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){c.next=5;break}return c.abrupt("return");case 5:i=0,o=this.pageCache.length;case 6:if(!(i<o)){c.next=16;break}if(s=this.pageCache[i]){c.next=10;break}return c.abrupt("continue",13);case 10:if(s.cleanup()){c.next=13;break}throw new Error("startCleanup: Page ".concat(i+1," is currently rendering."));case 13:i++,c.next=6;break;case 16:this.commonObjs.clear(),a||this.fontLoader.clear(),this._hasJSActionsPromise=null;case 19:case"end":return c.stop()}},n,this)})),function(){return e.apply(this,arguments)})},{key:"loadingParams",get:function(){var n=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:n.disableAutoFetch,disableFontFace:n.disableFontFace})}}]),t}(),PDFObjects=function(){function t(){_classCallCheck(this,t),this._objs=Object.create(null)}return _createClass(t,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(n)return this._ensureObj(e).capability.promise.then(n),null;var a=this._objs[e];if(!a||!a.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return a.data}},{key:"has",value:function(e){var n=this._objs[e];return(n==null?void 0:n.resolved)||!1}},{key:"resolve",value:function(e,n){var a=this._ensureObj(e);a.resolved=!0,a.data=n,a.capability.resolve(n)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),t}(),RenderTask=function(){function t(e){_classCallCheck(this,t),this._internalRenderTask=e,this.onContinue=null}return _createClass(t,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),t}(),InternalRenderTask=function(){var t=new WeakSet,e=function(){function n(i){var o=i.callback,s=i.params,u=i.objs,c=i.commonObjs,f=i.operatorList,L=i.pageIndex,Se=i.canvasFactory,ge=i.useRequestAnimationFrame,Le=ge!==void 0&&ge,We=i.pdfBug,$e=We!==void 0&&We;_classCallCheck(this,n),this.callback=o,this.params=s,this.objs=u,this.commonObjs=c,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=L,this.canvasFactory=Se,this._pdfBug=$e,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Le===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}var a;return _createClass(n,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(i){var o,s=i.transparency,u=s!==void 0&&s,c=i.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.add(this._canvas)}this._pdfBug&&(o=globalThis.StepperManager)!==null&&o!==void 0&&o.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var f=this.params,L=f.canvasContext,Se=f.viewport,ge=f.transform,Le=f.imageLayer,We=f.background;this.gfx=new _canvas.CanvasGraphics(L,this.commonObjs,this.objs,this.canvasFactory,Le,c),this.gfx.beginDrawing({transform:ge,viewport:Se,transparency:u,background:We}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&t.delete(this._canvas),this.callback(i||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var i=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){i._nextBound().catch(i._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(a=_asyncToGenerator(_regenerator.default.mark(function i(){return _regenerator.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.cancelled){o.next=2;break}return o.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&t.delete(this._canvas),this.callback()));case 4:case"end":return o.stop()}},i,this)})),function(){return a.apply(this,arguments)})}]),n}();return e}(),version="2.9.359";exports.version=version;var build="e667c8cbc";exports.build=build},(t,e,n)=>{function a(ve){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},a(ve)}Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i,o=(i=n(2))&&i.__esModule?i:{default:i},s=n(4);function u(ve,Ce){return u=Object.setPrototypeOf||function(Ee,xe){return Ee.__proto__=xe,Ee},u(ve,Ce)}function c(ve){var Ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ee,xe=L(ve);if(Ce){var re=L(this).constructor;Ee=Reflect.construct(xe,arguments,re)}else Ee=xe.apply(this,arguments);return f(this,Ee)}}function f(ve,Ce){return!Ce||a(Ce)!=="object"&&typeof Ce!="function"?function(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}(ve):Ce}function L(ve){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)},L(ve)}function Se(ve,Ce,Ee,xe,re,Ae,_){try{var d=ve[Ae](_),g=d.value}catch(de){return void Ee(de)}d.done?Ce(g):Promise.resolve(g).then(xe,re)}function ge(ve,Ce){var Ee=typeof Symbol<"u"&&ve[Symbol.iterator]||ve["@@iterator"];if(!Ee){if(Array.isArray(ve)||(Ee=function(g,de){if(g){if(typeof g=="string")return Le(g,de);var m=Object.prototype.toString.call(g).slice(8,-1);return m==="Object"&&g.constructor&&(m=g.constructor.name),m==="Map"||m==="Set"?Array.from(g):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?Le(g,de):void 0}}(ve))||Ce&&ve&&typeof ve.length=="number"){Ee&&(ve=Ee);var xe=0,re=function(){};return{s:re,n:function(){return xe>=ve.length?{done:!0}:{done:!1,value:ve[xe++]}},e:function(g){throw g},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ae,_=!0,d=!1;return{s:function(){Ee=Ee.call(ve)},n:function(){var g=Ee.next();return _=g.done,g},e:function(g){d=!0,Ae=g},f:function(){try{_||Ee.return==null||Ee.return()}finally{if(d)throw Ae}}}}function Le(ve,Ce){(Ce==null||Ce>ve.length)&&(Ce=ve.length);for(var Ee=0,xe=new Array(Ce);Ee<Ce;Ee++)xe[Ee]=ve[Ee];return xe}function We(ve,Ce){if(!(ve instanceof Ce))throw new TypeError("Cannot call a class as a function")}function $e(ve,Ce){for(var Ee=0;Ee<Ce.length;Ee++){var xe=Ce[Ee];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ve,xe.key,xe)}}function Qe(ve,Ce,Ee){return Ce&&$e(ve.prototype,Ce),Ee&&$e(ve,Ee),ve}var Ue,De=function(){function ve(xe){var re=xe.docId,Ae=xe.onUnsupportedFeature,_=xe.ownerDocument,d=_===void 0?globalThis.document:_;We(this,ve),this.constructor===ve&&(0,s.unreachable)("Cannot initialize BaseFontLoader."),this.docId=re,this._onUnsupportedFeature=Ae,this._document=d,this.nativeFontFaces=[],this.styleElement=null}var Ce,Ee;return Qe(ve,[{key:"addNativeFontFace",value:function(xe){this.nativeFontFaces.push(xe),this._document.fonts.add(xe)}},{key:"insertRule",value:function(xe){var re=this.styleElement;re||((re=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(re));var Ae=re.sheet;Ae.insertRule(xe,Ae.cssRules.length)}},{key:"clear",value:function(){var xe,re=ge(this.nativeFontFaces);try{for(re.s();!(xe=re.n()).done;){var Ae=xe.value;this._document.fonts.delete(Ae)}}catch(_){re.e(_)}finally{re.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(Ce=o.default.mark(function xe(re){var Ae,_,d=this;return o.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!re.attached&&!re.missingFile){g.next=2;break}return g.abrupt("return");case 2:if(re.attached=!0,!this.isFontLoadingAPISupported){g.next=19;break}if(!(Ae=re.createNativeFontFace())){g.next=18;break}return this.addNativeFontFace(Ae),g.prev=7,g.next=10,Ae.loaded;case 10:g.next=18;break;case 12:throw g.prev=12,g.t0=g.catch(7),this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,s.warn)("Failed to load font '".concat(Ae.family,"': '").concat(g.t0,"'.")),re.disableFontFace=!0,g.t0;case 18:return g.abrupt("return");case 19:if(!(_=re.createFontFaceRule())){g.next=26;break}if(this.insertRule(_),!this.isSyncFontLoadingSupported){g.next=24;break}return g.abrupt("return");case 24:return g.next=26,new Promise(function(de){var m=d._queueLoadingCallback(de);d._prepareFontLoadEvent([_],[re],m)});case 26:case"end":return g.stop()}},xe,this,[[7,12]])}),Ee=function(){var xe=this,re=arguments;return new Promise(function(Ae,_){var d=Ce.apply(xe,re);function g(m){Se(d,Ae,_,g,de,"next",m)}function de(m){Se(d,Ae,_,g,de,"throw",m)}g(void 0)})},function(xe){return Ee.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(xe){(0,s.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var xe;return(0,s.shadow)(this,"isFontLoadingAPISupported",!((xe=this._document)===null||xe===void 0||!xe.fonts))}},{key:"isSyncFontLoadingSupported",get:function(){(0,s.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,s.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(xe,re,Ae){(0,s.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),ve}();e.FontLoader=Ue,e.FontLoader=Ue=function(ve){(function(xe,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(re&&re.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),re&&u(xe,re)})(Ee,ve);var Ce=c(Ee);function Ee(xe){var re;return We(this,Ee),(re=Ce.call(this,xe)).loadingContext={requests:[],nextRequestId:0},re.loadTestFontId=0,re}return Qe(Ee,[{key:"isSyncFontLoadingSupported",get:function(){var xe=!1;if(typeof navigator>"u")xe=!0;else{var re=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(re==null?void 0:re[1])>=14&&(xe=!0)}return(0,s.shadow)(this,"isSyncFontLoadingSupported",xe)}},{key:"_queueLoadingCallback",value:function(xe){var re=this.loadingContext,Ae={id:"pdfjs-font-loading-".concat(re.nextRequestId++),done:!1,complete:function(){for((0,s.assert)(!Ae.done,"completeRequest() cannot be called twice."),Ae.done=!0;re.requests.length>0&&re.requests[0].done;){var _=re.requests.shift();setTimeout(_.callback,0)}},callback:xe};return re.requests.push(Ae),Ae}},{key:"_loadTestFont",get:function(){return(0,s.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(xe,re,Ae){var _,d,g=this;function de(Ke,Ge){return Ke.charCodeAt(Ge)<<24|Ke.charCodeAt(Ge+1)<<16|Ke.charCodeAt(Ge+2)<<8|255&Ke.charCodeAt(Ge+3)}function m(Ke,Ge,Ye,Xe){return Ke.substring(0,Ge)+Xe+Ke.substring(Ge+Ye)}var Oe=this._document.createElement("canvas");Oe.width=1,Oe.height=1;var Be=Oe.getContext("2d"),Me=0,Fe="lt".concat(Date.now()).concat(this.loadTestFontId++),$=this._loadTestFont,ee=1482184792,ke=de($=m($,976,Fe.length,Fe),16);for(_=0,d=Fe.length-3;_<d;_+=4)ke=ke-ee+de(Fe,_)|0;_<Fe.length&&(ke=ke-ee+de(Fe+"XXX",_)|0),$=m($,16,4,(0,s.string32)(ke));var je="url(data:font/opentype;base64,".concat(btoa($),");"),He='@font-face {font-family:"'.concat(Fe,'";src:').concat(je,"}");this.insertRule(He);var qe,ze=[],at=ge(re);try{for(at.s();!(qe=at.n()).done;){var et=qe.value;ze.push(et.loadedName)}}catch(Ke){at.e(Ke)}finally{at.f()}ze.push(Fe);var tt=this._document.createElement("div");tt.style.visibility="hidden",tt.style.width=tt.style.height="10px",tt.style.position="absolute",tt.style.top=tt.style.left="0px";for(var Ze=0,st=ze;Ze<st.length;Ze++){var ut=st[Ze],Je=this._document.createElement("span");Je.textContent="Hi",Je.style.fontFamily=ut,tt.appendChild(Je)}this._document.body.appendChild(tt),function Ke(Ge,Ye){if(++Me>30)return(0,s.warn)("Load test font never loaded."),void Ye();Be.font="30px "+Ge,Be.fillText(".",0,20),Be.getImageData(0,0,1,1).data[3]>0?Ye():setTimeout(Ke.bind(null,Ge,Ye))}(Fe,function(){g._document.body.removeChild(tt),Ae.complete()})}}]),Ee}(De);var we=function(){function ve(Ce,Ee){var xe=Ee.isEvalSupported,re=xe===void 0||xe,Ae=Ee.disableFontFace,_=Ae!==void 0&&Ae,d=Ee.ignoreErrors,g=d!==void 0&&d,de=Ee.onUnsupportedFeature,m=Ee.fontRegistry,Oe=m===void 0?null:m;for(var Be in We(this,ve),this.compiledGlyphs=Object.create(null),Ce)this[Be]=Ce[Be];this.isEvalSupported=re!==!1,this.disableFontFace=_===!0,this.ignoreErrors=g===!0,this._onUnsupportedFeature=de,this.fontRegistry=Oe}return Qe(ve,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var Ce;if(this.cssFontInfo){var Ee={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(Ee.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),Ce=new FontFace(this.cssFontInfo.fontFamily,this.data,Ee)}else Ce=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),Ce}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var Ce,Ee=(0,s.bytesToString)(this.data),xe="url(data:".concat(this.mimetype,";base64,").concat(btoa(Ee),");");if(this.cssFontInfo){var re="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(re+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),Ce='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(re,"src:").concat(xe,"}")}else Ce='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(xe,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,xe),Ce}},{key:"getPathGenerator",value:function(Ce,Ee){if(this.compiledGlyphs[Ee]!==void 0)return this.compiledGlyphs[Ee];var xe;try{xe=Ce.get(this.loadedName+"_path_"+Ee)}catch(de){if(!this.ignoreErrors)throw de;return this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,s.warn)('getPathGenerator - ignoring character: "'.concat(de,'".')),this.compiledGlyphs[Ee]=function(m,Oe){}}if(this.isEvalSupported&&s.IsEvalSupportedCached.value){var re,Ae=[],_=ge(xe);try{for(_.s();!(re=_.n()).done;){var d=re.value,g=d.args!==void 0?d.args.join(","):"";Ae.push("c.",d.cmd,"(",g,`);
`)}}catch(de){_.e(de)}finally{_.f()}return this.compiledGlyphs[Ee]=new Function("c","size",Ae.join(""))}return this.compiledGlyphs[Ee]=function(de,m){var Oe,Be=ge(xe);try{for(Be.s();!(Oe=Be.n()).done;){var Me=Oe.value;Me.cmd==="scale"&&(Me.args=[m,-m]),de[Me.cmd].apply(de,Me.args)}}catch(Fe){Be.e(Fe)}finally{Be.f()}}}}]),ve}();e.FontFaceObject=we},(t,e,n)=>{function a(Ue){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},a(Ue)}Object.defineProperty(e,"__esModule",{value:!0}),e.NodeCMapReaderFactory=e.NodeCanvasFactory=void 0;var i=n(1),o=n(6),s=n(4);function u(Ue,De){for(var we=0;we<De.length;we++){var ve=De[we];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(Ue,ve.key,ve)}}function c(Ue,De,we){return De&&u(Ue.prototype,De),we&&u(Ue,we),Ue}function f(Ue,De){if(typeof De!="function"&&De!==null)throw new TypeError("Super expression must either be null or a function");Ue.prototype=Object.create(De&&De.prototype,{constructor:{value:Ue,writable:!0,configurable:!0}}),De&&L(Ue,De)}function L(Ue,De){return L=Object.setPrototypeOf||function(we,ve){return we.__proto__=ve,we},L(Ue,De)}function Se(Ue){var De=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var we,ve=Le(Ue);if(De){var Ce=Le(this).constructor;we=Reflect.construct(ve,arguments,Ce)}else we=ve.apply(this,arguments);return ge(this,we)}}function ge(Ue,De){return!De||a(De)!=="object"&&typeof De!="function"?function(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}(Ue):De}function Le(Ue){return Le=Object.setPrototypeOf?Object.getPrototypeOf:function(De){return De.__proto__||Object.getPrototypeOf(De)},Le(Ue)}function We(Ue,De){if(!(Ue instanceof De))throw new TypeError("Cannot call a class as a function")}var $e=function Ue(){We(this,Ue),(0,s.unreachable)("Not implemented: NodeCanvasFactory")};e.NodeCanvasFactory=$e;var Qe=function Ue(){We(this,Ue),(0,s.unreachable)("Not implemented: NodeCMapReaderFactory")};e.NodeCMapReaderFactory=Qe,o.isNodeJS&&(e.NodeCanvasFactory=$e=function(Ue){f(we,Ue);var De=Se(we);function we(){return We(this,we),De.apply(this,arguments)}return c(we,[{key:"create",value:function(ve,Ce){if(ve<=0||Ce<=0)throw new Error("Invalid canvas size");var Ee=__webpack_require__(601).createCanvas(ve,Ce);return{canvas:Ee,context:Ee.getContext("2d")}}}]),we}(i.BaseCanvasFactory),e.NodeCMapReaderFactory=Qe=function(Ue){f(we,Ue);var De=Se(we);function we(){return We(this,we),De.apply(this,arguments)}return c(we,[{key:"_fetchData",value:function(ve,Ce){return new Promise(function(Ee,xe){__webpack_require__(767).readFile(ve,function(re,Ae){!re&&Ae?Ee({cMapData:new Uint8Array(Ae),compressionType:Ce}):xe(new Error(re))})})}}]),we}(i.BaseCMapReaderFactory))},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationStorage=void 0;var a=n(4);function i(c,f){return function(L){if(Array.isArray(L))return L}(c)||function(L,Se){var ge=L&&(typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"]);if(ge!=null){var Le,We,$e=[],Qe=!0,Ue=!1;try{for(ge=ge.call(L);!(Qe=(Le=ge.next()).done)&&($e.push(Le.value),!Se||$e.length!==Se);Qe=!0);}catch(De){Ue=!0,We=De}finally{try{Qe||ge.return==null||ge.return()}finally{if(Ue)throw We}}return $e}}(c,f)||function(L,Se){if(L){if(typeof L=="string")return o(L,Se);var ge=Object.prototype.toString.call(L).slice(8,-1);return ge==="Object"&&L.constructor&&(ge=L.constructor.name),ge==="Map"||ge==="Set"?Array.from(L):ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge)?o(L,Se):void 0}}(c,f)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(c,f){(f==null||f>c.length)&&(f=c.length);for(var L=0,Se=new Array(f);L<f;L++)Se[L]=c[L];return Se}function s(c,f){for(var L=0;L<f.length;L++){var Se=f[L];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(c,Se.key,Se)}}var u=function(){function c(){(function(Se,ge){if(!(Se instanceof ge))throw new TypeError("Cannot call a class as a function")})(this,c),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}var f,L;return f=c,(L=[{key:"getValue",value:function(Se,ge){var Le=this._storage.get(Se);return Le!==void 0?Le:ge}},{key:"setValue",value:function(Se,ge){var Le=this._storage.get(Se),We=!1;if(Le!==void 0)for(var $e=0,Qe=Object.entries(ge);$e<Qe.length;$e++){var Ue=i(Qe[$e],2),De=Ue[0],we=Ue[1];Le[De]!==we&&(We=!0,Le[De]=we)}else this._storage.set(Se,ge),We=!0;We&&this._setModified()}},{key:"getAll",value:function(){return this._storage.size>0?(0,a.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}}])&&s(f.prototype,L),c}();e.AnnotationStorage=u},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.apiCompatibilityParams=void 0;var a=n(6),i=Object.create(null);a.isNodeJS&&(i.disableFontFace=!0);var o=Object.freeze(i);e.apiCompatibilityParams=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var a=n(4),i=n(119);function o(we){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ve){return typeof ve}:function(ve){return ve&&typeof Symbol=="function"&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve},o(we)}function s(we,ve){var Ce=typeof Symbol<"u"&&we[Symbol.iterator]||we["@@iterator"];if(!Ce){if(Array.isArray(we)||(Ce=Se(we))||ve&&we&&typeof we.length=="number"){Ce&&(we=Ce);var Ee=0,xe=function(){};return{s:xe,n:function(){return Ee>=we.length?{done:!0}:{done:!1,value:we[Ee++]}},e:function(d){throw d},f:xe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,Ae=!0,_=!1;return{s:function(){Ce=Ce.call(we)},n:function(){var d=Ce.next();return Ae=d.done,d},e:function(d){_=!0,re=d},f:function(){try{Ae||Ce.return==null||Ce.return()}finally{if(_)throw re}}}}function u(we,ve){if(!(we instanceof ve))throw new TypeError("Cannot call a class as a function")}function c(we,ve){for(var Ce=0;Ce<ve.length;Ce++){var Ee=ve[Ce];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(we,Ee.key,Ee)}}function f(we,ve,Ce){return ve&&c(we.prototype,ve),Ce&&c(we,Ce),we}function L(we,ve){return function(Ce){if(Array.isArray(Ce))return Ce}(we)||function(Ce,Ee){var xe=Ce&&(typeof Symbol<"u"&&Ce[Symbol.iterator]||Ce["@@iterator"]);if(xe!=null){var re,Ae,_=[],d=!0,g=!1;try{for(xe=xe.call(Ce);!(d=(re=xe.next()).done)&&(_.push(re.value),!Ee||_.length!==Ee);d=!0);}catch(de){g=!0,Ae=de}finally{try{d||xe.return==null||xe.return()}finally{if(g)throw Ae}}return _}}(we,ve)||Se(we,ve)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Se(we,ve){if(we){if(typeof we=="string")return ge(we,ve);var Ce=Object.prototype.toString.call(we).slice(8,-1);return Ce==="Object"&&we.constructor&&(Ce=we.constructor.name),Ce==="Map"||Ce==="Set"?Array.from(we):Ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce)?ge(we,ve):void 0}}function ge(we,ve){(ve==null||ve>we.length)&&(ve=we.length);for(var Ce=0,Ee=new Array(ve);Ce<ve;Ce++)Ee[Ce]=we[Ce];return Ee}var Le=4096,We=16;function $e(we){if(!we.mozCurrentTransform){we._originalSave=we.save,we._originalRestore=we.restore,we._originalRotate=we.rotate,we._originalScale=we.scale,we._originalTranslate=we.translate,we._originalTransform=we.transform,we._originalSetTransform=we.setTransform,we._originalResetTransform=we.resetTransform,we._transformMatrix=we._transformMatrix||[1,0,0,1,0,0],we._transformStack=[];try{var ve=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(we),"lineWidth");we._setLineWidth=ve.set,we._getLineWidth=ve.get,Object.defineProperty(we,"lineWidth",{set:function(Ce){this._setLineWidth(1.000001*Ce)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(we,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(we,"mozCurrentTransformInverse",{get:function(){var Ce=L(this._transformMatrix,6),Ee=Ce[0],xe=Ce[1],re=Ce[2],Ae=Ce[3],_=Ce[4],d=Ce[5],g=Ee*Ae-xe*re,de=xe*re-Ee*Ae;return[Ae/g,xe/de,re/de,Ee/g,(Ae*_-re*d)/de,(xe*_-Ee*d)/g]}}),we.save=function(){var Ce=this._transformMatrix;this._transformStack.push(Ce),this._transformMatrix=Ce.slice(0,6),this._originalSave()},we.restore=function(){var Ce=this._transformStack.pop();Ce&&(this._transformMatrix=Ce,this._originalRestore())},we.translate=function(Ce,Ee){var xe=this._transformMatrix;xe[4]=xe[0]*Ce+xe[2]*Ee+xe[4],xe[5]=xe[1]*Ce+xe[3]*Ee+xe[5],this._originalTranslate(Ce,Ee)},we.scale=function(Ce,Ee){var xe=this._transformMatrix;xe[0]=xe[0]*Ce,xe[1]=xe[1]*Ce,xe[2]=xe[2]*Ee,xe[3]=xe[3]*Ee,this._originalScale(Ce,Ee)},we.transform=function(Ce,Ee,xe,re,Ae,_){var d=this._transformMatrix;this._transformMatrix=[d[0]*Ce+d[2]*Ee,d[1]*Ce+d[3]*Ee,d[0]*xe+d[2]*re,d[1]*xe+d[3]*re,d[0]*Ae+d[2]*_+d[4],d[1]*Ae+d[3]*_+d[5]],we._originalTransform(Ce,Ee,xe,re,Ae,_)},we.setTransform=function(Ce,Ee,xe,re,Ae,_){this._transformMatrix=[Ce,Ee,xe,re,Ae,_],we._originalSetTransform(Ce,Ee,xe,re,Ae,_)},we.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],we._originalResetTransform()},we.rotate=function(Ce){var Ee=Math.cos(Ce),xe=Math.sin(Ce),re=this._transformMatrix;this._transformMatrix=[re[0]*Ee+re[2]*xe,re[1]*Ee+re[3]*xe,re[0]*-xe+re[2]*Ee,re[1]*-xe+re[3]*Ee,re[4],re[5]],this._originalRotate(Ce)}}}var Qe=function(){function we(ve){u(this,we),this.canvasFactory=ve,this.cache=Object.create(null)}return f(we,[{key:"getCanvas",value:function(ve,Ce,Ee,xe){var re;return this.cache[ve]!==void 0?(re=this.cache[ve],this.canvasFactory.reset(re,Ce,Ee),re.context.setTransform(1,0,0,1,0,0)):(re=this.canvasFactory.create(Ce,Ee),this.cache[ve]=re),xe&&$e(re.context),re}},{key:"clear",value:function(){for(var ve in this.cache){var Ce=this.cache[ve];this.canvasFactory.destroy(Ce),delete this.cache[ve]}}}]),we}(),Ue=function(){function we(){u(this,we),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return f(we,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(ve,Ce){this.x=ve,this.y=Ce}}]),we}(),De=function(){function we(Me,Fe){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData<"u"&&Fe instanceof ImageData)Me.putImageData(Fe,0,0);else{var ee,ke,je,He,qe,ze,at,et,tt,Ze=Fe.height,st=Fe.width,ut=Ze%We,Je=(Ze-ut)/We,Ke=ut===0?Je:Je+1,Ge=Me.createImageData(st,We),Ye=0,Xe=Fe.data,rt=Ge.data;if($)switch($.length){case 1:ze=$[0],at=$[0],et=$[0],tt=$[0];break;case 4:ze=$[0],at=$[1],et=$[2],tt=$[3]}if(Fe.kind===a.ImageKind.GRAYSCALE_1BPP){var ot=Xe.byteLength,it=new Uint32Array(rt.buffer,0,rt.byteLength>>2),lt=it.length,ct=st+7>>3,dt=4294967295,gt=a.IsLittleEndianCached.value?4278190080:255;if(tt&&tt[0]===255&&tt[255]===0){var vt=[gt,dt];dt=vt[0],gt=vt[1]}for(ke=0;ke<Ke;ke++){for(He=ke<Je?We:ut,ee=0,je=0;je<He;je++){for(var pt=ot-Ye,_t=0,yt=pt>ct?st:8*pt-7,ft=-8&yt,mt=0,wt=0;_t<ft;_t+=8)wt=Xe[Ye++],it[ee++]=128&wt?dt:gt,it[ee++]=64&wt?dt:gt,it[ee++]=32&wt?dt:gt,it[ee++]=16&wt?dt:gt,it[ee++]=8&wt?dt:gt,it[ee++]=4&wt?dt:gt,it[ee++]=2&wt?dt:gt,it[ee++]=1&wt?dt:gt;for(;_t<yt;_t++)mt===0&&(wt=Xe[Ye++],mt=128),it[ee++]=wt&mt?dt:gt,mt>>=1}for(;ee<lt;)it[ee++]=0;Me.putImageData(Ge,0,ke*We)}}else if(Fe.kind===a.ImageKind.RGBA_32BPP){var At=!!(ze||at||et);for(je=0,qe=st*We*4,ke=0;ke<Je;ke++){if(rt.set(Xe.subarray(Ye,Ye+qe)),Ye+=qe,At)for(var St=0;St<qe;St+=4)ze&&(rt[St+0]=ze[rt[St+0]]),at&&(rt[St+1]=at[rt[St+1]]),et&&(rt[St+2]=et[rt[St+2]]);Me.putImageData(Ge,0,je),je+=We}if(ke<Ke){if(qe=st*ut*4,rt.set(Xe.subarray(Ye,Ye+qe)),At)for(var Et=0;Et<qe;Et+=4)ze&&(rt[Et+0]=ze[rt[Et+0]]),at&&(rt[Et+1]=at[rt[Et+1]]),et&&(rt[Et+2]=et[rt[Et+2]]);Me.putImageData(Ge,0,je)}}else{if(Fe.kind!==a.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(Fe.kind));var xt=!!(ze||at||et);for(qe=st*(He=We),ke=0;ke<Ke;ke++){for(ke>=Je&&(qe=st*(He=ut)),ee=0,je=qe;je--;)rt[ee++]=Xe[Ye++],rt[ee++]=Xe[Ye++],rt[ee++]=Xe[Ye++],rt[ee++]=255;if(xt)for(var Tt=0;Tt<ee;Tt+=4)ze&&(rt[Tt+0]=ze[rt[Tt+0]]),at&&(rt[Tt+1]=at[rt[Tt+1]]),et&&(rt[Tt+2]=et[rt[Tt+2]]);Me.putImageData(Ge,0,ke*We)}}}}function ve(Me,Fe){for(var $=Fe.height,ee=Fe.width,ke=$%We,je=($-ke)/We,He=ke===0?je:je+1,qe=Me.createImageData(ee,We),ze=0,at=Fe.data,et=qe.data,tt=0;tt<He;tt++){for(var Ze=tt<je?We:ke,st=3,ut=0;ut<Ze;ut++)for(var Je=void 0,Ke=0,Ge=0;Ge<ee;Ge++)Ke||(Je=at[ze++],Ke=128),et[st]=Je&Ke?0:255,st+=4,Ke>>=1;Me.putImageData(qe,0,tt*We)}}function Ce(Me,Fe){for(var $=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],ee=0,ke=$.length;ee<ke;ee++){var je=$[ee];Me[je]!==void 0&&(Fe[je]=Me[je])}Me.setLineDash!==void 0&&(Fe.setLineDash(Me.getLineDash()),Fe.lineDashOffset=Me.lineDashOffset)}function Ee(Me){Me.strokeStyle="#000000",Me.fillStyle="#000000",Me.fillRule="nonzero",Me.globalAlpha=1,Me.lineWidth=1,Me.lineCap="butt",Me.lineJoin="miter",Me.miterLimit=10,Me.globalCompositeOperation="source-over",Me.font="10px sans-serif",Me.setLineDash!==void 0&&(Me.setLineDash([]),Me.lineDashOffset=0)}function xe(Me,Fe,$,ee){for(var ke=Me.length,je=3;je<ke;je+=4){var He=Me[je];if(He===0)Me[je-3]=Fe,Me[je-2]=$,Me[je-1]=ee;else if(He<255){var qe=255-He;Me[je-3]=Me[je-3]*He+Fe*qe>>8,Me[je-2]=Me[je-2]*He+$*qe>>8,Me[je-1]=Me[je-1]*He+ee*qe>>8}}}function re(Me,Fe,$){for(var ee=Me.length,ke=3;ke<ee;ke+=4){var je=$?$[Me[ke]]:Me[ke];Fe[ke]=Fe[ke]*je*.00392156862745098|0}}function Ae(Me,Fe,$){for(var ee=Me.length,ke=3;ke<ee;ke+=4){var je=77*Me[ke-3]+152*Me[ke-2]+28*Me[ke-1];Fe[ke]=$?Fe[ke]*$[je>>8]>>8:Fe[ke]*je>>16}}function _(Me,Fe,$){var ee=Fe.canvas,ke=Fe.context;Me.setTransform(Fe.scaleX,0,0,Fe.scaleY,Fe.offsetX,Fe.offsetY),function(je,He,qe,ze,at,et,tt){var Ze,st=!!et,ut=st?et[0]:0,Je=st?et[1]:0,Ke=st?et[2]:0;Ze=at==="Luminosity"?Ae:re;for(var Ge=Math.min(ze,Math.ceil(1048576/qe)),Ye=0;Ye<ze;Ye+=Ge){var Xe=Math.min(Ge,ze-Ye),rt=je.getImageData(0,Ye,qe,Xe),ot=He.getImageData(0,Ye,qe,Xe);st&&xe(rt.data,ut,Je,Ke),Ze(rt.data,ot.data,tt),je.putImageData(ot,0,Ye)}}(ke,$,ee.width,ee.height,Fe.subtype,Fe.backdrop,Fe.transferMap),Me.drawImage(ee,0,0)}var d=["butt","round","square"],g=["miter","round","bevel"],de={},m={},Oe=function(){function Me(Fe,$,ee,ke,je,He){u(this,Me),this.ctx=Fe,this.current=new Ue,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=$,this.objs=ee,this.canvasFactory=ke,this.imageLayer=je,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=He,this.cachedCanvases=new Qe(this.canvasFactory),Fe&&$e(Fe),this._cachedGetSinglePixelWidth=null}return f(Me,[{key:"beginDrawing",value:function(Fe){var $=Fe.transform,ee=Fe.viewport,ke=Fe.transparency,je=ke!==void 0&&ke,He=Fe.background,qe=He===void 0?null:He,ze=this.ctx.canvas.width,at=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=qe||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,ze,at),this.ctx.restore(),je){var et=this.cachedCanvases.getCanvas("transparent",ze,at,!0);this.compositeCtx=this.ctx,this.transparentCanvas=et.canvas,this.ctx=et.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),Ee(this.ctx),$&&this.ctx.transform.apply(this.ctx,$),this.ctx.transform.apply(this.ctx,ee.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(Fe,$,ee,ke){var je=Fe.argsArray,He=Fe.fnArray,qe=$||0,ze=je.length;if(ze===qe)return qe;for(var at,et=ze-qe>10&&typeof ee=="function",tt=et?Date.now()+15:0,Ze=0,st=this.commonObjs,ut=this.objs;;){if(ke!==void 0&&qe===ke.nextBreakPoint)return ke.breakIt(qe,ee),qe;if((at=He[qe])!==a.OPS.dependency)this[at].apply(this,je[qe]);else{var Je,Ke=s(je[qe]);try{for(Ke.s();!(Je=Ke.n()).done;){var Ge=Je.value,Ye=Ge.startsWith("g_")?st:ut;if(!Ye.has(Ge))return Ye.get(Ge,ee),qe}}catch(Xe){Ke.e(Xe)}finally{Ke.f()}}if(++qe===ze)return qe;if(et&&++Ze>10){if(Date.now()>tt)return ee(),qe;Ze=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||this.current.activeSMask!==null;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"setLineWidth",value:function(Fe){this.current.lineWidth=Fe,this.ctx.lineWidth=Fe}},{key:"setLineCap",value:function(Fe){this.ctx.lineCap=d[Fe]}},{key:"setLineJoin",value:function(Fe){this.ctx.lineJoin=g[Fe]}},{key:"setMiterLimit",value:function(Fe){this.ctx.miterLimit=Fe}},{key:"setDash",value:function(Fe,$){var ee=this.ctx;ee.setLineDash!==void 0&&(ee.setLineDash(Fe),ee.lineDashOffset=$)}},{key:"setRenderingIntent",value:function(Fe){}},{key:"setFlatness",value:function(Fe){}},{key:"setGState",value:function(Fe){for(var $=0,ee=Fe.length;$<ee;$++){var ke=Fe[$],je=ke[0],He=ke[1];switch(je){case"LW":this.setLineWidth(He);break;case"LC":this.setLineCap(He);break;case"LJ":this.setLineJoin(He);break;case"ML":this.setMiterLimit(He);break;case"D":this.setDash(He[0],He[1]);break;case"RI":this.setRenderingIntent(He);break;case"FL":this.setFlatness(He);break;case"Font":this.setFont(He[0],He[1]);break;case"CA":this.current.strokeAlpha=ke[1];break;case"ca":this.current.fillAlpha=ke[1],this.ctx.globalAlpha=ke[1];break;case"BM":this.ctx.globalCompositeOperation=He;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=He?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=He}}}},{key:"beginSMaskGroup",value:function(){var Fe=this.current.activeSMask,$=Fe.canvas.width,ee=Fe.canvas.height,ke="smaskGroupAt"+this.groupLevel,je=this.cachedCanvases.getCanvas(ke,$,ee,!0),He=this.ctx,qe=He.mozCurrentTransform;this.ctx.save();var ze=je.context;ze.scale(1/Fe.scaleX,1/Fe.scaleY),ze.translate(-Fe.offsetX,-Fe.offsetY),ze.transform.apply(ze,qe),Fe.startTransformInverse=ze.mozCurrentTransformInverse,Ce(He,ze),this.ctx=ze,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(He),this.groupLevel++}},{key:"suspendSMaskGroup",value:function(){var Fe=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),_(this.ctx,this.current.activeSMask,Fe),this.ctx.restore(),this.ctx.save(),Ce(Fe,this.ctx),this.current.resumeSMaskCtx=Fe;var $=a.Util.transform(this.current.activeSMask.startTransformInverse,Fe.mozCurrentTransform);this.ctx.transform.apply(this.ctx,$),Fe.save(),Fe.setTransform(1,0,0,1,0,0),Fe.clearRect(0,0,Fe.canvas.width,Fe.canvas.height),Fe.restore()}},{key:"resumeSMaskGroup",value:function(){var Fe=this.current.resumeSMaskCtx,$=this.ctx;this.ctx=Fe,this.groupStack.push($),this.groupLevel++}},{key:"endSMaskGroup",value:function(){var Fe=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),_(this.ctx,this.current.activeSMask,Fe),this.ctx.restore(),Ce(Fe,this.ctx);var $=a.Util.transform(this.current.activeSMask.startTransformInverse,Fe.mozCurrentTransform);this.ctx.transform.apply(this.ctx,$)}},{key:"save",value:function(){this.ctx.save();var Fe=this.current;this.stateStack.push(Fe),this.current=Fe.clone(),this.current.resumeSMaskCtx=null}},{key:"restore",value:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),this.current.activeSMask===null||this.stateStack.length!==0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),this.stateStack.length!==0?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null}},{key:"transform",value:function(Fe,$,ee,ke,je,He){this.ctx.transform(Fe,$,ee,ke,je,He),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(Fe,$){for(var ee=this.ctx,ke=this.current,je=ke.x,He=ke.y,qe=0,ze=0,at=Fe.length;qe<at;qe++)switch(0|Fe[qe]){case a.OPS.rectangle:je=$[ze++],He=$[ze++];var et=$[ze++],tt=$[ze++],Ze=je+et,st=He+tt;ee.moveTo(je,He),et===0||tt===0?ee.lineTo(Ze,st):(ee.lineTo(Ze,He),ee.lineTo(Ze,st),ee.lineTo(je,st)),ee.closePath();break;case a.OPS.moveTo:je=$[ze++],He=$[ze++],ee.moveTo(je,He);break;case a.OPS.lineTo:je=$[ze++],He=$[ze++],ee.lineTo(je,He);break;case a.OPS.curveTo:je=$[ze+4],He=$[ze+5],ee.bezierCurveTo($[ze],$[ze+1],$[ze+2],$[ze+3],je,He),ze+=6;break;case a.OPS.curveTo2:ee.bezierCurveTo(je,He,$[ze],$[ze+1],$[ze+2],$[ze+3]),je=$[ze+2],He=$[ze+3],ze+=4;break;case a.OPS.curveTo3:je=$[ze+2],He=$[ze+3],ee.bezierCurveTo($[ze],$[ze+1],je,He,je,He),ze+=4;break;case a.OPS.closePath:ee.closePath()}ke.setCurrentPoint(je,He)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(Fe){Fe=Fe===void 0||Fe;var $=this.ctx,ee=this.current.strokeColor;if($.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(o(ee)==="object"&&ee!=null&&ee.getPattern){var ke=this.getSinglePixelWidth();$.save(),$.strokeStyle=ee.getPattern($,this),$.lineWidth=Math.max(ke,this.current.lineWidth),$.stroke(),$.restore()}else{var je=this.getSinglePixelWidth();je<0&&-je>=this.current.lineWidth?($.save(),$.resetTransform(),$.lineWidth=Math.round(this._combinedScaleFactor),$.stroke(),$.restore()):($.lineWidth=Math.max(je,this.current.lineWidth),$.stroke())}Fe&&this.consumePath(),$.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(Fe){Fe=Fe===void 0||Fe;var $=this.ctx,ee=this.current.fillColor,ke=!1;this.current.patternFill&&($.save(),$.fillStyle=ee.getPattern($,this),ke=!0),this.contentVisible&&(this.pendingEOFill?($.fill("evenodd"),this.pendingEOFill=!1):$.fill()),ke&&$.restore(),Fe&&this.consumePath()}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=de}},{key:"eoClip",value:function(){this.pendingClip=m}},{key:"beginText",value:function(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var Fe=this.pendingTextPaths,$=this.ctx;if(Fe!==void 0){$.save(),$.beginPath();for(var ee=0;ee<Fe.length;ee++){var ke=Fe[ee];$.setTransform.apply($,ke.transform),$.translate(ke.x,ke.y),ke.addToPath($,ke.fontSize)}$.restore(),$.clip(),$.beginPath(),delete this.pendingTextPaths}else $.beginPath()}},{key:"setCharSpacing",value:function(Fe){this.current.charSpacing=Fe}},{key:"setWordSpacing",value:function(Fe){this.current.wordSpacing=Fe}},{key:"setHScale",value:function(Fe){this.current.textHScale=Fe/100}},{key:"setLeading",value:function(Fe){this.current.leading=-Fe}},{key:"setFont",value:function(Fe,$){var ee=this.commonObjs.get(Fe),ke=this.current;if(!ee)throw new Error("Can't find font for ".concat(Fe));if(ke.fontMatrix=ee.fontMatrix||a.FONT_IDENTITY_MATRIX,ke.fontMatrix[0]!==0&&ke.fontMatrix[3]!==0||(0,a.warn)("Invalid font matrix for font "+Fe),$<0?($=-$,ke.fontDirection=-1):ke.fontDirection=1,this.current.font=ee,this.current.fontSize=$,!ee.isType3Font){var je=ee.loadedName||"sans-serif",He="normal";ee.black?He="900":ee.bold&&(He="bold");var qe=ee.italic?"italic":"normal",ze='"'.concat(je,'", ').concat(ee.fallbackName),at=$;$<16?at=16:$>100&&(at=100),this.current.fontSizeScale=$/at,this.ctx.font="".concat(qe," ").concat(He," ").concat(at,"px ").concat(ze)}}},{key:"setTextRenderingMode",value:function(Fe){this.current.textRenderingMode=Fe}},{key:"setTextRise",value:function(Fe){this.current.textRise=Fe}},{key:"moveText",value:function(Fe,$){this.current.x=this.current.lineX+=Fe,this.current.y=this.current.lineY+=$}},{key:"setLeadingMoveText",value:function(Fe,$){this.setLeading(-$),this.moveText(Fe,$)}},{key:"setTextMatrix",value:function(Fe,$,ee,ke,je,He){this.current.textMatrix=[Fe,$,ee,ke,je,He],this.current.textMatrixScale=Math.hypot(Fe,$),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(Fe,$,ee,ke,je){var He,qe=this.ctx,ze=this.current,at=ze.font,et=ze.textRenderingMode,tt=ze.fontSize/ze.fontSizeScale,Ze=et&a.TextRenderingMode.FILL_STROKE_MASK,st=!!(et&a.TextRenderingMode.ADD_TO_PATH_FLAG),ut=ze.patternFill&&!at.missingFile;(at.disableFontFace||st||ut)&&(He=at.getPathGenerator(this.commonObjs,Fe)),at.disableFontFace||ut?(qe.save(),qe.translate($,ee),qe.beginPath(),He(qe,tt),ke&&qe.setTransform.apply(qe,ke),Ze!==a.TextRenderingMode.FILL&&Ze!==a.TextRenderingMode.FILL_STROKE||qe.fill(),Ze!==a.TextRenderingMode.STROKE&&Ze!==a.TextRenderingMode.FILL_STROKE||(je&&(qe.resetTransform(),qe.lineWidth=Math.round(this._combinedScaleFactor)),qe.stroke()),qe.restore()):(Ze!==a.TextRenderingMode.FILL&&Ze!==a.TextRenderingMode.FILL_STROKE||qe.fillText(Fe,$,ee),Ze!==a.TextRenderingMode.STROKE&&Ze!==a.TextRenderingMode.FILL_STROKE||(je?(qe.save(),qe.moveTo($,ee),qe.resetTransform(),qe.lineWidth=Math.round(this._combinedScaleFactor),qe.strokeText(Fe,0,0),qe.restore()):qe.strokeText(Fe,$,ee))),st&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:qe.mozCurrentTransform,x:$,y:ee,fontSize:tt,addToPath:He})}},{key:"isFontSubpixelAAEnabled",get:function(){var Fe=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;Fe.scale(1.5,1),Fe.fillText("I",0,10);for(var $=Fe.getImageData(0,0,10,10).data,ee=!1,ke=3;ke<$.length;ke+=4)if($[ke]>0&&$[ke]<255){ee=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",ee)}},{key:"showText",value:function(Fe){var $=this.current,ee=$.font;if(ee.isType3Font)return this.showType3Text(Fe);var ke=$.fontSize;if(ke!==0){var je,He=this.ctx,qe=$.fontSizeScale,ze=$.charSpacing,at=$.wordSpacing,et=$.fontDirection,tt=$.textHScale*et,Ze=Fe.length,st=ee.vertical,ut=st?1:-1,Je=ee.defaultVMetrics,Ke=ke*$.fontMatrix[0],Ge=$.textRenderingMode===a.TextRenderingMode.FILL&&!ee.disableFontFace&&!$.patternFill;if(He.save(),$.patternFill){He.save();var Ye=$.fillColor.getPattern(He,this);je=He.mozCurrentTransform,He.restore(),He.fillStyle=Ye}He.transform.apply(He,$.textMatrix),He.translate($.x,$.y+$.textRise),et>0?He.scale(tt,-1):He.scale(tt,1);var Xe=$.lineWidth,rt=!1,ot=$.textMatrixScale;if(ot===0||Xe===0){var it=$.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;it!==a.TextRenderingMode.STROKE&&it!==a.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,rt=(Xe=this.getSinglePixelWidth())<0)}else Xe/=ot;qe!==1&&(He.scale(qe,qe),Xe/=qe),He.lineWidth=Xe;var lt,ct=0;for(lt=0;lt<Ze;++lt){var dt=Fe[lt];if((0,a.isNum)(dt))ct+=ut*dt*ke/1e3;else{var gt=!1,vt=(dt.isSpace?at:0)+ze,pt=dt.fontChar,_t=dt.accent,yt=void 0,ft=void 0,mt=dt.width;if(st){var wt=dt.vmetric||Je,At=-(dt.vmetric?wt[1]:.5*mt)*Ke,St=wt[2]*Ke;mt=wt?-wt[0]:mt,yt=At/qe,ft=(ct+St)/qe}else yt=ct/qe,ft=0;if(ee.remeasure&&mt>0){var Et=1e3*He.measureText(pt).width/ke*qe;if(mt<Et&&this.isFontSubpixelAAEnabled){var xt=mt/Et;gt=!0,He.save(),He.scale(xt,1),yt/=xt}else mt!==Et&&(yt+=(mt-Et)/2e3*ke/qe)}if(this.contentVisible&&(dt.isInFont||ee.missingFile)){if(Ge&&!_t)He.fillText(pt,yt,ft);else if(this.paintChar(pt,yt,ft,je,rt),_t){var Tt=yt+ke*_t.offset.x/qe,Ot=ft-ke*_t.offset.y/qe;this.paintChar(_t.fontChar,Tt,Ot,je,rt)}}ct+=st?mt*Ke-vt*et:mt*Ke+vt*et,gt&&He.restore()}}st?$.y-=ct:$.x+=ct*tt,He.restore()}}},{key:"showType3Text",value:function(Fe){var $,ee,ke,je,He=this.ctx,qe=this.current,ze=qe.font,at=qe.fontSize,et=qe.fontDirection,tt=ze.vertical?1:-1,Ze=qe.charSpacing,st=qe.wordSpacing,ut=qe.textHScale*et,Je=qe.fontMatrix||a.FONT_IDENTITY_MATRIX,Ke=Fe.length;if(qe.textRenderingMode!==a.TextRenderingMode.INVISIBLE&&at!==0){for(this._cachedGetSinglePixelWidth=null,He.save(),He.transform.apply(He,qe.textMatrix),He.translate(qe.x,qe.y),He.scale(ut,et),$=0;$<Ke;++$)if(ee=Fe[$],(0,a.isNum)(ee))je=tt*ee*at/1e3,this.ctx.translate(je,0),qe.x+=je*ut;else{var Ge=(ee.isSpace?st:0)+Ze,Ye=ze.charProcOperatorList[ee.operatorListId];Ye?(this.contentVisible&&(this.processingType3=ee,this.save(),He.scale(at,at),He.transform.apply(He,Je),this.executeOperatorList(Ye),this.restore()),ke=a.Util.applyTransform([ee.width,0],Je)[0]*at+Ge,He.translate(ke,0),qe.x+=ke*ut):(0,a.warn)('Type3 character "'.concat(ee.operatorListId,'" is not available.'))}He.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(Fe,$){}},{key:"setCharWidthAndBounds",value:function(Fe,$,ee,ke,je,He){this.ctx.rect(ee,ke,je-ee,He-ke),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(Fe){var $,ee=this;if(Fe[0]==="TilingPattern"){var ke=Fe[1],je=this.baseTransform||this.ctx.mozCurrentTransform.slice(),He={createCanvasGraphics:function(qe){return new Me(qe,ee.commonObjs,ee.objs,ee.canvasFactory)}};$=new i.TilingPattern(Fe,ke,this.ctx,He,je)}else $=(0,i.getShadingPattern)(Fe);return $}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(Fe,$,ee){var ke=a.Util.makeHexColor(Fe,$,ee);this.ctx.strokeStyle=ke,this.current.strokeColor=ke}},{key:"setFillRGBColor",value:function(Fe,$,ee){var ke=a.Util.makeHexColor(Fe,$,ee);this.ctx.fillStyle=ke,this.current.fillColor=ke,this.current.patternFill=!1}},{key:"shadingFill",value:function(Fe){if(this.contentVisible){var $=this.ctx;this.save();var ee=(0,i.getShadingPattern)(Fe);$.fillStyle=ee.getPattern($,this,!0);var ke=$.mozCurrentTransformInverse;if(ke){var je=$.canvas,He=je.width,qe=je.height,ze=a.Util.applyTransform([0,0],ke),at=a.Util.applyTransform([0,qe],ke),et=a.Util.applyTransform([He,0],ke),tt=a.Util.applyTransform([He,qe],ke),Ze=Math.min(ze[0],at[0],et[0],tt[0]),st=Math.min(ze[1],at[1],et[1],tt[1]),ut=Math.max(ze[0],at[0],et[0],tt[0]),Je=Math.max(ze[1],at[1],et[1],tt[1]);this.ctx.fillRect(Ze,st,ut-Ze,Je-st)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}}},{key:"beginInlineImage",value:function(){(0,a.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,a.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(Fe,$){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Fe)&&Fe.length===6&&this.transform.apply(this,Fe),this.baseTransform=this.ctx.mozCurrentTransform,$)){var ee=$[2]-$[0],ke=$[3]-$[1];this.ctx.rect($[0],$[1],ee,ke),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(Fe){if(this.contentVisible){this.save();var $=this.ctx;Fe.isolated||(0,a.info)("TODO: Support non-isolated groups."),Fe.knockout&&(0,a.warn)("Knockout groups not supported.");var ee=$.mozCurrentTransform;if(Fe.matrix&&$.transform.apply($,Fe.matrix),!Fe.bbox)throw new Error("Bounding box is required.");var ke=a.Util.getAxialAlignedBoundingBox(Fe.bbox,$.mozCurrentTransform),je=[0,0,$.canvas.width,$.canvas.height];ke=a.Util.intersect(ke,je)||[0,0,0,0];var He=Math.floor(ke[0]),qe=Math.floor(ke[1]),ze=Math.max(Math.ceil(ke[2])-He,1),at=Math.max(Math.ceil(ke[3])-qe,1),et=1,tt=1;ze>Le&&(et=ze/Le,ze=Le),at>Le&&(tt=at/Le,at=Le);var Ze="groupAt"+this.groupLevel;Fe.smask&&(Ze+="_smask_"+this.smaskCounter++%2);var st=this.cachedCanvases.getCanvas(Ze,ze,at,!0),ut=st.context;ut.scale(1/et,1/tt),ut.translate(-He,-qe),ut.transform.apply(ut,ee),Fe.smask?this.smaskStack.push({canvas:st.canvas,context:ut,offsetX:He,offsetY:qe,scaleX:et,scaleY:tt,subtype:Fe.smask.subtype,backdrop:Fe.smask.backdrop,transferMap:Fe.smask.transferMap||null,startTransformInverse:null}):($.setTransform(1,0,0,1,0,0),$.translate(He,qe),$.scale(et,tt)),Ce($,ut),this.ctx=ut,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push($),this.groupLevel++,this.current.activeSMask=null}}},{key:"endGroup",value:function(Fe){if(this.contentVisible){this.groupLevel--;var $=this.ctx;this.ctx=this.groupStack.pop(),this.ctx.imageSmoothingEnabled!==void 0?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,Fe.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage($.canvas,0,0),this.restore()}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(Fe,$,ee){if(this.save(),Ee(this.ctx),this.current=new Ue,Array.isArray(Fe)&&Fe.length===4){var ke=Fe[2]-Fe[0],je=Fe[3]-Fe[1];this.ctx.rect(Fe[0],Fe[1],ke,je),this.clip(),this.endPath()}this.transform.apply(this,$),this.transform.apply(this,ee)}},{key:"endAnnotation",value:function(){this.restore()}},{key:"paintImageMaskXObject",value:function(Fe){if(this.contentVisible){var $=this.ctx,ee=Fe.width,ke=Fe.height,je=this.current.fillColor,He=this.current.patternFill,qe=this.processingType3;if(qe&&qe.compiled===void 0&&(qe.compiled=ee<=1e3&&ke<=1e3?function(et){var tt,Ze,st,ut,Je=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ke=et.width,Ge=et.height,Ye=Ke+1,Xe=new Uint8Array(Ye*(Ge+1)),rt=Ke+7&-8,ot=et.data,it=new Uint8Array(rt*Ge),lt=0;for(tt=0,Ze=ot.length;tt<Ze;tt++)for(var ct=ot[tt],dt=128;dt>0;)it[lt++]=ct&dt?0:255,dt>>=1;var gt=0;for(it[lt=0]!==0&&(Xe[0]=1,++gt),st=1;st<Ke;st++)it[lt]!==it[lt+1]&&(Xe[st]=it[lt]?2:1,++gt),lt++;for(it[lt]!==0&&(Xe[st]=2,++gt),tt=1;tt<Ge;tt++){ut=tt*Ye,it[(lt=tt*rt)-rt]!==it[lt]&&(Xe[ut]=it[lt]?1:8,++gt);var vt=(it[lt]?4:0)+(it[lt-rt]?8:0);for(st=1;st<Ke;st++)Je[vt=(vt>>2)+(it[lt+1]?4:0)+(it[lt-rt+1]?8:0)]&&(Xe[ut+st]=Je[vt],++gt),lt++;if(it[lt-rt]!==it[lt]&&(Xe[ut+st]=it[lt]?2:4,++gt),gt>1e3)return null}for(ut=tt*Ye,it[lt=rt*(Ge-1)]!==0&&(Xe[ut]=8,++gt),st=1;st<Ke;st++)it[lt]!==it[lt+1]&&(Xe[ut+st]=it[lt]?4:8,++gt),lt++;if(it[lt]!==0&&(Xe[ut+st]=4,++gt),gt>1e3)return null;var pt=new Int32Array([0,Ye,-1,0,-Ye,0,0,0,1]),_t=[];for(tt=0;gt&&tt<=Ge;tt++){for(var yt=tt*Ye,ft=yt+Ke;yt<ft&&!Xe[yt];)yt++;if(yt!==ft){var mt=[yt%Ye,tt],wt=yt,At=Xe[yt];do{var St=pt[At];do yt+=St;while(!Xe[yt]);var Et=Xe[yt];Et!==5&&Et!==10?(At=Et,Xe[yt]=0):(At=Et&51*At>>4,Xe[yt]&=At>>2|At<<2),mt.push(yt%Ye,yt/Ye|0),Xe[yt]||--gt}while(wt!==yt);_t.push(mt),--tt}}return function(xt){xt.save(),xt.scale(1/Ke,-1/Ge),xt.translate(0,-Ge),xt.beginPath();for(var Tt=0,Ot=_t.length;Tt<Ot;Tt++){var Dt=_t[Tt];xt.moveTo(Dt[0],Dt[1]);for(var Ut=2,$t=Dt.length;Ut<$t;Ut+=2)xt.lineTo(Dt[Ut],Dt[Ut+1])}xt.fill(),xt.beginPath(),xt.restore()}}({data:Fe.data,width:ee,height:ke}):null),qe!=null&&qe.compiled)qe.compiled($);else{var ze=this.cachedCanvases.getCanvas("maskCanvas",ee,ke),at=ze.context;at.save(),ve(at,Fe),at.globalCompositeOperation="source-in",at.fillStyle=He?je.getPattern(at,this):je,at.fillRect(0,0,ee,ke),at.restore(),this.paintInlineImageXObject(ze.canvas)}}}},{key:"paintImageMaskXObjectRepeat",value:function(Fe,$){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ke=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,je=arguments.length>4?arguments[4]:void 0,He=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var qe=Fe.width,ze=Fe.height,at=this.current.fillColor,et=this.current.patternFill,tt=this.cachedCanvases.getCanvas("maskCanvas",qe,ze),Ze=tt.context;Ze.save(),ve(Ze,Fe),Ze.globalCompositeOperation="source-in",Ze.fillStyle=et?at.getPattern(Ze,this):at,Ze.fillRect(0,0,qe,ze),Ze.restore();for(var st=this.ctx,ut=0,Je=He.length;ut<Je;ut+=2)st.save(),st.transform($,ee,ke,je,He[ut],He[ut+1]),st.scale(1,-1),st.drawImage(tt.canvas,0,0,qe,ze,0,-1,1,1),st.restore()}}},{key:"paintImageMaskXObjectGroup",value:function(Fe){if(this.contentVisible)for(var $=this.ctx,ee=this.current.fillColor,ke=this.current.patternFill,je=0,He=Fe.length;je<He;je++){var qe=Fe[je],ze=qe.width,at=qe.height,et=this.cachedCanvases.getCanvas("maskCanvas",ze,at),tt=et.context;tt.save(),ve(tt,qe),tt.globalCompositeOperation="source-in",tt.fillStyle=ke?ee.getPattern(tt,this):ee,tt.fillRect(0,0,ze,at),tt.restore(),$.save(),$.transform.apply($,qe.transform),$.scale(1,-1),$.drawImage(et.canvas,0,0,ze,at,0,-1,1,1),$.restore()}}},{key:"paintImageXObject",value:function(Fe){if(this.contentVisible){var $=Fe.startsWith("g_")?this.commonObjs.get(Fe):this.objs.get(Fe);$?this.paintInlineImageXObject($):(0,a.warn)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(Fe,$,ee,ke){if(this.contentVisible){var je=Fe.startsWith("g_")?this.commonObjs.get(Fe):this.objs.get(Fe);if(je){for(var He=je.width,qe=je.height,ze=[],at=0,et=ke.length;at<et;at+=2)ze.push({transform:[$,0,0,ee,ke[at],ke[at+1]],x:0,y:0,w:He,h:qe});this.paintInlineImageXObjectGroup(je,ze)}else(0,a.warn)("Dependent image isn't ready yet")}}},{key:"paintInlineImageXObject",value:function(Fe){if(this.contentVisible){var $=Fe.width,ee=Fe.height,ke=this.ctx;this.save(),ke.scale(1/$,-1/ee);var je,He,qe,ze=ke.mozCurrentTransformInverse,at=Math.max(Math.hypot(ze[0],ze[1]),1),et=Math.max(Math.hypot(ze[2],ze[3]),1);typeof HTMLElement=="function"&&Fe instanceof HTMLElement||!Fe.data?je=Fe:(we(qe=(He=this.cachedCanvases.getCanvas("inlineImage",$,ee)).context,Fe,this.current.transferMaps),je=He.canvas);for(var tt=$,Ze=ee,st="prescale1";at>2&&tt>1||et>2&&Ze>1;){var ut=tt,Je=Ze;at>2&&tt>1&&(at/=tt/(ut=Math.ceil(tt/2))),et>2&&Ze>1&&(et/=Ze/(Je=Math.ceil(Ze/2))),(qe=(He=this.cachedCanvases.getCanvas(st,ut,Je)).context).clearRect(0,0,ut,Je),qe.drawImage(je,0,0,tt,Ze,0,0,ut,Je),je=He.canvas,tt=ut,Ze=Je,st=st==="prescale1"?"prescale2":"prescale1"}if(ke.drawImage(je,0,0,tt,Ze,0,-ee,$,ee),this.imageLayer){var Ke=this.getCanvasPosition(0,-ee);this.imageLayer.appendImage({imgData:Fe,left:Ke[0],top:Ke[1],width:$/ze[0],height:ee/ze[3]})}this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(Fe,$){if(this.contentVisible){var ee=this.ctx,ke=Fe.width,je=Fe.height,He=this.cachedCanvases.getCanvas("inlineImage",ke,je);we(He.context,Fe,this.current.transferMaps);for(var qe=0,ze=$.length;qe<ze;qe++){var at=$[qe];if(ee.save(),ee.transform.apply(ee,at.transform),ee.scale(1,-1),ee.drawImage(He.canvas,at.x,at.y,at.w,at.h,0,-1,1,1),this.imageLayer){var et=this.getCanvasPosition(at.x,at.y);this.imageLayer.appendImage({imgData:Fe,left:et[0],top:et[1],width:ke,height:je})}ee.restore()}}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)}},{key:"markPoint",value:function(Fe){}},{key:"markPointProps",value:function(Fe,$){}},{key:"beginMarkedContent",value:function(Fe){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(Fe,$){Fe==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible($)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(){var Fe=this.ctx;this.pendingClip&&(this.pendingClip===m?Fe.clip("evenodd"):Fe.clip(),this.pendingClip=null),Fe.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(this._cachedGetSinglePixelWidth===null){var Fe=this.ctx.mozCurrentTransform,$=Math.abs(Fe[0]*Fe[3]-Fe[2]*Fe[1]),ee=Math.pow(Fe[0],2)+Math.pow(Fe[2],2),ke=Math.pow(Fe[1],2)+Math.pow(Fe[3],2),je=Math.sqrt(Math.max(ee,ke))/$;ee!==ke&&this._combinedScaleFactor*je>1?this._cachedGetSinglePixelWidth=-this._combinedScaleFactor*je:$>Number.EPSILON?this._cachedGetSinglePixelWidth=je:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(Fe,$){var ee=this.ctx.mozCurrentTransform;return[ee[0]*Fe+ee[2]*$+ee[4],ee[1]*Fe+ee[3]*$+ee[5]]}},{key:"isContentVisible",value:function(){for(var Fe=this.markedContentStack.length-1;Fe>=0;Fe--)if(!this.markedContentStack[Fe].visible)return!1;return!0}}]),Me}();for(var Be in a.OPS)Oe.prototype[a.OPS[Be]]=Oe.prototype[Be];return Oe}();e.CanvasGraphics=De},(t,e,n)=>{function a(d){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a(d)}Object.defineProperty(e,"__esModule",{value:!0}),e.getShadingPattern=function(d){switch(d[0]){case"RadialAxial":return new we(d);case"Mesh":return new Ee(d);case"Dummy":return new xe}throw new Error("Unknown IR type: ".concat(d[0]))},e.TilingPattern=void 0;var i,o=n(4);function s(d,g){var de=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!de){if(Array.isArray(d)||(de=function($,ee){if($){if(typeof $=="string")return u($,ee);var ke=Object.prototype.toString.call($).slice(8,-1);return ke==="Object"&&$.constructor&&(ke=$.constructor.name),ke==="Map"||ke==="Set"?Array.from($):ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ke)?u($,ee):void 0}}(d))||g&&d&&typeof d.length=="number"){de&&(d=de);var m=0,Oe=function(){};return{s:Oe,n:function(){return m>=d.length?{done:!0}:{done:!1,value:d[m++]}},e:function($){throw $},f:Oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Be,Me=!0,Fe=!1;return{s:function(){de=de.call(d)},n:function(){var $=de.next();return Me=$.done,$},e:function($){Fe=!0,Be=$},f:function(){try{Me||de.return==null||de.return()}finally{if(Fe)throw Be}}}}function u(d,g){(g==null||g>d.length)&&(g=d.length);for(var de=0,m=new Array(g);de<g;de++)m[de]=d[de];return m}function c(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),g&&f(d,g)}function f(d,g){return f=Object.setPrototypeOf||function(de,m){return de.__proto__=m,de},f(d,g)}function L(d){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,m=ge(d);if(g){var Oe=ge(this).constructor;de=Reflect.construct(m,arguments,Oe)}else de=m.apply(this,arguments);return Se(this,de)}}function Se(d,g){return!g||a(g)!=="object"&&typeof g!="function"?function(de){if(de===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de}(d):g}function ge(d){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},ge(d)}function Le(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function We(d,g){for(var de=0;de<g.length;de++){var m=g[de];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function $e(d,g,de){return g&&We(d.prototype,g),de&&We(d,de),d}function Qe(d){return typeof DOMMatrix<"u"?new DOMMatrix(d):(i||(i=document.createElementNS("http://www.w3.org/2000/svg","svg")),i.createSVGMatrix(d))}function Ue(d,g){if(g&&typeof Path2D<"u"){var de=g[2]-g[0],m=g[3]-g[1],Oe=new Path2D;Oe.rect(g[0],g[1],de,m),d.clip(Oe)}}var De=function(){function d(){Le(this,d),this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}return $e(d,[{key:"getPattern",value:function(){(0,o.unreachable)("Abstract method `getPattern` called.")}}]),d}(),we=function(d){c(de,d);var g=L(de);function de(m){var Oe;return Le(this,de),(Oe=g.call(this))._type=m[1],Oe._bbox=m[2],Oe._colorStops=m[3],Oe._p0=m[4],Oe._p1=m[5],Oe._r0=m[6],Oe._r1=m[7],Oe._matrix=m[8],Oe}return $e(de,[{key:"getPattern",value:function(m,Oe,Be){var Me,Fe=Oe.cachedCanvases.getCanvas("pattern",m.canvas.width,m.canvas.height,!0),$=Fe.context;$.clearRect(0,0,$.canvas.width,$.canvas.height),$.beginPath(),$.rect(0,0,$.canvas.width,$.canvas.height),Be?$.setTransform.apply($,m.mozCurrentTransform):($.setTransform.apply($,Oe.baseTransform),this._matrix&&$.transform.apply($,this._matrix)),Ue($,this._bbox),this._type==="axial"?Me=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Me=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var ee,ke=s(this._colorStops);try{for(ke.s();!(ee=ke.n()).done;){var je=ee.value;Me.addColorStop(je[0],je[1])}}catch(qe){ke.e(qe)}finally{ke.f()}$.fillStyle=Me,$.fill();var He=m.createPattern(Fe.canvas,"repeat");return He.setTransform(Qe(m.mozCurrentTransformInverse)),He}}]),de}(De);function ve(d,g,de,m,Oe,Be,Me,Fe){var $,ee=g.coords,ke=g.colors,je=d.data,He=4*d.width;ee[de+1]>ee[m+1]&&($=de,de=m,m=$,$=Be,Be=Me,Me=$),ee[m+1]>ee[Oe+1]&&($=m,m=Oe,Oe=$,$=Me,Me=Fe,Fe=$),ee[de+1]>ee[m+1]&&($=de,de=m,m=$,$=Be,Be=Me,Me=$);var qe=(ee[de]+g.offsetX)*g.scaleX,ze=(ee[de+1]+g.offsetY)*g.scaleY,at=(ee[m]+g.offsetX)*g.scaleX,et=(ee[m+1]+g.offsetY)*g.scaleY,tt=(ee[Oe]+g.offsetX)*g.scaleX,Ze=(ee[Oe+1]+g.offsetY)*g.scaleY;if(!(ze>=Ze))for(var st,ut,Je,Ke,Ge,Ye,Xe,rt,ot=ke[Be],it=ke[Be+1],lt=ke[Be+2],ct=ke[Me],dt=ke[Me+1],gt=ke[Me+2],vt=ke[Fe],pt=ke[Fe+1],_t=ke[Fe+2],yt=Math.round(ze),ft=Math.round(Ze),mt=yt;mt<=ft;mt++){if(mt<et){var wt=void 0;st=qe-(qe-at)*(wt=mt<ze?0:ze===et?1:(ze-mt)/(ze-et)),ut=ot-(ot-ct)*wt,Je=it-(it-dt)*wt,Ke=lt-(lt-gt)*wt}else{var At=void 0;st=at-(at-tt)*(At=mt>Ze?1:et===Ze?0:(et-mt)/(et-Ze)),ut=ct-(ct-vt)*At,Je=dt-(dt-pt)*At,Ke=gt-(gt-_t)*At}var St=void 0;Ge=qe-(qe-tt)*(St=mt<ze?0:mt>Ze?1:(ze-mt)/(ze-Ze)),Ye=ot-(ot-vt)*St,Xe=it-(it-pt)*St,rt=lt-(lt-_t)*St;for(var Et=Math.round(Math.min(st,Ge)),xt=Math.round(Math.max(st,Ge)),Tt=He*mt+4*Et,Ot=Et;Ot<=xt;Ot++)(St=(st-Ot)/(st-Ge))<0?St=0:St>1&&(St=1),je[Tt++]=ut-(ut-Ye)*St|0,je[Tt++]=Je-(Je-Xe)*St|0,je[Tt++]=Ke-(Ke-rt)*St|0,je[Tt++]=255}}function Ce(d,g,de){var m,Oe,Be=g.coords,Me=g.colors;switch(g.type){case"lattice":var Fe=g.verticesPerRow,$=Math.floor(Be.length/Fe)-1,ee=Fe-1;for(m=0;m<$;m++)for(var ke=m*Fe,je=0;je<ee;je++,ke++)ve(d,de,Be[ke],Be[ke+1],Be[ke+Fe],Me[ke],Me[ke+1],Me[ke+Fe]),ve(d,de,Be[ke+Fe+1],Be[ke+1],Be[ke+Fe],Me[ke+Fe+1],Me[ke+1],Me[ke+Fe]);break;case"triangles":for(m=0,Oe=Be.length;m<Oe;m+=3)ve(d,de,Be[m],Be[m+1],Be[m+2],Me[m],Me[m+1],Me[m+2]);break;default:throw new Error("illegal figure")}}var Ee=function(d){c(de,d);var g=L(de);function de(m){var Oe;return Le(this,de),(Oe=g.call(this))._coords=m[2],Oe._colors=m[3],Oe._figures=m[4],Oe._bounds=m[5],Oe._matrix=m[6],Oe._bbox=m[7],Oe._background=m[8],Oe}return $e(de,[{key:"_createMeshCanvas",value:function(m,Oe,Be){var Me=Math.floor(this._bounds[0]),Fe=Math.floor(this._bounds[1]),$=Math.ceil(this._bounds[2])-Me,ee=Math.ceil(this._bounds[3])-Fe,ke=Math.min(Math.ceil(Math.abs($*m[0]*1.1)),3e3),je=Math.min(Math.ceil(Math.abs(ee*m[1]*1.1)),3e3),He=$/ke,qe=ee/je,ze={coords:this._coords,colors:this._colors,offsetX:-Me,offsetY:-Fe,scaleX:1/He,scaleY:1/qe},at=ke+4,et=je+4,tt=Be.getCanvas("mesh",at,et,!1),Ze=tt.context,st=Ze.createImageData(ke,je);if(Oe)for(var ut=st.data,Je=0,Ke=ut.length;Je<Ke;Je+=4)ut[Je]=Oe[0],ut[Je+1]=Oe[1],ut[Je+2]=Oe[2],ut[Je+3]=255;var Ge,Ye=s(this._figures);try{for(Ye.s();!(Ge=Ye.n()).done;)Ce(st,Ge.value,ze)}catch(Xe){Ye.e(Xe)}finally{Ye.f()}return Ze.putImageData(st,2,2),{canvas:tt.canvas,offsetX:Me-2*He,offsetY:Fe-2*qe,scaleX:He,scaleY:qe}}},{key:"getPattern",value:function(m,Oe,Be){var Me;if(Ue(m,this._bbox),Be)Me=o.Util.singularValueDecompose2dScale(m.mozCurrentTransform);else if(Me=o.Util.singularValueDecompose2dScale(Oe.baseTransform),this._matrix){var Fe=o.Util.singularValueDecompose2dScale(this._matrix);Me=[Me[0]*Fe[0],Me[1]*Fe[1]]}var $=this._createMeshCanvas(Me,Be?null:this._background,Oe.cachedCanvases);return Be||(m.setTransform.apply(m,Oe.baseTransform),this._matrix&&m.transform.apply(m,this._matrix)),m.translate($.offsetX,$.offsetY),m.scale($.scaleX,$.scaleY),m.createPattern($.canvas,"no-repeat")}}]),de}(De),xe=function(d){c(de,d);var g=L(de);function de(){return Le(this,de),g.apply(this,arguments)}return $e(de,[{key:"getPattern",value:function(){return"hotpink"}}]),de}(De),re=1,Ae=2,_=function(){function d(g,de,m,Oe,Be){Le(this,d),this.operatorList=g[2],this.matrix=g[3]||[1,0,0,1,0,0],this.bbox=g[4],this.xstep=g[5],this.ystep=g[6],this.paintType=g[7],this.tilingType=g[8],this.color=de,this.ctx=m,this.canvasGraphicsFactory=Oe,this.baseTransform=Be}return $e(d,[{key:"createPatternCanvas",value:function(g){var de=this.operatorList,m=this.bbox,Oe=this.xstep,Be=this.ystep,Me=this.paintType,Fe=this.tilingType,$=this.color,ee=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+Fe);var ke=m[0],je=m[1],He=m[2],qe=m[3],ze=o.Util.singularValueDecompose2dScale(this.matrix),at=o.Util.singularValueDecompose2dScale(this.baseTransform),et=[ze[0]*at[0],ze[1]*at[1]],tt=this.getSizeAndScale(Oe,this.ctx.canvas.width,et[0]),Ze=this.getSizeAndScale(Be,this.ctx.canvas.height,et[1]),st=g.cachedCanvases.getCanvas("pattern",tt.size,Ze.size,!0),ut=st.context,Je=ee.createCanvasGraphics(ut);return Je.groupLevel=g.groupLevel,this.setFillAndStrokeStyleToContext(Je,Me,$),Je.transform(tt.scale,0,0,Ze.scale,0,0),this.clipBbox(Je,m,ke,je,He,qe),Je.baseTransform=Je.ctx.mozCurrentTransform.slice(),Je.executeOperatorList(de),Je.endDrawing(),{canvas:st.canvas,scaleX:tt.scale,scaleY:Ze.scale}}},{key:"getSizeAndScale",value:function(g,de,m){g=Math.abs(g);var Oe=Math.max(d.MAX_PATTERN_SIZE,de),Be=Math.ceil(g*m);return Be>=Oe?Be=Oe:m=Be/g,{scale:m,size:Be}}},{key:"clipBbox",value:function(g,de,m,Oe,Be,Me){if(Array.isArray(de)&&de.length===4){var Fe=Be-m,$=Me-Oe;g.ctx.rect(m,Oe,Fe,$),g.clip(),g.endPath()}}},{key:"setFillAndStrokeStyleToContext",value:function(g,de,m){var Oe=g.ctx,Be=g.current;switch(de){case re:var Me=this.ctx;Oe.fillStyle=Me.fillStyle,Oe.strokeStyle=Me.strokeStyle,Be.fillColor=Me.fillStyle,Be.strokeColor=Me.strokeStyle;break;case Ae:var Fe=o.Util.makeHexColor(m[0],m[1],m[2]);Oe.fillStyle=Fe,Oe.strokeStyle=Fe,Be.fillColor=Fe,Be.strokeColor=Fe;break;default:throw new o.FormatError("Unsupported paint type: ".concat(de))}}},{key:"getPattern",value:function(g,de,m){var Oe=(g=this.ctx).mozCurrentTransformInverse;m||(Oe=o.Util.transform(Oe,de.baseTransform),this.matrix&&(Oe=o.Util.transform(Oe,this.matrix)));var Be=this.createPatternCanvas(de),Me=Qe(Oe);Me=Me.scale(1/Be.scaleX,1/Be.scaleY);var Fe=g.createPattern(Be.canvas,"repeat");return Fe.setTransform(Me),Fe}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,o.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),d}();e.TilingPattern=_},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;var n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=n.workerPort===void 0?null:n.workerPort,n.workerSrc=n.workerSrc===void 0?"":n.workerSrc},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var a,i=(a=n(2))&&a.__esModule?a:{default:a},o=n(4);function s(Ce,Ee,xe,re,Ae,_,d){try{var g=Ce[_](d),de=g.value}catch(m){return void xe(m)}g.done?Ee(de):Promise.resolve(de).then(re,Ae)}function u(Ce,Ee){for(var xe=0;xe<Ee.length;xe++){var re=Ee[xe];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Ce,re.key,re)}}function c(Ce){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},c(Ce)}var f=1,L=2,Se=1,ge=2,Le=3,We=4,$e=5,Qe=6,Ue=7,De=8;function we(Ce){if(c(Ce)!=="object"||Ce===null)return Ce;switch(Ce.name){case"AbortException":return new o.AbortException(Ce.message);case"MissingPDFException":return new o.MissingPDFException(Ce.message);case"UnexpectedResponseException":return new o.UnexpectedResponseException(Ce.message,Ce.status);case"UnknownErrorException":return new o.UnknownErrorException(Ce.message,Ce.details);default:return new o.UnknownErrorException(Ce.message,Ce.toString())}}var ve=function(){function Ce(_,d,g){var de=this;(function(m,Oe){if(!(m instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,Ce),this.sourceName=_,this.targetName=d,this.comObj=g,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(m){var Oe=m.data;if(Oe.targetName===de.sourceName)if(Oe.stream)de._processStreamMessage(Oe);else if(Oe.callback){var Be=Oe.callbackId,Me=de.callbackCapabilities[Be];if(!Me)throw new Error("Cannot resolve callback ".concat(Be));if(delete de.callbackCapabilities[Be],Oe.callback===f)Me.resolve(Oe.data);else{if(Oe.callback!==L)throw new Error("Unexpected callback case");Me.reject(we(Oe.reason))}}else{var Fe=de.actionHandler[Oe.action];if(!Fe)throw new Error("Unknown action from worker: ".concat(Oe.action));if(Oe.callbackId){var $=de.sourceName,ee=Oe.sourceName;new Promise(function(ke){ke(Fe(Oe.data))}).then(function(ke){g.postMessage({sourceName:$,targetName:ee,callback:f,callbackId:Oe.callbackId,data:ke})},function(ke){g.postMessage({sourceName:$,targetName:ee,callback:L,callbackId:Oe.callbackId,reason:we(ke)})})}else Oe.streamId?de._createStreamSink(Oe):Fe(Oe.data)}},g.addEventListener("message",this._onComObjOnMessage)}var Ee,xe,re,Ae;return Ee=Ce,xe=[{key:"on",value:function(_,d){var g=this.actionHandler;if(g[_])throw new Error('There is already an actionName called "'.concat(_,'"'));g[_]=d}},{key:"send",value:function(_,d,g){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,data:d},g)}},{key:"sendWithPromise",value:function(_,d,g){var de=this.callbackId++,m=(0,o.createPromiseCapability)();this.callbackCapabilities[de]=m;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,callbackId:de,data:d},g)}catch(Oe){m.reject(Oe)}return m.promise}},{key:"sendWithStream",value:function(_,d,g,de){var m=this,Oe=this.streamId++,Be=this.sourceName,Me=this.targetName,Fe=this.comObj;return new ReadableStream({start:function($){var ee=(0,o.createPromiseCapability)();return m.streamControllers[Oe]={controller:$,startCall:ee,pullCall:null,cancelCall:null,isClosed:!1},m._postMessage({sourceName:Be,targetName:Me,action:_,streamId:Oe,data:d,desiredSize:$.desiredSize},de),ee.promise},pull:function($){var ee=(0,o.createPromiseCapability)();return m.streamControllers[Oe].pullCall=ee,Fe.postMessage({sourceName:Be,targetName:Me,stream:Qe,streamId:Oe,desiredSize:$.desiredSize}),ee.promise},cancel:function($){(0,o.assert)($ instanceof Error,"cancel must have a valid reason");var ee=(0,o.createPromiseCapability)();return m.streamControllers[Oe].cancelCall=ee,m.streamControllers[Oe].isClosed=!0,Fe.postMessage({sourceName:Be,targetName:Me,stream:Se,streamId:Oe,reason:we($)}),ee.promise}},g)}},{key:"_createStreamSink",value:function(_){var d=this,g=this.actionHandler[_.action],de=_.streamId,m=this.sourceName,Oe=_.sourceName,Be=this.comObj,Me={enqueue:function(Fe){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ee=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var ke=this.desiredSize;this.desiredSize-=$,ke>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),d._postMessage({sourceName:m,targetName:Oe,stream:We,streamId:de,chunk:Fe},ee)}},close:function(){this.isCancelled||(this.isCancelled=!0,Be.postMessage({sourceName:m,targetName:Oe,stream:Le,streamId:de}),delete d.streamSinks[de])},error:function(Fe){(0,o.assert)(Fe instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,Be.postMessage({sourceName:m,targetName:Oe,stream:$e,streamId:de,reason:we(Fe)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:_.desiredSize,ready:null};Me.sinkCapability.resolve(),Me.ready=Me.sinkCapability.promise,this.streamSinks[de]=Me,new Promise(function(Fe){Fe(g(_.data,Me))}).then(function(){Be.postMessage({sourceName:m,targetName:Oe,stream:De,streamId:de,success:!0})},function(Fe){Be.postMessage({sourceName:m,targetName:Oe,stream:De,streamId:de,reason:we(Fe)})})}},{key:"_processStreamMessage",value:function(_){var d=_.streamId,g=this.sourceName,de=_.sourceName,m=this.comObj;switch(_.stream){case De:_.success?this.streamControllers[d].startCall.resolve():this.streamControllers[d].startCall.reject(we(_.reason));break;case Ue:_.success?this.streamControllers[d].pullCall.resolve():this.streamControllers[d].pullCall.reject(we(_.reason));break;case Qe:if(!this.streamSinks[d]){m.postMessage({sourceName:g,targetName:de,stream:Ue,streamId:d,success:!0});break}this.streamSinks[d].desiredSize<=0&&_.desiredSize>0&&this.streamSinks[d].sinkCapability.resolve(),this.streamSinks[d].desiredSize=_.desiredSize;var Oe=this.streamSinks[_.streamId].onPull;new Promise(function(Me){Me(Oe&&Oe())}).then(function(){m.postMessage({sourceName:g,targetName:de,stream:Ue,streamId:d,success:!0})},function(Me){m.postMessage({sourceName:g,targetName:de,stream:Ue,streamId:d,reason:we(Me)})});break;case We:if((0,o.assert)(this.streamControllers[d],"enqueue should have stream controller"),this.streamControllers[d].isClosed)break;this.streamControllers[d].controller.enqueue(_.chunk);break;case Le:if((0,o.assert)(this.streamControllers[d],"close should have stream controller"),this.streamControllers[d].isClosed)break;this.streamControllers[d].isClosed=!0,this.streamControllers[d].controller.close(),this._deleteStreamController(d);break;case $e:(0,o.assert)(this.streamControllers[d],"error should have stream controller"),this.streamControllers[d].controller.error(we(_.reason)),this._deleteStreamController(d);break;case ge:_.success?this.streamControllers[d].cancelCall.resolve():this.streamControllers[d].cancelCall.reject(we(_.reason)),this._deleteStreamController(d);break;case Se:if(!this.streamSinks[d])break;var Be=this.streamSinks[_.streamId].onCancel;new Promise(function(Me){Me(Be&&Be(we(_.reason)))}).then(function(){m.postMessage({sourceName:g,targetName:de,stream:ge,streamId:d,success:!0})},function(Me){m.postMessage({sourceName:g,targetName:de,stream:ge,streamId:d,reason:we(Me)})}),this.streamSinks[d].sinkCapability.reject(we(_.reason)),this.streamSinks[d].isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(re=i.default.mark(function _(d){return i.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Promise.allSettled([this.streamControllers[d].startCall,this.streamControllers[d].pullCall,this.streamControllers[d].cancelCall].map(function(de){return de&&de.promise}));case 2:delete this.streamControllers[d];case 3:case"end":return g.stop()}},_,this)}),Ae=function(){var _=this,d=arguments;return new Promise(function(g,de){var m=re.apply(_,d);function Oe(Me){s(m,g,de,Oe,Be,"next",Me)}function Be(Me){s(m,g,de,Oe,Be,"throw",Me)}Oe(void 0)})},function(_){return Ae.apply(this,arguments)})},{key:"_postMessage",value:function(_,d){d&&this.postMessageTransfers?this.comObj.postMessage(_,d):this.comObj.postMessage(_)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}],xe&&u(Ee.prototype,xe),Ce}();e.MessageHandler=ve},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var a=n(4);function i(s,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,f.key,f)}}var o=function(){function s(f){var L=f.parsedData,Se=f.rawData;(function(ge,Le){if(!(ge instanceof Le))throw new TypeError("Cannot call a class as a function")})(this,s),this._metadataMap=L,this._data=Se}var u,c;return u=s,(c=[{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(f){var L;return(L=this._metadataMap.get(f))!==null&&L!==void 0?L:null}},{key:"getAll",value:function(){return(0,a.objectFromMap)(this._metadataMap)}},{key:"has",value:function(f){return this._metadataMap.has(f)}}])&&i(u.prototype,c),s}();e.Metadata=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var a=n(4);function i(L,Se){var ge=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!ge){if(Array.isArray(L)||(ge=function(De,we){if(De){if(typeof De=="string")return o(De,we);var ve=Object.prototype.toString.call(De).slice(8,-1);return ve==="Object"&&De.constructor&&(ve=De.constructor.name),ve==="Map"||ve==="Set"?Array.from(De):ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve)?o(De,we):void 0}}(L))||Se&&L&&typeof L.length=="number"){ge&&(L=ge);var Le=0,We=function(){};return{s:We,n:function(){return Le>=L.length?{done:!0}:{done:!1,value:L[Le++]}},e:function(De){throw De},f:We}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $e,Qe=!0,Ue=!1;return{s:function(){ge=ge.call(L)},n:function(){var De=ge.next();return Qe=De.done,De},e:function(De){Ue=!0,$e=De},f:function(){try{Qe||ge.return==null||ge.return()}finally{if(Ue)throw $e}}}}function o(L,Se){(Se==null||Se>L.length)&&(Se=L.length);for(var ge=0,Le=new Array(Se);ge<Se;ge++)Le[ge]=L[ge];return Le}function s(L,Se){for(var ge=0;ge<Se.length;ge++){var Le=Se[ge];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(L,Le.key,Le)}}function u(L,Se){if(!(L instanceof Se))throw new TypeError("Cannot call a class as a function")}var c=function L(Se,ge){u(this,L),this.visible=!0,this.name=Se,this.intent=ge},f=function(){function L(Le){if(u(this,L),this.name=null,this.creator=null,this._order=null,this._groups=new Map,Le!==null){this.name=Le.name,this.creator=Le.creator,this._order=Le.order;var We,$e=i(Le.groups);try{for($e.s();!(We=$e.n()).done;){var Qe=We.value;this._groups.set(Qe.id,new c(Qe.name,Qe.intent))}}catch(Ae){$e.e(Ae)}finally{$e.f()}if(Le.baseState==="OFF"){var Ue,De=i(this._groups);try{for(De.s();!(Ue=De.n()).done;)Ue.value.visible=!1}catch(Ae){De.e(Ae)}finally{De.f()}}var we,ve=i(Le.on);try{for(ve.s();!(we=ve.n()).done;){var Ce=we.value;this._groups.get(Ce).visible=!0}}catch(Ae){ve.e(Ae)}finally{ve.f()}var Ee,xe=i(Le.off);try{for(xe.s();!(Ee=xe.n()).done;){var re=Ee.value;this._groups.get(re).visible=!1}}catch(Ae){xe.e(Ae)}finally{xe.f()}}}var Se,ge;return Se=L,ge=[{key:"_evaluateVisibilityExpression",value:function(Le){var We=Le.length;if(We<2)return!0;for(var $e=Le[0],Qe=1;Qe<We;Qe++){var Ue=Le[Qe],De=void 0;if(Array.isArray(Ue))De=this._evaluateVisibilityExpression(Ue);else{if(!this._groups.has(Ue))return(0,a.warn)("Optional content group not found: ".concat(Ue)),!0;De=this._groups.get(Ue).visible}switch($e){case"And":if(!De)return!1;break;case"Or":if(De)return!0;break;case"Not":return!De;default:return!0}}return $e==="And"}},{key:"isVisible",value:function(Le){if(Le.type==="OCG")return this._groups.has(Le.id)?this._groups.get(Le.id).visible:((0,a.warn)("Optional content group not found: ".concat(Le.id)),!0);if(Le.type==="OCMD"){if(Le.expression)return this._evaluateVisibilityExpression(Le.expression);if(!Le.policy||Le.policy==="AnyOn"){var We,$e=i(Le.ids);try{for($e.s();!(We=$e.n()).done;){var Qe=We.value;if(!this._groups.has(Qe))return(0,a.warn)("Optional content group not found: ".concat(Qe)),!0;if(this._groups.get(Qe).visible)return!0}}catch(_){$e.e(_)}finally{$e.f()}return!1}if(Le.policy==="AllOn"){var Ue,De=i(Le.ids);try{for(De.s();!(Ue=De.n()).done;){var we=Ue.value;if(!this._groups.has(we))return(0,a.warn)("Optional content group not found: ".concat(we)),!0;if(!this._groups.get(we).visible)return!1}}catch(_){De.e(_)}finally{De.f()}return!0}if(Le.policy==="AnyOff"){var ve,Ce=i(Le.ids);try{for(Ce.s();!(ve=Ce.n()).done;){var Ee=ve.value;if(!this._groups.has(Ee))return(0,a.warn)("Optional content group not found: ".concat(Ee)),!0;if(!this._groups.get(Ee).visible)return!0}}catch(_){Ce.e(_)}finally{Ce.f()}return!1}if(Le.policy==="AllOff"){var xe,re=i(Le.ids);try{for(re.s();!(xe=re.n()).done;){var Ae=xe.value;if(!this._groups.has(Ae))return(0,a.warn)("Optional content group not found: ".concat(Ae)),!0;if(this._groups.get(Ae).visible)return!1}}catch(_){re.e(_)}finally{re.f()}return!0}return(0,a.warn)("Unknown optional content policy ".concat(Le.policy,".")),!0}return(0,a.warn)("Unknown group type ".concat(Le.type,".")),!0}},{key:"setVisibility",value:function(Le){var We=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._groups.has(Le)?this._groups.get(Le).visible=!!We:(0,a.warn)("Optional content group not found: ".concat(Le))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,a.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(Le){return this._groups.get(Le)||null}}],ge&&s(Se.prototype,ge),L}();e.OptionalContentConfig=f},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var a,i=(a=n(2))&&a.__esModule?a:{default:a},o=n(4),s=n(1);function u(Ue,De,we,ve,Ce,Ee,xe){try{var re=Ue[Ee](xe),Ae=re.value}catch(_){return void we(_)}re.done?De(Ae):Promise.resolve(Ae).then(ve,Ce)}function c(Ue){return function(){var De=this,we=arguments;return new Promise(function(ve,Ce){var Ee=Ue.apply(De,we);function xe(Ae){u(Ee,ve,Ce,xe,re,"next",Ae)}function re(Ae){u(Ee,ve,Ce,xe,re,"throw",Ae)}xe(void 0)})}}function f(Ue,De){var we=typeof Symbol<"u"&&Ue[Symbol.iterator]||Ue["@@iterator"];if(!we){if(Array.isArray(Ue)||(we=function(Ae,_){if(Ae){if(typeof Ae=="string")return L(Ae,_);var d=Object.prototype.toString.call(Ae).slice(8,-1);return d==="Object"&&Ae.constructor&&(d=Ae.constructor.name),d==="Map"||d==="Set"?Array.from(Ae):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?L(Ae,_):void 0}}(Ue))||De&&Ue&&typeof Ue.length=="number"){we&&(Ue=we);var ve=0,Ce=function(){};return{s:Ce,n:function(){return ve>=Ue.length?{done:!0}:{done:!1,value:Ue[ve++]}},e:function(Ae){throw Ae},f:Ce}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ee,xe=!0,re=!1;return{s:function(){we=we.call(Ue)},n:function(){var Ae=we.next();return xe=Ae.done,Ae},e:function(Ae){re=!0,Ee=Ae},f:function(){try{xe||we.return==null||we.return()}finally{if(re)throw Ee}}}}function L(Ue,De){(De==null||De>Ue.length)&&(De=Ue.length);for(var we=0,ve=new Array(De);we<De;we++)ve[we]=Ue[we];return ve}function Se(Ue,De){if(!(Ue instanceof De))throw new TypeError("Cannot call a class as a function")}function ge(Ue,De){for(var we=0;we<De.length;we++){var ve=De[we];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(Ue,ve.key,ve)}}function Le(Ue,De,we){return De&&ge(Ue.prototype,De),we&&ge(Ue,we),Ue}var We=function(){function Ue(De,we){var ve=this;Se(this,Ue),(0,o.assert)(we,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=De.progressiveDone||!1,this._contentDispositionFilename=De.contentDispositionFilename||null;var Ce=De.initialData;if((Ce==null?void 0:Ce.length)>0){var Ee=new Uint8Array(Ce).buffer;this._queuedChunks.push(Ee)}this._pdfDataRangeTransport=we,this._isStreamingSupported=!De.disableStream,this._isRangeSupported=!De.disableRange,this._contentLength=De.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(xe,re){ve._onReceiveData({begin:xe,chunk:re})}),this._pdfDataRangeTransport.addProgressListener(function(xe,re){ve._onProgress({loaded:xe,total:re})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(xe){ve._onReceiveData({chunk:xe})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){ve._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return Le(Ue,[{key:"_onReceiveData",value:function(De){var we=new Uint8Array(De.chunk).buffer;if(De.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(we):this._queuedChunks.push(we);else{var ve=this._rangeReaders.some(function(Ce){return Ce._begin===De.begin&&(Ce._enqueue(we),!0)});(0,o.assert)(ve,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var De,we;return(De=(we=this._fullRequestReader)===null||we===void 0?void 0:we._loaded)!==null&&De!==void 0?De:0}},{key:"_onProgress",value:function(De){if(De.total===void 0){var we=this._rangeReaders[0];we!=null&&we.onProgress&&we.onProgress({loaded:De.loaded})}else{var ve=this._fullRequestReader;ve!=null&&ve.onProgress&&ve.onProgress({loaded:De.loaded,total:De.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(De){var we=this._rangeReaders.indexOf(De);we>=0&&this._rangeReaders.splice(we,1)}},{key:"getFullReader",value:function(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var De=this._queuedChunks;return this._queuedChunks=null,new $e(this,De,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(De,we){if(we<=this._progressiveDataLength)return null;var ve=new Qe(this,De,we);return this._pdfDataRangeTransport.requestDataRange(De,we),this._rangeReaders.push(ve),ve}},{key:"cancelAllRequests",value:function(De){this._fullRequestReader&&this._fullRequestReader.cancel(De);var we,ve=f(this._rangeReaders.slice(0));try{for(ve.s();!(we=ve.n()).done;)we.value.cancel(De)}catch(Ce){ve.e(Ce)}finally{ve.f()}this._pdfDataRangeTransport.abort()}}]),Ue}();e.PDFDataTransportStream=We;var $e=function(){function Ue(we,ve){var Ce=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Se(this,Ue),this._stream=we,this._done=Ce||!1,this._filename=(0,s.isPdfFile)(Ee)?Ee:null,this._queuedChunks=ve||[],this._loaded=0;var xe,re=f(this._queuedChunks);try{for(re.s();!(xe=re.n()).done;){var Ae=xe.value;this._loaded+=Ae.byteLength}}catch(_){re.e(_)}finally{re.f()}this._requests=[],this._headersReady=Promise.resolve(),we._fullRequestReader=this,this.onProgress=null}var De;return Le(Ue,[{key:"_enqueue",value:function(we){this._done||(this._requests.length>0?this._requests.shift().resolve({value:we,done:!1}):this._queuedChunks.push(we),this._loaded+=we.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(De=c(i.default.mark(function we(){var ve,Ce;return i.default.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(!(this._queuedChunks.length>0)){Ee.next=3;break}return ve=this._queuedChunks.shift(),Ee.abrupt("return",{value:ve,done:!1});case 3:if(!this._done){Ee.next=5;break}return Ee.abrupt("return",{value:void 0,done:!0});case 5:return Ce=(0,o.createPromiseCapability)(),this._requests.push(Ce),Ee.abrupt("return",Ce.promise);case 8:case"end":return Ee.stop()}},we,this)})),function(){return De.apply(this,arguments)})},{key:"cancel",value:function(we){this._done=!0;var ve,Ce=f(this._requests);try{for(Ce.s();!(ve=Ce.n()).done;)ve.value.resolve({value:void 0,done:!0})}catch(Ee){Ce.e(Ee)}finally{Ce.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),Ue}(),Qe=function(){function Ue(we,ve,Ce){Se(this,Ue),this._stream=we,this._begin=ve,this._end=Ce,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var De;return Le(Ue,[{key:"_enqueue",value:function(we){if(!this._done){if(this._requests.length===0)this._queuedChunk=we;else{this._requests.shift().resolve({value:we,done:!1});var ve,Ce=f(this._requests);try{for(Ce.s();!(ve=Ce.n()).done;)ve.value.resolve({value:void 0,done:!0})}catch(Ee){Ce.e(Ee)}finally{Ce.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(De=c(i.default.mark(function we(){var ve,Ce;return i.default.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(!this._queuedChunk){Ee.next=4;break}return ve=this._queuedChunk,this._queuedChunk=null,Ee.abrupt("return",{value:ve,done:!1});case 4:if(!this._done){Ee.next=6;break}return Ee.abrupt("return",{value:void 0,done:!0});case 6:return Ce=(0,o.createPromiseCapability)(),this._requests.push(Ce),Ee.abrupt("return",Ce.promise);case 9:case"end":return Ee.stop()}},we,this)})),function(){return De.apply(this,arguments)})},{key:"cancel",value:function(we){this._done=!0;var ve,Ce=f(this._requests);try{for(Ce.s();!(ve=Ce.n()).done;)ve.value.resolve({value:void 0,done:!0})}catch(Ee){Ce.e(Ee)}finally{Ce.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),Ue}()},(t,e,n)=>{function a(Ke){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ge){return typeof Ge}:function(Ge){return Ge&&typeof Symbol=="function"&&Ge.constructor===Symbol&&Ge!==Symbol.prototype?"symbol":typeof Ge},a(Ke)}Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var i=n(1),o=n(4),s=n(116),u=n(126);function c(Ke,Ge,Ye){return c=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Xe,rt,ot){var it=function(ct,dt){for(;!Object.prototype.hasOwnProperty.call(ct,dt)&&(ct=$e(ct))!==null;);return ct}(Xe,rt);if(it){var lt=Object.getOwnPropertyDescriptor(it,rt);return lt.get?lt.get.call(ot):lt.value}},c(Ke,Ge,Ye||Ke)}function f(Ke,Ge){return function(Ye){if(Array.isArray(Ye))return Ye}(Ke)||function(Ye,Xe){var rt=Ye&&(typeof Symbol<"u"&&Ye[Symbol.iterator]||Ye["@@iterator"]);if(rt!=null){var ot,it,lt=[],ct=!0,dt=!1;try{for(rt=rt.call(Ye);!(ct=(ot=rt.next()).done)&&(lt.push(ot.value),!Xe||lt.length!==Xe);ct=!0);}catch(gt){dt=!0,it=gt}finally{try{ct||rt.return==null||rt.return()}finally{if(dt)throw it}}return lt}}(Ke,Ge)||Ue(Ke,Ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(Ke,Ge){if(typeof Ge!="function"&&Ge!==null)throw new TypeError("Super expression must either be null or a function");Ke.prototype=Object.create(Ge&&Ge.prototype,{constructor:{value:Ke,writable:!0,configurable:!0}}),Ge&&Se(Ke,Ge)}function Se(Ke,Ge){return Se=Object.setPrototypeOf||function(Ye,Xe){return Ye.__proto__=Xe,Ye},Se(Ke,Ge)}function ge(Ke){var Ge=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ye,Xe=$e(Ke);if(Ge){var rt=$e(this).constructor;Ye=Reflect.construct(Xe,arguments,rt)}else Ye=Xe.apply(this,arguments);return Le(this,Ye)}}function Le(Ke,Ge){return!Ge||a(Ge)!=="object"&&typeof Ge!="function"?We(Ke):Ge}function We(Ke){if(Ke===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ke}function $e(Ke){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(Ge){return Ge.__proto__||Object.getPrototypeOf(Ge)},$e(Ke)}function Qe(Ke,Ge){var Ye=typeof Symbol<"u"&&Ke[Symbol.iterator]||Ke["@@iterator"];if(!Ye){if(Array.isArray(Ke)||(Ye=Ue(Ke))||Ge&&Ke&&typeof Ke.length=="number"){Ye&&(Ke=Ye);var Xe=0,rt=function(){};return{s:rt,n:function(){return Xe>=Ke.length?{done:!0}:{done:!1,value:Ke[Xe++]}},e:function(ct){throw ct},f:rt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ot,it=!0,lt=!1;return{s:function(){Ye=Ye.call(Ke)},n:function(){var ct=Ye.next();return it=ct.done,ct},e:function(ct){lt=!0,ot=ct},f:function(){try{it||Ye.return==null||Ye.return()}finally{if(lt)throw ot}}}}function Ue(Ke,Ge){if(Ke){if(typeof Ke=="string")return De(Ke,Ge);var Ye=Object.prototype.toString.call(Ke).slice(8,-1);return Ye==="Object"&&Ke.constructor&&(Ye=Ke.constructor.name),Ye==="Map"||Ye==="Set"?Array.from(Ke):Ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ye)?De(Ke,Ge):void 0}}function De(Ke,Ge){(Ge==null||Ge>Ke.length)&&(Ge=Ke.length);for(var Ye=0,Xe=new Array(Ge);Ye<Ge;Ye++)Xe[Ye]=Ke[Ye];return Xe}function we(Ke,Ge){if(!(Ke instanceof Ge))throw new TypeError("Cannot call a class as a function")}function ve(Ke,Ge){for(var Ye=0;Ye<Ge.length;Ye++){var Xe=Ge[Ye];Xe.enumerable=Xe.enumerable||!1,Xe.configurable=!0,"value"in Xe&&(Xe.writable=!0),Object.defineProperty(Ke,Xe.key,Xe)}}function Ce(Ke,Ge,Ye){return Ge&&ve(Ke.prototype,Ge),Ye&&ve(Ke,Ye),Ke}var Ee=function(){function Ke(){we(this,Ke)}return Ce(Ke,null,[{key:"create",value:function(Ge){switch(Ge.data.annotationType){case o.AnnotationType.LINK:return new re(Ge);case o.AnnotationType.TEXT:return new Ae(Ge);case o.AnnotationType.WIDGET:switch(Ge.data.fieldType){case"Tx":return new d(Ge);case"Btn":return Ge.data.radioButton?new de(Ge):Ge.data.checkBox?new g(Ge):new m(Ge);case"Ch":return new Oe(Ge)}return new _(Ge);case o.AnnotationType.POPUP:return new Be(Ge);case o.AnnotationType.FREETEXT:return new Fe(Ge);case o.AnnotationType.LINE:return new $(Ge);case o.AnnotationType.SQUARE:return new ee(Ge);case o.AnnotationType.CIRCLE:return new ke(Ge);case o.AnnotationType.POLYLINE:return new je(Ge);case o.AnnotationType.CARET:return new qe(Ge);case o.AnnotationType.INK:return new ze(Ge);case o.AnnotationType.POLYGON:return new He(Ge);case o.AnnotationType.HIGHLIGHT:return new at(Ge);case o.AnnotationType.UNDERLINE:return new et(Ge);case o.AnnotationType.SQUIGGLY:return new tt(Ge);case o.AnnotationType.STRIKEOUT:return new Ze(Ge);case o.AnnotationType.STAMP:return new st(Ge);case o.AnnotationType.FILEATTACHMENT:return new ut(Ge);default:return new xe(Ge)}}}]),Ke}(),xe=function(){function Ke(Ge){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Xe=Ye.isRenderable,rt=Xe!==void 0&&Xe,ot=Ye.ignoreBorder,it=ot!==void 0&&ot,lt=Ye.createQuadrilaterals,ct=lt!==void 0&&lt;we(this,Ke),this.isRenderable=rt,this.data=Ge.data,this.layer=Ge.layer,this.page=Ge.page,this.viewport=Ge.viewport,this.linkService=Ge.linkService,this.downloadManager=Ge.downloadManager,this.imageResourcesPath=Ge.imageResourcesPath,this.renderInteractiveForms=Ge.renderInteractiveForms,this.svgFactory=Ge.svgFactory,this.annotationStorage=Ge.annotationStorage,this.enableScripting=Ge.enableScripting,this.hasJSActions=Ge.hasJSActions,this._mouseState=Ge.mouseState,rt&&(this.container=this._createContainer(it)),ct&&(this.quadrilaterals=this._createQuadrilaterals(it))}return Ce(Ke,[{key:"_createContainer",value:function(){var Ge=arguments.length>0&&arguments[0]!==void 0&&arguments[0],Ye=this.data,Xe=this.page,rt=this.viewport,ot=document.createElement("section"),it=Ye.rect[2]-Ye.rect[0],lt=Ye.rect[3]-Ye.rect[1];ot.setAttribute("data-annotation-id",Ye.id);var ct=o.Util.normalizeRect([Ye.rect[0],Xe.view[3]-Ye.rect[1]+Xe.view[1],Ye.rect[2],Xe.view[3]-Ye.rect[3]+Xe.view[1]]);if(ot.style.transform="matrix(".concat(rt.transform.join(","),")"),ot.style.transformOrigin="".concat(-ct[0],"px ").concat(-ct[1],"px"),!Ge&&Ye.borderStyle.width>0){ot.style.borderWidth="".concat(Ye.borderStyle.width,"px"),Ye.borderStyle.style!==o.AnnotationBorderStyleType.UNDERLINE&&(it-=2*Ye.borderStyle.width,lt-=2*Ye.borderStyle.width);var dt=Ye.borderStyle.horizontalCornerRadius,gt=Ye.borderStyle.verticalCornerRadius;if(dt>0||gt>0){var vt="".concat(dt,"px / ").concat(gt,"px");ot.style.borderRadius=vt}switch(Ye.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:ot.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:ot.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:ot.style.borderBottomStyle="solid"}Ye.color?ot.style.borderColor=o.Util.makeHexColor(0|Ye.color[0],0|Ye.color[1],0|Ye.color[2]):ot.style.borderWidth=0}return ot.style.left="".concat(ct[0],"px"),ot.style.top="".concat(ct[1],"px"),ot.style.width="".concat(it,"px"),ot.style.height="".concat(lt,"px"),ot}},{key:"_createQuadrilaterals",value:function(){var Ge=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!this.data.quadPoints)return null;var Ye,Xe=[],rt=this.data.rect,ot=Qe(this.data.quadPoints);try{for(ot.s();!(Ye=ot.n()).done;){var it=Ye.value;this.data.rect=[it[2].x,it[2].y,it[1].x,it[1].y],Xe.push(this._createContainer(Ge))}}catch(lt){ot.e(lt)}finally{ot.f()}return this.data.rect=rt,Xe}},{key:"_createPopup",value:function(Ge,Ye){var Xe=this.container;this.quadrilaterals&&(Ge=Ge||this.quadrilaterals,Xe=this.quadrilaterals[0]),Ge||((Ge=document.createElement("div")).style.height=Xe.style.height,Ge.style.width=Xe.style.width,Xe.appendChild(Ge));var rt=new Me({container:Xe,trigger:Ge,color:Ye.color,title:Ye.title,modificationDate:Ye.modificationDate,contents:Ye.contents,hideWrapper:!0}).render();rt.style.left=Xe.style.width,Xe.appendChild(rt)}},{key:"_renderQuadrilaterals",value:function(Ge){var Ye,Xe=Qe(this.quadrilaterals);try{for(Xe.s();!(Ye=Xe.n()).done;)Ye.value.className=Ge}catch(rt){Xe.e(rt)}finally{Xe.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}}]),Ke}(),re=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!!(Xe.data.url||Xe.data.dest||Xe.data.action||Xe.data.isTooltipOnly||Xe.data.actions&&(Xe.data.actions.Action||Xe.data.actions["Mouse Up"]||Xe.data.actions["Mouse Down"]));return Ge.call(this,Xe,{isRenderable:rt,createQuadrilaterals:!0})}return Ce(Ye,[{key:"render",value:function(){var Xe=this.data,rt=this.linkService,ot=document.createElement("a");return Xe.url?(0,i.addLinkAttributes)(ot,{url:Xe.url,target:Xe.newWindow?i.LinkTarget.BLANK:rt.externalLinkTarget,rel:rt.externalLinkRel,enabled:rt.externalLinkEnabled}):Xe.action?this._bindNamedAction(ot,Xe.action):Xe.dest?this._bindLink(ot,Xe.dest):Xe.actions&&(Xe.actions.Action||Xe.actions["Mouse Up"]||Xe.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(ot,Xe):this._bindLink(ot,""),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(it,lt){var ct=lt===0?ot:ot.cloneNode();return it.appendChild(ct),it}):(this.container.className="linkAnnotation",this.container.appendChild(ot),this.container)}},{key:"_bindLink",value:function(Xe,rt){var ot=this;Xe.href=this.linkService.getDestinationHash(rt),Xe.onclick=function(){return rt&&ot.linkService.goToDestination(rt),!1},(rt||rt==="")&&(Xe.className="internalLink")}},{key:"_bindNamedAction",value:function(Xe,rt){var ot=this;Xe.href=this.linkService.getAnchorUrl(""),Xe.onclick=function(){return ot.linkService.executeNamedAction(rt),!1},Xe.className="internalLink"}},{key:"_bindJSAction",value:function(Xe,rt){var ot=this;Xe.href=this.linkService.getAnchorUrl("");for(var it=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),lt=function(){var gt=dt[ct],vt=it.get(gt);if(!vt)return"continue";Xe[vt]=function(){var pt;return(pt=ot.linkService.eventBus)===null||pt===void 0||pt.dispatch("dispatcheventinsandbox",{source:ot,detail:{id:rt.id,name:gt}}),!1}},ct=0,dt=Object.keys(rt.actions);ct<dt.length;ct++)lt();Xe.className="internalLink"}}]),Ye}(xe),Ae=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return Ge.call(this,Xe,{isRenderable:rt})}return Ce(Ye,[{key:"render",value:function(){this.container.className="textAnnotation";var Xe=document.createElement("img");return Xe.style.height=this.container.style.height,Xe.style.width=this.container.style.width,Xe.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Xe.alt="[{{type}} Annotation]",Xe.dataset.l10nId="text_annotation_type",Xe.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(Xe,this.data),this.container.appendChild(Xe),this.container}}]),Ye}(xe),_=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(){return we(this,Ye),Ge.apply(this,arguments)}return Ce(Ye,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(Xe){return navigator.platform.includes("Win")&&Xe.ctrlKey||navigator.platform.includes("Mac")&&Xe.metaKey}},{key:"_setEventListener",value:function(Xe,rt,ot,it){var lt=this;rt.includes("mouse")?Xe.addEventListener(rt,function(ct){var dt;(dt=lt.linkService.eventBus)===null||dt===void 0||dt.dispatch("dispatcheventinsandbox",{source:lt,detail:{id:lt.data.id,name:ot,value:it(ct),shift:ct.shiftKey,modifier:lt._getKeyModifier(ct)}})}):Xe.addEventListener(rt,function(ct){var dt;(dt=lt.linkService.eventBus)===null||dt===void 0||dt.dispatch("dispatcheventinsandbox",{source:lt,detail:{id:lt.data.id,name:ot,value:ct.target.checked}})})}},{key:"_setEventListeners",value:function(Xe,rt,ot){var it,lt=Qe(rt);try{for(lt.s();!(it=lt.n()).done;){var ct,dt=f(it.value,2),gt=dt[0],vt=dt[1];(vt==="Action"||(ct=this.data.actions)!==null&&ct!==void 0&&ct[vt])&&this._setEventListener(Xe,gt,vt,ot)}}catch(pt){lt.e(pt)}finally{lt.f()}}},{key:"_dispatchEventFromSandbox",value:function(Xe,rt){for(var ot=this,it=function(pt,_t,yt){var ft=yt.detail[pt];yt.target.style[_t]=u.ColorConverters["".concat(ft[0],"_HTML")](ft.slice(1))},lt={display:function(pt){var _t=pt.detail.display%2==1;pt.target.style.visibility=_t?"hidden":"visible",ot.annotationStorage.setValue(ot.data.id,{hidden:_t,print:pt.detail.display===0||pt.detail.display===3})},print:function(pt){ot.annotationStorage.setValue(ot.data.id,{print:pt.detail.print})},hidden:function(pt){pt.target.style.visibility=pt.detail.hidden?"hidden":"visible",ot.annotationStorage.setValue(ot.data.id,{hidden:pt.detail.hidden})},focus:function(pt){setTimeout(function(){return pt.target.focus({preventScroll:!1})},0)},userName:function(pt){pt.target.title=pt.detail.userName},readonly:function(pt){pt.detail.readonly?pt.target.setAttribute("readonly",""):pt.target.removeAttribute("readonly")},required:function(pt){pt.detail.required?pt.target.setAttribute("required",""):pt.target.removeAttribute("required")},bgColor:function(pt){it("bgColor","backgroundColor",pt)},fillColor:function(pt){it("fillColor","backgroundColor",pt)},fgColor:function(pt){it("fgColor","color",pt)},textColor:function(pt){it("textColor","color",pt)},borderColor:function(pt){it("borderColor","borderColor",pt)},strokeColor:function(pt){it("strokeColor","borderColor",pt)}},ct=0,dt=Object.keys(rt.detail);ct<dt.length;ct++){var gt=dt[ct],vt=Xe[gt]||lt[gt];vt&&vt(rt)}}}]),Ye}(xe),d=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=Xe.renderInteractiveForms||!Xe.data.hasAppearance&&!!Xe.data.fieldValue;return Ge.call(this,Xe,{isRenderable:rt})}return Ce(Ye,[{key:"setPropertyOnSiblings",value:function(Xe,rt,ot,it){var lt,ct=this.annotationStorage,dt=Qe(document.getElementsByName(Xe.name));try{for(dt.s();!(lt=dt.n()).done;){var gt=lt.value;if(gt!==Xe){gt[rt]=ot;var vt=Object.create(null);vt[it]=ot,ct.setValue(gt.getAttribute("id"),vt)}}}catch(pt){dt.e(pt)}finally{dt.f()}}},{key:"render",value:function(){var Xe=this,rt=this.annotationStorage,ot=this.data.id;this.container.className="textWidgetAnnotation";var it=null;if(this.renderInteractiveForms){var lt=rt.getValue(ot,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),ct=lt.valueAsString||lt.value||"",dt={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(it=document.createElement("textarea")).textContent=ct:((it=document.createElement("input")).type="text",it.setAttribute("value",ct)),dt.userValue=ct,it.setAttribute("id",ot),it.addEventListener("input",function(yt){rt.setValue(ot,{value:yt.target.value}),Xe.setPropertyOnSiblings(it,"value",yt.target.value,"value")});var gt=function(yt){dt.formattedValue&&(yt.target.value=dt.formattedValue),yt.target.scrollLeft=0,dt.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var vt;it.addEventListener("focus",function(yt){dt.userValue&&(yt.target.value=dt.userValue)}),it.addEventListener("updatefromsandbox",function(yt){var ft={value:function(mt){dt.userValue=mt.detail.value||"",rt.setValue(ot,{value:dt.userValue.toString()}),dt.formattedValue||(mt.target.value=dt.userValue)},valueAsString:function(mt){dt.formattedValue=mt.detail.valueAsString||"",mt.target!==document.activeElement&&(mt.target.value=dt.formattedValue),rt.setValue(ot,{formattedValue:dt.formattedValue})},selRange:function(mt){var wt=f(mt.detail.selRange,2),At=wt[0],St=wt[1];At>=0&&St<mt.target.value.length&&mt.target.setSelectionRange(At,St)}};Xe._dispatchEventFromSandbox(ft,yt)}),it.addEventListener("keydown",function(yt){var ft;dt.beforeInputValue=yt.target.value;var mt=-1;yt.key==="Escape"?mt=0:yt.key==="Enter"?mt=2:yt.key==="Tab"&&(mt=3),mt!==-1&&(dt.userValue=yt.target.value,(ft=Xe.linkService.eventBus)===null||ft===void 0||ft.dispatch("dispatcheventinsandbox",{source:Xe,detail:{id:ot,name:"Keystroke",value:yt.target.value,willCommit:!0,commitKey:mt,selStart:yt.target.selectionStart,selEnd:yt.target.selectionEnd}}))});var pt=gt;gt=null,it.addEventListener("blur",function(yt){var ft;Xe._mouseState.isDown&&(dt.userValue=yt.target.value,(ft=Xe.linkService.eventBus)===null||ft===void 0||ft.dispatch("dispatcheventinsandbox",{source:Xe,detail:{id:ot,name:"Keystroke",value:yt.target.value,willCommit:!0,commitKey:1,selStart:yt.target.selectionStart,selEnd:yt.target.selectionEnd}})),pt(yt)}),it.addEventListener("mousedown",function(yt){dt.beforeInputValue=yt.target.value,dt.beforeInputSelectionRange=null}),it.addEventListener("keyup",function(yt){yt.target.selectionStart===yt.target.selectionEnd&&(dt.beforeInputSelectionRange=null)}),it.addEventListener("select",function(yt){dt.beforeInputSelectionRange=[yt.target.selectionStart,yt.target.selectionEnd]}),(vt=this.data.actions)!==null&&vt!==void 0&&vt.Keystroke&&it.addEventListener("input",function(yt){var ft,mt=-1,wt=-1;if(dt.beforeInputSelectionRange){var At=f(dt.beforeInputSelectionRange,2);mt=At[0],wt=At[1]}(ft=Xe.linkService.eventBus)===null||ft===void 0||ft.dispatch("dispatcheventinsandbox",{source:Xe,detail:{id:ot,name:"Keystroke",value:dt.beforeInputValue,change:yt.data,willCommit:!1,selStart:mt,selEnd:wt}})}),this._setEventListeners(it,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(yt){return yt.target.value})}if(gt&&it.addEventListener("blur",gt),it.disabled=this.data.readOnly,it.name=this.data.fieldName,this.data.maxLen!==null&&(it.maxLength=this.data.maxLen),this.data.comb){var _t=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;it.classList.add("comb"),it.style.letterSpacing="calc(".concat(_t,"px - 1ch)")}}else(it=document.createElement("div")).textContent=this.data.fieldValue,it.style.verticalAlign="middle",it.style.display="table-cell";return this._setTextStyle(it),this.container.appendChild(it),this.container}},{key:"_setTextStyle",value:function(Xe){var rt=this.data.defaultAppearanceData,ot=rt.fontSize,it=rt.fontColor,lt=Xe.style;ot&&(lt.fontSize="".concat(ot,"px")),lt.color=o.Util.makeHexColor(it[0],it[1],it[2]),this.data.textAlignment!==null&&(lt.textAlign=["left","center","right"][this.data.textAlignment])}}]),Ye}(_),g=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){return we(this,Ye),Ge.call(this,Xe,{isRenderable:Xe.renderInteractiveForms})}return Ce(Ye,[{key:"render",value:function(){var Xe=this,rt=this.annotationStorage,ot=this.data,it=ot.id,lt=rt.getValue(it,{value:ot.fieldValue&&(ot.exportValue&&ot.exportValue===ot.fieldValue||!ot.exportValue&&ot.fieldValue!=="Off")}).value;typeof lt=="string"&&(lt=lt!=="Off",rt.setValue(it,{value:lt})),this.container.className="buttonWidgetAnnotation checkBox";var ct=document.createElement("input");return ct.disabled=ot.readOnly,ct.type="checkbox",ct.name=this.data.fieldName,lt&&ct.setAttribute("checked",!0),ct.setAttribute("id",it),ct.addEventListener("change",function(dt){var gt,vt=dt.target.name,pt=Qe(document.getElementsByName(vt));try{for(pt.s();!(gt=pt.n()).done;){var _t=gt.value;_t!==dt.target&&(_t.checked=!1,rt.setValue(_t.parentNode.getAttribute("data-annotation-id"),{value:!1}))}}catch(yt){pt.e(yt)}finally{pt.f()}rt.setValue(it,{value:dt.target.checked})}),this.enableScripting&&this.hasJSActions&&(ct.addEventListener("updatefromsandbox",function(dt){var gt={value:function(vt){vt.target.checked=vt.detail.value!=="Off",rt.setValue(it,{value:vt.target.checked})}};Xe._dispatchEventFromSandbox(gt,dt)}),this._setEventListeners(ct,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(dt){return dt.target.checked})),this.container.appendChild(ct),this.container}}]),Ye}(_),de=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){return we(this,Ye),Ge.call(this,Xe,{isRenderable:Xe.renderInteractiveForms})}return Ce(Ye,[{key:"render",value:function(){var Xe=this;this.container.className="buttonWidgetAnnotation radioButton";var rt=this.annotationStorage,ot=this.data,it=ot.id,lt=rt.getValue(it,{value:ot.fieldValue===ot.buttonValue}).value;typeof lt=="string"&&(lt=lt!==ot.buttonValue,rt.setValue(it,{value:lt}));var ct=document.createElement("input");if(ct.disabled=ot.readOnly,ct.type="radio",ct.name=ot.fieldName,lt&&ct.setAttribute("checked",!0),ct.setAttribute("id",it),ct.addEventListener("change",function(gt){var vt,pt=gt.target,_t=Qe(document.getElementsByName(pt.name));try{for(_t.s();!(vt=_t.n()).done;){var yt=vt.value;yt!==pt&&rt.setValue(yt.getAttribute("id"),{value:!1})}}catch(ft){_t.e(ft)}finally{_t.f()}rt.setValue(it,{value:pt.checked})}),this.enableScripting&&this.hasJSActions){var dt=ot.buttonValue;ct.addEventListener("updatefromsandbox",function(gt){var vt={value:function(pt){var _t,yt=dt===pt.detail.value,ft=Qe(document.getElementsByName(pt.target.name));try{for(ft.s();!(_t=ft.n()).done;){var mt=_t.value,wt=mt.getAttribute("id");mt.checked=wt===it&&yt,rt.setValue(wt,{value:mt.checked})}}catch(At){ft.e(At)}finally{ft.f()}}};Xe._dispatchEventFromSandbox(vt,gt)}),this._setEventListeners(ct,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(gt){return gt.target.checked})}return this.container.appendChild(ct),this.container}}]),Ye}(_),m=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(){return we(this,Ye),Ge.apply(this,arguments)}return Ce(Ye,[{key:"render",value:function(){var Xe=c($e(Ye.prototype),"render",this).call(this);return Xe.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(Xe.title=this.data.alternativeText),Xe}}]),Ye}(re),Oe=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){return we(this,Ye),Ge.call(this,Xe,{isRenderable:Xe.renderInteractiveForms})}return Ce(Ye,[{key:"render",value:function(){var Xe=this;this.container.className="choiceWidgetAnnotation";var rt=this.annotationStorage,ot=this.data.id;rt.getValue(ot,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var it=document.createElement("select");it.disabled=this.data.readOnly,it.name=this.data.fieldName,it.setAttribute("id",ot),this.data.combo||(it.size=this.data.options.length,this.data.multiSelect&&(it.multiple=!0));var lt,ct=Qe(this.data.options);try{for(ct.s();!(lt=ct.n()).done;){var dt=lt.value,gt=document.createElement("option");gt.textContent=dt.displayValue,gt.value=dt.exportValue,this.data.fieldValue.includes(dt.exportValue)&&gt.setAttribute("selected",!0),it.appendChild(gt)}}catch(_t){ct.e(_t)}finally{ct.f()}var vt=function(_t,yt){var ft=yt?"value":"textContent",mt=_t.target.options;return _t.target.multiple?Array.prototype.filter.call(mt,function(wt){return wt.selected}).map(function(wt){return wt[ft]}):mt.selectedIndex===-1?null:mt[mt.selectedIndex][ft]},pt=function(_t){var yt=_t.target.options;return Array.prototype.map.call(yt,function(ft){return{displayValue:ft.textContent,exportValue:ft.value}})};return this.enableScripting&&this.hasJSActions?(it.addEventListener("updatefromsandbox",function(_t){var yt={value:function(ft){var mt=it.options,wt=ft.detail.value,At=new Set(Array.isArray(wt)?wt:[wt]);Array.prototype.forEach.call(mt,function(St){St.selected=At.has(St.value)}),rt.setValue(ot,{value:vt(ft,!0)})},multipleSelection:function(ft){it.multiple=!0},remove:function(ft){var mt=it.options,wt=ft.detail.remove;if(mt[wt].selected=!1,it.remove(wt),mt.length>0){var At=Array.prototype.findIndex.call(mt,function(St){return St.selected});At===-1&&(mt[0].selected=!0)}rt.setValue(ot,{value:vt(ft,!0),items:pt(ft)})},clear:function(ft){for(;it.length!==0;)it.remove(0);rt.setValue(ot,{value:null,items:[]})},insert:function(ft){var mt=ft.detail.insert,wt=mt.index,At=mt.displayValue,St=mt.exportValue,Et=document.createElement("option");Et.textContent=At,Et.value=St,it.insertBefore(Et,it.children[wt]),rt.setValue(ot,{value:vt(ft,!0),items:pt(ft)})},items:function(ft){for(var mt=ft.detail.items;it.length!==0;)it.remove(0);var wt,At=Qe(mt);try{for(At.s();!(wt=At.n()).done;){var St=wt.value,Et=St.displayValue,xt=St.exportValue,Tt=document.createElement("option");Tt.textContent=Et,Tt.value=xt,it.appendChild(Tt)}}catch(Ot){At.e(Ot)}finally{At.f()}it.options.length>0&&(it.options[0].selected=!0),rt.setValue(ot,{value:vt(ft,!0),items:pt(ft)})},indices:function(ft){var mt=new Set(ft.detail.indices),wt=ft.target.options;Array.prototype.forEach.call(wt,function(At,St){At.selected=mt.has(St)}),rt.setValue(ot,{value:vt(ft,!0)})},editable:function(ft){ft.target.disabled=!ft.detail.editable}};Xe._dispatchEventFromSandbox(yt,_t)}),it.addEventListener("input",function(_t){var yt,ft=vt(_t,!0),mt=vt(_t,!1);rt.setValue(ot,{value:ft}),(yt=Xe.linkService.eventBus)===null||yt===void 0||yt.dispatch("dispatcheventinsandbox",{source:Xe,detail:{id:ot,name:"Keystroke",value:mt,changeEx:ft,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(it,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(_t){return _t.target.checked})):it.addEventListener("input",function(_t){rt.setValue(ot,{value:vt(_t)})}),this.container.appendChild(it),this.container}}]),Ye}(_),Be=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!(!Xe.data.title&&!Xe.data.contents);return Ge.call(this,Xe,{isRenderable:rt})}return Ce(Ye,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var Xe='[data-annotation-id="'.concat(this.data.parentId,'"]'),rt=this.layer.querySelectorAll(Xe);if(rt.length===0)return this.container;var ot=new Me({container:this.container,trigger:Array.from(rt),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),it=this.page,lt=o.Util.normalizeRect([this.data.parentRect[0],it.view[3]-this.data.parentRect[1]+it.view[1],this.data.parentRect[2],it.view[3]-this.data.parentRect[3]+it.view[1]]),ct=lt[0]+this.data.parentRect[2]-this.data.parentRect[0],dt=lt[1];return this.container.style.transformOrigin="".concat(-ct,"px ").concat(-dt,"px"),this.container.style.left="".concat(ct,"px"),this.container.style.top="".concat(dt,"px"),this.container.appendChild(ot.render()),this.container}}]),Ye}(xe),Me=function(){function Ke(Ge){we(this,Ke),this.container=Ge.container,this.trigger=Ge.trigger,this.color=Ge.color,this.title=Ge.title,this.modificationDate=Ge.modificationDate,this.contents=Ge.contents,this.hideWrapper=Ge.hideWrapper||!1,this.pinned=!1}return Ce(Ke,[{key:"render",value:function(){var Ge=document.createElement("div");Ge.className="popupWrapper",this.hideElement=this.hideWrapper?Ge:this.container,this.hideElement.hidden=!0;var Ye=document.createElement("div");Ye.className="popup";var Xe=this.color;if(Xe){var rt=.7*(255-Xe[0])+Xe[0],ot=.7*(255-Xe[1])+Xe[1],it=.7*(255-Xe[2])+Xe[2];Ye.style.backgroundColor=o.Util.makeHexColor(0|rt,0|ot,0|it)}var lt=document.createElement("h1");lt.textContent=this.title,Ye.appendChild(lt);var ct=i.PDFDateString.toDateObject(this.modificationDate);if(ct){var dt=document.createElement("span");dt.textContent="{{date}}, {{time}}",dt.dataset.l10nId="annotation_date_string",dt.dataset.l10nArgs=JSON.stringify({date:ct.toLocaleDateString(),time:ct.toLocaleTimeString()}),Ye.appendChild(dt)}var gt=this._formatContents(this.contents);Ye.appendChild(gt),Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var vt,pt=Qe(this.trigger);try{for(pt.s();!(vt=pt.n()).done;){var _t=vt.value;_t.addEventListener("click",this._toggle.bind(this)),_t.addEventListener("mouseover",this._show.bind(this,!1)),_t.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(yt){pt.e(yt)}finally{pt.f()}return Ye.addEventListener("click",this._hide.bind(this,!0)),Ge.appendChild(Ye),Ge}},{key:"_formatContents",value:function(Ge){for(var Ye=document.createElement("p"),Xe=Ge.split(/(?:\r\n?|\n)/),rt=0,ot=Xe.length;rt<ot;++rt){var it=Xe[rt];Ye.appendChild(document.createTextNode(it)),rt<ot-1&&Ye.appendChild(document.createElement("br"))}return Ye}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var Ge=arguments.length>0&&arguments[0]!==void 0&&arguments[0];Ge&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var Ge=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];Ge&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),Ke}(),Fe=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return Ge.call(this,Xe,{isRenderable:rt,ignoreBorder:!0})}return Ce(Ye,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),Ye}(xe),$=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return Ge.call(this,Xe,{isRenderable:rt,ignoreBorder:!0})}return Ce(Ye,[{key:"render",value:function(){this.container.className="lineAnnotation";var Xe=this.data,rt=Xe.rect[2]-Xe.rect[0],ot=Xe.rect[3]-Xe.rect[1],it=this.svgFactory.create(rt,ot),lt=this.svgFactory.createElement("svg:line");return lt.setAttribute("x1",Xe.rect[2]-Xe.lineCoordinates[0]),lt.setAttribute("y1",Xe.rect[3]-Xe.lineCoordinates[1]),lt.setAttribute("x2",Xe.rect[2]-Xe.lineCoordinates[2]),lt.setAttribute("y2",Xe.rect[3]-Xe.lineCoordinates[3]),lt.setAttribute("stroke-width",Xe.borderStyle.width||1),lt.setAttribute("stroke","transparent"),it.appendChild(lt),this.container.append(it),this._createPopup(lt,Xe),this.container}}]),Ye}(xe),ee=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return Ge.call(this,Xe,{isRenderable:rt,ignoreBorder:!0})}return Ce(Ye,[{key:"render",value:function(){this.container.className="squareAnnotation";var Xe=this.data,rt=Xe.rect[2]-Xe.rect[0],ot=Xe.rect[3]-Xe.rect[1],it=this.svgFactory.create(rt,ot),lt=Xe.borderStyle.width,ct=this.svgFactory.createElement("svg:rect");return ct.setAttribute("x",lt/2),ct.setAttribute("y",lt/2),ct.setAttribute("width",rt-lt),ct.setAttribute("height",ot-lt),ct.setAttribute("stroke-width",lt||1),ct.setAttribute("stroke","transparent"),ct.setAttribute("fill","none"),it.appendChild(ct),this.container.append(it),this._createPopup(ct,Xe),this.container}}]),Ye}(xe),ke=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return Ge.call(this,Xe,{isRenderable:rt,ignoreBorder:!0})}return Ce(Ye,[{key:"render",value:function(){this.container.className="circleAnnotation";var Xe=this.data,rt=Xe.rect[2]-Xe.rect[0],ot=Xe.rect[3]-Xe.rect[1],it=this.svgFactory.create(rt,ot),lt=Xe.borderStyle.width,ct=this.svgFactory.createElement("svg:ellipse");return ct.setAttribute("cx",rt/2),ct.setAttribute("cy",ot/2),ct.setAttribute("rx",rt/2-lt/2),ct.setAttribute("ry",ot/2-lt/2),ct.setAttribute("stroke-width",lt||1),ct.setAttribute("stroke","transparent"),ct.setAttribute("fill","none"),it.appendChild(ct),this.container.append(it),this._createPopup(ct,Xe),this.container}}]),Ye}(xe),je=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){var rt;we(this,Ye);var ot=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return(rt=Ge.call(this,Xe,{isRenderable:ot,ignoreBorder:!0})).containerClassName="polylineAnnotation",rt.svgElementName="svg:polyline",rt}return Ce(Ye,[{key:"render",value:function(){this.container.className=this.containerClassName;var Xe,rt=this.data,ot=rt.rect[2]-rt.rect[0],it=rt.rect[3]-rt.rect[1],lt=this.svgFactory.create(ot,it),ct=[],dt=Qe(rt.vertices);try{for(dt.s();!(Xe=dt.n()).done;){var gt=Xe.value,vt=gt.x-rt.rect[0],pt=rt.rect[3]-gt.y;ct.push(vt+","+pt)}}catch(yt){dt.e(yt)}finally{dt.f()}ct=ct.join(" ");var _t=this.svgFactory.createElement(this.svgElementName);return _t.setAttribute("points",ct),_t.setAttribute("stroke-width",rt.borderStyle.width||1),_t.setAttribute("stroke","transparent"),_t.setAttribute("fill","none"),lt.appendChild(_t),this.container.append(lt),this._createPopup(_t,rt),this.container}}]),Ye}(xe),He=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){var rt;return we(this,Ye),(rt=Ge.call(this,Xe)).containerClassName="polygonAnnotation",rt.svgElementName="svg:polygon",rt}return Ye}(je),qe=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return Ge.call(this,Xe,{isRenderable:rt,ignoreBorder:!0})}return Ce(Ye,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),Ye}(xe),ze=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){var rt;we(this,Ye);var ot=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return(rt=Ge.call(this,Xe,{isRenderable:ot,ignoreBorder:!0})).containerClassName="inkAnnotation",rt.svgElementName="svg:polyline",rt}return Ce(Ye,[{key:"render",value:function(){this.container.className=this.containerClassName;var Xe,rt=this.data,ot=rt.rect[2]-rt.rect[0],it=rt.rect[3]-rt.rect[1],lt=this.svgFactory.create(ot,it),ct=Qe(rt.inkLists);try{for(ct.s();!(Xe=ct.n()).done;){var dt,gt=Xe.value,vt=[],pt=Qe(gt);try{for(pt.s();!(dt=pt.n()).done;){var _t=dt.value,yt=_t.x-rt.rect[0],ft=rt.rect[3]-_t.y;vt.push("".concat(yt,",").concat(ft))}}catch(wt){pt.e(wt)}finally{pt.f()}vt=vt.join(" ");var mt=this.svgFactory.createElement(this.svgElementName);mt.setAttribute("points",vt),mt.setAttribute("stroke-width",rt.borderStyle.width||1),mt.setAttribute("stroke","transparent"),mt.setAttribute("fill","none"),this._createPopup(mt,rt),lt.appendChild(mt)}}catch(wt){ct.e(wt)}finally{ct.f()}return this.container.append(lt),this.container}}]),Ye}(xe),at=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return Ge.call(this,Xe,{isRenderable:rt,ignoreBorder:!0,createQuadrilaterals:!0})}return Ce(Ye,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),Ye}(xe),et=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return Ge.call(this,Xe,{isRenderable:rt,ignoreBorder:!0,createQuadrilaterals:!0})}return Ce(Ye,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),Ye}(xe),tt=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return Ge.call(this,Xe,{isRenderable:rt,ignoreBorder:!0,createQuadrilaterals:!0})}return Ce(Ye,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),Ye}(xe),Ze=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return Ge.call(this,Xe,{isRenderable:rt,ignoreBorder:!0,createQuadrilaterals:!0})}return Ce(Ye,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),Ye}(xe),st=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){we(this,Ye);var rt=!!(Xe.data.hasPopup||Xe.data.title||Xe.data.contents);return Ge.call(this,Xe,{isRenderable:rt,ignoreBorder:!0})}return Ce(Ye,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),Ye}(xe),ut=function(Ke){L(Ye,Ke);var Ge=ge(Ye);function Ye(Xe){var rt,ot;we(this,Ye);var it=(ot=Ge.call(this,Xe,{isRenderable:!0})).data.file,lt=it.filename,ct=it.content;return ot.filename=(0,i.getFilenameFromUrl)(lt),ot.content=ct,(rt=ot.linkService.eventBus)===null||rt===void 0||rt.dispatch("fileattachmentannotation",{source:We(ot),id:(0,o.stringToPDFString)(lt),filename:lt,content:ct}),ot}return Ce(Ye,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var Xe=document.createElement("div");return Xe.style.height=this.container.style.height,Xe.style.width=this.container.style.width,Xe.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(Xe,this.data),this.container.appendChild(Xe),this.container}},{key:"_download",value:function(){var Xe;(Xe=this.downloadManager)===null||Xe===void 0||Xe.openOrDownloadData(this.container,this.content,this.filename)}}]),Ye}(xe),Je=function(){function Ke(){we(this,Ke)}return Ce(Ke,null,[{key:"render",value:function(Ge){var Ye,Xe=[],rt=[],ot=Qe(Ge.annotations);try{for(ot.s();!(Ye=ot.n()).done;){var it=Ye.value;it&&(it.annotationType!==o.AnnotationType.POPUP?Xe.push(it):rt.push(it))}}catch(ft){ot.e(ft)}finally{ot.f()}rt.length&&Xe.push.apply(Xe,rt);for(var lt=0,ct=Xe;lt<ct.length;lt++){var dt=ct[lt],gt=Ee.create({data:dt,layer:Ge.div,page:Ge.page,viewport:Ge.viewport,linkService:Ge.linkService,downloadManager:Ge.downloadManager,imageResourcesPath:Ge.imageResourcesPath||"",renderInteractiveForms:Ge.renderInteractiveForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:Ge.annotationStorage||new s.AnnotationStorage,enableScripting:Ge.enableScripting,hasJSActions:Ge.hasJSActions,mouseState:Ge.mouseState||{isDown:!1}});if(gt.isRenderable){var vt=gt.render();if(dt.hidden&&(vt.style.visibility="hidden"),Array.isArray(vt)){var pt,_t=Qe(vt);try{for(_t.s();!(pt=_t.n()).done;){var yt=pt.value;Ge.div.appendChild(yt)}}catch(ft){_t.e(ft)}finally{_t.f()}}else gt instanceof Be?Ge.div.prepend(vt):Ge.div.appendChild(vt)}}}},{key:"update",value:function(Ge){var Ye,Xe="matrix(".concat(Ge.viewport.transform.join(","),")"),rt=Qe(Ge.annotations);try{for(rt.s();!(Ye=rt.n()).done;){var ot=Ye.value,it=Ge.div.querySelectorAll('[data-annotation-id="'.concat(ot.id,'"]'));if(it){var lt,ct=Qe(it);try{for(ct.s();!(lt=ct.n()).done;)lt.value.style.transform=Xe}catch(dt){ct.e(dt)}finally{ct.f()}}}}catch(dt){rt.e(dt)}finally{rt.f()}Ge.div.hidden=!1}}]),Ke}();e.AnnotationLayer=Je},(t,e)=>{function n(u,c){return function(f){if(Array.isArray(f))return f}(u)||function(f,L){var Se=f&&(typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"]);if(Se!=null){var ge,Le,We=[],$e=!0,Qe=!1;try{for(Se=Se.call(f);!($e=(ge=Se.next()).done)&&(We.push(ge.value),!L||We.length!==L);$e=!0);}catch(Ue){Qe=!0,Le=Ue}finally{try{$e||Se.return==null||Se.return()}finally{if(Qe)throw Le}}return We}}(u,c)||function(f,L){if(f){if(typeof f=="string")return a(f,L);var Se=Object.prototype.toString.call(f).slice(8,-1);return Se==="Object"&&f.constructor&&(Se=f.constructor.name),Se==="Map"||Se==="Set"?Array.from(f):Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se)?a(f,L):void 0}}(u,c)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(u,c){(c==null||c>u.length)&&(c=u.length);for(var f=0,L=new Array(c);f<c;f++)L[f]=u[f];return L}function i(u,c){for(var f=0;f<c.length;f++){var L=c[f];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(u,L.key,L)}}function o(u){return Math.floor(255*Math.max(0,Math.min(1,u))).toString(16).padStart(2,"0")}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;var s=function(){function u(){(function(Se,ge){if(!(Se instanceof ge))throw new TypeError("Cannot call a class as a function")})(this,u)}var c,f,L;return c=u,L=[{key:"CMYK_G",value:function(Se){var ge=n(Se,4),Le=ge[0],We=ge[1],$e=ge[2],Qe=ge[3];return["G",1-Math.min(1,.3*Le+.59*$e+.11*We+Qe)]}},{key:"G_CMYK",value:function(Se){return["CMYK",0,0,0,1-n(Se,1)[0]]}},{key:"G_RGB",value:function(Se){var ge=n(Se,1)[0];return["RGB",ge,ge,ge]}},{key:"G_HTML",value:function(Se){var ge=o(n(Se,1)[0]);return"#".concat(ge).concat(ge).concat(ge)}},{key:"RGB_G",value:function(Se){var ge=n(Se,3);return["G",.3*ge[0]+.59*ge[1]+.11*ge[2]]}},{key:"RGB_HTML",value:function(Se){var ge=n(Se,3),Le=ge[0],We=ge[1],$e=ge[2],Qe=o(Le),Ue=o(We),De=o($e);return"#".concat(Qe).concat(Ue).concat(De)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(Se){var ge=n(Se,4),Le=ge[0],We=ge[1],$e=ge[2],Qe=ge[3];return["RGB",1-Math.min(1,Le+Qe),1-Math.min(1,$e+Qe),1-Math.min(1,We+Qe)]}},{key:"CMYK_HTML",value:function(Se){return this.RGB_HTML(this.CMYK_RGB(Se))}},{key:"RGB_CMYK",value:function(Se){var ge=n(Se,3),Le=1-ge[0],We=1-ge[1],$e=1-ge[2];return["CMYK",Le,We,$e,Math.min(Le,We,$e)]}}],(f=null)&&i(c.prototype,f),L&&i(c,L),u}();e.ColorConverters=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLayer=function(Qe){var Ue=new $e({textContent:Qe.textContent,textContentStream:Qe.textContentStream,container:Qe.container,viewport:Qe.viewport,textDivs:Qe.textDivs,textContentItemsStr:Qe.textContentItemsStr,enhanceTextSelection:Qe.enhanceTextSelection});return Ue._render(Qe.timeout),Ue};var a=n(4);function i(Qe,Ue){for(var De=0;De<Ue.length;De++){var we=Ue[De];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(Qe,we.key,we)}}function o(Qe,Ue){var De=typeof Symbol<"u"&&Qe[Symbol.iterator]||Qe["@@iterator"];if(!De){if(Array.isArray(Qe)||(De=function(re,Ae){if(re){if(typeof re=="string")return s(re,Ae);var _=Object.prototype.toString.call(re).slice(8,-1);return _==="Object"&&re.constructor&&(_=re.constructor.name),_==="Map"||_==="Set"?Array.from(re):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?s(re,Ae):void 0}}(Qe))||Ue&&Qe&&typeof Qe.length=="number"){De&&(Qe=De);var we=0,ve=function(){};return{s:ve,n:function(){return we>=Qe.length?{done:!0}:{done:!1,value:Qe[we++]}},e:function(re){throw re},f:ve}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ce,Ee=!0,xe=!1;return{s:function(){De=De.call(Qe)},n:function(){var re=De.next();return Ee=re.done,re},e:function(re){xe=!0,Ce=re},f:function(){try{Ee||De.return==null||De.return()}finally{if(xe)throw Ce}}}}function s(Qe,Ue){(Ue==null||Ue>Qe.length)&&(Ue=Qe.length);for(var De=0,we=new Array(Ue);De<Ue;De++)we[De]=Qe[De];return we}var u=30,c=new Map,f=/^\s+$/g;function L(Qe,Ue,De,we){var ve=document.createElement("span"),Ce={angle:0,canvasWidth:0,hasText:Ue.str!=="",hasEOL:Ue.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};Qe._textDivs.push(ve);var Ee=a.Util.transform(Qe._viewport.transform,Ue.transform),xe=Math.atan2(Ee[1],Ee[0]),re=De[Ue.fontName];re.vertical&&(xe+=Math.PI/2);var Ae,_,d=Math.hypot(Ee[2],Ee[3]),g=d*function(je,He){var qe=c.get(je);if(qe)return qe;He.save(),He.font="".concat(u,"px ").concat(je);var ze=He.measureText(""),at=ze.fontBoundingBoxAscent,et=Math.abs(ze.fontBoundingBoxDescent);if(at){He.restore();var tt=at/(at+et);return c.set(je,tt),tt}He.strokeStyle="red",He.clearRect(0,0,u,u),He.strokeText("g",0,0);var Ze=He.getImageData(0,0,u,u).data;et=0;for(var st=Ze.length-1-3;st>=0;st-=4)if(Ze[st]>0){et=Math.ceil(st/4/u);break}He.clearRect(0,0,u,u),He.strokeText("A",0,u),at=0;for(var ut=0,Je=(Ze=He.getImageData(0,0,u,u).data).length;ut<Je;ut+=4)if(Ze[ut]>0){at=u-Math.floor(ut/4/u);break}if(He.restore(),at){var Ke=at/(at+et);return c.set(je,Ke),Ke}return c.set(je,.8),.8}(re.fontFamily,we);xe===0?(Ae=Ee[4],_=Ee[5]-g):(Ae=Ee[4]+g*Math.sin(xe),_=Ee[5]-g*Math.cos(xe)),ve.style.left="".concat(Ae,"px"),ve.style.top="".concat(_,"px"),ve.style.fontSize="".concat(d,"px"),ve.style.fontFamily=re.fontFamily,ve.setAttribute("role","presentation"),ve.textContent=Ue.str,ve.dir=Ue.dir,Qe._fontInspectorEnabled&&(ve.dataset.fontName=Ue.fontName),xe!==0&&(Ce.angle=xe*(180/Math.PI));var de=!1;if(Ue.str.length>1||Qe._enhanceTextSelection&&f.test(Ue.str))de=!0;else if(Ue.transform[0]!==Ue.transform[3]){var m=Math.abs(Ue.transform[0]),Oe=Math.abs(Ue.transform[3]);m!==Oe&&Math.max(m,Oe)/Math.min(m,Oe)>1.5&&(de=!0)}if(de&&(re.vertical?Ce.canvasWidth=Ue.height*Qe._viewport.scale:Ce.canvasWidth=Ue.width*Qe._viewport.scale),Qe._textDivProperties.set(ve,Ce),Qe._textContentStream&&Qe._layoutText(ve),Qe._enhanceTextSelection&&Ce.hasText){var Be=1,Me=0;xe!==0&&(Be=Math.cos(xe),Me=Math.sin(xe));var Fe,$,ee=(re.vertical?Ue.height:Ue.width)*Qe._viewport.scale,ke=d;xe!==0?(Fe=[Be,Me,-Me,Be,Ae,_],$=a.Util.getAxialAlignedBoundingBox([0,0,ee,ke],Fe)):$=[Ae,_,Ae+ee,_+ke],Qe._bounds.push({left:$[0],top:$[1],right:$[2],bottom:$[3],div:ve,size:[ee,ke],m:Fe})}}function Se(Qe){if(!Qe._canceled){var Ue=Qe._textDivs,De=Qe._capability,we=Ue.length;if(we>1e5)return Qe._renderingDone=!0,void De.resolve();if(!Qe._textContentStream)for(var ve=0;ve<we;ve++)Qe._layoutText(Ue[ve]);Qe._renderingDone=!0,De.resolve()}}function ge(Qe,Ue,De){for(var we=0,ve=0;ve<De;ve++){var Ce=Qe[Ue++];Ce>0&&(we=we?Math.min(Ce,we):Ce)}return we}function Le(Qe){for(var Ue=Qe._bounds,De=Qe._viewport,we=function(Fe,$,ee){var ke=ee.map(function(ut,Je){return{x1:ut.left,y1:ut.top,x2:ut.right,y2:ut.bottom,index:Je,x1New:void 0,x2New:void 0}});We(Fe,ke);var je,He=new Array(ee.length),qe=o(ke);try{for(qe.s();!(je=qe.n()).done;){var ze=je.value,at=ze.index;He[at]={left:ze.x1New,top:0,right:ze.x2New,bottom:0}}}catch(ut){qe.e(ut)}finally{qe.f()}ee.map(function(ut,Je){var Ke=He[Je],Ge=ke[Je];Ge.x1=ut.top,Ge.y1=Fe-Ke.right,Ge.x2=ut.bottom,Ge.y2=Fe-Ke.left,Ge.index=Je,Ge.x1New=void 0,Ge.x2New=void 0}),We($,ke);var et,tt=o(ke);try{for(tt.s();!(et=tt.n()).done;){var Ze=et.value,st=Ze.index;He[st].top=Ze.x1New,He[st].bottom=Ze.x2New}}catch(ut){tt.e(ut)}finally{tt.f()}return He}(De.width,De.height,Ue),ve=0;ve<we.length;ve++){var Ce=Ue[ve].div,Ee=Qe._textDivProperties.get(Ce);if(Ee.angle!==0){for(var xe=we[ve],re=Ue[ve],Ae=re.m,_=Ae[0],d=Ae[1],g=[[0,0],[0,re.size[1]],[re.size[0],0],re.size],de=new Float64Array(64),m=0,Oe=g.length;m<Oe;m++){var Be=a.Util.applyTransform(g[m],Ae);de[m+0]=_&&(xe.left-Be[0])/_,de[m+4]=d&&(xe.top-Be[1])/d,de[m+8]=_&&(xe.right-Be[0])/_,de[m+12]=d&&(xe.bottom-Be[1])/d,de[m+16]=d&&(xe.left-Be[0])/-d,de[m+20]=_&&(xe.top-Be[1])/_,de[m+24]=d&&(xe.right-Be[0])/-d,de[m+28]=_&&(xe.bottom-Be[1])/_,de[m+32]=_&&(xe.left-Be[0])/-_,de[m+36]=d&&(xe.top-Be[1])/-d,de[m+40]=_&&(xe.right-Be[0])/-_,de[m+44]=d&&(xe.bottom-Be[1])/-d,de[m+48]=d&&(xe.left-Be[0])/d,de[m+52]=_&&(xe.top-Be[1])/-_,de[m+56]=d&&(xe.right-Be[0])/d,de[m+60]=_&&(xe.bottom-Be[1])/-_}var Me=1+Math.min(Math.abs(_),Math.abs(d));Ee.paddingLeft=ge(de,32,16)/Me,Ee.paddingTop=ge(de,48,16)/Me,Ee.paddingRight=ge(de,0,16)/Me,Ee.paddingBottom=ge(de,16,16)/Me,Qe._textDivProperties.set(Ce,Ee)}else Ee.paddingLeft=Ue[ve].left-we[ve].left,Ee.paddingTop=Ue[ve].top-we[ve].top,Ee.paddingRight=we[ve].right-Ue[ve].right,Ee.paddingBottom=we[ve].bottom-Ue[ve].bottom,Qe._textDivProperties.set(Ce,Ee)}}function We(Qe,Ue){Ue.sort(function(ke,je){return ke.x1-je.x1||ke.index-je.index});var De,we=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],ve=o(Ue);try{for(ve.s();!(De=ve.n()).done;){for(var Ce=De.value,Ee=0;Ee<we.length&&we[Ee].end<=Ce.y1;)Ee++;for(var xe=we.length-1;xe>=0&&we[xe].start>=Ce.y2;)xe--;var re=void 0,Ae=void 0,_=void 0,d=void 0,g=-1/0;for(_=Ee;_<=xe;_++){Ae=(re=we[_]).boundary;var de=void 0;(de=Ae.x2>Ce.x1?Ae.index>Ce.index?Ae.x1New:Ce.x1:Ae.x2New===void 0?(Ae.x2+Ce.x1)/2:Ae.x2New)>g&&(g=de)}for(Ce.x1New=g,_=Ee;_<=xe;_++)(Ae=(re=we[_]).boundary).x2New===void 0?Ae.x2>Ce.x1?Ae.index>Ce.index&&(Ae.x2New=Ae.x2):Ae.x2New=g:Ae.x2New>g&&(Ae.x2New=Math.max(g,Ae.x2));var m=[],Oe=null;for(_=Ee;_<=xe;_++){var Be=(Ae=(re=we[_]).boundary).x2>Ce.x2?Ae:Ce;Oe===Be?m[m.length-1].end=re.end:(m.push({start:re.start,end:re.end,boundary:Be}),Oe=Be)}for(we[Ee].start<Ce.y1&&(m[0].start=Ce.y1,m.unshift({start:we[Ee].start,end:Ce.y1,boundary:we[Ee].boundary})),Ce.y2<we[xe].end&&(m[m.length-1].end=Ce.y2,m.push({start:Ce.y2,end:we[xe].end,boundary:we[xe].boundary})),_=Ee;_<=xe;_++)if((Ae=(re=we[_]).boundary).x2New===void 0){var Me=!1;for(d=Ee-1;!Me&&d>=0&&we[d].start>=Ae.y1;d--)Me=we[d].boundary===Ae;for(d=xe+1;!Me&&d<we.length&&we[d].end<=Ae.y2;d++)Me=we[d].boundary===Ae;for(d=0;!Me&&d<m.length;d++)Me=m[d].boundary===Ae;Me||(Ae.x2New=g)}Array.prototype.splice.apply(we,[Ee,xe-Ee+1].concat(m))}}catch(ke){ve.e(ke)}finally{ve.f()}for(var Fe=0,$=we;Fe<$.length;Fe++){var ee=$[Fe].boundary;ee.x2New===void 0&&(ee.x2New=Math.max(Qe,ee.x2))}}var $e=function(){function Qe(we){var ve,Ce=this,Ee=we.textContent,xe=we.textContentStream,re=we.container,Ae=we.viewport,_=we.textDivs,d=we.textContentItemsStr,g=we.enhanceTextSelection;(function(de,m){if(!(de instanceof m))throw new TypeError("Cannot call a class as a function")})(this,Qe),this._textContent=Ee,this._textContentStream=xe,this._container=re,this._document=re.ownerDocument,this._viewport=Ae,this._textDivs=_||[],this._textContentItemsStr=d||[],this._enhanceTextSelection=!!g,this._fontInspectorEnabled=!((ve=globalThis.FontInspector)===null||ve===void 0||!ve.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){Ce._layoutTextCtx&&(Ce._layoutTextCtx.canvas.width=0,Ce._layoutTextCtx.canvas.height=0,Ce._layoutTextCtx=null)}).catch(function(){})}var Ue,De;return Ue=Qe,De=[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(we,ve){for(var Ce=0,Ee=we.length;Ce<Ee;Ce++)if(we[Ce].str!==void 0)this._textContentItemsStr.push(we[Ce].str),L(this,we[Ce],ve,this._layoutTextCtx);else if(we[Ce].type==="beginMarkedContentProps"||we[Ce].type==="beginMarkedContent"){var xe=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),we[Ce].id!==null&&this._container.setAttribute("id","".concat(we[Ce].id)),xe.appendChild(this._container)}else we[Ce].type==="endMarkedContent"&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function(we){var ve=this._textDivProperties.get(we),Ce="";if(ve.canvasWidth!==0&&ve.hasText){var Ee=we.style,xe=Ee.fontSize,re=Ee.fontFamily;xe===this._layoutTextLastFontSize&&re===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(xe," ").concat(re),this._layoutTextLastFontSize=xe,this._layoutTextLastFontFamily=re);var Ae=this._layoutTextCtx.measureText(we.textContent).width;Ae>0&&(ve.scale=ve.canvasWidth/Ae,Ce="scaleX(".concat(ve.scale,")"))}if(ve.angle!==0&&(Ce="rotate(".concat(ve.angle,"deg) ").concat(Ce)),Ce.length>0&&(this._enhanceTextSelection&&(ve.originalTransform=Ce),we.style.transform=Ce),ve.hasText&&this._container.appendChild(we),ve.hasEOL){var _=document.createElement("br");_.setAttribute("role","presentation"),this._container.appendChild(_)}}},{key:"_render",value:function(){var we=this,ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ce=(0,a.createPromiseCapability)(),Ee=Object.create(null),xe=this._document.createElement("canvas");if(xe.height=xe.width=u,xe.mozOpaque=!0,this._layoutTextCtx=xe.getContext("2d",{alpha:!1}),this._textContent){var re=this._textContent.items,Ae=this._textContent.styles;this._processItems(re,Ae),Ce.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var _=function d(){we._reader.read().then(function(g){var de=g.value;g.done?Ce.resolve():(Object.assign(Ee,de.styles),we._processItems(de.items,Ee),d())},Ce.reject)};this._reader=this._textContentStream.getReader(),_()}Ce.promise.then(function(){Ee=null,ve?we._renderTimer=setTimeout(function(){Se(we),we._renderTimer=null},ve):Se(we)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var we=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){this._bounds!==null&&(Le(this),this._bounds=null);for(var ve=[],Ce=[],Ee=0,xe=this._textDivs.length;Ee<xe;Ee++){var re=this._textDivs[Ee],Ae=this._textDivProperties.get(re);Ae.hasText&&(we?(ve.length=0,Ce.length=0,Ae.originalTransform&&ve.push(Ae.originalTransform),Ae.paddingTop>0?(Ce.push("".concat(Ae.paddingTop,"px")),ve.push("translateY(".concat(-Ae.paddingTop,"px)"))):Ce.push(0),Ae.paddingRight>0?Ce.push("".concat(Ae.paddingRight/Ae.scale,"px")):Ce.push(0),Ae.paddingBottom>0?Ce.push("".concat(Ae.paddingBottom,"px")):Ce.push(0),Ae.paddingLeft>0?(Ce.push("".concat(Ae.paddingLeft/Ae.scale,"px")),ve.push("translateX(".concat(-Ae.paddingLeft/Ae.scale,"px)"))):Ce.push(0),re.style.padding=Ce.join(" "),ve.length&&(re.style.transform=ve.join(" "))):(re.style.padding=null,re.style.transform=Ae.originalTransform))}}}}],De&&i(Ue.prototype,De),Qe}()},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var a=n(4),i=n(1),o=n(6);function s(Ae){return function(_){if(Array.isArray(_))return L(_)}(Ae)||function(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}(Ae)||f(Ae)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(Ae,_){return function(d){if(Array.isArray(d))return d}(Ae)||function(d,g){var de=d&&(typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"]);if(de!=null){var m,Oe,Be=[],Me=!0,Fe=!1;try{for(de=de.call(d);!(Me=(m=de.next()).done)&&(Be.push(m.value),!g||Be.length!==g);Me=!0);}catch($){Fe=!0,Oe=$}finally{try{Me||de.return==null||de.return()}finally{if(Fe)throw Oe}}return Be}}(Ae,_)||f(Ae,_)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c(Ae,_){var d=typeof Symbol<"u"&&Ae[Symbol.iterator]||Ae["@@iterator"];if(!d){if(Array.isArray(Ae)||(d=f(Ae))||_&&Ae&&typeof Ae.length=="number"){d&&(Ae=d);var g=0,de=function(){};return{s:de,n:function(){return g>=Ae.length?{done:!0}:{done:!1,value:Ae[g++]}},e:function(Me){throw Me},f:de}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,Oe=!0,Be=!1;return{s:function(){d=d.call(Ae)},n:function(){var Me=d.next();return Oe=Me.done,Me},e:function(Me){Be=!0,m=Me},f:function(){try{Oe||d.return==null||d.return()}finally{if(Be)throw m}}}}function f(Ae,_){if(Ae){if(typeof Ae=="string")return L(Ae,_);var d=Object.prototype.toString.call(Ae).slice(8,-1);return d==="Object"&&Ae.constructor&&(d=Ae.constructor.name),d==="Map"||d==="Set"?Array.from(Ae):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?L(Ae,_):void 0}}function L(Ae,_){(_==null||_>Ae.length)&&(_=Ae.length);for(var d=0,g=new Array(_);d<_;d++)g[d]=Ae[d];return g}function Se(Ae,_){for(var d=0;d<_.length;d++){var g=_[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(Ae,g.key,g)}}function ge(Ae,_,d){return _&&Se(Ae.prototype,_),d&&Se(Ae,d),Ae}function Le(Ae,_){if(!(Ae instanceof _))throw new TypeError("Cannot call a class as a function")}var We=function Ae(){Le(this,Ae),(0,a.unreachable)("Not implemented: SVGGraphics")};e.SVGGraphics=We;var $e=function(Ae){if(Number.isInteger(Ae))return Ae.toString();var _=Ae.toFixed(10),d=_.length-1;if(_[d]!=="0")return _;do d--;while(_[d]==="0");return _.substring(0,_[d]==="."?d:d+1)},Qe=function(Ae){if(Ae[4]===0&&Ae[5]===0){if(Ae[1]===0&&Ae[2]===0)return Ae[0]===1&&Ae[3]===1?"":"scale(".concat($e(Ae[0])," ").concat($e(Ae[3]),")");if(Ae[0]===Ae[3]&&Ae[1]===-Ae[2]){var _=180*Math.acos(Ae[0])/Math.PI;return"rotate(".concat($e(_),")")}}else if(Ae[0]===1&&Ae[1]===0&&Ae[2]===0&&Ae[3]===1)return"translate(".concat($e(Ae[4])," ").concat($e(Ae[5]),")");return"matrix(".concat($e(Ae[0])," ").concat($e(Ae[1])," ").concat($e(Ae[2])," ").concat($e(Ae[3])," ").concat($e(Ae[4])," ")+"".concat($e(Ae[5]),")")},Ue={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},De=["butt","round","square"],we=["miter","round","bevel"],ve=function(){for(var Ae=new Uint8Array([137,80,78,71,13,10,26,10]),_=new Int32Array(256),d=0;d<256;d++){for(var g=d,de=0;de<8;de++)g=1&g?3988292384^g>>1&2147483647:g>>1&2147483647;_[d]=g}function m(Me,Fe,$,ee){var ke=ee,je=Fe.length;$[ke]=je>>24&255,$[ke+1]=je>>16&255,$[ke+2]=je>>8&255,$[ke+3]=255&je,$[ke+=4]=255&Me.charCodeAt(0),$[ke+1]=255&Me.charCodeAt(1),$[ke+2]=255&Me.charCodeAt(2),$[ke+3]=255&Me.charCodeAt(3),ke+=4,$.set(Fe,ke);var He=function(qe,ze,at){for(var et=-1,tt=ze;tt<at;tt++){var Ze=255&(et^qe[tt]);et=et>>>8^_[Ze]}return-1^et}($,ee+4,ke+=Fe.length);$[ke]=He>>24&255,$[ke+1]=He>>16&255,$[ke+2]=He>>8&255,$[ke+3]=255&He}function Oe(Me){var Fe=Me.length,$=65535,ee=Math.ceil(Fe/$),ke=new Uint8Array(2+Fe+5*ee+4),je=0;ke[je++]=120,ke[je++]=156;for(var He=0;Fe>$;)ke[je++]=0,ke[je++]=255,ke[je++]=255,ke[je++]=0,ke[je++]=0,ke.set(Me.subarray(He,He+$),je),je+=$,He+=$,Fe-=$;ke[je++]=1,ke[je++]=255&Fe,ke[je++]=Fe>>8&255,ke[je++]=255&~Fe,ke[je++]=(65535&~Fe)>>8&255,ke.set(Me.subarray(He),je),je+=Me.length-He;var qe=function(ze,at,et){for(var tt=1,Ze=0,st=at;st<et;++st)Ze=(Ze+(tt=(tt+(255&ze[st]))%65521))%65521;return Ze<<16|tt}(Me,0,Me.length);return ke[je++]=qe>>24&255,ke[je++]=qe>>16&255,ke[je++]=qe>>8&255,ke[je++]=255&qe,ke}function Be(Me,Fe,$,ee){var ke,je,He,qe=Me.width,ze=Me.height,at=Me.data;switch(Fe){case a.ImageKind.GRAYSCALE_1BPP:je=0,ke=1,He=qe+7>>3;break;case a.ImageKind.RGB_24BPP:je=2,ke=8,He=3*qe;break;case a.ImageKind.RGBA_32BPP:je=6,ke=8,He=4*qe;break;default:throw new Error("invalid format")}for(var et=new Uint8Array((1+He)*ze),tt=0,Ze=0,st=0;st<ze;++st)et[tt++]=0,et.set(at.subarray(Ze,Ze+He),tt),Ze+=He,tt+=He;if(Fe===a.ImageKind.GRAYSCALE_1BPP&&ee){tt=0;for(var ut=0;ut<ze;ut++){tt++;for(var Je=0;Je<He;Je++)et[tt++]^=255}}var Ke=new Uint8Array([qe>>24&255,qe>>16&255,qe>>8&255,255&qe,ze>>24&255,ze>>16&255,ze>>8&255,255&ze,ke,je,0,0,0]),Ge=function(ot){if(!o.isNodeJS)return Oe(ot);try{var it;it=parseInt(process.versions.node)>=8?ot:Buffer.from(ot);var lt=__webpack_require__(324).deflateSync(it,{level:9});return lt instanceof Uint8Array?lt:new Uint8Array(lt)}catch(ct){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ct)}return Oe(ot)}(et),Ye=Ae.length+36+Ke.length+Ge.length,Xe=new Uint8Array(Ye),rt=0;return Xe.set(Ae,rt),m("IHDR",Ke,Xe,rt+=Ae.length),m("IDATA",Ge,Xe,rt+=12+Ke.length),rt+=12+Ge.length,m("IEND",new Uint8Array(0),Xe,rt),(0,a.createObjectURL)(Xe,"image/png",$)}return function(Me,Fe,$){return Be(Me,Me.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:Me.kind,Fe,$)}}(),Ce=function(){function Ae(){Le(this,Ae),this.fontSizeScale=1,this.fontWeight=Ue.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Ue.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return ge(Ae,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(_,d){this.x=_,this.y=d}}]),Ae}(),Ee=0,xe=0,re=0;e.SVGGraphics=We=function(){function Ae(_,d){var g=arguments.length>2&&arguments[2]!==void 0&&arguments[2];for(var de in Le(this,Ae),this.svgFactory=new i.DOMSVGFactory,this.current=new Ce,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=_,this.objs=d,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!g,this._operatorIdMapping=[],a.OPS)this._operatorIdMapping[a.OPS[de]]=de}return ge(Ae,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var _=this.current;this.extraStack.push(_),this.current=_.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(_){this.save(),this.executeOpTree(_),this.restore()}},{key:"loadDependencies",value:function(_){for(var d=this,g=_.fnArray,de=_.argsArray,m=0,Oe=g.length;m<Oe;m++)if(g[m]===a.OPS.dependency){var Be,Me=c(de[m]);try{var Fe=function(){var $=Be.value,ee=$.startsWith("g_")?d.commonObjs:d.objs,ke=new Promise(function(je){ee.get($,je)});d.current.dependencies.push(ke)};for(Me.s();!(Be=Me.n()).done;)Fe()}catch($){Me.e($)}finally{Me.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(_,d,g,de,m,Oe){var Be=[_,d,g,de,m,Oe];this.transformMatrix=a.Util.transform(this.transformMatrix,Be),this.tgrp=null}},{key:"getSVG",value:function(_,d){var g=this;this.viewport=d;var de=this._initialize(d);return this.loadDependencies(_).then(function(){return g.transformMatrix=a.IDENTITY_MATRIX,g.executeOpTree(g.convertOpList(_)),de})}},{key:"convertOpList",value:function(_){for(var d=this._operatorIdMapping,g=_.argsArray,de=_.fnArray,m=[],Oe=0,Be=de.length;Oe<Be;Oe++){var Me=de[Oe];m.push({fnId:Me,fn:d[Me],args:g[Oe]})}return function(Fe){var $,ee=[],ke=[],je=c(Fe);try{for(je.s();!($=je.n()).done;){var He=$.value;He.fn!=="save"?He.fn==="restore"?ee=ke.pop():ee.push(He):(ee.push({fnId:92,fn:"group",items:[]}),ke.push(ee),ee=ee[ee.length-1].items)}}catch(qe){je.e(qe)}finally{je.f()}return ee}(m)}},{key:"executeOpTree",value:function(_){var d,g=c(_);try{for(g.s();!(d=g.n()).done;){var de=d.value,m=de.fn,Oe=de.fnId,Be=de.args;switch(0|Oe){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(Be);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(Be[0],Be[1]);break;case a.OPS.setFont:this.setFont(Be);break;case a.OPS.showText:case a.OPS.showSpacedText:this.showText(Be[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(Be[0],Be[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(Be[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(Be[0]);break;case a.OPS.setHScale:this.setHScale(Be[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(Be[0],Be[1],Be[2],Be[3],Be[4],Be[5]);break;case a.OPS.setTextRise:this.setTextRise(Be[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(Be[0]);break;case a.OPS.setLineWidth:this.setLineWidth(Be[0]);break;case a.OPS.setLineJoin:this.setLineJoin(Be[0]);break;case a.OPS.setLineCap:this.setLineCap(Be[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(Be[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(Be[0],Be[1],Be[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Be[0],Be[1],Be[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(Be);break;case a.OPS.setFillColorN:this.setFillColorN(Be);break;case a.OPS.shadingFill:this.shadingFill(Be[0]);break;case a.OPS.setDash:this.setDash(Be[0],Be[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(Be[0]);break;case a.OPS.setFlatness:this.setFlatness(Be[0]);break;case a.OPS.setGState:this.setGState(Be[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(Be[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Be[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Be[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Be[0],Be[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(Be[0],Be[1],Be[2],Be[3],Be[4],Be[5]);break;case a.OPS.constructPath:this.constructPath(Be[0],Be[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(de.items);break;default:(0,a.warn)("Unimplemented operator ".concat(m))}}}catch(Me){g.e(Me)}finally{g.f()}}},{key:"setWordSpacing",value:function(_){this.current.wordSpacing=_}},{key:"setCharSpacing",value:function(_){this.current.charSpacing=_}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(_,d,g,de,m,Oe){var Be=this.current;Be.textMatrix=Be.lineMatrix=[_,d,g,de,m,Oe],Be.textMatrixScale=Math.hypot(_,d),Be.x=Be.lineX=0,Be.y=Be.lineY=0,Be.xcoords=[],Be.ycoords=[],Be.tspan=this.svgFactory.createElement("svg:tspan"),Be.tspan.setAttributeNS(null,"font-family",Be.fontFamily),Be.tspan.setAttributeNS(null,"font-size","".concat($e(Be.fontSize),"px")),Be.tspan.setAttributeNS(null,"y",$e(-Be.y)),Be.txtElement=this.svgFactory.createElement("svg:text"),Be.txtElement.appendChild(Be.tspan)}},{key:"beginText",value:function(){var _=this.current;_.x=_.lineX=0,_.y=_.lineY=0,_.textMatrix=a.IDENTITY_MATRIX,_.lineMatrix=a.IDENTITY_MATRIX,_.textMatrixScale=1,_.tspan=this.svgFactory.createElement("svg:tspan"),_.txtElement=this.svgFactory.createElement("svg:text"),_.txtgrp=this.svgFactory.createElement("svg:g"),_.xcoords=[],_.ycoords=[]}},{key:"moveText",value:function(_,d){var g=this.current;g.x=g.lineX+=_,g.y=g.lineY+=d,g.xcoords=[],g.ycoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size","".concat($e(g.fontSize),"px")),g.tspan.setAttributeNS(null,"y",$e(-g.y))}},{key:"showText",value:function(_){var d=this.current,g=d.font,de=d.fontSize;if(de!==0){var m,Oe=d.fontSizeScale,Be=d.charSpacing,Me=d.wordSpacing,Fe=d.fontDirection,$=d.textHScale*Fe,ee=g.vertical,ke=ee?1:-1,je=g.defaultVMetrics,He=de*d.fontMatrix[0],qe=0,ze=c(_);try{for(ze.s();!(m=ze.n()).done;){var at=m.value;if(at!==null)if((0,a.isNum)(at))qe+=ke*at*de/1e3;else{var et=(at.isSpace?Me:0)+Be,tt=at.fontChar,Ze=void 0,st=void 0,ut=at.width;if(ee){var Je=void 0,Ke=at.vmetric||je;Je=-(Je=at.vmetric?Ke[1]:.5*ut)*He;var Ge=Ke[2]*He;ut=Ke?-Ke[0]:ut,Ze=Je/Oe,st=(qe+Ge)/Oe}else Ze=qe/Oe,st=0;(at.isInFont||g.missingFile)&&(d.xcoords.push(d.x+Ze),ee&&d.ycoords.push(-d.y+st),d.tspan.textContent+=tt),qe+=ee?ut*He-et*Fe:ut*He+et*Fe}else qe+=Fe*Me}}catch(ot){ze.e(ot)}finally{ze.f()}d.tspan.setAttributeNS(null,"x",d.xcoords.map($e).join(" ")),ee?d.tspan.setAttributeNS(null,"y",d.ycoords.map($e).join(" ")):d.tspan.setAttributeNS(null,"y",$e(-d.y)),ee?d.y-=qe:d.x+=qe*$,d.tspan.setAttributeNS(null,"font-family",d.fontFamily),d.tspan.setAttributeNS(null,"font-size","".concat($e(d.fontSize),"px")),d.fontStyle!==Ue.fontStyle&&d.tspan.setAttributeNS(null,"font-style",d.fontStyle),d.fontWeight!==Ue.fontWeight&&d.tspan.setAttributeNS(null,"font-weight",d.fontWeight);var Ye=d.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(Ye===a.TextRenderingMode.FILL||Ye===a.TextRenderingMode.FILL_STROKE?(d.fillColor!==Ue.fillColor&&d.tspan.setAttributeNS(null,"fill",d.fillColor),d.fillAlpha<1&&d.tspan.setAttributeNS(null,"fill-opacity",d.fillAlpha)):d.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?d.tspan.setAttributeNS(null,"fill","transparent"):d.tspan.setAttributeNS(null,"fill","none"),Ye===a.TextRenderingMode.STROKE||Ye===a.TextRenderingMode.FILL_STROKE){var Xe=1/(d.textMatrixScale||1);this._setStrokeAttributes(d.tspan,Xe)}var rt=d.textMatrix;d.textRise!==0&&((rt=rt.slice())[5]+=d.textRise),d.txtElement.setAttributeNS(null,"transform","".concat(Qe(rt)," scale(").concat($e($),", -1)")),d.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),d.txtElement.appendChild(d.tspan),d.txtgrp.appendChild(d.txtElement),this._ensureTransformGroup().appendChild(d.txtElement)}}},{key:"setLeadingMoveText",value:function(_,d){this.setLeading(-d),this.moveText(_,d)}},{key:"addFontStyle",value:function(_){if(!_.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var d=(0,a.createObjectURL)(_.data,_.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(_.loadedName,'";')+" src: url(".concat(d,`); }
`)}},{key:"setFont",value:function(_){var d=this.current,g=this.commonObjs.get(_[0]),de=_[1];d.font=g,!this.embedFonts||g.missingFile||this.embeddedFonts[g.loadedName]||(this.addFontStyle(g),this.embeddedFonts[g.loadedName]=g),d.fontMatrix=g.fontMatrix||a.FONT_IDENTITY_MATRIX;var m="normal";g.black?m="900":g.bold&&(m="bold");var Oe=g.italic?"italic":"normal";de<0?(de=-de,d.fontDirection=-1):d.fontDirection=1,d.fontSize=de,d.fontFamily=g.loadedName,d.fontWeight=m,d.fontStyle=Oe,d.tspan=this.svgFactory.createElement("svg:tspan"),d.tspan.setAttributeNS(null,"y",$e(-d.y)),d.xcoords=[],d.ycoords=[]}},{key:"endText",value:function(){var _,d=this.current;d.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&(_=d.txtElement)!==null&&_!==void 0&&_.hasChildNodes()&&(d.element=d.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(_){_>0&&(this.current.lineWidth=_)}},{key:"setLineCap",value:function(_){this.current.lineCap=De[_]}},{key:"setLineJoin",value:function(_){this.current.lineJoin=we[_]}},{key:"setMiterLimit",value:function(_){this.current.miterLimit=_}},{key:"setStrokeAlpha",value:function(_){this.current.strokeAlpha=_}},{key:"setStrokeRGBColor",value:function(_,d,g){this.current.strokeColor=a.Util.makeHexColor(_,d,g)}},{key:"setFillAlpha",value:function(_){this.current.fillAlpha=_}},{key:"setFillRGBColor",value:function(_,d,g){this.current.fillColor=a.Util.makeHexColor(_,d,g),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(_){this.current.strokeColor=this._makeColorN_Pattern(_)}},{key:"setFillColorN",value:function(_){this.current.fillColor=this._makeColorN_Pattern(_)}},{key:"shadingFill",value:function(_){var d=this.viewport.width,g=this.viewport.height,de=a.Util.inverseTransform(this.transformMatrix),m=a.Util.applyTransform([0,0],de),Oe=a.Util.applyTransform([0,g],de),Be=a.Util.applyTransform([d,0],de),Me=a.Util.applyTransform([d,g],de),Fe=Math.min(m[0],Oe[0],Be[0],Me[0]),$=Math.min(m[1],Oe[1],Be[1],Me[1]),ee=Math.max(m[0],Oe[0],Be[0],Me[0]),ke=Math.max(m[1],Oe[1],Be[1],Me[1]),je=this.svgFactory.createElement("svg:rect");je.setAttributeNS(null,"x",Fe),je.setAttributeNS(null,"y",$),je.setAttributeNS(null,"width",ee-Fe),je.setAttributeNS(null,"height",ke-$),je.setAttributeNS(null,"fill",this._makeShadingPattern(_)),this.current.fillAlpha<1&&je.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(je)}},{key:"_makeColorN_Pattern",value:function(_){return _[0]==="TilingPattern"?this._makeTilingPattern(_):this._makeShadingPattern(_)}},{key:"_makeTilingPattern",value:function(_){var d=_[1],g=_[2],de=_[3]||a.IDENTITY_MATRIX,m=u(_[4],4),Oe=m[0],Be=m[1],Me=m[2],Fe=m[3],$=_[5],ee=_[6],ke=_[7],je="shading".concat(re++),He=u(a.Util.applyTransform([Oe,Be],de),2),qe=He[0],ze=He[1],at=u(a.Util.applyTransform([Me,Fe],de),2),et=at[0],tt=at[1],Ze=u(a.Util.singularValueDecompose2dScale(de),2),st=$*Ze[0],ut=ee*Ze[1],Je=this.svgFactory.createElement("svg:pattern");Je.setAttributeNS(null,"id",je),Je.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Je.setAttributeNS(null,"width",st),Je.setAttributeNS(null,"height",ut),Je.setAttributeNS(null,"x","".concat(qe)),Je.setAttributeNS(null,"y","".concat(ze));var Ke=this.svg,Ge=this.transformMatrix,Ye=this.current.fillColor,Xe=this.current.strokeColor,rt=this.svgFactory.create(et-qe,tt-ze);if(this.svg=rt,this.transformMatrix=de,ke===2){var ot=a.Util.makeHexColor.apply(a.Util,s(d));this.current.fillColor=ot,this.current.strokeColor=ot}return this.executeOpTree(this.convertOpList(g)),this.svg=Ke,this.transformMatrix=Ge,this.current.fillColor=Ye,this.current.strokeColor=Xe,Je.appendChild(rt.childNodes[0]),this.defs.appendChild(Je),"url(#".concat(je,")")}},{key:"_makeShadingPattern",value:function(_){switch(_[0]){case"RadialAxial":var d,g="shading".concat(re++),de=_[3];switch(_[1]){case"axial":var m=_[4],Oe=_[5];(d=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",g),d.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),d.setAttributeNS(null,"x1",m[0]),d.setAttributeNS(null,"y1",m[1]),d.setAttributeNS(null,"x2",Oe[0]),d.setAttributeNS(null,"y2",Oe[1]);break;case"radial":var Be=_[4],Me=_[5],Fe=_[6],$=_[7];(d=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",g),d.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),d.setAttributeNS(null,"cx",Me[0]),d.setAttributeNS(null,"cy",Me[1]),d.setAttributeNS(null,"r",$),d.setAttributeNS(null,"fx",Be[0]),d.setAttributeNS(null,"fy",Be[1]),d.setAttributeNS(null,"fr",Fe);break;default:throw new Error("Unknown RadialAxial type: ".concat(_[1]))}var ee,ke=c(de);try{for(ke.s();!(ee=ke.n()).done;){var je=ee.value,He=this.svgFactory.createElement("svg:stop");He.setAttributeNS(null,"offset",je[0]),He.setAttributeNS(null,"stop-color",je[1]),d.appendChild(He)}}catch(qe){ke.e(qe)}finally{ke.f()}return this.defs.appendChild(d),"url(#".concat(g,")");case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(_[0]))}}},{key:"setDash",value:function(_,d){this.current.dashArray=_,this.current.dashPhase=d}},{key:"constructPath",value:function(_,d){var g,de=this.current,m=de.x,Oe=de.y,Be=[],Me=0,Fe=c(_);try{for(Fe.s();!(g=Fe.n()).done;)switch(0|g.value){case a.OPS.rectangle:m=d[Me++],Oe=d[Me++];var $=d[Me++],ee=d[Me++],ke=m+$,je=Oe+ee;Be.push("M",$e(m),$e(Oe),"L",$e(ke),$e(Oe),"L",$e(ke),$e(je),"L",$e(m),$e(je),"Z");break;case a.OPS.moveTo:m=d[Me++],Oe=d[Me++],Be.push("M",$e(m),$e(Oe));break;case a.OPS.lineTo:m=d[Me++],Oe=d[Me++],Be.push("L",$e(m),$e(Oe));break;case a.OPS.curveTo:m=d[Me+4],Oe=d[Me+5],Be.push("C",$e(d[Me]),$e(d[Me+1]),$e(d[Me+2]),$e(d[Me+3]),$e(m),$e(Oe)),Me+=6;break;case a.OPS.curveTo2:Be.push("C",$e(m),$e(Oe),$e(d[Me]),$e(d[Me+1]),$e(d[Me+2]),$e(d[Me+3])),m=d[Me+2],Oe=d[Me+3],Me+=4;break;case a.OPS.curveTo3:m=d[Me+2],Oe=d[Me+3],Be.push("C",$e(d[Me]),$e(d[Me+1]),$e(m),$e(Oe),$e(m),$e(Oe)),Me+=4;break;case a.OPS.closePath:Be.push("Z")}}catch(He){Fe.e(He)}finally{Fe.f()}Be=Be.join(" "),de.path&&_.length>0&&_[0]!==a.OPS.rectangle&&_[0]!==a.OPS.moveTo?Be=de.path.getAttributeNS(null,"d")+Be:(de.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(de.path)),de.path.setAttributeNS(null,"d",Be),de.path.setAttributeNS(null,"fill","none"),de.element=de.path,de.setCurrentPoint(m,Oe)}},{key:"endPath",value:function(){var _=this.current;if(_.path=null,this.pendingClip)if(_.element){var d="clippath".concat(Ee++),g=this.svgFactory.createElement("svg:clipPath");g.setAttributeNS(null,"id",d),g.setAttributeNS(null,"transform",Qe(this.transformMatrix));var de=_.element.cloneNode(!0);if(this.pendingClip==="evenodd"?de.setAttributeNS(null,"clip-rule","evenodd"):de.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,g.appendChild(de),this.defs.appendChild(g),_.activeClipUrl){_.clipGroup=null;var m,Oe=c(this.extraStack);try{for(Oe.s();!(m=Oe.n()).done;)m.value.clipGroup=null}catch(Be){Oe.e(Be)}finally{Oe.f()}g.setAttributeNS(null,"clip-path",_.activeClipUrl)}_.activeClipUrl="url(#".concat(d,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(_){this.pendingClip=_}},{key:"closePath",value:function(){var _=this.current;if(_.path){var d="".concat(_.path.getAttributeNS(null,"d"),"Z");_.path.setAttributeNS(null,"d",d)}}},{key:"setLeading",value:function(_){this.current.leading=-_}},{key:"setTextRise",value:function(_){this.current.textRise=_}},{key:"setTextRenderingMode",value:function(_){this.current.textRenderingMode=_}},{key:"setHScale",value:function(_){this.current.textHScale=_/100}},{key:"setRenderingIntent",value:function(_){}},{key:"setFlatness",value:function(_){}},{key:"setGState",value:function(_){var d,g=c(_);try{for(g.s();!(d=g.n()).done;){var de=u(d.value,2),m=de[0],Oe=de[1];switch(m){case"LW":this.setLineWidth(Oe);break;case"LC":this.setLineCap(Oe);break;case"LJ":this.setLineJoin(Oe);break;case"ML":this.setMiterLimit(Oe);break;case"D":this.setDash(Oe[0],Oe[1]);break;case"RI":this.setRenderingIntent(Oe);break;case"FL":this.setFlatness(Oe);break;case"Font":this.setFont(Oe);break;case"CA":this.setStrokeAlpha(Oe);break;case"ca":this.setFillAlpha(Oe);break;default:(0,a.warn)("Unimplemented graphic state operator ".concat(m))}}}catch(Be){g.e(Be)}finally{g.f()}}},{key:"fill",value:function(){var _=this.current;_.element&&(_.element.setAttributeNS(null,"fill",_.fillColor),_.element.setAttributeNS(null,"fill-opacity",_.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var _=this.current;_.element&&(this._setStrokeAttributes(_.element),_.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(_){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,g=this.current,de=g.dashArray;d!==1&&de.length>0&&(de=de.map(function(m){return d*m})),_.setAttributeNS(null,"stroke",g.strokeColor),_.setAttributeNS(null,"stroke-opacity",g.strokeAlpha),_.setAttributeNS(null,"stroke-miterlimit",$e(g.miterLimit)),_.setAttributeNS(null,"stroke-linecap",g.lineCap),_.setAttributeNS(null,"stroke-linejoin",g.lineJoin),_.setAttributeNS(null,"stroke-width",$e(d*g.lineWidth)+"px"),_.setAttributeNS(null,"stroke-dasharray",de.map($e).join(" ")),_.setAttributeNS(null,"stroke-dashoffset",$e(d*g.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var _=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width","1px"),_.setAttributeNS(null,"height","1px"),_.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(_)}},{key:"paintImageXObject",value:function(_){var d=_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_);d?this.paintInlineImageXObject(d):(0,a.warn)("Dependent image with object ID ".concat(_," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(_,d){var g=_.width,de=_.height,m=ve(_,this.forceDataSchema,!!d),Oe=this.svgFactory.createElement("svg:rect");Oe.setAttributeNS(null,"x","0"),Oe.setAttributeNS(null,"y","0"),Oe.setAttributeNS(null,"width",$e(g)),Oe.setAttributeNS(null,"height",$e(de)),this.current.element=Oe,this.clip("nonzero");var Be=this.svgFactory.createElement("svg:image");Be.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m),Be.setAttributeNS(null,"x","0"),Be.setAttributeNS(null,"y",$e(-de)),Be.setAttributeNS(null,"width",$e(g)+"px"),Be.setAttributeNS(null,"height",$e(de)+"px"),Be.setAttributeNS(null,"transform","scale(".concat($e(1/g)," ").concat($e(-1/de),")")),d?d.appendChild(Be):this._ensureTransformGroup().appendChild(Be)}},{key:"paintImageMaskXObject",value:function(_){var d=this.current,g=_.width,de=_.height,m=d.fillColor;d.maskId="mask".concat(xe++);var Oe=this.svgFactory.createElement("svg:mask");Oe.setAttributeNS(null,"id",d.maskId);var Be=this.svgFactory.createElement("svg:rect");Be.setAttributeNS(null,"x","0"),Be.setAttributeNS(null,"y","0"),Be.setAttributeNS(null,"width",$e(g)),Be.setAttributeNS(null,"height",$e(de)),Be.setAttributeNS(null,"fill",m),Be.setAttributeNS(null,"mask","url(#".concat(d.maskId,")")),this.defs.appendChild(Oe),this._ensureTransformGroup().appendChild(Be),this.paintInlineImageXObject(_,Oe)}},{key:"paintFormXObjectBegin",value:function(_,d){if(Array.isArray(_)&&_.length===6&&this.transform(_[0],_[1],_[2],_[3],_[4],_[5]),d){var g=d[2]-d[0],de=d[3]-d[1],m=this.svgFactory.createElement("svg:rect");m.setAttributeNS(null,"x",d[0]),m.setAttributeNS(null,"y",d[1]),m.setAttributeNS(null,"width",$e(g)),m.setAttributeNS(null,"height",$e(de)),this.current.element=m,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(_){var d=this.svgFactory.create(_.width,_.height),g=this.svgFactory.createElement("svg:defs");d.appendChild(g),this.defs=g;var de=this.svgFactory.createElement("svg:g");return de.setAttributeNS(null,"transform",Qe(_.transform)),d.appendChild(de),this.svg=de,d}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var _=this.svgFactory.createElement("svg:g");_.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(_),this.current.clipGroup=_}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Qe(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),Ae}()},(t,e)=>{function n(c,f){return function(L){if(Array.isArray(L))return L}(c)||function(L,Se){var ge=L&&(typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"]);if(ge!=null){var Le,We,$e=[],Qe=!0,Ue=!1;try{for(ge=ge.call(L);!(Qe=(Le=ge.next()).done)&&($e.push(Le.value),!Se||$e.length!==Se);Qe=!0);}catch(De){Ue=!0,We=De}finally{try{Qe||ge.return==null||ge.return()}finally{if(Ue)throw We}}return $e}}(c,f)||i(c,f)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(c,f){var L=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!L){if(Array.isArray(c)||(L=i(c))||f&&c&&typeof c.length=="number"){L&&(c=L);var Se=0,ge=function(){};return{s:ge,n:function(){return Se>=c.length?{done:!0}:{done:!1,value:c[Se++]}},e:function(Qe){throw Qe},f:ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Le,We=!0,$e=!1;return{s:function(){L=L.call(c)},n:function(){var Qe=L.next();return We=Qe.done,Qe},e:function(Qe){$e=!0,Le=Qe},f:function(){try{We||L.return==null||L.return()}finally{if($e)throw Le}}}}function i(c,f){if(c){if(typeof c=="string")return o(c,f);var L=Object.prototype.toString.call(c).slice(8,-1);return L==="Object"&&c.constructor&&(L=c.constructor.name),L==="Map"||L==="Set"?Array.from(c):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?o(c,f):void 0}}function o(c,f){(f==null||f>c.length)&&(f=c.length);for(var L=0,Se=new Array(f);L<f;L++)Se[L]=c[L];return Se}function s(c,f){for(var L=0;L<f.length;L++){var Se=f[L];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(c,Se.key,Se)}}Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var u=function(){function c(){(function(ge,Le){if(!(ge instanceof Le))throw new TypeError("Cannot call a class as a function")})(this,c)}var f,L,Se;return f=c,Se=[{key:"setupStorage",value:function(ge,Le,We,$e){var Qe=$e.getValue(Le,{value:null});switch(We.name){case"textarea":ge.textContent=Qe.value!==null?Qe.value:"",ge.addEventListener("input",function(ve){$e.setValue(Le,{value:ve.target.value})});break;case"input":Qe.value!==null&&ge.setAttribute("value",Qe.value),We.attributes.type==="radio"?ge.addEventListener("change",function(ve){var Ce,Ee=ve.target,xe=a(document.getElementsByName(Ee.name));try{for(xe.s();!(Ce=xe.n()).done;){var re=Ce.value;if(re!==Ee){var Ae=re.id;$e.setValue(Ae.split("-")[0],{value:!1})}}}catch(_){xe.e(_)}finally{xe.f()}$e.setValue(Le,{value:Ee.checked})}):ge.addEventListener("input",function(ve){$e.setValue(Le,{value:ve.target.value})});break;case"select":if(Qe.value!==null){var Ue,De=a(We.children);try{for(De.s();!(Ue=De.n()).done;){var we=Ue.value;we.attributes.value===Qe.value&&(we.attributes.selected=!0)}}catch(ve){De.e(ve)}finally{De.f()}}ge.addEventListener("input",function(ve){var Ce=ve.target.options,Ee=Ce.selectedIndex===-1?null:Ce[Ce.selectedIndex].value;$e.setValue(Le,{value:Ee})})}}},{key:"setAttributes",value:function(ge,Le,We){for(var $e=Le.attributes,Qe=0,Ue=Object.entries($e);Qe<Ue.length;Qe++){var De=n(Ue[Qe],2),we=De[0],ve=De[1];ve!=null&&we!=="fieldId"&&(we!=="style"?we==="textContent"?ge.textContent=ve:ge.setAttribute(we,ve):Object.assign(ge.style,ve))}We&&$e.fieldId!==void 0&&this.setupStorage(ge,$e.fieldId,Le,We)}},{key:"render",value:function(ge){var Le=ge.annotationStorage,We=ge.xfa,$e=document.createElement(We.name);We.attributes&&this.setAttributes($e,We);var Qe=[[We,-1,$e]],Ue=ge.div;Ue.appendChild($e);var De=ge.viewport.transform.join(",");for(Ue.style.transform="matrix(".concat(De,")"),Ue.setAttribute("class","xfaLayer xfaFont");Qe.length>0;){var we=n(Qe[Qe.length-1],3),ve=we[0],Ce=we[1],Ee=we[2];if(Ce+1!==ve.children.length){var xe=ve.children[++Qe[Qe.length-1][1]];if(xe!==null){var re=xe.name;if(re!=="#text"){var Ae=document.createElement(re);Ee.appendChild(Ae),xe.attributes&&this.setAttributes(Ae,xe,Le),xe.children&&xe.children.length>0?Qe.push([xe,-1,Ae]):xe.value&&Ae.appendChild(document.createTextNode(xe.value))}else Ee.appendChild(document.createTextNode(xe.value))}}else Qe.pop()}}},{key:"update",value:function(ge){var Le="matrix(".concat(ge.viewport.transform.join(","),")");ge.div.style.transform=Le,ge.div.hidden=!1}}],(L=null)&&s(f.prototype,L),Se&&s(f,Se),c}();e.XfaLayer=u},(t,e,n)=>{function a(Me){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},a(Me)}Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i,o=(i=n(2))&&i.__esModule?i:{default:i},s=n(4),u=n(131);function c(Me,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Super expression must either be null or a function");Me.prototype=Object.create(Fe&&Fe.prototype,{constructor:{value:Me,writable:!0,configurable:!0}}),Fe&&f(Me,Fe)}function f(Me,Fe){return f=Object.setPrototypeOf||function($,ee){return $.__proto__=ee,$},f(Me,Fe)}function L(Me){var Fe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var $,ee=ge(Me);if(Fe){var ke=ge(this).constructor;$=Reflect.construct(ee,arguments,ke)}else $=ee.apply(this,arguments);return Se(this,$)}}function Se(Me,Fe){return!Fe||a(Fe)!=="object"&&typeof Fe!="function"?function($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}(Me):Fe}function ge(Me){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},ge(Me)}function Le(Me,Fe,$,ee,ke,je,He){try{var qe=Me[je](He),ze=qe.value}catch(at){return void $(at)}qe.done?Fe(ze):Promise.resolve(ze).then(ee,ke)}function We(Me){return function(){var Fe=this,$=arguments;return new Promise(function(ee,ke){var je=Me.apply(Fe,$);function He(ze){Le(je,ee,ke,He,qe,"next",ze)}function qe(ze){Le(je,ee,ke,He,qe,"throw",ze)}He(void 0)})}}function $e(Me,Fe){var $=typeof Symbol<"u"&&Me[Symbol.iterator]||Me["@@iterator"];if(!$){if(Array.isArray(Me)||($=function(ze,at){if(ze){if(typeof ze=="string")return Qe(ze,at);var et=Object.prototype.toString.call(ze).slice(8,-1);return et==="Object"&&ze.constructor&&(et=ze.constructor.name),et==="Map"||et==="Set"?Array.from(ze):et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et)?Qe(ze,at):void 0}}(Me))||Fe&&Me&&typeof Me.length=="number"){$&&(Me=$);var ee=0,ke=function(){};return{s:ke,n:function(){return ee>=Me.length?{done:!0}:{done:!1,value:Me[ee++]}},e:function(ze){throw ze},f:ke}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var je,He=!0,qe=!1;return{s:function(){$=$.call(Me)},n:function(){var ze=$.next();return He=ze.done,ze},e:function(ze){qe=!0,je=ze},f:function(){try{He||$.return==null||$.return()}finally{if(qe)throw je}}}}function Qe(Me,Fe){(Fe==null||Fe>Me.length)&&(Fe=Me.length);for(var $=0,ee=new Array(Fe);$<Fe;$++)ee[$]=Me[$];return ee}function Ue(Me,Fe){if(!(Me instanceof Fe))throw new TypeError("Cannot call a class as a function")}function De(Me,Fe){for(var $=0;$<Fe.length;$++){var ee=Fe[$];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(Me,ee.key,ee)}}function we(Me,Fe,$){return Fe&&De(Me.prototype,Fe),$&&De(Me,$),Me}var ve=__webpack_require__(767),Ce=__webpack_require__(251),Ee=__webpack_require__(677),xe=__webpack_require__(543),re=/^file:\/\/\/[a-zA-Z]:\//,Ae=function(){function Me(Fe){var $,ee;Ue(this,Me),this.source=Fe,this.url=($=Fe.url,(ee=xe.parse($)).protocol==="file:"||ee.host?ee:/^[a-z]:[/\\]/i.test($)?xe.parse("file:///".concat($)):(ee.host||(ee.protocol="file:"),ee)),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Fe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return we(Me,[{key:"_progressiveDataLength",get:function(){var Fe,$;return(Fe=($=this._fullRequestReader)===null||$===void 0?void 0:$._loaded)!==null&&Fe!==void 0?Fe:0}},{key:"getFullReader",value:function(){return(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Oe(this):new de(this),this._fullRequestReader}},{key:"getRangeReader",value:function(Fe,$){if($<=this._progressiveDataLength)return null;var ee=this.isFsUrl?new Be(this,Fe,$):new m(this,Fe,$);return this._rangeRequestReaders.push(ee),ee}},{key:"cancelAllRequests",value:function(Fe){this._fullRequestReader&&this._fullRequestReader.cancel(Fe);var $,ee=$e(this._rangeRequestReaders.slice(0));try{for(ee.s();!($=ee.n()).done;)$.value.cancel(Fe)}catch(ke){ee.e(ke)}finally{ee.f()}}}]),Me}();e.PDFNodeStream=Ae;var _=function(){function Me($){Ue(this,Me),this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;var ee=$.source;this._contentLength=ee.length,this._loaded=0,this._filename=null,this._disableRange=ee.disableRange||!1,this._rangeChunkSize=ee.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!ee.disableStream,this._isRangeSupported=!ee.disableRange,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._headersCapability=(0,s.createPromiseCapability)()}var Fe;return we(Me,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(Fe=We(o.default.mark(function $(){var ee,ke;return o.default.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.next=2,this._readCapability.promise;case 2:if(!this._done){je.next=4;break}return je.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){je.next=6;break}throw this._storedError;case 6:if((ee=this._readableStream.read())!==null){je.next=10;break}return this._readCapability=(0,s.createPromiseCapability)(),je.abrupt("return",this.read());case 10:return this._loaded+=ee.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),ke=new Uint8Array(ee).buffer,je.abrupt("return",{value:ke,done:!1});case 14:case"end":return je.stop()}},$,this)})),function(){return Fe.apply(this,arguments)})},{key:"cancel",value:function($){this._readableStream?this._readableStream.destroy($):this._error($)}},{key:"_error",value:function($){this._storedError=$,this._readCapability.resolve()}},{key:"_setReadableStream",value:function($){var ee=this;this._readableStream=$,$.on("readable",function(){ee._readCapability.resolve()}),$.on("end",function(){$.destroy(),ee._done=!0,ee._readCapability.resolve()}),$.on("error",function(ke){ee._error(ke)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),Me}(),d=function(){function Me($){Ue(this,Me),this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)();var ee=$.source;this._isStreamingSupported=!ee.disableStream}var Fe;return we(Me,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(Fe=We(o.default.mark(function $(){var ee,ke;return o.default.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.next=2,this._readCapability.promise;case 2:if(!this._done){je.next=4;break}return je.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){je.next=6;break}throw this._storedError;case 6:if((ee=this._readableStream.read())!==null){je.next=10;break}return this._readCapability=(0,s.createPromiseCapability)(),je.abrupt("return",this.read());case 10:return this._loaded+=ee.length,this.onProgress&&this.onProgress({loaded:this._loaded}),ke=new Uint8Array(ee).buffer,je.abrupt("return",{value:ke,done:!1});case 14:case"end":return je.stop()}},$,this)})),function(){return Fe.apply(this,arguments)})},{key:"cancel",value:function($){this._readableStream?this._readableStream.destroy($):this._error($)}},{key:"_error",value:function($){this._storedError=$,this._readCapability.resolve()}},{key:"_setReadableStream",value:function($){var ee=this;this._readableStream=$,$.on("readable",function(){ee._readCapability.resolve()}),$.on("end",function(){$.destroy(),ee._done=!0,ee._readCapability.resolve()}),$.on("error",function(ke){ee._error(ke)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),Me}();function g(Me,Fe){return{protocol:Me.protocol,auth:Me.auth,host:Me.hostname,port:Me.port,path:Me.path,method:"GET",headers:Fe}}var de=function(Me){c($,Me);var Fe=L($);function $(ee){var ke;Ue(this,$);var je=function(He){if(He.statusCode===404){var qe=new s.MissingPDFException('Missing PDF "'.concat(ke._url,'".'));return ke._storedError=qe,void ke._headersCapability.reject(qe)}ke._headersCapability.resolve(),ke._setReadableStream(He);var ze=function(Ze){return ke._readableStream.headers[Ze.toLowerCase()]},at=(0,u.validateRangeRequestCapabilities)({getResponseHeader:ze,isHttp:ee.isHttp,rangeChunkSize:ke._rangeChunkSize,disableRange:ke._disableRange}),et=at.allowRangeRequests,tt=at.suggestedLength;ke._isRangeSupported=et,ke._contentLength=tt||ke._contentLength,ke._filename=(0,u.extractFilenameFromHeader)(ze)};return(ke=Fe.call(this,ee))._request=null,ke._url.protocol==="http:"?ke._request=Ce.request(g(ke._url,ee.httpHeaders),je):ke._request=Ee.request(g(ke._url,ee.httpHeaders),je),ke._request.on("error",function(He){ke._storedError=He,ke._headersCapability.reject(He)}),ke._request.end(),ke}return $}(_),m=function(Me){c($,Me);var Fe=L($);function $(ee,ke,je){var He;for(var qe in Ue(this,$),(He=Fe.call(this,ee))._httpHeaders={},ee.httpHeaders){var ze=ee.httpHeaders[qe];ze!==void 0&&(He._httpHeaders[qe]=ze)}He._httpHeaders.Range="bytes=".concat(ke,"-").concat(je-1);var at=function(et){if(et.statusCode!==404)He._setReadableStream(et);else{var tt=new s.MissingPDFException('Missing PDF "'.concat(He._url,'".'));He._storedError=tt}};return He._request=null,He._url.protocol==="http:"?He._request=Ce.request(g(He._url,He._httpHeaders),at):He._request=Ee.request(g(He._url,He._httpHeaders),at),He._request.on("error",function(et){He._storedError=et}),He._request.end(),He}return $}(d),Oe=function(Me){c($,Me);var Fe=L($);function $(ee){var ke;Ue(this,$),ke=Fe.call(this,ee);var je=decodeURIComponent(ke._url.path);return re.test(ke._url.href)&&(je=je.replace(/^\//,"")),ve.lstat(je,function(He,qe){if(He)return He.code==="ENOENT"&&(He=new s.MissingPDFException('Missing PDF "'.concat(je,'".'))),ke._storedError=He,void ke._headersCapability.reject(He);ke._contentLength=qe.size,ke._setReadableStream(ve.createReadStream(je)),ke._headersCapability.resolve()}),ke}return $}(_),Be=function(Me){c($,Me);var Fe=L($);function $(ee,ke,je){var He;Ue(this,$),He=Fe.call(this,ee);var qe=decodeURIComponent(He._url.path);return re.test(He._url.href)&&(qe=qe.replace(/^\//,"")),He._setReadableStream(ve.createReadStream(qe,{start:ke,end:je-1})),He}return $}(d)},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(s,u){return s===404||s===0&&u.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+u+'".'):new a.UnexpectedResponseException("Unexpected server response (".concat(s,') while retrieving PDF "').concat(u,'".'),s)},e.extractFilenameFromHeader=function(s){var u=s("Content-Disposition");if(u){var c=(0,i.getFilenameFromContentDispositionHeader)(u);if(c.includes("%"))try{c=decodeURIComponent(c)}catch{}if((0,o.isPdfFile)(c))return c}return null},e.validateRangeRequestCapabilities=function(s){var u=s.getResponseHeader,c=s.isHttp,f=s.rangeChunkSize,L=s.disableRange;(0,a.assert)(f>0,"Range chunk size must be larger than zero");var Se={allowRangeRequests:!1,suggestedLength:void 0},ge=parseInt(u("Content-Length"),10);return Number.isInteger(ge)&&(Se.suggestedLength=ge,ge<=2*f||L||!c||u("Accept-Ranges")!=="bytes"||(u("Content-Encoding")||"identity")!=="identity"||(Se.allowRangeRequests=!0)),Se},e.validateResponseStatus=function(s){return s===200||s===206};var a=n(4),i=n(132),o=n(1)},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(s){var u=!0,c=Se("filename\\*","i").exec(s);if(c){var f=We(c=c[1]);return Le(f=Qe(f=$e(f=unescape(f))))}if(c=function(Ue){for(var De,we=[],ve=Se("filename\\*((?!0\\d)\\d+)(\\*?)","ig");(De=ve.exec(Ue))!==null;){var Ce=i(De,4),Ee=Ce[1],xe=Ce[2],re=Ce[3];if((Ee=parseInt(Ee,10))in we){if(Ee===0)break}else we[Ee]=[xe,re]}for(var Ae=[],_=0;_<we.length&&_ in we;++_){var d=i(we[_],2),g=d[0],de=d[1];de=We(de),g&&(de=unescape(de),_===0&&(de=$e(de))),Ae.push(de)}return Ae.join("")}(s))return Le(Qe(c));if(c=Se("filename","i").exec(s)){var L=We(c=c[1]);return Le(L=Qe(L))}function Se(Ue,De){return new RegExp("(?:^|;)\\s*"+Ue+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',De)}function ge(Ue,De){if(Ue){if(!/^[\x00-\xFF]+$/.test(De))return De;try{var we=new TextDecoder(Ue,{fatal:!0}),ve=(0,a.stringToBytes)(De);De=we.decode(ve),u=!1}catch{if(/^utf-?8$/i.test(Ue))try{De=decodeURIComponent(escape(De)),u=!1}catch{}}}return De}function Le(Ue){return u&&/[\x80-\xff]/.test(Ue)&&(Ue=ge("utf-8",Ue),u&&(Ue=ge("iso-8859-1",Ue))),Ue}function We(Ue){if(Ue.startsWith('"')){for(var De=Ue.slice(1).split('\\"'),we=0;we<De.length;++we){var ve=De[we].indexOf('"');ve!==-1&&(De[we]=De[we].slice(0,ve),De.length=we+1),De[we]=De[we].replace(/\\(.)/g,"$1")}Ue=De.join('"')}return Ue}function $e(Ue){var De=Ue.indexOf("'");return De===-1?Ue:ge(Ue.slice(0,De),Ue.slice(De+1).replace(/^[^']*'/,""))}function Qe(Ue){return!Ue.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Ue)?Ue:Ue.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(De,we,ve,Ce){if(ve==="q"||ve==="Q")return ge(we,Ce=(Ce=Ce.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(Ee,xe){return String.fromCharCode(parseInt(xe,16))}));try{Ce=atob(Ce)}catch{}return ge(we,Ce)})}return""};var a=n(4);function i(s,u){return function(c){if(Array.isArray(c))return c}(s)||function(c,f){var L=c&&(typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"]);if(L!=null){var Se,ge,Le=[],We=!0,$e=!1;try{for(L=L.call(c);!(We=(Se=L.next()).done)&&(Le.push(Se.value),!f||Le.length!==f);We=!0);}catch(Qe){$e=!0,ge=Qe}finally{try{We||L.return==null||L.return()}finally{if($e)throw ge}}return Le}}(s,u)||function(c,f){if(c){if(typeof c=="string")return o(c,f);var L=Object.prototype.toString.call(c).slice(8,-1);return L==="Object"&&c.constructor&&(L=c.constructor.name),L==="Map"||L==="Set"?Array.from(c):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?o(c,f):void 0}}(s,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(s,u){(u==null||u>s.length)&&(u=s.length);for(var c=0,f=new Array(u);c<u;c++)f[c]=s[c];return f}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var a,i=(a=n(2))&&a.__esModule?a:{default:a},o=n(4),s=n(131);function u(De,we,ve,Ce,Ee,xe,re){try{var Ae=De[xe](re),_=Ae.value}catch(d){return void ve(d)}Ae.done?we(_):Promise.resolve(_).then(Ce,Ee)}function c(De){return function(){var we=this,ve=arguments;return new Promise(function(Ce,Ee){var xe=De.apply(we,ve);function re(_){u(xe,Ce,Ee,re,Ae,"next",_)}function Ae(_){u(xe,Ce,Ee,re,Ae,"throw",_)}re(void 0)})}}function f(De,we){var ve=typeof Symbol<"u"&&De[Symbol.iterator]||De["@@iterator"];if(!ve){if(Array.isArray(De)||(ve=function(_,d){if(_){if(typeof _=="string")return L(_,d);var g=Object.prototype.toString.call(_).slice(8,-1);return g==="Object"&&_.constructor&&(g=_.constructor.name),g==="Map"||g==="Set"?Array.from(_):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?L(_,d):void 0}}(De))||we&&De&&typeof De.length=="number"){ve&&(De=ve);var Ce=0,Ee=function(){};return{s:Ee,n:function(){return Ce>=De.length?{done:!0}:{done:!1,value:De[Ce++]}},e:function(_){throw _},f:Ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xe,re=!0,Ae=!1;return{s:function(){ve=ve.call(De)},n:function(){var _=ve.next();return re=_.done,_},e:function(_){Ae=!0,xe=_},f:function(){try{re||ve.return==null||ve.return()}finally{if(Ae)throw xe}}}}function L(De,we){(we==null||we>De.length)&&(we=De.length);for(var ve=0,Ce=new Array(we);ve<we;ve++)Ce[ve]=De[ve];return Ce}function Se(De,we){if(!(De instanceof we))throw new TypeError("Cannot call a class as a function")}function ge(De,we){for(var ve=0;ve<we.length;ve++){var Ce=we[ve];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(De,Ce.key,Ce)}}function Le(De,we,ve){return we&&ge(De.prototype,we),ve&&ge(De,ve),De}var We=function(){function De(we,ve){Se(this,De),this.url=we,ve=ve||{},this.isHttp=/^https?:/i.test(we),this.httpHeaders=this.isHttp&&ve.httpHeaders||{},this.withCredentials=ve.withCredentials||!1,this.getXhr=ve.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return Le(De,[{key:"requestRange",value:function(we,ve,Ce){var Ee={begin:we,end:ve};for(var xe in Ce)Ee[xe]=Ce[xe];return this.request(Ee)}},{key:"requestFull",value:function(we){return this.request(we)}},{key:"request",value:function(we){var ve=this.getXhr(),Ce=this.currXhrId++,Ee=this.pendingRequests[Ce]={xhr:ve};for(var xe in ve.open("GET",this.url),ve.withCredentials=this.withCredentials,this.httpHeaders){var re=this.httpHeaders[xe];re!==void 0&&ve.setRequestHeader(xe,re)}return this.isHttp&&"begin"in we&&"end"in we?(ve.setRequestHeader("Range","bytes=".concat(we.begin,"-").concat(we.end-1)),Ee.expectedStatus=206):Ee.expectedStatus=200,ve.responseType="arraybuffer",we.onError&&(ve.onerror=function(Ae){we.onError(ve.status)}),ve.onreadystatechange=this.onStateChange.bind(this,Ce),ve.onprogress=this.onProgress.bind(this,Ce),Ee.onHeadersReceived=we.onHeadersReceived,Ee.onDone=we.onDone,Ee.onError=we.onError,Ee.onProgress=we.onProgress,ve.send(null),Ce}},{key:"onProgress",value:function(we,ve){var Ce=this.pendingRequests[we];Ce&&Ce.onProgress&&Ce.onProgress(ve)}},{key:"onStateChange",value:function(we,ve){var Ce=this.pendingRequests[we];if(Ce){var Ee=Ce.xhr;if(Ee.readyState>=2&&Ce.onHeadersReceived&&(Ce.onHeadersReceived(),delete Ce.onHeadersReceived),Ee.readyState===4&&we in this.pendingRequests)if(delete this.pendingRequests[we],Ee.status===0&&this.isHttp)Ce.onError&&Ce.onError(Ee.status);else{var xe=Ee.status||200;if(xe===200&&Ce.expectedStatus===206||xe===Ce.expectedStatus){var re=function(d){var g=d.response;return typeof g!="string"?g:(0,o.stringToBytes)(g).buffer}(Ee);if(xe===206){var Ae=Ee.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(Ae);Ce.onDone({begin:parseInt(_[1],10),chunk:re})}else re?Ce.onDone({begin:0,chunk:re}):Ce.onError&&Ce.onError(Ee.status)}else Ce.onError&&Ce.onError(Ee.status)}}}},{key:"getRequestXhr",value:function(we){return this.pendingRequests[we].xhr}},{key:"isPendingRequest",value:function(we){return we in this.pendingRequests}},{key:"abortRequest",value:function(we){var ve=this.pendingRequests[we].xhr;delete this.pendingRequests[we],ve.abort()}}]),De}(),$e=function(){function De(we){Se(this,De),this._source=we,this._manager=new We(we.url,{httpHeaders:we.httpHeaders,withCredentials:we.withCredentials}),this._rangeChunkSize=we.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return Le(De,[{key:"_onRangeRequestReaderClosed",value:function(we){var ve=this._rangeRequestReaders.indexOf(we);ve>=0&&this._rangeRequestReaders.splice(ve,1)}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Qe(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(we,ve){var Ce=new Ue(this._manager,we,ve);return Ce.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Ce),Ce}},{key:"cancelAllRequests",value:function(we){this._fullRequestReader&&this._fullRequestReader.cancel(we);var ve,Ce=f(this._rangeRequestReaders.slice(0));try{for(Ce.s();!(ve=Ce.n()).done;)ve.value.cancel(we)}catch(Ee){Ce.e(Ee)}finally{Ce.f()}}}]),De}();e.PDFNetworkStream=$e;var Qe=function(){function De(ve,Ce){Se(this,De),this._manager=ve;var Ee={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Ce.url,this._fullRequestId=ve.requestFull(Ee),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=Ce.disableRange||!1,this._contentLength=Ce.length,this._rangeChunkSize=Ce.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var we;return Le(De,[{key:"_onHeadersReceived",value:function(){var ve=this._fullRequestId,Ce=this._manager.getRequestXhr(ve),Ee=function(_){return Ce.getResponseHeader(_)},xe=(0,s.validateRangeRequestCapabilities)({getResponseHeader:Ee,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),re=xe.allowRangeRequests,Ae=xe.suggestedLength;re&&(this._isRangeSupported=!0),this._contentLength=Ae||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(Ee),this._isRangeSupported&&this._manager.abortRequest(ve),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(ve){if(ve&&(this._requests.length>0?this._requests.shift().resolve({value:ve.chunk,done:!1}):this._cachedChunks.push(ve.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var Ce,Ee=f(this._requests);try{for(Ee.s();!(Ce=Ee.n()).done;)Ce.value.resolve({value:void 0,done:!0})}catch(xe){Ee.e(xe)}finally{Ee.f()}this._requests.length=0}}},{key:"_onError",value:function(ve){var Ce=this._url,Ee=(0,s.createResponseStatusError)(ve,Ce);this._storedError=Ee,this._headersReceivedCapability.reject(Ee);var xe,re=f(this._requests);try{for(re.s();!(xe=re.n()).done;)xe.value.reject(Ee)}catch(Ae){re.e(Ae)}finally{re.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(ve){this.onProgress&&this.onProgress({loaded:ve.loaded,total:ve.lengthComputable?ve.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(we=c(i.default.mark(function ve(){var Ce,Ee;return i.default.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(!this._storedError){xe.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){xe.next=5;break}return Ce=this._cachedChunks.shift(),xe.abrupt("return",{value:Ce,done:!1});case 5:if(!this._done){xe.next=7;break}return xe.abrupt("return",{value:void 0,done:!0});case 7:return Ee=(0,o.createPromiseCapability)(),this._requests.push(Ee),xe.abrupt("return",Ee.promise);case 10:case"end":return xe.stop()}},ve,this)})),function(){return we.apply(this,arguments)})},{key:"cancel",value:function(ve){this._done=!0,this._headersReceivedCapability.reject(ve);var Ce,Ee=f(this._requests);try{for(Ee.s();!(Ce=Ee.n()).done;)Ce.value.resolve({value:void 0,done:!0})}catch(xe){Ee.e(xe)}finally{Ee.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),De}(),Ue=function(){function De(ve,Ce,Ee){Se(this,De),this._manager=ve;var xe={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=ve.requestRange(Ce,Ee,xe),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var we;return Le(De,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(ve){var Ce=ve.chunk;this._requests.length>0?this._requests.shift().resolve({value:Ce,done:!1}):this._queuedChunk=Ce,this._done=!0;var Ee,xe=f(this._requests);try{for(xe.s();!(Ee=xe.n()).done;)Ee.value.resolve({value:void 0,done:!0})}catch(re){xe.e(re)}finally{xe.f()}this._requests.length=0,this._close()}},{key:"_onProgress",value:function(ve){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:ve.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(we=c(i.default.mark(function ve(){var Ce,Ee;return i.default.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(this._queuedChunk===null){xe.next=4;break}return Ce=this._queuedChunk,this._queuedChunk=null,xe.abrupt("return",{value:Ce,done:!1});case 4:if(!this._done){xe.next=6;break}return xe.abrupt("return",{value:void 0,done:!0});case 6:return Ee=(0,o.createPromiseCapability)(),this._requests.push(Ee),xe.abrupt("return",Ee.promise);case 9:case"end":return xe.stop()}},ve,this)})),function(){return we.apply(this,arguments)})},{key:"cancel",value:function(ve){this._done=!0;var Ce,Ee=f(this._requests);try{for(Ee.s();!(Ce=Ee.n()).done;)Ce.value.resolve({value:void 0,done:!0})}catch(xe){Ee.e(xe)}finally{Ee.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),De}()},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var a,i=(a=n(2))&&a.__esModule?a:{default:a},o=n(4),s=n(131);function u(we,ve,Ce,Ee,xe,re,Ae){try{var _=we[re](Ae),d=_.value}catch(g){return void Ce(g)}_.done?ve(d):Promise.resolve(d).then(Ee,xe)}function c(we){return function(){var ve=this,Ce=arguments;return new Promise(function(Ee,xe){var re=we.apply(ve,Ce);function Ae(d){u(re,Ee,xe,Ae,_,"next",d)}function _(d){u(re,Ee,xe,Ae,_,"throw",d)}Ae(void 0)})}}function f(we,ve){var Ce=typeof Symbol<"u"&&we[Symbol.iterator]||we["@@iterator"];if(!Ce){if(Array.isArray(we)||(Ce=function(d,g){if(d){if(typeof d=="string")return L(d,g);var de=Object.prototype.toString.call(d).slice(8,-1);return de==="Object"&&d.constructor&&(de=d.constructor.name),de==="Map"||de==="Set"?Array.from(d):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?L(d,g):void 0}}(we))||ve&&we&&typeof we.length=="number"){Ce&&(we=Ce);var Ee=0,xe=function(){};return{s:xe,n:function(){return Ee>=we.length?{done:!0}:{done:!1,value:we[Ee++]}},e:function(d){throw d},f:xe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,Ae=!0,_=!1;return{s:function(){Ce=Ce.call(we)},n:function(){var d=Ce.next();return Ae=d.done,d},e:function(d){_=!0,re=d},f:function(){try{Ae||Ce.return==null||Ce.return()}finally{if(_)throw re}}}}function L(we,ve){(ve==null||ve>we.length)&&(ve=we.length);for(var Ce=0,Ee=new Array(ve);Ce<ve;Ce++)Ee[Ce]=we[Ce];return Ee}function Se(we,ve){if(!(we instanceof ve))throw new TypeError("Cannot call a class as a function")}function ge(we,ve){for(var Ce=0;Ce<ve.length;Ce++){var Ee=ve[Ce];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(we,Ee.key,Ee)}}function Le(we,ve,Ce){return ve&&ge(we.prototype,ve),Ce&&ge(we,Ce),we}function We(we,ve,Ce){return{method:"GET",headers:we,signal:Ce==null?void 0:Ce.signal,mode:"cors",credentials:ve?"include":"same-origin",redirect:"follow"}}function $e(we){var ve=new Headers;for(var Ce in we){var Ee=we[Ce];Ee!==void 0&&ve.append(Ce,Ee)}return ve}var Qe=function(){function we(ve){Se(this,we),this.source=ve,this.isHttp=/^https?:/i.test(ve.url),this.httpHeaders=this.isHttp&&ve.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return Le(we,[{key:"_progressiveDataLength",get:function(){var ve,Ce;return(ve=(Ce=this._fullRequestReader)===null||Ce===void 0?void 0:Ce._loaded)!==null&&ve!==void 0?ve:0}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ue(this),this._fullRequestReader}},{key:"getRangeReader",value:function(ve,Ce){if(Ce<=this._progressiveDataLength)return null;var Ee=new De(this,ve,Ce);return this._rangeRequestReaders.push(Ee),Ee}},{key:"cancelAllRequests",value:function(ve){this._fullRequestReader&&this._fullRequestReader.cancel(ve);var Ce,Ee=f(this._rangeRequestReaders.slice(0));try{for(Ee.s();!(Ce=Ee.n()).done;)Ce.value.cancel(ve)}catch(xe){Ee.e(xe)}finally{Ee.f()}}}]),we}();e.PDFFetchStream=Qe;var Ue=function(){function we(Ce){var Ee=this;Se(this,we),this._stream=Ce,this._reader=null,this._loaded=0,this._filename=null;var xe=Ce.source;this._withCredentials=xe.withCredentials||!1,this._contentLength=xe.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=xe.disableRange||!1,this._rangeChunkSize=xe.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!xe.disableStream,this._isRangeSupported=!xe.disableRange,this._headers=$e(this._stream.httpHeaders);var re=xe.url;fetch(re,We(this._headers,this._withCredentials,this._abortController)).then(function(Ae){if(!(0,s.validateResponseStatus)(Ae.status))throw(0,s.createResponseStatusError)(Ae.status,re);Ee._reader=Ae.body.getReader(),Ee._headersCapability.resolve();var _=function(m){return Ae.headers.get(m)},d=(0,s.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:Ee._stream.isHttp,rangeChunkSize:Ee._rangeChunkSize,disableRange:Ee._disableRange}),g=d.allowRangeRequests,de=d.suggestedLength;Ee._isRangeSupported=g,Ee._contentLength=de||Ee._contentLength,Ee._filename=(0,s.extractFilenameFromHeader)(_),!Ee._isStreamingSupported&&Ee._isRangeSupported&&Ee.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}var ve;return Le(we,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(ve=c(i.default.mark(function Ce(){var Ee,xe,re,Ae;return i.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this._headersCapability.promise;case 2:return _.next=4,this._reader.read();case 4:if(Ee=_.sent,xe=Ee.value,!(re=Ee.done)){_.next=9;break}return _.abrupt("return",{value:xe,done:re});case 9:return this._loaded+=xe.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),Ae=new Uint8Array(xe).buffer,_.abrupt("return",{value:Ae,done:!1});case 13:case"end":return _.stop()}},Ce,this)})),function(){return ve.apply(this,arguments)})},{key:"cancel",value:function(Ce){this._reader&&this._reader.cancel(Ce),this._abortController&&this._abortController.abort()}}]),we}(),De=function(){function we(Ce,Ee,xe){var re=this;Se(this,we),this._stream=Ce,this._reader=null,this._loaded=0;var Ae=Ce.source;this._withCredentials=Ae.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!Ae.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=$e(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(Ee,"-").concat(xe-1));var _=Ae.url;fetch(_,We(this._headers,this._withCredentials,this._abortController)).then(function(d){if(!(0,s.validateResponseStatus)(d.status))throw(0,s.createResponseStatusError)(d.status,_);re._readCapability.resolve(),re._reader=d.body.getReader()}).catch(function(d){if((d==null?void 0:d.name)!=="AbortError")throw d}),this.onProgress=null}var ve;return Le(we,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(ve=c(i.default.mark(function Ce(){var Ee,xe,re,Ae;return i.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this._readCapability.promise;case 2:return _.next=4,this._reader.read();case 4:if(Ee=_.sent,xe=Ee.value,!(re=Ee.done)){_.next=9;break}return _.abrupt("return",{value:xe,done:re});case 9:return this._loaded+=xe.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),Ae=new Uint8Array(xe).buffer,_.abrupt("return",{value:Ae,done:!1});case 13:case"end":return _.stop()}},Ce,this)})),function(){return ve.apply(this,arguments)})},{key:"cancel",value:function(Ce){this._reader&&this._reader.cancel(Ce),this._abortController&&this._abortController.abort()}}]),we}()}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__w_pdfjs_require__),n.loaded=!0,n.exports}__w_pdfjs_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return e.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return e.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return e.getPdfFilenameFromUrl}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return e.isPdfFile}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return e.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return e.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return e.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return e.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return a.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return a.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return i.AnnotationLayer}}),Object.defineProperty(t,"apiCompatibilityParams",{enumerable:!0,get:function(){return o.apiCompatibilityParams}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return s.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return u.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return c.SVGGraphics}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return f.XfaLayer}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(113),a=__w_pdfjs_require__(4),i=__w_pdfjs_require__(125),o=__w_pdfjs_require__(117),s=__w_pdfjs_require__(120),u=__w_pdfjs_require__(127),c=__w_pdfjs_require__(128),f=__w_pdfjs_require__(129);if(__w_pdfjs_require__(6).isNodeJS){var L=__w_pdfjs_require__(130).PDFNodeStream;(0,n.setPDFNetworkStreamFactory)(function(Le){return new L(Le)})}else{var Se,ge=__w_pdfjs_require__(133).PDFNetworkStream;(0,e.isFetchSupported)()&&(Se=__w_pdfjs_require__(134).PDFFetchStream),(0,n.setPDFNetworkStreamFactory)(function(Le){return Se&&(0,e.isValidFetchUrl)(Le.url)?new Se(Le):new ge(Le)})}})(),__webpack_exports__})()},module.exports=factory()},102:function(t,e,n){var a;a=function(){return(()=>{var i=[,(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DefaultAnnotationLayerFactory=f.AnnotationLayerBuilder=void 0;var Se=L(2),ge=L(3),Le=L(6);function We(Ce,Ee){return function(xe){if(Array.isArray(xe))return xe}(Ce)||function(xe,re){var Ae=xe&&(typeof Symbol<"u"&&xe[Symbol.iterator]||xe["@@iterator"]);if(Ae!=null){var _,d,g=[],de=!0,m=!1;try{for(Ae=Ae.call(xe);!(de=(_=Ae.next()).done)&&(g.push(_.value),!re||g.length!==re);de=!0);}catch(Oe){m=!0,d=Oe}finally{try{de||Ae.return==null||Ae.return()}finally{if(m)throw d}}return g}}(Ce,Ee)||function(xe,re){if(xe){if(typeof xe=="string")return $e(xe,re);var Ae=Object.prototype.toString.call(xe).slice(8,-1);return Ae==="Object"&&xe.constructor&&(Ae=xe.constructor.name),Ae==="Map"||Ae==="Set"?Array.from(xe):Ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ae)?$e(xe,re):void 0}}(Ce,Ee)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $e(Ce,Ee){(Ee==null||Ee>Ce.length)&&(Ee=Ce.length);for(var xe=0,re=new Array(Ee);xe<Ee;xe++)re[xe]=Ce[xe];return re}function Qe(Ce,Ee){if(!(Ce instanceof Ee))throw new TypeError("Cannot call a class as a function")}function Ue(Ce,Ee){for(var xe=0;xe<Ee.length;xe++){var re=Ee[xe];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Ce,re.key,re)}}function De(Ce,Ee,xe){return Ee&&Ue(Ce.prototype,Ee),xe&&Ue(Ce,xe),Ce}var we=function(){function Ce(Ee){var xe=Ee.pageDiv,re=Ee.pdfPage,Ae=Ee.linkService,_=Ee.downloadManager,d=Ee.annotationStorage,g=d===void 0?null:d,de=Ee.imageResourcesPath,m=de===void 0?"":de,Oe=Ee.renderInteractiveForms,Be=Oe===void 0||Oe,Me=Ee.l10n,Fe=Me===void 0?ge.NullL10n:Me,$=Ee.enableScripting,ee=$!==void 0&&$,ke=Ee.hasJSActionsPromise,je=ke===void 0?null:ke,He=Ee.mouseState,qe=He===void 0?null:He;Qe(this,Ce),this.pageDiv=xe,this.pdfPage=re,this.linkService=Ae,this.downloadManager=_,this.imageResourcesPath=m,this.renderInteractiveForms=Be,this.l10n=Fe,this.annotationStorage=g,this.enableScripting=ee,this._hasJSActionsPromise=je,this._mouseState=qe,this.div=null,this._cancelled=!1}return De(Ce,[{key:"render",value:function(Ee){var xe=this,re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";return Promise.all([this.pdfPage.getAnnotations({intent:re}),this._hasJSActionsPromise]).then(function(Ae){var _=We(Ae,2),d=_[0],g=_[1],de=g!==void 0&&g;if(!xe._cancelled&&d.length!==0){var m={viewport:Ee.clone({dontFlip:!0}),div:xe.div,annotations:d,page:xe.pdfPage,imageResourcesPath:xe.imageResourcesPath,renderInteractiveForms:xe.renderInteractiveForms,linkService:xe.linkService,downloadManager:xe.downloadManager,annotationStorage:xe.annotationStorage,enableScripting:xe.enableScripting,hasJSActions:de,mouseState:xe._mouseState};xe.div?Se.AnnotationLayer.update(m):(xe.div=document.createElement("div"),xe.div.className="annotationLayer",xe.pageDiv.appendChild(xe.div),m.div=xe.div,Se.AnnotationLayer.render(m),xe.l10n.translate(xe.div))}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}}]),Ce}();f.AnnotationLayerBuilder=we;var ve=function(){function Ce(){Qe(this,Ce)}return De(Ce,[{key:"createAnnotationLayerBuilder",value:function(Ee,xe){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Ae=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",_=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:ge.NullL10n,g=arguments.length>6&&arguments[6]!==void 0&&arguments[6],de=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,m=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null;return new we({pageDiv:Ee,pdfPage:xe,imageResourcesPath:Ae,renderInteractiveForms:_,linkService:new Le.SimpleLinkService,l10n:d,annotationStorage:re,enableScripting:g,hasJSActionsPromise:de,mouseState:m})}}]),Ce}();f.DefaultAnnotationLayerFactory=ve},c=>{var f;f=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:n(783),c.exports=f},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getL10nFallback=Qe,f.NullL10n=void 0;var Se,ge=(Se=L(4))&&Se.__esModule?Se:{default:Se};function Le(we,ve,Ce,Ee,xe,re,Ae){try{var _=we[re](Ae),d=_.value}catch(g){return void Ce(g)}_.done?ve(d):Promise.resolve(d).then(Ee,xe)}function We(we){return function(){var ve=this,Ce=arguments;return new Promise(function(Ee,xe){var re=we.apply(ve,Ce);function Ae(d){Le(re,Ee,xe,Ae,_,"next",d)}function _(d){Le(re,Ee,xe,Ae,_,"throw",d)}Ae(void 0)})}}var $e={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function Qe(we,ve){switch(we){case"find_match_count":we="find_match_count[".concat(ve.total===1?"one":"other","]");break;case"find_match_count_limit":we="find_match_count_limit[".concat(ve.limit===1?"one":"other","]")}return $e[we]||""}function Ue(we,ve){return ve?we.replace(/\{\{\s*(\w+)\s*\}\}/g,function(Ce,Ee){return Ee in ve?ve[Ee]:"{{"+Ee+"}}"}):we}var De={getLanguage:function(){return We(ge.default.mark(function we(){return ge.default.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.abrupt("return","en-us");case 1:case"end":return ve.stop()}},we)}))()},getDirection:function(){return We(ge.default.mark(function we(){return ge.default.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.abrupt("return","ltr");case 1:case"end":return ve.stop()}},we)}))()},get:function(we){var ve=arguments;return We(ge.default.mark(function Ce(){var Ee,xe;return ge.default.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return Ee=ve.length>1&&ve[1]!==void 0?ve[1]:null,xe=ve.length>2&&ve[2]!==void 0?ve[2]:Qe(we,Ee),re.abrupt("return",Ue(xe,Ee));case 3:case"end":return re.stop()}},Ce)}))()},translate:function(we){return We(ge.default.mark(function ve(){return ge.default.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:case"end":return Ce.stop()}},ve)}))()}};f.NullL10n=De},(c,f,L)=>{c.exports=L(5)},(c,f,L)=>{function Se(Le){return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(We){return typeof We}:function(We){return We&&typeof Symbol=="function"&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We},Se(Le)}var ge=function(Le){var We,$e=Object.prototype,Qe=$e.hasOwnProperty,Ue=typeof Symbol=="function"?Symbol:{},De=Ue.iterator||"@@iterator",we=Ue.asyncIterator||"@@asyncIterator",ve=Ue.toStringTag||"@@toStringTag";function Ce(tt,Ze,st){return Object.defineProperty(tt,Ze,{value:st,enumerable:!0,configurable:!0,writable:!0}),tt[Ze]}try{Ce({},"")}catch{Ce=function(Ze,st,ut){return Ze[st]=ut}}function Ee(tt,Ze,st,ut){var Je=Ze&&Ze.prototype instanceof de?Ze:de,Ke=Object.create(Je.prototype),Ge=new ze(ut||[]);return Ke._invoke=function(Ye,Xe,rt){var ot=re;return function(it,lt){if(ot===_)throw new Error("Generator is already running");if(ot===d){if(it==="throw")throw lt;return et()}for(rt.method=it,rt.arg=lt;;){var ct=rt.delegate;if(ct){var dt=je(ct,rt);if(dt){if(dt===g)continue;return dt}}if(rt.method==="next")rt.sent=rt._sent=rt.arg;else if(rt.method==="throw"){if(ot===re)throw ot=d,rt.arg;rt.dispatchException(rt.arg)}else rt.method==="return"&&rt.abrupt("return",rt.arg);ot=_;var gt=xe(Ye,Xe,rt);if(gt.type==="normal"){if(ot=rt.done?d:Ae,gt.arg===g)continue;return{value:gt.arg,done:rt.done}}gt.type==="throw"&&(ot=d,rt.method="throw",rt.arg=gt.arg)}}}(tt,st,Ge),Ke}function xe(tt,Ze,st){try{return{type:"normal",arg:tt.call(Ze,st)}}catch(ut){return{type:"throw",arg:ut}}}Le.wrap=Ee;var re="suspendedStart",Ae="suspendedYield",_="executing",d="completed",g={};function de(){}function m(){}function Oe(){}var Be={};Be[De]=function(){return this};var Me=Object.getPrototypeOf,Fe=Me&&Me(Me(at([])));Fe&&Fe!==$e&&Qe.call(Fe,De)&&(Be=Fe);var $=Oe.prototype=de.prototype=Object.create(Be);function ee(tt){["next","throw","return"].forEach(function(Ze){Ce(tt,Ze,function(st){return this._invoke(Ze,st)})})}function ke(tt,Ze){function st(Je,Ke,Ge,Ye){var Xe=xe(tt[Je],tt,Ke);if(Xe.type!=="throw"){var rt=Xe.arg,ot=rt.value;return ot&&Se(ot)==="object"&&Qe.call(ot,"__await")?Ze.resolve(ot.__await).then(function(it){st("next",it,Ge,Ye)},function(it){st("throw",it,Ge,Ye)}):Ze.resolve(ot).then(function(it){rt.value=it,Ge(rt)},function(it){return st("throw",it,Ge,Ye)})}Ye(Xe.arg)}var ut;this._invoke=function(Je,Ke){function Ge(){return new Ze(function(Ye,Xe){st(Je,Ke,Ye,Xe)})}return ut=ut?ut.then(Ge,Ge):Ge()}}function je(tt,Ze){var st=tt.iterator[Ze.method];if(st===We){if(Ze.delegate=null,Ze.method==="throw"){if(tt.iterator.return&&(Ze.method="return",Ze.arg=We,je(tt,Ze),Ze.method==="throw"))return g;Ze.method="throw",Ze.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var ut=xe(st,tt.iterator,Ze.arg);if(ut.type==="throw")return Ze.method="throw",Ze.arg=ut.arg,Ze.delegate=null,g;var Je=ut.arg;return Je?Je.done?(Ze[tt.resultName]=Je.value,Ze.next=tt.nextLoc,Ze.method!=="return"&&(Ze.method="next",Ze.arg=We),Ze.delegate=null,g):Je:(Ze.method="throw",Ze.arg=new TypeError("iterator result is not an object"),Ze.delegate=null,g)}function He(tt){var Ze={tryLoc:tt[0]};1 in tt&&(Ze.catchLoc=tt[1]),2 in tt&&(Ze.finallyLoc=tt[2],Ze.afterLoc=tt[3]),this.tryEntries.push(Ze)}function qe(tt){var Ze=tt.completion||{};Ze.type="normal",delete Ze.arg,tt.completion=Ze}function ze(tt){this.tryEntries=[{tryLoc:"root"}],tt.forEach(He,this),this.reset(!0)}function at(tt){if(tt){var Ze=tt[De];if(Ze)return Ze.call(tt);if(typeof tt.next=="function")return tt;if(!isNaN(tt.length)){var st=-1,ut=function Je(){for(;++st<tt.length;)if(Qe.call(tt,st))return Je.value=tt[st],Je.done=!1,Je;return Je.value=We,Je.done=!0,Je};return ut.next=ut}}return{next:et}}function et(){return{value:We,done:!0}}return m.prototype=$.constructor=Oe,Oe.constructor=m,m.displayName=Ce(Oe,ve,"GeneratorFunction"),Le.isGeneratorFunction=function(tt){var Ze=typeof tt=="function"&&tt.constructor;return!!Ze&&(Ze===m||(Ze.displayName||Ze.name)==="GeneratorFunction")},Le.mark=function(tt){return Object.setPrototypeOf?Object.setPrototypeOf(tt,Oe):(tt.__proto__=Oe,Ce(tt,ve,"GeneratorFunction")),tt.prototype=Object.create($),tt},Le.awrap=function(tt){return{__await:tt}},ee(ke.prototype),ke.prototype[we]=function(){return this},Le.AsyncIterator=ke,Le.async=function(tt,Ze,st,ut,Je){Je===void 0&&(Je=Promise);var Ke=new ke(Ee(tt,Ze,st,ut),Je);return Le.isGeneratorFunction(Ze)?Ke:Ke.next().then(function(Ge){return Ge.done?Ge.value:Ke.next()})},ee($),Ce($,ve,"Generator"),$[De]=function(){return this},$.toString=function(){return"[object Generator]"},Le.keys=function(tt){var Ze=[];for(var st in tt)Ze.push(st);return Ze.reverse(),function ut(){for(;Ze.length;){var Je=Ze.pop();if(Je in tt)return ut.value=Je,ut.done=!1,ut}return ut.done=!0,ut}},Le.values=at,ze.prototype={constructor:ze,reset:function(tt){if(this.prev=0,this.next=0,this.sent=this._sent=We,this.done=!1,this.delegate=null,this.method="next",this.arg=We,this.tryEntries.forEach(qe),!tt)for(var Ze in this)Ze.charAt(0)==="t"&&Qe.call(this,Ze)&&!isNaN(+Ze.slice(1))&&(this[Ze]=We)},stop:function(){this.done=!0;var tt=this.tryEntries[0].completion;if(tt.type==="throw")throw tt.arg;return this.rval},dispatchException:function(tt){if(this.done)throw tt;var Ze=this;function st(Xe,rt){return Ke.type="throw",Ke.arg=tt,Ze.next=Xe,rt&&(Ze.method="next",Ze.arg=We),!!rt}for(var ut=this.tryEntries.length-1;ut>=0;--ut){var Je=this.tryEntries[ut],Ke=Je.completion;if(Je.tryLoc==="root")return st("end");if(Je.tryLoc<=this.prev){var Ge=Qe.call(Je,"catchLoc"),Ye=Qe.call(Je,"finallyLoc");if(Ge&&Ye){if(this.prev<Je.catchLoc)return st(Je.catchLoc,!0);if(this.prev<Je.finallyLoc)return st(Je.finallyLoc)}else if(Ge){if(this.prev<Je.catchLoc)return st(Je.catchLoc,!0)}else{if(!Ye)throw new Error("try statement without catch or finally");if(this.prev<Je.finallyLoc)return st(Je.finallyLoc)}}}},abrupt:function(tt,Ze){for(var st=this.tryEntries.length-1;st>=0;--st){var ut=this.tryEntries[st];if(ut.tryLoc<=this.prev&&Qe.call(ut,"finallyLoc")&&this.prev<ut.finallyLoc){var Je=ut;break}}Je&&(tt==="break"||tt==="continue")&&Je.tryLoc<=Ze&&Ze<=Je.finallyLoc&&(Je=null);var Ke=Je?Je.completion:{};return Ke.type=tt,Ke.arg=Ze,Je?(this.method="next",this.next=Je.finallyLoc,g):this.complete(Ke)},complete:function(tt,Ze){if(tt.type==="throw")throw tt.arg;return tt.type==="break"||tt.type==="continue"?this.next=tt.arg:tt.type==="return"?(this.rval=this.arg=tt.arg,this.method="return",this.next="end"):tt.type==="normal"&&Ze&&(this.next=Ze),g},finish:function(tt){for(var Ze=this.tryEntries.length-1;Ze>=0;--Ze){var st=this.tryEntries[Ze];if(st.finallyLoc===tt)return this.complete(st.completion,st.afterLoc),qe(st),g}},catch:function(tt){for(var Ze=this.tryEntries.length-1;Ze>=0;--Ze){var st=this.tryEntries[Ze];if(st.tryLoc===tt){var ut=st.completion;if(ut.type==="throw"){var Je=ut.arg;qe(st)}return Je}}throw new Error("illegal catch attempt")},delegateYield:function(tt,Ze,st){return this.delegate={iterator:at(tt),resultName:Ze,nextLoc:st},this.method==="next"&&(this.arg=We),g}},Le}(Se(c=L.nmd(c))==="object"?c.exports:{});try{regeneratorRuntime=ge}catch{Function("r","regeneratorRuntime = r")(ge)}},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SimpleLinkService=f.PDFLinkService=void 0;var Se,ge=(Se=L(4))&&Se.__esModule?Se:{default:Se},Le=L(7);function We(Ee){return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},We(Ee)}function $e(Ee,xe,re,Ae,_,d,g){try{var de=Ee[d](g),m=de.value}catch(Oe){return void re(Oe)}de.done?xe(m):Promise.resolve(m).then(Ae,_)}function Qe(Ee){return function(){var xe=this,re=arguments;return new Promise(function(Ae,_){var d=Ee.apply(xe,re);function g(m){$e(d,Ae,_,g,de,"next",m)}function de(m){$e(d,Ae,_,g,de,"throw",m)}g(void 0)})}}function Ue(Ee,xe){if(!(Ee instanceof xe))throw new TypeError("Cannot call a class as a function")}function De(Ee,xe){for(var re=0;re<xe.length;re++){var Ae=xe[re];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(Ee,Ae.key,Ae)}}function we(Ee,xe,re){return xe&&De(Ee.prototype,xe),re&&De(Ee,re),Ee}var ve=function(){function Ee(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ae=re.eventBus,_=re.externalLinkTarget,d=_===void 0?null:_,g=re.externalLinkRel,de=g===void 0?null:g,m=re.externalLinkEnabled,Oe=m===void 0||m,Be=re.ignoreDestinationZoom,Me=Be!==void 0&&Be;Ue(this,Ee),this.eventBus=Ae,this.externalLinkTarget=d,this.externalLinkRel=de,this.externalLinkEnabled=Oe,this._ignoreDestinationZoom=Me,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}var xe;return we(Ee,[{key:"setDocument",value:function(re){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.baseUrl=Ae,this.pdfDocument=re,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(re){this.pdfViewer=re}},{key:"setHistory",value:function(re){this.pdfHistory=re}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(re){this.pdfViewer.currentPageNumber=re}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(re){this.pdfViewer.pagesRotation=re}},{key:"_goToDestinationHelper",value:function(re){var Ae,_=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=arguments.length>2?arguments[2]:void 0,de=g[0];if(de instanceof Object){if((Ae=this._cachedPageNumber(de))===null)return void this.pdfDocument.getPageIndex(de).then(function(m){_.cachePageRef(m+1,de),_._goToDestinationHelper(re,d,g)}).catch(function(){console.error('PDFLinkService._goToDestinationHelper: "'.concat(de,'" is not ')+'a valid page reference, for dest="'.concat(re,'".'))})}else{if(!Number.isInteger(de))return void console.error('PDFLinkService._goToDestinationHelper: "'.concat(de,'" is not ')+'a valid destination reference, for dest="'.concat(re,'".'));Ae=de+1}!Ae||Ae<1||Ae>this.pagesCount?console.error('PDFLinkService._goToDestinationHelper: "'.concat(Ae,'" is not ')+'a valid page number, for dest="'.concat(re,'".')):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:d,explicitDest:g,pageNumber:Ae})),this.pdfViewer.scrollPageIntoView({pageNumber:Ae,destArray:g,ignoreDestinationZoom:this._ignoreDestinationZoom}))}},{key:"goToDestination",value:(xe=Qe(ge.default.mark(function re(Ae){var _,d;return ge.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(this.pdfDocument){g.next=2;break}return g.abrupt("return");case 2:if(typeof Ae!="string"){g.next=9;break}return _=Ae,g.next=6,this.pdfDocument.getDestination(Ae);case 6:d=g.sent,g.next=13;break;case 9:return _=null,g.next=12,Ae;case 12:d=g.sent;case 13:if(Array.isArray(d)){g.next=16;break}return console.error('PDFLinkService.goToDestination: "'.concat(d,'" is not ')+'a valid destination array, for dest="'.concat(Ae,'".')),g.abrupt("return");case 16:this._goToDestinationHelper(Ae,_,d);case 17:case"end":return g.stop()}},re,this)})),function(re){return xe.apply(this,arguments)})},{key:"goToPage",value:function(re){if(this.pdfDocument){var Ae=typeof re=="string"&&this.pdfViewer.pageLabelToPageNumber(re)||0|re;Number.isInteger(Ae)&&Ae>0&&Ae<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(Ae)),this.pdfViewer.scrollPageIntoView({pageNumber:Ae})):console.error('PDFLinkService.goToPage: "'.concat(re,'" is not a valid page.'))}}},{key:"getDestinationHash",value:function(re){if(typeof re=="string"){if(re.length>0)return this.getAnchorUrl("#"+escape(re))}else if(Array.isArray(re)){var Ae=JSON.stringify(re);if(Ae.length>0)return this.getAnchorUrl("#"+escape(Ae))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(re){return(this.baseUrl||"")+re}},{key:"setHash",value:function(re){var Ae,_;if(this.pdfDocument)if(re.includes("=")){var d=(0,Le.parseQueryString)(re);if("search"in d&&this.eventBus.dispatch("findfromurlhash",{source:this,query:d.search.replace(/"/g,""),phraseSearch:d.phrase==="true"}),"page"in d&&(Ae=0|d.page||1),"zoom"in d){var g=d.zoom.split(","),de=g[0],m=parseFloat(de);de.includes("Fit")?de==="Fit"||de==="FitB"?_=[null,{name:de}]:de==="FitH"||de==="FitBH"||de==="FitV"||de==="FitBV"?_=[null,{name:de},g.length>1?0|g[1]:null]:de==="FitR"?g.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):_=[null,{name:de},0|g[1],0|g[2],0|g[3],0|g[4]]:console.error('PDFLinkService.setHash: "'.concat(de,'" is not ')+"a valid zoom value."):_=[null,{name:"XYZ"},g.length>1?0|g[1]:null,g.length>2?0|g[2]:null,m?m/100:de]}_?this.pdfViewer.scrollPageIntoView({pageNumber:Ae||this.page,destArray:_,allowNegativeOffset:!0}):Ae&&(this.page=Ae),"pagemode"in d&&this.eventBus.dispatch("pagemode",{source:this,mode:d.pagemode}),"nameddest"in d&&this.goToDestination(d.nameddest)}else{_=unescape(re);try{_=JSON.parse(_),Array.isArray(_)||(_=_.toString())}catch{}if(typeof _=="string"||function(Oe){if(!Array.isArray(Oe))return!1;var Be=Oe.length;if(Be<2)return!1;var Me=Oe[0];if(!(We(Me)==="object"&&Number.isInteger(Me.num)&&Number.isInteger(Me.gen)||Number.isInteger(Me)&&Me>=0))return!1;var Fe=Oe[1];if(We(Fe)!=="object"||typeof Fe.name!="string")return!1;var $=!0;switch(Fe.name){case"XYZ":if(Be!==5)return!1;break;case"Fit":case"FitB":return Be===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(Be!==3)return!1;break;case"FitR":if(Be!==6)return!1;$=!1;break;default:return!1}for(var ee=2;ee<Be;ee++){var ke=Oe[ee];if(!(typeof ke=="number"||$&&ke===null))return!1}return!0}(_))return void this.goToDestination(_);console.error('PDFLinkService.setHash: "'.concat(unescape(re),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(re){switch(re){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:re})}},{key:"cachePageRef",value:function(re,Ae){if(Ae){var _=Ae.gen===0?"".concat(Ae.num,"R"):"".concat(Ae.num,"R").concat(Ae.gen);this._pagesRefCache[_]=re}}},{key:"_cachedPageNumber",value:function(re){var Ae,_=re.gen===0?"".concat(re.num,"R"):"".concat(re.num,"R").concat(re.gen);return((Ae=this._pagesRefCache)===null||Ae===void 0?void 0:Ae[_])||null}},{key:"isPageVisible",value:function(re){return this.pdfViewer.isPageVisible(re)}},{key:"isPageCached",value:function(re){return this.pdfViewer.isPageCached(re)}}]),Ee}();f.PDFLinkService=ve;var Ce=function(){function Ee(){Ue(this,Ee),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}var xe;return we(Ee,[{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(re){}},{key:"rotation",get:function(){return 0},set:function(re){}},{key:"goToDestination",value:(xe=Qe(ge.default.mark(function re(Ae){return ge.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:case"end":return _.stop()}},re)})),function(re){return xe.apply(this,arguments)})},{key:"goToPage",value:function(re){}},{key:"getDestinationHash",value:function(re){return"#"}},{key:"getAnchorUrl",value:function(re){return"#"}},{key:"setHash",value:function(re){}},{key:"executeNamedAction",value:function(re){}},{key:"cachePageRef",value:function(re,Ae){}},{key:"isPageVisible",value:function(re){return!0}},{key:"isPageCached",value:function(re){return!0}}]),Ee}();f.SimpleLinkService=Ce},(c,f)=>{function L(d,g){var de=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!de){if(Array.isArray(d)||(de=$e(d))||g&&d&&typeof d.length=="number"){de&&(d=de);var m=0,Oe=function(){};return{s:Oe,n:function(){return m>=d.length?{done:!0}:{done:!1,value:d[m++]}},e:function($){throw $},f:Oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Be,Me=!0,Fe=!1;return{s:function(){de=de.call(d)},n:function(){var $=de.next();return Me=$.done,$},e:function($){Fe=!0,Be=$},f:function(){try{Me||de.return==null||de.return()}finally{if(Fe)throw Be}}}}function Se(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function ge(d,g){for(var de=0;de<g.length;de++){var m=g[de];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function Le(d,g,de){return g&&ge(d.prototype,g),de&&ge(d,de),d}function We(d){return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},We(d)}function $e(d,g){if(d){if(typeof d=="string")return Qe(d,g);var de=Object.prototype.toString.call(d).slice(8,-1);return de==="Object"&&d.constructor&&(de=d.constructor.name),de==="Map"||de==="Set"?Array.from(d):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?Qe(d,g):void 0}}function Qe(d,g){(g==null||g>d.length)&&(g=d.length);for(var de=0,m=new Array(g);de<g;de++)m[de]=d[de];return m}Object.defineProperty(f,"__esModule",{value:!0}),f.apiPageLayoutToSpreadMode=function(d){switch(d){case"SinglePage":case"OneColumn":return we.NONE;case"TwoColumnLeft":case"TwoPageLeft":return we.ODD;case"TwoColumnRight":case"TwoPageRight":return we.EVEN}return we.NONE},f.apiPageModeToSidebarView=function(d){switch(d){case"UseNone":return Ue.NONE;case"UseThumbs":return Ue.THUMBS;case"UseOutlines":return Ue.OUTLINE;case"UseAttachments":return Ue.ATTACHMENTS;case"UseOC":return Ue.LAYERS}return Ue.NONE},f.approximateFraction=function(d){if(Math.floor(d)===d)return[d,1];var g=1/d;if(g>8)return[1,8];if(Math.floor(g)===g)return[1,g];for(var de=d>1?g:d,m=0,Oe=1,Be=1,Me=1;;){var Fe=m+Be,$=Oe+Me;if($>8)break;de<=Fe/$?(Be=Fe,Me=$):(m=Fe,Oe=$)}return de-m/Oe<Be/Me-de?de===d?[m,Oe]:[Oe,m]:de===d?[Be,Me]:[Me,Be]},f.backtrackBeforeAllVisibleElements=Ce,f.binarySearchFirstItem=ve,f.getActiveOrFocusedElement=function(){for(var d=document,g=d.activeElement||d.querySelector(":focus");(de=g)!==null&&de!==void 0&&de.shadowRoot;){var de;d=g.shadowRoot,g=d.activeElement||d.querySelector(":focus")}return g},f.getOutputScale=function(d){var g=window.devicePixelRatio||1,de=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.backingStorePixelRatio||1,m=g/de;return{sx:m,sy:m,scaled:m!==1}},f.getPageSizeInches=function(d){var g,de,m=d.view,Oe=d.userUnit,Be=d.rotate,Me=(de=4,function(ze){if(Array.isArray(ze))return ze}(g=m)||function(ze,at){var et=ze&&(typeof Symbol<"u"&&ze[Symbol.iterator]||ze["@@iterator"]);if(et!=null){var tt,Ze,st=[],ut=!0,Je=!1;try{for(et=et.call(ze);!(ut=(tt=et.next()).done)&&(st.push(tt.value),!at||st.length!==at);ut=!0);}catch(Ke){Je=!0,Ze=Ke}finally{try{ut||et.return==null||et.return()}finally{if(Je)throw Ze}}return st}}(g,de)||$e(g,de)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),Fe=Me[0],$=Me[1],ee=Me[2],ke=Me[3],je=Be%180!=0,He=(ee-Fe)/72*Oe,qe=(ke-$)/72*Oe;return{width:je?qe:He,height:je?He:qe}},f.getVisibleElements=function(d){var g=d.scrollEl,de=d.views,m=d.sortByVisibility,Oe=m!==void 0&&m,Be=d.horizontal,Me=Be!==void 0&&Be,Fe=d.rtl,$=Fe!==void 0&&Fe,ee=g.scrollTop,ke=ee+g.clientHeight,je=g.scrollLeft,He=je+g.clientWidth,qe=[],ze=de.length,at=ve(de,Me?function(gt){var vt=gt.div,pt=vt.offsetLeft+vt.clientLeft,_t=pt+vt.clientWidth;return $?pt<He:_t>je}:function(gt){var vt=gt.div;return vt.offsetTop+vt.clientTop+vt.clientHeight>ee});at>0&&at<ze&&!Me&&(at=Ce(at,de,ee));for(var et=Me?He:-1,tt=at;tt<ze;tt++){var Ze=de[tt],st=Ze.div,ut=st.offsetLeft+st.clientLeft,Je=st.offsetTop+st.clientTop,Ke=st.clientWidth,Ge=st.clientHeight,Ye=ut+Ke,Xe=Je+Ge;if(et===-1)Xe>=ke&&(et=Xe);else if((Me?ut:Je)>et)break;if(!(Xe<=ee||Je>=ke||Ye<=je||ut>=He)){var rt=Math.max(0,ee-Je)+Math.max(0,Xe-ke),ot=Math.max(0,je-ut)+Math.max(0,Ye-He),it=(Ke-ot)/Ke,lt=(Ge-rt)/Ge*it*100|0;qe.push({id:Ze.id,x:ut,y:Je,view:Ze,percent:lt,widthPercent:100*it|0})}}var ct=qe[0],dt=qe[qe.length-1];return Oe&&qe.sort(function(gt,vt){var pt=gt.percent-vt.percent;return Math.abs(pt)>.001?-pt:gt.id-vt.id}),{first:ct,last:dt,views:qe}},f.isPortraitOrientation=function(d){return d.width<=d.height},f.isValidRotation=function(d){return Number.isInteger(d)&&d%90==0},f.isValidScrollMode=function(d){return Number.isInteger(d)&&Object.values(De).includes(d)&&d!==De.UNKNOWN},f.isValidSpreadMode=function(d){return Number.isInteger(d)&&Object.values(we).includes(d)&&d!==we.UNKNOWN},f.moveToEndOfArray=function(d,g){for(var de=[],m=d.length,Oe=0,Be=0;Be<m;++Be)g(d[Be])?de.push(d[Be]):(d[Oe]=d[Be],++Oe);for(var Me=0;Oe<m;++Me,++Oe)d[Oe]=de[Me]},f.noContextMenuHandler=function(d){d.preventDefault()},f.normalizeWheelEventDelta=function(d){var g=Ee(d);return d.deltaMode===0?g/=900:d.deltaMode===1&&(g/=30),g},f.normalizeWheelEventDirection=Ee,f.parseQueryString=function(d){for(var g=d.split("&"),de=Object.create(null),m=0,Oe=g.length;m<Oe;++m){var Be=g[m].split("="),Me=Be[0].toLowerCase(),Fe=Be.length>1?Be[1]:null;de[decodeURIComponent(Me)]=decodeURIComponent(Fe)}return de},f.roundToDivide=function(d,g){var de=d%g;return de===0?d:Math.round(d-de+g)},f.scrollIntoView=function(d,g){var de=arguments.length>2&&arguments[2]!==void 0&&arguments[2],m=d.offsetParent;if(m){for(var Oe=d.offsetTop+d.clientTop,Be=d.offsetLeft+d.clientLeft;m.clientHeight===m.scrollHeight&&m.clientWidth===m.scrollWidth||de&&getComputedStyle(m).overflow==="hidden";)if(m.dataset._scaleY&&(Oe/=m.dataset._scaleY,Be/=m.dataset._scaleX),Oe+=m.offsetTop,Be+=m.offsetLeft,!(m=m.offsetParent))return;g&&(g.top!==void 0&&(Oe+=g.top),g.left!==void 0&&(Be+=g.left,m.scrollLeft=Be)),m.scrollTop=Oe}else console.error("offsetParent is not set -- cannot scroll")},f.waitOnEventOrTimeout=function(d){var g=d.target,de=d.name,m=d.delay,Oe=m===void 0?0:m;return new Promise(function(Be,Me){if(We(g)!=="object"||!de||typeof de!="string"||!(Number.isInteger(Oe)&&Oe>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function Fe(je){g instanceof Ae?g._off(de,$):g.removeEventListener(de,$),ke&&clearTimeout(ke),Be(je)}var $=Fe.bind(null,xe.EVENT);g instanceof Ae?g._on(de,$):g.addEventListener(de,$);var ee=Fe.bind(null,xe.TIMEOUT),ke=setTimeout(ee,Oe)})},f.watchScroll=function(d,g){var de=function(Be){Oe||(Oe=window.requestAnimationFrame(function(){Oe=null;var Me=d.scrollLeft,Fe=m.lastX;Me!==Fe&&(m.right=Me>Fe),m.lastX=Me;var $=d.scrollTop,ee=m.lastY;$!==ee&&(m.down=$>ee),m.lastY=$,g(m)}))},m={right:!0,down:!0,lastX:d.scrollLeft,lastY:d.scrollTop,_eventHandler:de},Oe=null;return d.addEventListener("scroll",de,!0),m},f.WaitOnType=f.VERTICAL_PADDING=f.UNKNOWN_SCALE=f.TextLayerMode=f.SpreadMode=f.SidebarView=f.ScrollMode=f.SCROLLBAR_PADDING=f.RendererType=f.ProgressBar=f.PresentationModeState=f.MIN_SCALE=f.MAX_SCALE=f.MAX_AUTO_SCALE=f.EventBus=f.DEFAULT_SCALE_VALUE=f.DEFAULT_SCALE=f.CSS_UNITS=f.AutoPrintRegExp=f.animationStarted=void 0,f.CSS_UNITS=1.3333333333333333,f.DEFAULT_SCALE_VALUE="auto",f.DEFAULT_SCALE=1,f.MIN_SCALE=.1,f.MAX_SCALE=10,f.UNKNOWN_SCALE=0,f.MAX_AUTO_SCALE=1.25,f.SCROLLBAR_PADDING=40,f.VERTICAL_PADDING=5,f.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var Ue={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};f.SidebarView=Ue,f.RendererType={CANVAS:"canvas",SVG:"svg"},f.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var De={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};f.ScrollMode=De;var we={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function ve(d,g){var de=0,m=d.length-1;if(m<0||!g(d[m]))return d.length;if(g(d[de]))return de;for(;de<m;){var Oe=de+m>>1;g(d[Oe])?m=Oe:de=Oe+1}return de}function Ce(d,g,de){if(d<2)return d;var m=g[d].div,Oe=m.offsetTop+m.clientTop;Oe>=de&&(Oe=(m=g[d-1].div).offsetTop+m.clientTop);for(var Be=d-2;Be>=0&&!((m=g[Be].div).offsetTop+m.clientTop+m.clientHeight<=Oe);--Be)d=Be;return d}function Ee(d){var g=Math.hypot(d.deltaX,d.deltaY),de=Math.atan2(d.deltaY,d.deltaX);return-.25*Math.PI<de&&de<.75*Math.PI&&(g=-g),g}f.SpreadMode=we,f.AutoPrintRegExp=/\bprint\s*\(/;var xe={EVENT:"event",TIMEOUT:"timeout"};f.WaitOnType=xe;var re=new Promise(function(d){window.requestAnimationFrame(d)});f.animationStarted=re;var Ae=function(){function d(g){Se(this,d),this._listeners=Object.create(null)}return Le(d,[{key:"on",value:function(g,de){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._on(g,de,{external:!0,once:m==null?void 0:m.once})}},{key:"off",value:function(g,de){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._off(g,de,{external:!0,once:m==null?void 0:m.once})}},{key:"dispatch",value:function(g){var de=this._listeners[g];if(de&&de.length!==0){var m,Oe,Be=Array.prototype.slice.call(arguments,1),Me=L(de.slice(0));try{for(Me.s();!(Oe=Me.n()).done;){var Fe=Oe.value,$=Fe.listener,ee=Fe.external,ke=Fe.once;ke&&this._off(g,$),ee?(m||(m=[])).push($):$.apply(null,Be)}}catch(ze){Me.e(ze)}finally{Me.f()}if(m){var je,He=L(m);try{for(He.s();!(je=He.n()).done;){var qe=je.value;qe.apply(null,Be)}}catch(ze){He.e(ze)}finally{He.f()}m=null}}}},{key:"_on",value:function(g,de){var m,Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Be=(m=this._listeners)[g]||(m[g]=[]);Be.push({listener:de,external:(Oe==null?void 0:Oe.external)===!0,once:(Oe==null?void 0:Oe.once)===!0})}},{key:"_off",value:function(g,de){var m=this._listeners[g];if(m){for(var Oe=0,Be=m.length;Oe<Be;Oe++)if(m[Oe].listener===de)return void m.splice(Oe,1)}}}]),d}();f.EventBus=Ae;var _=function(){function d(g){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=de.height,Oe=de.width,Be=de.units;Se(this,d),this.visible=!0,this.div=document.querySelector(g+" .progress"),this.bar=this.div.parentNode,this.height=m||100,this.width=Oe||100,this.units=Be||"%",this.div.style.height=this.height+this.units,this.percent=0}return Le(d,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var g=this.width*this._percent/100;this.div.style.width=g+this.units}},{key:"percent",get:function(){return this._percent},set:function(g){var de,m,Oe;this._indeterminate=isNaN(g),this._percent=(de=g,m=0,Oe=100,Math.min(Math.max(de,m),Oe)),this._updateBar()}},{key:"setWidth",value:function(g){if(g){var de=g.parentNode.offsetWidth-g.offsetWidth;de>0&&document.documentElement.style.setProperty("--loadingBar-end-offset","".concat(de,"px"))}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}},{key:"show",value:function(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}]),d}();f.ProgressBar=_},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TextLayerBuilder=f.DefaultTextLayerFactory=void 0;var Se=L(2);function ge(Ue,De){if(!(Ue instanceof De))throw new TypeError("Cannot call a class as a function")}function Le(Ue,De){for(var we=0;we<De.length;we++){var ve=De[we];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(Ue,ve.key,ve)}}function We(Ue,De,we){return De&&Le(Ue.prototype,De),we&&Le(Ue,we),Ue}var $e=function(){function Ue(De){var we=De.textLayerDiv,ve=De.eventBus,Ce=De.pageIndex,Ee=De.viewport,xe=De.findController,re=xe===void 0?null:xe,Ae=De.enhanceTextSelection,_=Ae!==void 0&&Ae;ge(this,Ue),this.textLayerDiv=we,this.eventBus=ve,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=Ce,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=Ee,this.textDivs=[],this.findController=re,this.textLayerRenderTask=null,this.enhanceTextSelection=_,this._onUpdateTextLayerMatches=null,this._bindMouse()}return We(Ue,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var De=document.createElement("div");De.className="endOfContent",this.textLayerDiv.appendChild(De)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var De=this,we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var ve=document.createDocumentFragment();this.textLayerRenderTask=(0,Se.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:ve,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:we,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){De.textLayerDiv.appendChild(ve),De._finishRendering(),De._updateMatches()},function(Ce){}),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(Ce){Ce.pageIndex!==De.pageIdx&&Ce.pageIndex!==-1||De._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(De){this.cancel(),this.textContentStream=De}},{key:"setTextContent",value:function(De){this.cancel(),this.textContent=De}},{key:"_convertMatches",value:function(De,we){if(!De)return[];for(var ve=this.textContentItemsStr,Ce=0,Ee=0,xe=ve.length-1,re=[],Ae=0,_=De.length;Ae<_;Ae++){for(var d=De[Ae];Ce!==xe&&d>=Ee+ve[Ce].length;)Ee+=ve[Ce].length,Ce++;Ce===ve.length&&console.error("Could not find a matching mapping");var g={begin:{divIdx:Ce,offset:d-Ee}};for(d+=we[Ae];Ce!==xe&&d>Ee+ve[Ce].length;)Ee+=ve[Ce].length,Ce++;g.end={divIdx:Ce,offset:d-Ee},re.push(g)}return re}},{key:"_renderMatches",value:function(De){if(De.length!==0){var we=this.findController,ve=this.pageIdx,Ce=this.textContentItemsStr,Ee=this.textDivs,xe=ve===we.selected.pageIdx,re=we.selected.matchIdx,Ae=null,_={divIdx:-1,offset:void 0},d=re,g=d+1;if(we.state.highlightAll)d=0,g=De.length;else if(!xe)return;for(var de=d;de<g;de++){var m=De[de],Oe=m.begin,Be=m.end,Me=xe&&de===re,Fe=Me?" selected":"";if(Me&&we.scrollMatchIntoView({element:Ee[Oe.divIdx],pageIndex:ve,matchIndex:re}),Ae&&Oe.divIdx===Ae.divIdx?je(Ae.divIdx,Ae.offset,Oe.offset):(Ae!==null&&je(Ae.divIdx,Ae.offset,_.offset),ke(Oe)),Oe.divIdx===Be.divIdx)je(Oe.divIdx,Oe.offset,Be.offset,"highlight"+Fe);else{je(Oe.divIdx,Oe.offset,_.offset,"highlight begin"+Fe);for(var $=Oe.divIdx+1,ee=Be.divIdx;$<ee;$++)Ee[$].className="highlight middle"+Fe;ke(Be,"highlight end"+Fe)}Ae=Be}Ae&&je(Ae.divIdx,Ae.offset,_.offset)}function ke(He,qe){var ze=He.divIdx;Ee[ze].textContent="",je(ze,0,He.offset,qe)}function je(He,qe,ze,at){var et=Ee[He],tt=Ce[He].substring(qe,ze),Ze=document.createTextNode(tt);if(at){var st=document.createElement("span");return st.className=at,st.appendChild(Ze),void et.appendChild(st)}et.appendChild(Ze)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var De=this.findController,we=this.matches,ve=this.pageIdx,Ce=this.textContentItemsStr,Ee=this.textDivs,xe=-1,re=0,Ae=we.length;re<Ae;re++){for(var _=we[re],d=Math.max(xe,_.begin.divIdx),g=_.end.divIdx;d<=g;d++){var de=Ee[d];de.textContent=Ce[d],de.className=""}xe=_.end.divIdx+1}if(De!=null&&De.highlightMatches){var m=De.pageMatches[ve]||null,Oe=De.pageMatchesLength[ve]||null;this.matches=this._convertMatches(m,Oe),this._renderMatches(this.matches)}}}},{key:"_bindMouse",value:function(){var De=this,we=this.textLayerDiv,ve=null;we.addEventListener("mousedown",function(Ce){if(De.enhanceTextSelection&&De.textLayerRenderTask)return De.textLayerRenderTask.expandTextDivs(!0),void(ve&&(clearTimeout(ve),ve=null));var Ee=we.querySelector(".endOfContent");if(Ee){var xe=Ce.target!==we;if(xe=xe&&window.getComputedStyle(Ee).getPropertyValue("-moz-user-select")!=="none"){var re=we.getBoundingClientRect(),Ae=Math.max(0,(Ce.pageY-re.top)/re.height);Ee.style.top=(100*Ae).toFixed(2)+"%"}Ee.classList.add("active")}}),we.addEventListener("mouseup",function(){if(De.enhanceTextSelection&&De.textLayerRenderTask)ve=setTimeout(function(){De.textLayerRenderTask&&De.textLayerRenderTask.expandTextDivs(!1),ve=null},300);else{var Ce=we.querySelector(".endOfContent");Ce&&(Ce.style.top="",Ce.classList.remove("active"))}})}}]),Ue}();f.TextLayerBuilder=$e;var Qe=function(){function Ue(){ge(this,Ue)}return We(Ue,[{key:"createTextLayerBuilder",value:function(De,we,ve){var Ce=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Ee=arguments.length>4?arguments[4]:void 0;return new $e({textLayerDiv:De,pageIndex:we,viewport:ve,enhanceTextSelection:Ce,eventBus:Ee})}}]),Ue}();f.DefaultTextLayerFactory=Qe},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DownloadManager=void 0;var Se=L(2),ge=L(10);function Le(Qe,Ue){for(var De=0;De<Ue.length;De++){var we=Ue[De];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(Qe,we.key,we)}}function We(Qe,Ue){var De=document.createElement("a");if(!De.click)throw new Error('DownloadManager: "a.click()" is not supported.');De.href=Qe,De.target="_parent","download"in De&&(De.download=Ue),(document.body||document.documentElement).appendChild(De),De.click(),De.remove()}var $e=function(){function Qe(){(function(we,ve){if(!(we instanceof ve))throw new TypeError("Cannot call a class as a function")})(this,Qe),this._openBlobUrls=new WeakMap}var Ue,De;return Ue=Qe,(De=[{key:"downloadUrl",value:function(we,ve){(0,Se.createValidAbsoluteUrl)(we,"http://example.com")&&We(we+"#pdfjs.action=download",ve)}},{key:"downloadData",value:function(we,ve,Ce){We((0,Se.createObjectURL)(we,Ce,ge.viewerCompatibilityParams.disableCreateObjectURL),ve)}},{key:"openOrDownloadData",value:function(we,ve,Ce){var Ee=(0,Se.isPdfFile)(Ce),xe=Ee?"application/pdf":"";if(Ee&&!ge.viewerCompatibilityParams.disableCreateObjectURL){var re,Ae=this._openBlobUrls.get(we);Ae||(Ae=URL.createObjectURL(new Blob([ve],{type:xe})),this._openBlobUrls.set(we,Ae)),re="?file="+encodeURIComponent(Ae+"#"+Ce);try{return window.open(re),!0}catch(_){console.error("openOrDownloadData: ".concat(_)),URL.revokeObjectURL(Ae),this._openBlobUrls.delete(we)}}return this.downloadData(ve,Ce,xe),!1}},{key:"download",value:function(we,ve,Ce){if(ge.viewerCompatibilityParams.disableCreateObjectURL)this.downloadUrl(ve,Ce);else{var Ee=URL.createObjectURL(we);We(Ee,Ce)}}}])&&Le(Ue.prototype,De),Qe}();f.DownloadManager=$e},(c,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.viewerCompatibilityParams=void 0;var L=Object.create(null),Se=typeof navigator<"u"&&navigator.userAgent||"",ge=typeof navigator<"u"&&navigator.platform||"",Le=typeof navigator<"u"&&navigator.maxTouchPoints||1,We=/Android/.test(Se),$e=/\b(iPad|iPhone|iPod)(?=;)/.test(Se)||ge==="MacIntel"&&Le>1;/CriOS/.test(Se)&&(L.disableCreateObjectURL=!0),($e||We)&&(L.maxCanvasPixels=5242880);var Qe=Object.freeze(L);f.viewerCompatibilityParams=Qe},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.GenericL10n=void 0;var Se,ge=(Se=L(4))&&Se.__esModule?Se:{default:Se};L(12);var Le=L(3);function We(we,ve,Ce,Ee,xe,re,Ae){try{var _=we[re](Ae),d=_.value}catch(g){return void Ce(g)}_.done?ve(d):Promise.resolve(d).then(Ee,xe)}function $e(we){return function(){var ve=this,Ce=arguments;return new Promise(function(Ee,xe){var re=we.apply(ve,Ce);function Ae(d){We(re,Ee,xe,Ae,_,"next",d)}function _(d){We(re,Ee,xe,Ae,_,"throw",d)}Ae(void 0)})}}function Qe(we,ve){for(var Ce=0;Ce<ve.length;Ce++){var Ee=ve[Ce];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(we,Ee.key,Ee)}}var Ue=document.webL10n,De=function(){function we(_){(function(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")})(this,we),this._lang=_,this._ready=new Promise(function(d,g){Ue.setLanguage(_,function(){d(Ue)})})}var ve,Ce,Ee,xe,re,Ae;return ve=we,Ce=[{key:"getLanguage",value:(Ae=$e(ge.default.mark(function _(){var d;return ge.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this._ready;case 2:return d=g.sent,g.abrupt("return",d.getLanguage());case 4:case"end":return g.stop()}},_,this)})),function(){return Ae.apply(this,arguments)})},{key:"getDirection",value:(re=$e(ge.default.mark(function _(){var d;return ge.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this._ready;case 2:return d=g.sent,g.abrupt("return",d.getDirection());case 4:case"end":return g.stop()}},_,this)})),function(){return re.apply(this,arguments)})},{key:"get",value:(xe=$e(ge.default.mark(function _(d){var g,de,m,Oe=arguments;return ge.default.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return g=Oe.length>1&&Oe[1]!==void 0?Oe[1]:null,de=Oe.length>2&&Oe[2]!==void 0?Oe[2]:(0,Le.getL10nFallback)(d,g),Be.next=4,this._ready;case 4:return m=Be.sent,Be.abrupt("return",m.get(d,g,de));case 6:case"end":return Be.stop()}},_,this)})),function(_){return xe.apply(this,arguments)})},{key:"translate",value:(Ee=$e(ge.default.mark(function _(d){var g;return ge.default.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,this._ready;case 2:return g=de.sent,de.abrupt("return",g.translate(d));case 4:case"end":return de.stop()}},_,this)})),function(_){return Ee.apply(this,arguments)})}],Ce&&Qe(ve.prototype,Ce),we}();f.GenericL10n=De},()=>{document.webL10n=function(c,f,L){var Se={},ge="",Le="textContent",We="",$e={},Qe="loading";function Ue(re,Ae,_){Ae=Ae||function(g){},_=_||function(){};var d=new XMLHttpRequest;d.open("GET",re,!0),d.overrideMimeType&&d.overrideMimeType("text/plain; charset=utf-8"),d.onreadystatechange=function(){d.readyState==4&&(d.status==200||d.status===0?Ae(d.responseText):_())},d.onerror=_,d.ontimeout=_;try{d.send(null)}catch{_()}}function De(re,Ae,_,d){var g=re.replace(/[^\/]*$/,"")||"./";function de(m){return m.lastIndexOf("\\")<0?m:m.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}Ue(re,function(m){ge+=m,function(Oe,Be){var Me={},Fe=/^\s*|\s*$/,$=/^\s*#|^\s*$/,ee=/^\s*\[(.*)\]\s*$/,ke=/^\s*@import\s+url\((.*)\)\s*$/i,je=/^([^=\s]*)\s*=\s*(.+)$/;function He(ze,at,et){var tt=ze.replace(Fe,"").split(/[\r\n]+/),Ze="*",st=Ae.split("-",1)[0],ut=!1,Je="";(function Ke(){for(;;){if(!tt.length)return void et();var Ge=tt.shift();if(!$.test(Ge)){if(at){if(Je=ee.exec(Ge)){Ze=Je[1].toLowerCase(),ut=Ze!=="*"&&Ze!==Ae&&Ze!==st;continue}if(ut)continue;if(Je=ke.exec(Ge))return void qe(g+Je[1],Ke)}var Ye=Ge.match(je);Ye&&Ye.length==3&&(Me[Ye[1]]=de(Ye[2]))}}})()}function qe(ze,at){Ue(ze,function(et){He(et,!1,at)},function(){console.warn(ze+" not found."),at()})}He(Oe,!0,function(){Be(Me)})}(m,function(Oe){for(var Be in Oe){var Me,Fe,$=Be.lastIndexOf(".");$>0?(Me=Be.substring(0,$),Fe=Be.substring($+1)):(Me=Be,Fe=Le),Se[Me]||(Se[Me]={}),Se[Me][Fe]=Oe[Be]}_&&_()})},d)}function we(re,Ae){re&&(re=re.toLowerCase()),Ae=Ae||function(){},Se={},ge="",We="",We=re;var _=f.querySelectorAll('link[type="application/l10n"]'),d=_.length;if(d!==0){var g,de,m=0;de=function(){++m>=d&&(Ae(),Qe="complete")};for(var Oe=0;Oe<d;Oe++)new $(_[Oe]).load(re,de)}else{var Be=(g=f.querySelector('script[type="application/l10n"]'))?JSON.parse(g.innerHTML):null;if(Be&&Be.locales&&Be.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(Se=Be.locales[re])){var Me=Be.default_locale.toLowerCase();for(var Fe in Be.locales){if((Fe=Fe.toLowerCase())===re){Se=Be.locales[re];break}Fe===Me&&(Se=Be.locales[Me])}}Ae()}else console.log("no resource to load, early way out");Qe="complete"}function $(ee){var ke=ee.href;this.load=function(je,He){De(ke,je,He,function(){console.warn(ke+" not found."),console.warn('"'+je+'" resource not found'),We="",He()})}}}function ve(re,Ae,_){var d=Se[re];if(!d){if(console.warn("#"+re+" is undefined."),!_)return null;d=_}var g={};for(var de in d){var m=d[de];m=Ee(m=Ce(m,Ae,re,de),Ae,re),g[de]=m}return g}function Ce(re,Ae,_,d){var g=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(re);if(!g||!g.length)return re;var de,m=g[1],Oe=g[2];return Ae&&Oe in Ae?de=Ae[Oe]:Oe in Se&&(de=Se[Oe]),m in $e&&(re=(0,$e[m])(re,de,_,d)),re}function Ee(re,Ae,_){return re.replace(/\{\{\s*(.+?)\s*\}\}/g,function(d,g){return Ae&&g in Ae?Ae[g]:g in Se?Se[g]:(console.log("argument {{"+g+"}} for #"+_+" is undefined."),d)})}function xe(re){var Ae=function(Me){if(!Me)return{};var Fe=Me.getAttribute("data-l10n-id"),$=Me.getAttribute("data-l10n-args"),ee={};if($)try{ee=JSON.parse($)}catch{console.warn("could not parse arguments for #"+Fe)}return{id:Fe,args:ee}}(re);if(Ae.id){var _=ve(Ae.id,Ae.args);if(_){if(_[Le]){if(function(Me){if(Me.children)return Me.children.length;if(Me.childElementCount!==void 0)return Me.childElementCount;for(var Fe=0,$=0;$<Me.childNodes.length;$++)Fe+=Me.nodeType===1?1:0;return Fe}(re)===0)re[Le]=_[Le];else{for(var d=re.childNodes,g=!1,de=0,m=d.length;de<m;de++)d[de].nodeType===3&&/\S/.test(d[de].nodeValue)&&(g?d[de].nodeValue="":(d[de].nodeValue=_[Le],g=!0));if(!g){var Oe=f.createTextNode(_[Le]);re.insertBefore(Oe,re.firstChild)}}delete _[Le]}for(var Be in _)re[Be]=_[Be]}else console.warn("#"+Ae.id+" is undefined.")}}return $e.plural=function(re,Ae,_,d){var g=parseFloat(Ae);if(isNaN(g)||d!=Le)return re;$e._pluralRules||($e._pluralRules=function(m){function Oe($,ee){return ee.indexOf($)!==-1}function Be($,ee,ke){return ee<=$&&$<=ke}var Me={0:function($){return"other"},1:function($){return Be($%100,3,10)?"few":$===0?"zero":Be($%100,11,99)?"many":$==2?"two":$==1?"one":"other"},2:function($){return $!==0&&$%10==0?"many":$==2?"two":$==1?"one":"other"},3:function($){return $==1?"one":"other"},4:function($){return Be($,0,1)?"one":"other"},5:function($){return Be($,0,2)&&$!=2?"one":"other"},6:function($){return $===0?"zero":$%10==1&&$%100!=11?"one":"other"},7:function($){return $==2?"two":$==1?"one":"other"},8:function($){return Be($,3,6)?"few":Be($,7,10)?"many":$==2?"two":$==1?"one":"other"},9:function($){return $===0||$!=1&&Be($%100,1,19)?"few":$==1?"one":"other"},10:function($){return Be($%10,2,9)&&!Be($%100,11,19)?"few":$%10!=1||Be($%100,11,19)?"other":"one"},11:function($){return Be($%10,2,4)&&!Be($%100,12,14)?"few":$%10==0||Be($%10,5,9)||Be($%100,11,14)?"many":$%10==1&&$%100!=11?"one":"other"},12:function($){return Be($,2,4)?"few":$==1?"one":"other"},13:function($){return Be($%10,2,4)&&!Be($%100,12,14)?"few":$!=1&&Be($%10,0,1)||Be($%10,5,9)||Be($%100,12,14)?"many":$==1?"one":"other"},14:function($){return Be($%100,3,4)?"few":$%100==2?"two":$%100==1?"one":"other"},15:function($){return $===0||Be($%100,2,10)?"few":Be($%100,11,19)?"many":$==1?"one":"other"},16:function($){return $%10==1&&$!=11?"one":"other"},17:function($){return $==3?"few":$===0?"zero":$==6?"many":$==2?"two":$==1?"one":"other"},18:function($){return $===0?"zero":Be($,0,2)&&$!==0&&$!=2?"one":"other"},19:function($){return Be($,2,10)?"few":Be($,0,1)?"one":"other"},20:function($){return!Be($%10,3,4)&&$%10!=9||Be($%100,10,19)||Be($%100,70,79)||Be($%100,90,99)?$%1e6==0&&$!==0?"many":$%10!=2||Oe($%100,[12,72,92])?$%10!=1||Oe($%100,[11,71,91])?"other":"one":"two":"few"},21:function($){return $===0?"zero":$==1?"one":"other"},22:function($){return Be($,0,1)||Be($,11,99)?"one":"other"},23:function($){return Be($%10,1,2)||$%20==0?"one":"other"},24:function($){return Be($,3,10)||Be($,13,19)?"few":Oe($,[2,12])?"two":Oe($,[1,11])?"one":"other"}},Fe={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[m.replace(/-.*$/,"")];return Fe in Me?Me[Fe]:(console.warn("plural form unknown for ["+m+"]"),function(){return"other"})}(We));var de="["+$e._pluralRules(g)+"]";return g===0&&_+"[zero]"in Se?re=Se[_+"[zero]"][d]:g==1&&_+"[one]"in Se?re=Se[_+"[one]"][d]:g==2&&_+"[two]"in Se?re=Se[_+"[two]"][d]:_+de in Se?re=Se[_+de][d]:_+"[other]"in Se&&(re=Se[_+"[other]"][d]),re},{get:function(re,Ae,_){var d,g=re.lastIndexOf("."),de=Le;g>0&&(de=re.substring(g+1),re=re.substring(0,g)),_&&((d={})[de]=_);var m=ve(re,Ae,d);return m&&de in m?m[de]:"{{"+re+"}}"},getData:function(){return Se},getText:function(){return ge},getLanguage:function(){return We},setLanguage:function(re,Ae){we(re,function(){Ae&&Ae()})},getDirection:function(){var re=We.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(re)>=0?"rtl":"ltr"},translate:function(re){for(var Ae=function(g){return g?g.querySelectorAll("*[data-l10n-id]"):[]}(re=re||f.documentElement),_=Ae.length,d=0;d<_;d++)xe(Ae[d]);xe(re)},getReadyState:function(){return Qe},ready:function(re){re&&(Qe=="complete"||Qe=="interactive"?c.setTimeout(function(){re()}):f.addEventListener&&f.addEventListener("localized",function Ae(){f.removeEventListener("localized",Ae),re()}))}}}(window,document)},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFFindController=f.FindState=void 0;var Se=L(2),ge=L(14),Le=L(7);function We(Ae,_){for(var d=0;d<_.length;d++){var g=_[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(Ae,g.key,g)}}function $e(Ae,_){return function(d){if(Array.isArray(d))return d}(Ae)||function(d,g){var de=d&&(typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"]);if(de!=null){var m,Oe,Be=[],Me=!0,Fe=!1;try{for(de=de.call(d);!(Me=(m=de.next()).done)&&(Be.push(m.value),!g||Be.length!==g);Me=!0);}catch($){Fe=!0,Oe=$}finally{try{Me||de.return==null||de.return()}finally{if(Fe)throw Oe}}return Be}}(Ae,_)||Ue(Ae,_)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qe(Ae,_){var d=typeof Symbol<"u"&&Ae[Symbol.iterator]||Ae["@@iterator"];if(!d){if(Array.isArray(Ae)||(d=Ue(Ae))||_&&Ae&&typeof Ae.length=="number"){d&&(Ae=d);var g=0,de=function(){};return{s:de,n:function(){return g>=Ae.length?{done:!0}:{done:!1,value:Ae[g++]}},e:function(Me){throw Me},f:de}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,Oe=!0,Be=!1;return{s:function(){d=d.call(Ae)},n:function(){var Me=d.next();return Oe=Me.done,Me},e:function(Me){Be=!0,m=Me},f:function(){try{Oe||d.return==null||d.return()}finally{if(Be)throw m}}}}function Ue(Ae,_){if(Ae){if(typeof Ae=="string")return De(Ae,_);var d=Object.prototype.toString.call(Ae).slice(8,-1);return d==="Object"&&Ae.constructor&&(d=Ae.constructor.name),d==="Map"||d==="Set"?Array.from(Ae):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?De(Ae,_):void 0}}function De(Ae,_){(_==null||_>Ae.length)&&(_=Ae.length);for(var d=0,g=new Array(_);d<_;d++)g[d]=Ae[d];return g}var we={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};f.FindState=we;var ve={"":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},Ce=null;function Ee(Ae){if(!Ce){var _=Object.keys(ve).join("");Ce=new RegExp("[".concat(_,"]"),"g")}var d=null;return[Ae.replace(Ce,function(g,de){var m=ve[g],Oe=m.length-g.length;return Oe!==0&&(d||(d=[])).push([de,Oe]),m}),d]}function xe(Ae){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!_)return Ae;var d,g=0,de=Qe(_);try{for(de.s();!(d=de.n()).done;){var m=$e(d.value,2),Oe=m[0],Be=m[1],Me=Oe+g;if(Me>=Ae)break;if(Me+Be>Ae){g+=Ae-Me;break}g+=Be}}catch(Fe){de.e(Fe)}finally{de.f()}return Ae-g}var re=function(){function Ae(g){var de=g.linkService,m=g.eventBus;(function(Oe,Be){if(!(Oe instanceof Be))throw new TypeError("Cannot call a class as a function")})(this,Ae),this._linkService=de,this._eventBus=m,this._reset(),m._on("findbarclose",this._onFindBarClose.bind(this))}var _,d;return _=Ae,d=[{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"setDocument",value:function(g){this._pdfDocument&&this._reset(),g&&(this._pdfDocument=g,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(g,de){var m=this;if(de){var Oe=this._pdfDocument;(this._state===null||this._shouldDirtyMatch(g,de))&&(this._dirtyMatch=!0),this._state=de,g!=="findhighlightallchange"&&this._updateUIState(we.PENDING),this._firstPageCapability.promise.then(function(){if(m._pdfDocument&&(!Oe||m._pdfDocument===Oe)){m._extractText();var Be=!m._highlightMatches,Me=!!m._findTimeout;m._findTimeout&&(clearTimeout(m._findTimeout),m._findTimeout=null),g==="find"?m._findTimeout=setTimeout(function(){m._nextMatch(),m._findTimeout=null},250):m._dirtyMatch?m._nextMatch():g==="findagain"?(m._nextMatch(),Be&&m._state.highlightAll&&m._updateAllPages()):g==="findhighlightallchange"?(Me?m._nextMatch():m._highlightMatches=!0,m._updateAllPages()):m._nextMatch()}})}}},{key:"scrollMatchIntoView",value:function(g){var de=g.element,m=de===void 0?null:de,Oe=g.pageIndex,Be=Oe===void 0?-1:Oe,Me=g.matchIndex,Fe=Me===void 0?-1:Me;if(this._scrollMatches&&m&&Fe!==-1&&Fe===this._selected.matchIdx&&Be!==-1&&Be===this._selected.pageIdx){this._scrollMatches=!1;var $={top:-50,left:-400};(0,Le.scrollIntoView)(m,$,!0)}}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,Se.createPromiseCapability)()}},{key:"_query",get:function(){if(this._state.query!==this._rawQuery){this._rawQuery=this._state.query;var g=$e(Ee(this._state.query),1);this._normalizedQuery=g[0]}return this._normalizedQuery}},{key:"_shouldDirtyMatch",value:function(g,de){if(de.query!==this._state.query)return!0;switch(g){case"findagain":var m=this._selected.pageIdx+1,Oe=this._linkService;return m>=1&&m<=Oe.pagesCount&&m!==Oe.page&&!Oe.isPageVisible(m);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(g,de,m){function Oe(Fe){var $=g[Fe],ee=g[Fe+1];if(Fe<g.length-1&&$.match===ee.match)return $.skipped=!0,!0;for(var ke=Fe-1;ke>=0;ke--){var je=g[ke];if(!je.skipped){if(je.match+je.matchLength<$.match)break;if(je.match+je.matchLength>=$.match+$.matchLength)return $.skipped=!0,!0}}return!1}g.sort(function(Fe,$){return Fe.match===$.match?Fe.matchLength-$.matchLength:Fe.match-$.match});for(var Be=0,Me=g.length;Be<Me;Be++)Oe(Be)||(de.push(g[Be].match),m.push(g[Be].matchLength))}},{key:"_isEntireWord",value:function(g,de,m){if(de>0){var Oe=g.charCodeAt(de),Be=g.charCodeAt(de-1);if((0,ge.getCharacterType)(Oe)===(0,ge.getCharacterType)(Be))return!1}var Me=de+m-1;if(Me<g.length-1){var Fe=g.charCodeAt(Me),$=g.charCodeAt(Me+1);if((0,ge.getCharacterType)(Fe)===(0,ge.getCharacterType)($))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(g,de,m,Oe,Be){for(var Me=[],Fe=[],$=g.length,ee=-$;(ee=m.indexOf(g,ee+$))!==-1;)if(!Be||this._isEntireWord(m,ee,$)){var ke=xe(ee,Oe),je=xe(ee+$-1,Oe)-ke+1;Me.push(ke),Fe.push(je)}this._pageMatches[de]=Me,this._pageMatchesLength[de]=Fe}},{key:"_calculateWordMatch",value:function(g,de,m,Oe,Be){for(var Me=[],Fe=g.match(/\S+/g),$=0,ee=Fe.length;$<ee;$++)for(var ke=Fe[$],je=ke.length,He=-je;(He=m.indexOf(ke,He+je))!==-1;)if(!Be||this._isEntireWord(m,He,je)){var qe=xe(He,Oe),ze=xe(He+je-1,Oe)-qe+1;Me.push({match:qe,matchLength:ze,skipped:!1})}this._pageMatchesLength[de]=[],this._pageMatches[de]=[],this._prepareMatches(Me,this._pageMatches[de],this._pageMatchesLength[de])}},{key:"_calculateMatch",value:function(g){var de=this._pageContents[g],m=this._pageDiffs[g],Oe=this._query,Be=this._state,Me=Be.caseSensitive,Fe=Be.entireWord,$=Be.phraseSearch;if(Oe.length!==0){Me||(de=de.toLowerCase(),Oe=Oe.toLowerCase()),$?this._calculatePhraseMatch(Oe,g,de,m,Fe):this._calculateWordMatch(Oe,g,de,m,Fe),this._state.highlightAll&&this._updatePage(g),this._resumePageIdx===g&&(this._resumePageIdx=null,this._nextPageMatch());var ee=this._pageMatches[g].length;ee>0&&(this._matchesCountTotal+=ee,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var g=this;if(!(this._extractTextPromises.length>0))for(var de=Promise.resolve(),m=function(Me,Fe){var $=(0,Se.createPromiseCapability)();g._extractTextPromises[Me]=$.promise,de=de.then(function(){return g._pdfDocument.getPage(Me+1).then(function(ee){return ee.getTextContent({normalizeWhitespace:!0})}).then(function(ee){for(var ke=ee.items,je=[],He=0,qe=ke.length;He<qe;He++)je.push(ke[He].str);var ze=$e(Ee(je.join("")),2);g._pageContents[Me]=ze[0],g._pageDiffs[Me]=ze[1],$.resolve(Me)},function(ee){console.error("Unable to get text content for page ".concat(Me+1),ee),g._pageContents[Me]="",g._pageDiffs[Me]=null,$.resolve(Me)})})},Oe=0,Be=this._linkService.pagesCount;Oe<Be;Oe++)m(Oe)}},{key:"_updatePage",value:function(g){this._scrollMatches&&this._selected.pageIdx===g&&(this._linkService.page=g+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:g})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var g=this,de=this._state.findPrevious,m=this._linkService.page-1,Oe=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=m,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var Be=0;Be<Oe;Be++)this._pendingFindMatches.has(Be)||(this._pendingFindMatches.add(Be),this._extractTextPromises[Be].then(function($){g._pendingFindMatches.delete($),g._calculateMatch($)}))}if(this._query!==""){if(!this._resumePageIdx){var Me=this._offset;if(this._pagesToSearch=Oe,Me.matchIdx!==null){var Fe=this._pageMatches[Me.pageIdx].length;if(!de&&Me.matchIdx+1<Fe||de&&Me.matchIdx>0)return Me.matchIdx=de?Me.matchIdx-1:Me.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(de)}this._nextPageMatch()}}else this._updateUIState(we.FOUND)}},{key:"_matchesReady",value:function(g){var de=this._offset,m=g.length,Oe=this._state.findPrevious;return m?(de.matchIdx=Oe?m-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(Oe),!!(de.wrapped&&(de.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");var g=null;do{var de=this._offset.pageIdx;if(!(g=this._pageMatches[de])){this._resumePageIdx=de;break}}while(!this._matchesReady(g))}},{key:"_advanceOffsetPage",value:function(g){var de=this._offset,m=this._linkService.pagesCount;de.pageIdx=g?de.pageIdx-1:de.pageIdx+1,de.matchIdx=null,this._pagesToSearch--,(de.pageIdx>=m||de.pageIdx<0)&&(de.pageIdx=g?m-1:0,de.wrapped=!0)}},{key:"_updateMatch",value:function(){var g=arguments.length>0&&arguments[0]!==void 0&&arguments[0],de=we.NOT_FOUND,m=this._offset.wrapped;if(this._offset.wrapped=!1,g){var Oe=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,de=m?we.WRAPPED:we.FOUND,Oe!==-1&&Oe!==this._selected.pageIdx&&this._updatePage(Oe)}this._updateUIState(de,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(g){var de=this,m=this._pdfDocument;this._firstPageCapability.promise.then(function(){!de._pdfDocument||m&&de._pdfDocument!==m||(de._findTimeout&&(clearTimeout(de._findTimeout),de._findTimeout=null),de._resumePageIdx&&(de._resumePageIdx=null,de._dirtyMatch=!0),de._updateUIState(we.FOUND),de._highlightMatches=!1,de._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var g=this._selected,de=g.pageIdx,m=g.matchIdx,Oe=0,Be=this._matchesCountTotal;if(m!==-1){for(var Me=0;Me<de;Me++){var Fe;Oe+=((Fe=this._pageMatches[Me])===null||Fe===void 0?void 0:Fe.length)||0}Oe+=m+1}return(Oe<1||Oe>Be)&&(Oe=Be=0),{current:Oe,total:Be}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(g,de){var m,Oe;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:g,previous:de,matchesCount:this._requestMatchesCount(),rawQuery:(m=(Oe=this._state)===null||Oe===void 0?void 0:Oe.query)!==null&&m!==void 0?m:null})}}],d&&We(_.prototype,d),Ae}();f.PDFFindController=re},(c,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getCharacterType=function(Se){return function(ge){return ge<11904}(Se)?function(ge){return(65408&ge)==0}(Se)?function(ge){return ge===32||ge===9||ge===13||ge===10}(Se)?L.SPACE:function(ge){return ge>=97&&ge<=122||ge>=65&&ge<=90}(Se)||function(ge){return ge>=48&&ge<=57}(Se)||Se===95?L.ALPHA_LETTER:L.PUNCT:function(ge){return(65408&ge)==3584}(Se)?L.THAI_LETTER:Se===160?L.SPACE:L.ALPHA_LETTER:function(ge){return ge>=13312&&ge<=40959||ge>=63744&&ge<=64255}(Se)?L.HAN_LETTER:function(ge){return ge>=12448&&ge<=12543}(Se)?L.KATAKANA_LETTER:function(ge){return ge>=12352&&ge<=12447}(Se)?L.HIRAGANA_LETTER:function(ge){return ge>=65376&&ge<=65439}(Se)?L.HALFWIDTH_KATAKANA_LETTER:L.ALPHA_LETTER},f.CharacterType=void 0;var L={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};f.CharacterType=L},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.isDestArraysEqual=we,f.isDestHashesEqual=De,f.PDFHistory=void 0;var Se=L(7);function ge(ve){return ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},ge(ve)}function Le(ve,Ce){return function(Ee){if(Array.isArray(Ee))return Ee}(ve)||function(Ee,xe){var re=Ee&&(typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"]);if(re!=null){var Ae,_,d=[],g=!0,de=!1;try{for(re=re.call(Ee);!(g=(Ae=re.next()).done)&&(d.push(Ae.value),!xe||d.length!==xe);g=!0);}catch(m){de=!0,_=m}finally{try{g||re.return==null||re.return()}finally{if(de)throw _}}return d}}(ve,Ce)||function(Ee,xe){if(Ee){if(typeof Ee=="string")return We(Ee,xe);var re=Object.prototype.toString.call(Ee).slice(8,-1);return re==="Object"&&Ee.constructor&&(re=Ee.constructor.name),re==="Map"||re==="Set"?Array.from(Ee):re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re)?We(Ee,xe):void 0}}(ve,Ce)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function We(ve,Ce){(Ce==null||Ce>ve.length)&&(Ce=ve.length);for(var Ee=0,xe=new Array(Ce);Ee<Ce;Ee++)xe[Ee]=ve[Ee];return xe}function $e(ve,Ce){for(var Ee=0;Ee<Ce.length;Ee++){var xe=Ce[Ee];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ve,xe.key,xe)}}function Qe(){return document.location.hash}var Ue=function(){function ve(xe){var re=this,Ae=xe.linkService,_=xe.eventBus;(function(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")})(this,ve),this.linkService=Ae,this.eventBus=_,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",function(d){re._isViewerInPresentationMode=d.state!==Se.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",function(){re._isPagesLoaded=!1,re.eventBus._on("pagesloaded",function(d){re._isPagesLoaded=!!d.pagesCount},{once:!0})})}var Ce,Ee;return Ce=ve,Ee=[{key:"initialize",value:function(xe){var re=xe.fingerprint,Ae=xe.resetHistory,_=Ae!==void 0&&Ae,d=xe.updateUrl,g=d!==void 0&&d;if(re&&typeof re=="string"){this._initialized&&this.reset();var de=this._fingerprint!==""&&this._fingerprint!==re;this._fingerprint=re,this._updateUrl=g===!0,this._initialized=!0,this._bindEvents();var m=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=Qe(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(m,!0)||_){var Oe=this._parseCurrentHash(!0),Be=Oe.hash,Me=Oe.page,Fe=Oe.rotation;return!Be||de||_?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:Be,page:Me,rotation:Fe},!0)}var $=m.destination;this._updateInternalState($,m.uid,!0),$.rotation!==void 0&&(this._initialRotation=$.rotation),$.dest?(this._initialBookmark=JSON.stringify($.dest),this._destination.page=null):$.hash?this._initialBookmark=$.hash:$.page&&(this._initialBookmark="page=".concat($.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(xe){var re=this,Ae=xe.namedDest,_=Ae===void 0?null:Ae,d=xe.explicitDest,g=xe.pageNumber;if(this._initialized)if(_&&typeof _!="string")console.error("PDFHistory.push: "+'"'.concat(_,'" is not a valid namedDest parameter.'));else if(Array.isArray(d))if(this._isValidPage(g)||g===null&&!this._destination){var de=_||JSON.stringify(d);if(de){var m=!1;if(this._destination&&(De(this._destination.hash,de)||we(this._destination.dest,d))){if(this._destination.page)return;m=!0}this._popStateInProgress&&!m||(this._pushOrReplaceState({dest:d,hash:de,page:g,rotation:this.linkService.rotation},m),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){re._popStateInProgress=!1})))}}else console.error("PDFHistory.push: "+'"'.concat(g,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(d,'" is not a valid explicitDest parameter.'))}},{key:"pushPage",value:function(xe){var re,Ae=this;this._initialized&&(this._isValidPage(xe)?((re=this._destination)===null||re===void 0?void 0:re.page)!==xe&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:"page=".concat(xe),page:xe,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){Ae._popStateInProgress=!1})))):console.error('PDFHistory.pushPage: "'.concat(xe,'" is not a valid page number.')))}},{key:"pushCurrentPosition",value:function(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var xe=window.history.state;this._isValidState(xe)&&xe.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var xe=window.history.state;this._isValidState(xe)&&xe.uid<this._maxUid&&window.history.forward()}}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}},{key:"_pushOrReplaceState",value:function(xe){var re,Ae=arguments.length>1&&arguments[1]!==void 0&&arguments[1],_=Ae||!this._destination,d={fingerprint:this._fingerprint,uid:_?this._uid:this._uid+1,destination:xe};if(this._updateInternalState(xe,d.uid),this._updateUrl&&xe!=null&&xe.hash){var g=document.location.href.split("#")[0];g.startsWith("file://")||(re="".concat(g,"#").concat(xe.hash))}_?window.history.replaceState(d,"",re):window.history.pushState(d,"",re)}},{key:"_tryPushCurrentPosition",value:function(){var xe=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this._position){var re=this._position;if(xe&&((re=Object.assign(Object.create(null),this._position)).temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(re,!0);else if(this._destination.hash!==re.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var Ae=!1;if(this._destination.page>=re.first&&this._destination.page<=re.page){if(this._destination.dest!==void 0||!this._destination.first)return;Ae=!0}this._pushOrReplaceState(re,Ae)}}else this._pushOrReplaceState(re)}}},{key:"_isValidPage",value:function(xe){return Number.isInteger(xe)&&xe>0&&xe<=this.linkService.pagesCount}},{key:"_isValidState",value:function(xe){var re=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!xe)return!1;if(xe.fingerprint!==this._fingerprint){if(!re||typeof xe.fingerprint!="string"||xe.fingerprint.length!==this._fingerprint.length)return!1;var Ae=performance.getEntriesByType("navigation"),_=Le(Ae,1),d=_[0];if((d==null?void 0:d.type)!=="reload")return!1}return!(!Number.isInteger(xe.uid)||xe.uid<0)&&xe.destination!==null&&ge(xe.destination)==="object"}},{key:"_updateInternalState",value:function(xe,re){var Ae=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),Ae&&xe!=null&&xe.temporary&&delete xe.temporary,this._destination=xe,this._uid=re,this._maxUid=Math.max(this._maxUid,re),this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var xe=arguments.length>0&&arguments[0]!==void 0&&arguments[0],re=unescape(Qe()).substring(1),Ae=(0,Se.parseQueryString)(re),_=Ae.nameddest||"",d=0|Ae.page;return(!this._isValidPage(d)||xe&&_.length>0)&&(d=null),{hash:re,page:d,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(xe){var re=this,Ae=xe.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(Ae.pageNumber):Ae.pdfOpenParams.substring(1),page:this.linkService.page,first:Ae.pageNumber,rotation:Ae.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){re._popStateInProgress||re._tryPushCurrentPosition(!0),re._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(xe){var re=this,Ae=xe.state,_=Qe(),d=this._currentHash!==_;if(this._currentHash=_,Ae){if(this._isValidState(Ae)){this._popStateInProgress=!0,d&&(this._blockHashChange++,(0,Se.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){re._blockHashChange--}));var g=Ae.destination;this._updateInternalState(g,Ae.uid,!0),(0,Se.isValidRotation)(g.rotation)&&(this.linkService.rotation=g.rotation),g.dest?this.linkService.goToDestination(g.dest):g.hash?this.linkService.setHash(g.hash):g.page&&(this.linkService.page=g.page),Promise.resolve().then(function(){re._popStateInProgress=!1})}}else{this._uid++;var de=this._parseCurrentHash(),m=de.hash,Oe=de.page,Be=de.rotation;this._pushOrReplaceState({hash:m,page:Oe,rotation:Be},!0)}}},{key:"_pageHide",value:function(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}],Ee&&$e(Ce.prototype,Ee),ve}();function De(ve,Ce){return typeof ve=="string"&&typeof Ce=="string"&&(ve===Ce||(0,Se.parseQueryString)(ve).nameddest===Ce)}function we(ve,Ce){function Ee(Ae,_){if(ge(Ae)!==ge(_)||Array.isArray(Ae)||Array.isArray(_))return!1;if(Ae!==null&&ge(Ae)==="object"&&_!==null){if(Object.keys(Ae).length!==Object.keys(_).length)return!1;for(var d in Ae)if(!Ee(Ae[d],_[d]))return!1;return!0}return Ae===_||Number.isNaN(Ae)&&Number.isNaN(_)}if(!Array.isArray(ve)||!Array.isArray(Ce)||ve.length!==Ce.length)return!1;for(var xe=0,re=ve.length;xe<re;xe++)if(!Ee(ve[xe],Ce[xe]))return!1;return!0}f.PDFHistory=Ue},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFPageView=void 0;var Se,ge=(Se=L(4))&&Se.__esModule?Se:{default:Se},Le=L(7),We=L(2),$e=L(3),Qe=L(17),Ue=L(10);function De(xe,re,Ae,_,d,g,de){try{var m=xe[g](de),Oe=m.value}catch(Be){return void Ae(Be)}m.done?re(Oe):Promise.resolve(Oe).then(_,d)}function we(xe){return function(){var re=this,Ae=arguments;return new Promise(function(_,d){var g=xe.apply(re,Ae);function de(Oe){De(g,_,d,de,m,"next",Oe)}function m(Oe){De(g,_,d,de,m,"throw",Oe)}de(void 0)})}}function ve(xe,re){for(var Ae=0;Ae<re.length;Ae++){var _=re[Ae];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(xe,_.key,_)}}var Ce=Ue.viewerCompatibilityParams.maxCanvasPixels||16777216,Ee=function(){function xe(g){(function(Be,Me){if(!(Be instanceof Me))throw new TypeError("Cannot call a class as a function")})(this,xe);var de=g.container,m=g.defaultViewport;this.id=g.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=g.scale||Le.DEFAULT_SCALE,this.viewport=m,this.pdfPageRotate=m.rotation,this._optionalContentConfigPromise=g.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(g.textLayerMode)?g.textLayerMode:Le.TextLayerMode.ENABLE,this.imageResourcesPath=g.imageResourcesPath||"",this.renderInteractiveForms=g.renderInteractiveForms!==!1,this.useOnlyCssZoom=g.useOnlyCssZoom||!1,this.maxCanvasPixels=g.maxCanvasPixels||Ce,this.eventBus=g.eventBus,this.renderingQueue=g.renderingQueue,this.textLayerFactory=g.textLayerFactory,this.annotationLayerFactory=g.annotationLayerFactory,this.xfaLayerFactory=g.xfaLayerFactory,this.structTreeLayerFactory=g.structTreeLayerFactory,this.renderer=g.renderer||Le.RendererType.CANVAS,this.l10n=g.l10n||$e.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=Qe.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;var Oe=document.createElement("div");Oe.className="page",Oe.style.width=Math.floor(this.viewport.width)+"px",Oe.style.height=Math.floor(this.viewport.height)+"px",Oe.setAttribute("data-page-number",this.id),Oe.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(function(Be){Oe.setAttribute("aria-label",Be)}),this.div=Oe,de.appendChild(Oe)}var re,Ae,_,d;return re=xe,Ae=[{key:"setPdfPage",value:function(g){this.pdfPage=g,this.pdfPageRotate=g.rotate;var de=(this.rotation+this.pdfPageRotate)%360;this.viewport=g.getViewport({scale:this.scale*Le.CSS_UNITS,rotation:de}),this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_renderAnnotationLayer",value:(d=we(ge.default.mark(function g(){var de;return ge.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return de=null,m.prev=1,m.next=4,this.annotationLayer.render(this.viewport,"display");case 4:m.next=9;break;case 6:m.prev=6,m.t0=m.catch(1),de=m.t0;case 9:return m.prev=9,this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:de}),m.finish(9);case 12:case"end":return m.stop()}},g,this,[[1,6,9,12]])})),function(){return d.apply(this,arguments)})},{key:"_renderXfaLayer",value:(_=we(ge.default.mark(function g(){var de;return ge.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return de=null,m.prev=1,m.next=4,this.xfaLayer.render(this.viewport,"display");case 4:m.next=9;break;case 6:m.prev=6,m.t0=m.catch(1),de=m.t0;case 9:return m.prev=9,this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:de}),m.finish(9);case 12:case"end":return m.stop()}},g,this,[[1,6,9,12]])})),function(){return _.apply(this,arguments)})},{key:"_resetZoomLayer",value:function(){var g=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.zoomLayer){var de=this.zoomLayer.firstChild;this.paintedViewportMap.delete(de),de.width=0,de.height=0,g&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var g,de,m=this,Oe=arguments.length>0&&arguments[0]!==void 0&&arguments[0],Be=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.cancelRendering(Be),this.renderingState=Qe.RenderingStates.INITIAL;var Me=this.div;Me.style.width=Math.floor(this.viewport.width)+"px",Me.style.height=Math.floor(this.viewport.height)+"px";for(var Fe=Me.childNodes,$=Oe&&this.zoomLayer||null,ee=Be&&((g=this.annotationLayer)===null||g===void 0?void 0:g.div)||null,ke=((de=this.xfaLayer)===null||de===void 0?void 0:de.div)||null,je=Fe.length-1;je>=0;je--){var He=Fe[je];$!==He&&ee!==He&&ke!==He&&Me.removeChild(He)}Me.removeAttribute("data-loaded"),ee?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),$||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(function(qe){var ze;(ze=m.loadingIconDiv)===null||ze===void 0||ze.setAttribute("aria-label",qe)}),Me.appendChild(this.loadingIconDiv)}},{key:"update",value:function(g,de){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this.scale=g||this.scale,de!==void 0&&(this.rotation=de),m instanceof Promise&&(this._optionalContentConfigPromise=m);var Oe=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*Le.CSS_UNITS,rotation:Oe}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});var Be=!1;if(this.canvas&&this.maxCanvasPixels>0){var Me=this.outputScale;(Math.floor(this.viewport.width)*Me.sx|0)*(Math.floor(this.viewport.height)*Me.sy|0)>this.maxCanvasPixels&&(Be=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&Be)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});this.zoomLayer||this.canvas.hidden||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var g=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!g&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}},{key:"cssTransform",value:function(g){var de=arguments.length>1&&arguments[1]!==void 0&&arguments[1],m=this.viewport.width,Oe=this.viewport.height,Be=this.div;g.style.width=g.parentNode.style.width=Be.style.width=Math.floor(m)+"px",g.style.height=g.parentNode.style.height=Be.style.height=Math.floor(Oe)+"px";var Me=this.viewport.rotation-this.paintedViewportMap.get(g).rotation,Fe=Math.abs(Me),$=1,ee=1;if(Fe!==90&&Fe!==270||($=Oe/m,ee=m/Oe),g.style.transform="rotate(".concat(Me,"deg) scale(").concat($,", ").concat(ee,")"),this.textLayer){var ke=this.textLayer.viewport,je=this.viewport.rotation-ke.rotation,He=Math.abs(je),qe=m/ke.width;He!==90&&He!==270||(qe=m/ke.height);var ze,at,et=this.textLayer.textLayerDiv;switch(He){case 0:ze=at=0;break;case 90:ze=0,at="-"+et.style.height;break;case 180:ze="-"+et.style.width,at="-"+et.style.height;break;case 270:ze="-"+et.style.width,at=0;break;default:console.error("Bad rotation value.")}et.style.transform="rotate(".concat(He,"deg) ")+"scale(".concat(qe,") ")+"translate(".concat(ze,", ").concat(at,")"),et.style.transformOrigin="0% 0%"}de&&this.annotationLayer&&this._renderAnnotationLayer(),this.xfaLayer&&this._renderXfaLayer()}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}},{key:"getPagePoint",value:function(g,de){return this.viewport.convertToPdfPoint(g,de)}},{key:"draw",value:function(){var g,de=this;this.renderingState!==Qe.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var m=this.div,Oe=this.pdfPage;if(!Oe)return this.renderingState=Qe.RenderingStates.FINISHED,this.loadingIconDiv&&(m.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=Qe.RenderingStates.RUNNING;var Be=document.createElement("div");Be.style.width=m.style.width,Be.style.height=m.style.height,Be.classList.add("canvasWrapper"),(g=this.annotationLayer)!==null&&g!==void 0&&g.div?m.insertBefore(Be,this.annotationLayer.div):m.appendChild(Be);var Me=null;if(this.textLayerMode!==Le.TextLayerMode.DISABLE&&this.textLayerFactory){var Fe,$=document.createElement("div");$.className="textLayer",$.style.width=Be.style.width,$.style.height=Be.style.height,(Fe=this.annotationLayer)!==null&&Fe!==void 0&&Fe.div?m.insertBefore($,this.annotationLayer.div):m.appendChild($),Me=this.textLayerFactory.createTextLayerBuilder($,this.id-1,this.viewport,this.textLayerMode===Le.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=Me;var ee=null;this.renderingQueue&&(ee=function(qe){if(!de.renderingQueue.isHighestPriority(de))return de.renderingState=Qe.RenderingStates.PAUSED,void(de.resume=function(){de.renderingState=Qe.RenderingStates.RUNNING,qe()});qe()});var ke=function(){var qe=we(ge.default.mark(function ze(){var at,et=arguments;return ge.default.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:if(at=et.length>0&&et[0]!==void 0?et[0]:null,je===de.paintTask&&(de.paintTask=null),!(at instanceof We.RenderingCancelledException)){tt.next=5;break}return de._renderError=null,tt.abrupt("return");case 5:if(de._renderError=at,de.renderingState=Qe.RenderingStates.FINISHED,de.loadingIconDiv&&(m.removeChild(de.loadingIconDiv),delete de.loadingIconDiv),de._resetZoomLayer(!0),de.eventBus.dispatch("pagerendered",{source:de,pageNumber:de.id,cssTransform:!1,timestamp:performance.now(),error:de._renderError}),!at){tt.next=12;break}throw at;case 12:case"end":return tt.stop()}},ze)}));return function(){return qe.apply(this,arguments)}}(),je=this.renderer===Le.RendererType.SVG?this.paintOnSvg(Be):this.paintOnCanvas(Be);je.onRenderContinue=ee,this.paintTask=je;var He=je.promise.then(function(){return ke(null).then(function(){if(Me){var qe=Oe.streamTextContent({normalizeWhitespace:!0,includeMarkedContent:!0});Me.setTextContentStream(qe),Me.render()}})},function(qe){return ke(qe)});return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(m,Oe,null,this.imageResourcesPath,this.renderInteractiveForms,this.l10n,null,null,null)),this._renderAnnotationLayer()),this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(m,Oe,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=function(qe){qe.pageNumber===de.id&&(de.eventBus._off("textlayerrendered",de._onTextLayerRendered),de._onTextLayerRendered=null,de.canvas&&de.pdfPage.getStructTree().then(function(ze){if(ze&&de.canvas){var at=de.structTreeLayer.render(ze);at.classList.add("structTree"),de.canvas.appendChild(at)}}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(Oe)),m.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),He}},{key:"paintOnCanvas",value:function(g){var de=(0,We.createPromiseCapability)(),m={promise:de.promise,onRenderContinue:function(tt){tt()},cancel:function(){et.cancel()}},Oe=this.viewport,Be=document.createElement("canvas");Be.hidden=!0;var Me=!0,Fe=function(){Me&&(Be.hidden=!1,Me=!1)};g.appendChild(Be),this.canvas=Be,Be.mozOpaque=!0;var $=Be.getContext("2d",{alpha:!1}),ee=(0,Le.getOutputScale)($);if(this.outputScale=ee,this.useOnlyCssZoom){var ke=Oe.clone({scale:Le.CSS_UNITS});ee.sx*=ke.width/Oe.width,ee.sy*=ke.height/Oe.height,ee.scaled=!0}if(this.maxCanvasPixels>0){var je=Oe.width*Oe.height,He=Math.sqrt(this.maxCanvasPixels/je);ee.sx>He||ee.sy>He?(ee.sx=He,ee.sy=He,ee.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var qe=(0,Le.approximateFraction)(ee.sx),ze=(0,Le.approximateFraction)(ee.sy);Be.width=(0,Le.roundToDivide)(Oe.width*ee.sx,qe[0]),Be.height=(0,Le.roundToDivide)(Oe.height*ee.sy,ze[0]),Be.style.width=(0,Le.roundToDivide)(Oe.width,qe[1])+"px",Be.style.height=(0,Le.roundToDivide)(Oe.height,ze[1])+"px",this.paintedViewportMap.set(Be,Oe);var at={canvasContext:$,transform:ee.scaled?[ee.sx,0,0,ee.sy,0,0]:null,viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms,optionalContentConfigPromise:this._optionalContentConfigPromise},et=this.pdfPage.render(at);return et.onContinue=function(tt){Fe(),m.onRenderContinue?m.onRenderContinue(tt):tt()},et.promise.then(function(){Fe(),de.resolve(void 0)},function(tt){Fe(),de.reject(tt)}),m}},{key:"paintOnSvg",value:function(g){var de=this,m=!1,Oe=function(){if(m)throw new We.RenderingCancelledException("Rendering cancelled, page ".concat(de.id),"svg")},Be=this.pdfPage,Me=this.viewport.clone({scale:Le.CSS_UNITS});return{promise:Be.getOperatorList().then(function(Fe){return Oe(),new We.SVGGraphics(Be.commonObjs,Be.objs,Ue.viewerCompatibilityParams.disableCreateObjectURL).getSVG(Fe,Me).then(function($){Oe(),de.svg=$,de.paintedViewportMap.set($,Me),$.style.width=g.style.width,$.style.height=g.style.height,de.renderingState=Qe.RenderingStates.FINISHED,g.appendChild($)})}),onRenderContinue:function(Fe){Fe()},cancel:function(){m=!0}}}},{key:"setPageLabel",value:function(g){this.pageLabel=typeof g=="string"?g:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}],Ae&&ve(re.prototype,Ae),xe}();f.PDFPageView=Ee},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.RenderingStates=f.PDFRenderingQueue=void 0;var Se=L(2);function ge($e,Qe){for(var Ue=0;Ue<Qe.length;Ue++){var De=Qe[Ue];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty($e,De.key,De)}}var Le={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};f.RenderingStates=Le;var We=function(){function $e(){(function(De,we){if(!(De instanceof we))throw new TypeError("Cannot call a class as a function")})(this,$e),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}var Qe,Ue;return Qe=$e,(Ue=[{key:"setViewer",value:function(De){this.pdfViewer=De}},{key:"setThumbnailViewer",value:function(De){this.pdfThumbnailViewer=De}},{key:"isHighestPriority",value:function(De){return this.highestPriorityPage===De.renderingId}},{key:"renderHighestPriority",value:function(De){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(De)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(De,we,ve){var Ce=De.views,Ee=Ce.length;if(Ee===0)return null;for(var xe=0;xe<Ee;++xe){var re=Ce[xe].view;if(!this.isViewFinished(re))return re}if(ve){var Ae=De.last.id;if(we[Ae]&&!this.isViewFinished(we[Ae]))return we[Ae]}else{var _=De.first.id-2;if(we[_]&&!this.isViewFinished(we[_]))return we[_]}return null}},{key:"isViewFinished",value:function(De){return De.renderingState===Le.FINISHED}},{key:"renderView",value:function(De){var we=this;switch(De.renderingState){case Le.FINISHED:return!1;case Le.PAUSED:this.highestPriorityPage=De.renderingId,De.resume();break;case Le.RUNNING:this.highestPriorityPage=De.renderingId;break;case Le.INITIAL:this.highestPriorityPage=De.renderingId,De.draw().finally(function(){we.renderHighestPriority()}).catch(function(ve){ve instanceof Se.RenderingCancelledException||console.error('renderView: "'.concat(ve,'"'))})}return!0}}])&&ge(Qe.prototype,Ue),$e}();f.PDFRenderingQueue=We},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFScriptingManager=void 0;var Se,ge=(Se=L(4))&&Se.__esModule?Se:{default:Se},Le=L(2),We=L(7),$e=L(17);function Qe(g){return function(de){if(Array.isArray(de))return xe(de)}(g)||function(de){if(typeof Symbol<"u"&&de[Symbol.iterator]!=null||de["@@iterator"]!=null)return Array.from(de)}(g)||Ee(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ue(g,de){var m=Object.keys(g);if(Object.getOwnPropertySymbols){var Oe=Object.getOwnPropertySymbols(g);de&&(Oe=Oe.filter(function(Be){return Object.getOwnPropertyDescriptor(g,Be).enumerable})),m.push.apply(m,Oe)}return m}function De(g){for(var de=1;de<arguments.length;de++){var m=arguments[de]!=null?arguments[de]:{};de%2?Ue(Object(m),!0).forEach(function(Oe){we(g,Oe,m[Oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(m)):Ue(Object(m)).forEach(function(Oe){Object.defineProperty(g,Oe,Object.getOwnPropertyDescriptor(m,Oe))})}return g}function we(g,de,m){return de in g?Object.defineProperty(g,de,{value:m,enumerable:!0,configurable:!0,writable:!0}):g[de]=m,g}function ve(g,de){var m=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!m){if(Array.isArray(g)||(m=Ee(g))||de&&g&&typeof g.length=="number"){m&&(g=m);var Oe=0,Be=function(){};return{s:Be,n:function(){return Oe>=g.length?{done:!0}:{done:!1,value:g[Oe++]}},e:function(ee){throw ee},f:Be}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Me,Fe=!0,$=!1;return{s:function(){m=m.call(g)},n:function(){var ee=m.next();return Fe=ee.done,ee},e:function(ee){$=!0,Me=ee},f:function(){try{Fe||m.return==null||m.return()}finally{if($)throw Me}}}}function Ce(g,de){return function(m){if(Array.isArray(m))return m}(g)||function(m,Oe){var Be=m&&(typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"]);if(Be!=null){var Me,Fe,$=[],ee=!0,ke=!1;try{for(Be=Be.call(m);!(ee=(Me=Be.next()).done)&&($.push(Me.value),!Oe||$.length!==Oe);ee=!0);}catch(je){ke=!0,Fe=je}finally{try{ee||Be.return==null||Be.return()}finally{if(ke)throw Fe}}return $}}(g,de)||Ee(g,de)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ee(g,de){if(g){if(typeof g=="string")return xe(g,de);var m=Object.prototype.toString.call(g).slice(8,-1);return m==="Object"&&g.constructor&&(m=g.constructor.name),m==="Map"||m==="Set"?Array.from(g):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?xe(g,de):void 0}}function xe(g,de){(de==null||de>g.length)&&(de=g.length);for(var m=0,Oe=new Array(de);m<de;m++)Oe[m]=g[m];return Oe}function re(g,de,m,Oe,Be,Me,Fe){try{var $=g[Me](Fe),ee=$.value}catch(ke){return void m(ke)}$.done?de(ee):Promise.resolve(ee).then(Oe,Be)}function Ae(g){return function(){var de=this,m=arguments;return new Promise(function(Oe,Be){var Me=g.apply(de,m);function Fe(ee){re(Me,Oe,Be,Fe,$,"next",ee)}function $(ee){re(Me,Oe,Be,Fe,$,"throw",ee)}Fe(void 0)})}}function _(g,de){for(var m=0;m<de.length;m++){var Oe=de[m];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(g,Oe.key,Oe)}}var d=function(){function g(ze){var at=this,et=ze.eventBus,tt=ze.sandboxBundleSrc,Ze=tt===void 0?null:tt,st=ze.scriptingFactory,ut=st===void 0?null:st,Je=ze.docPropertiesLookup,Ke=Je===void 0?null:Je;(function(Ge,Ye){if(!(Ge instanceof Ye))throw new TypeError("Cannot call a class as a function")})(this,g),this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._pageEventsReady=!1,this._ready=!1,this._eventBus=et,this._sandboxBundleSrc=Ze,this._scriptingFactory=ut,this._docPropertiesLookup=Ke,this._scriptingFactory||window.addEventListener("updatefromsandbox",function(Ge){at._eventBus.dispatch("updatefromsandbox",{source:window,detail:Ge.detail})})}var de,m,Oe,Be,Me,Fe,$,ee,ke,je,He,qe;return de=g,m=[{key:"setViewer",value:function(ze){this._pdfViewer=ze}},{key:"setDocument",value:(qe=Ae(ge.default.mark(function ze(at){var et,tt,Ze,st,ut,Je,Ke,Ge,Ye,Xe,rt,ot,it,lt,ct,dt,gt,vt=this;return ge.default.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(!this._pdfDocument){pt.next=3;break}return pt.next=3,this._destroyScripting();case 3:if(this._pdfDocument=at,at){pt.next=6;break}return pt.abrupt("return");case 6:return pt.next=8,Promise.all([at.getFieldObjects(),at.getCalculationOrderIds(),at.getJSActions()]);case 8:if(tt=pt.sent,Ze=Ce(tt,3),st=Ze[0],ut=Ze[1],Je=Ze[2],st||Je){pt.next=17;break}return pt.next=16,this._destroyScripting();case 16:return pt.abrupt("return");case 17:if(at===this._pdfDocument){pt.next=19;break}return pt.abrupt("return");case 19:this._scripting=this._createScripting(),this._internalEvents.set("updatefromsandbox",function(_t){(_t==null?void 0:_t.source)===window&&vt._updateFromSandbox(_t.detail)}),this._internalEvents.set("dispatcheventinsandbox",function(_t){var yt;(yt=vt._scripting)===null||yt===void 0||yt.dispatchEventInSandbox(_t.detail)}),this._internalEvents.set("pagechanging",function(_t){var yt=_t.pageNumber,ft=_t.previous;yt!==ft&&(vt._dispatchPageClose(ft),vt._dispatchPageOpen(yt))}),this._internalEvents.set("pagerendered",function(_t){var yt=_t.pageNumber;vt._pageOpenPending.has(yt)&&yt===vt._pdfViewer.currentPageNumber&&vt._dispatchPageOpen(yt)}),this._internalEvents.set("pagesdestroy",function(){var _t=Ae(ge.default.mark(function yt(ft){var mt,wt;return ge.default.wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return At.next=2,vt._dispatchPageClose(vt._pdfViewer.currentPageNumber);case 2:return At.next=4,(mt=vt._scripting)===null||mt===void 0?void 0:mt.dispatchEventInSandbox({id:"doc",name:"WillClose"});case 4:(wt=vt._closeCapability)===null||wt===void 0||wt.resolve();case 5:case"end":return At.stop()}},yt)}));return function(yt){return _t.apply(this,arguments)}}()),this._domEvents.set("mousedown",function(_t){vt._mouseState.isDown=!0}),this._domEvents.set("mouseup",function(_t){vt._mouseState.isDown=!1}),Ke=ve(this._internalEvents);try{for(Ke.s();!(Ge=Ke.n()).done;)Ye=Ce(Ge.value,2),Xe=Ye[0],rt=Ye[1],this._eventBus._on(Xe,rt)}catch(_t){Ke.e(_t)}finally{Ke.f()}ot=ve(this._domEvents);try{for(ot.s();!(it=ot.n()).done;)lt=Ce(it.value,2),ct=lt[0],dt=lt[1],window.addEventListener(ct,dt)}catch(_t){ot.e(_t)}finally{ot.f()}return pt.prev=31,pt.next=34,this._getDocProperties();case 34:if(gt=pt.sent,at===this._pdfDocument){pt.next=37;break}return pt.abrupt("return");case 37:return pt.next=39,this._scripting.createSandbox({objects:st,calculationOrder:ut,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:De(De({},gt),{},{actions:Je})});case 39:this._eventBus.dispatch("sandboxcreated",{source:this}),pt.next=48;break;case 42:return pt.prev=42,pt.t0=pt.catch(31),console.error('PDFScriptingManager.setDocument: "'.concat(pt.t0===null||pt.t0===void 0?void 0:pt.t0.message,'".')),pt.next=47,this._destroyScripting();case 47:return pt.abrupt("return");case 48:return pt.next=50,(et=this._scripting)===null||et===void 0?void 0:et.dispatchEventInSandbox({id:"doc",name:"Open"});case 50:return pt.next=52,this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0);case 52:Promise.resolve().then(function(){at===vt._pdfDocument&&(vt._ready=!0)});case 53:case"end":return pt.stop()}},ze,this,[[31,42]])})),function(ze){return qe.apply(this,arguments)})},{key:"dispatchWillSave",value:(He=Ae(ge.default.mark(function ze(at){var et;return ge.default.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.abrupt("return",(et=this._scripting)===null||et===void 0?void 0:et.dispatchEventInSandbox({id:"doc",name:"WillSave"}));case 1:case"end":return tt.stop()}},ze,this)})),function(ze){return He.apply(this,arguments)})},{key:"dispatchDidSave",value:(je=Ae(ge.default.mark(function ze(at){var et;return ge.default.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.abrupt("return",(et=this._scripting)===null||et===void 0?void 0:et.dispatchEventInSandbox({id:"doc",name:"DidSave"}));case 1:case"end":return tt.stop()}},ze,this)})),function(ze){return je.apply(this,arguments)})},{key:"dispatchWillPrint",value:(ke=Ae(ge.default.mark(function ze(at){var et;return ge.default.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.abrupt("return",(et=this._scripting)===null||et===void 0?void 0:et.dispatchEventInSandbox({id:"doc",name:"WillPrint"}));case 1:case"end":return tt.stop()}},ze,this)})),function(ze){return ke.apply(this,arguments)})},{key:"dispatchDidPrint",value:(ee=Ae(ge.default.mark(function ze(at){var et;return ge.default.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.abrupt("return",(et=this._scripting)===null||et===void 0?void 0:et.dispatchEventInSandbox({id:"doc",name:"DidPrint"}));case 1:case"end":return tt.stop()}},ze,this)})),function(ze){return ee.apply(this,arguments)})},{key:"mouseState",get:function(){return this._mouseState}},{key:"destroyPromise",get:function(){var ze;return((ze=this._destroyCapability)===null||ze===void 0?void 0:ze.promise)||null}},{key:"ready",get:function(){return this._ready}},{key:"_internalEvents",get:function(){return(0,Le.shadow)(this,"_internalEvents",new Map)}},{key:"_domEvents",get:function(){return(0,Le.shadow)(this,"_domEvents",new Map)}},{key:"_pageOpenPending",get:function(){return(0,Le.shadow)(this,"_pageOpenPending",new Set)}},{key:"_visitedPages",get:function(){return(0,Le.shadow)(this,"_visitedPages",new Map)}},{key:"_updateFromSandbox",value:($=Ae(ge.default.mark(function ze(at){var et,tt,Ze,st,ut,Je,Ke,Ge,Ye,Xe,rt;return ge.default.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:if(et=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,tt=at.id,Ze=at.siblings,st=at.command,ut=at.value,tt){ot.next=25;break}ot.t0=st,ot.next=ot.t0==="clear"?6:ot.t0==="error"?8:ot.t0==="layout"?10:ot.t0==="page-num"?12:ot.t0==="print"?14:ot.t0==="println"?18:ot.t0==="zoom"?20:24;break;case 6:return console.clear(),ot.abrupt("break",24);case 8:return console.error(ut),ot.abrupt("break",24);case 10:return this._pdfViewer.spreadMode=(0,We.apiPageLayoutToSpreadMode)(ut),ot.abrupt("break",24);case 12:return this._pdfViewer.currentPageNumber=ut+1,ot.abrupt("break",24);case 14:return ot.next=16,this._pdfViewer.pagesPromise;case 16:return this._eventBus.dispatch("print",{source:this}),ot.abrupt("break",24);case 18:return console.log(ut),ot.abrupt("break",24);case 20:if(!et){ot.next=22;break}return ot.abrupt("return");case 22:return this._pdfViewer.currentScaleValue=ut,ot.abrupt("break",24);case 24:return ot.abrupt("return");case 25:if(!et){ot.next=28;break}if(!at.focus){ot.next=28;break}return ot.abrupt("return");case 28:delete at.id,delete at.siblings,Je=Ze?[tt].concat(Qe(Ze)):[tt],Ke=ve(Je);try{for(Ke.s();!(Ge=Ke.n()).done;)Ye=Ge.value,(Xe=document.getElementById(Ye))?Xe.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:at})):(rt=this._pdfDocument)===null||rt===void 0||rt.annotationStorage.setValue(Ye,at)}catch(it){Ke.e(it)}finally{Ke.f()}case 33:case"end":return ot.stop()}},ze,this)})),function(ze){return $.apply(this,arguments)})},{key:"_dispatchPageOpen",value:(Fe=Ae(ge.default.mark(function ze(at){var et,tt,Ze,st,ut,Je=this,Ke=arguments;return ge.default.wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:if(et=Ke.length>1&&Ke[1]!==void 0&&Ke[1],tt=this._pdfDocument,Ze=this._visitedPages,et&&(this._closeCapability=(0,Le.createPromiseCapability)(),this._pageEventsReady=!0),this._pageEventsReady){Ge.next=5;break}return Ge.abrupt("return");case 5:if(((st=this._pdfViewer.getPageView(at-1))==null?void 0:st.renderingState)===$e.RenderingStates.FINISHED){Ge.next=9;break}return this._pageOpenPending.add(at),Ge.abrupt("return");case 9:this._pageOpenPending.delete(at),ut=Ae(ge.default.mark(function Ye(){var Xe,rt,ot;return ge.default.wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.next=2,Ze.has(at)?null:(Xe=st.pdfPage)===null||Xe===void 0?void 0:Xe.getJSActions();case 2:if(ot=it.sent,tt===Je._pdfDocument){it.next=5;break}return it.abrupt("return");case 5:return it.next=7,(rt=Je._scripting)===null||rt===void 0?void 0:rt.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:at,actions:ot});case 7:case"end":return it.stop()}},Ye)}))(),Ze.set(at,ut);case 12:case"end":return Ge.stop()}},ze,this)})),function(ze){return Fe.apply(this,arguments)})},{key:"_dispatchPageClose",value:(Me=Ae(ge.default.mark(function ze(at){var et,tt,Ze,st;return ge.default.wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(tt=this._pdfDocument,Ze=this._visitedPages,this._pageEventsReady){ut.next=3;break}return ut.abrupt("return");case 3:if(!this._pageOpenPending.has(at)){ut.next=5;break}return ut.abrupt("return");case 5:if(st=Ze.get(at)){ut.next=8;break}return ut.abrupt("return");case 8:return Ze.set(at,null),ut.next=11,st;case 11:if(tt===this._pdfDocument){ut.next=13;break}return ut.abrupt("return");case 13:return ut.next=15,(et=this._scripting)===null||et===void 0?void 0:et.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:at});case 15:case"end":return ut.stop()}},ze,this)})),function(ze){return Me.apply(this,arguments)})},{key:"_getDocProperties",value:(Be=Ae(ge.default.mark(function ze(){var at,et;return ge.default.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:if(!this._docPropertiesLookup){tt.next=2;break}return tt.abrupt("return",this._docPropertiesLookup(this._pdfDocument));case 2:return at=L(19),et=at.docPropertiesLookup,tt.abrupt("return",et(this._pdfDocument));case 4:case"end":return tt.stop()}},ze,this)})),function(){return Be.apply(this,arguments)})},{key:"_createScripting",value:function(){if(this._destroyCapability=(0,Le.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");return this._scriptingFactory?this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc}):new(L(19)).GenericScripting(this._sandboxBundleSrc)}},{key:"_destroyScripting",value:(Oe=Ae(ge.default.mark(function ze(){var at,et,tt,Ze,st,ut,Je,Ke,Ge,Ye,Xe,rt;return ge.default.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:if(this._scripting){ot.next=4;break}return this._pdfDocument=null,(et=this._destroyCapability)===null||et===void 0||et.resolve(),ot.abrupt("return");case 4:if(!this._closeCapability){ot.next=8;break}return ot.next=7,Promise.race([this._closeCapability.promise,new Promise(function(it){setTimeout(it,1e3)})]).catch(function(it){});case 7:this._closeCapability=null;case 8:return this._pdfDocument=null,ot.prev=9,ot.next=12,this._scripting.destroySandbox();case 12:ot.next=16;break;case 14:ot.prev=14,ot.t0=ot.catch(9);case 16:tt=ve(this._internalEvents);try{for(tt.s();!(Ze=tt.n()).done;)st=Ce(Ze.value,2),ut=st[0],Je=st[1],this._eventBus._off(ut,Je)}catch(it){tt.e(it)}finally{tt.f()}this._internalEvents.clear(),Ke=ve(this._domEvents);try{for(Ke.s();!(Ge=Ke.n()).done;)Ye=Ce(Ge.value,2),Xe=Ye[0],rt=Ye[1],window.removeEventListener(Xe,rt)}catch(it){Ke.e(it)}finally{Ke.f()}this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._pageEventsReady=!1,this._ready=!1,(at=this._destroyCapability)===null||at===void 0||at.resolve();case 29:case"end":return ot.stop()}},ze,this,[[9,14]])})),function(){return Oe.apply(this,arguments)})}],m&&_(de.prototype,m),g}();f.PDFScriptingManager=d},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.docPropertiesLookup=function(Ee){return ve.apply(this,arguments)},f.GenericScripting=void 0;var Se,ge=(Se=L(4))&&Se.__esModule?Se:{default:Se},Le=L(2);function We(Ee,xe){var re=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Ae=Object.getOwnPropertySymbols(Ee);xe&&(Ae=Ae.filter(function(_){return Object.getOwnPropertyDescriptor(Ee,_).enumerable})),re.push.apply(re,Ae)}return re}function $e(Ee){for(var xe=1;xe<arguments.length;xe++){var re=arguments[xe]!=null?arguments[xe]:{};xe%2?We(Object(re),!0).forEach(function(Ae){Qe(Ee,Ae,re[Ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(re)):We(Object(re)).forEach(function(Ae){Object.defineProperty(Ee,Ae,Object.getOwnPropertyDescriptor(re,Ae))})}return Ee}function Qe(Ee,xe,re){return xe in Ee?Object.defineProperty(Ee,xe,{value:re,enumerable:!0,configurable:!0,writable:!0}):Ee[xe]=re,Ee}function Ue(Ee,xe){for(var re=0;re<xe.length;re++){var Ae=xe[re];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(Ee,Ae.key,Ae)}}function De(Ee,xe,re,Ae,_,d,g){try{var de=Ee[d](g),m=de.value}catch(Oe){return void re(Oe)}de.done?xe(m):Promise.resolve(m).then(Ae,_)}function we(Ee){return function(){var xe=this,re=arguments;return new Promise(function(Ae,_){var d=Ee.apply(xe,re);function g(m){De(d,Ae,_,g,de,"next",m)}function de(m){De(d,Ae,_,g,de,"throw",m)}g(void 0)})}}function ve(){return(ve=we(ge.default.mark(function Ee(xe){var re,Ae,_,d,g,de,m,Oe,Be;return ge.default.wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return Ae=(re="").split("#")[0],Me.next=3,xe.getMetadata();case 3:if(_=Me.sent,d=_.info,g=_.metadata,de=_.contentDispositionFilename,m=_.contentLength){Me.next=14;break}return Me.next=11,xe.getDownloadInfo();case 11:Oe=Me.sent,Be=Oe.length,m=Be;case 14:return Me.abrupt("return",$e($e({},d),{},{baseURL:Ae,filesize:m,filename:de||(0,Le.getPdfFilenameFromUrl)(re),metadata:g==null?void 0:g.getRaw(),authors:g==null?void 0:g.get("dc:creator"),numPages:xe.numPages,URL:re}));case 15:case"end":return Me.stop()}},Ee)}))).apply(this,arguments)}var Ce=function(){function Ee(g){(function(de,m){if(!(de instanceof m))throw new TypeError("Cannot call a class as a function")})(this,Ee),this._ready=(0,Le.loadScript)(g,!0).then(function(){return window.pdfjsSandbox.QuickJSSandbox()})}var xe,re,Ae,_,d;return xe=Ee,re=[{key:"createSandbox",value:(d=we(ge.default.mark(function g(de){return ge.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._ready;case 2:m.sent.create(de);case 4:case"end":return m.stop()}},g,this)})),function(g){return d.apply(this,arguments)})},{key:"dispatchEventInSandbox",value:(_=we(ge.default.mark(function g(de){return ge.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._ready;case 2:m.sent.dispatchEvent(de);case 4:case"end":return m.stop()}},g,this)})),function(g){return _.apply(this,arguments)})},{key:"destroySandbox",value:(Ae=we(ge.default.mark(function g(){return ge.default.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,this._ready;case 2:de.sent.nukeSandbox();case 4:case"end":return de.stop()}},g,this)})),function(){return Ae.apply(this,arguments)})}],re&&Ue(xe.prototype,re),Ee}();f.GenericScripting=Ce},(c,f,L)=>{function Se(Ce){return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},Se(Ce)}Object.defineProperty(f,"__esModule",{value:!0}),f.PDFSinglePageViewer=void 0;var ge=L(21),Le=L(2);function We(Ce,Ee){for(var xe=0;xe<Ee.length;xe++){var re=Ee[xe];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Ce,re.key,re)}}function $e(Ce,Ee,xe){return $e=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(re,Ae,_){var d=function(de,m){for(;!Object.prototype.hasOwnProperty.call(de,m)&&(de=we(de))!==null;);return de}(re,Ae);if(d){var g=Object.getOwnPropertyDescriptor(d,Ae);return g.get?g.get.call(_):g.value}},$e(Ce,Ee,xe||Ce)}function Qe(Ce,Ee){return Qe=Object.setPrototypeOf||function(xe,re){return xe.__proto__=re,xe},Qe(Ce,Ee)}function Ue(Ce){var Ee=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var xe,re=we(Ce);if(Ee){var Ae=we(this).constructor;xe=Reflect.construct(re,arguments,Ae)}else xe=re.apply(this,arguments);return De(this,xe)}}function De(Ce,Ee){return!Ee||Se(Ee)!=="object"&&typeof Ee!="function"?function(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}(Ce):Ee}function we(Ce){return we=Object.setPrototypeOf?Object.getPrototypeOf:function(Ee){return Ee.__proto__||Object.getPrototypeOf(Ee)},we(Ce)}var ve=function(Ce){(function(_,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(d&&d.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),d&&Qe(_,d)})(Ae,Ce);var Ee,xe,re=Ue(Ae);function Ae(_){var d;return function(g,de){if(!(g instanceof de))throw new TypeError("Cannot call a class as a function")}(this,Ae),(d=re.call(this,_)).eventBus._on("pagesinit",function(g){d._ensurePageViewVisible()}),d}return Ee=Ae,(xe=[{key:"_viewerElement",get:function(){return(0,Le.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_pageWidthScaleFactor",get:function(){return 1}},{key:"_resetView",value:function(){$e(we(Ae.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var _=this._pages[this._currentPageNumber-1],d=this._pages[this._previousPageNumber-1],g=this.viewer.childNodes;switch(g.length){case 0:this.viewer.appendChild(_.div);break;case 1:if(g[0]!==d.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(_===d)break;this._shadowViewer.appendChild(d.div),this.viewer.appendChild(_.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),$e(we(Ae.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(_){var d=this,g=_.pageDiv,de=_.pageSpot,m=de===void 0?null:de,Oe=_.pageNumber,Be=Oe===void 0?null:Oe;Be&&this._setCurrentPageNumber(Be);var Me=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),$e(we(Ae.prototype),"_scrollIntoView",this).call(this,{pageDiv:g,pageSpot:m,pageNumber:Be}),this._updateScrollDown=function(){d.scroll.down=Me,d._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(_){}},{key:"_isScrollModeHorizontal",get:function(){return(0,Le.shadow)(this,"_isScrollModeHorizontal",!1)}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_getPageAdvance",value:function(){return 1}}])&&We(Ee.prototype,xe),Ae}(ge.BaseViewer);f.PDFSinglePageViewer=ve},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BaseViewer=void 0;var Se=L(2),ge=L(7),Le=L(17),We=L(1),$e=L(3),Qe=L(16),Ue=L(6),De=L(22),we=L(8),ve=L(23);function Ce(d,g){var de=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!de){if(Array.isArray(d)||(de=function($,ee){if($){if(typeof $=="string")return Ee($,ee);var ke=Object.prototype.toString.call($).slice(8,-1);return ke==="Object"&&$.constructor&&(ke=$.constructor.name),ke==="Map"||ke==="Set"?Array.from($):ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ke)?Ee($,ee):void 0}}(d))||g&&d&&typeof d.length=="number"){de&&(d=de);var m=0,Oe=function(){};return{s:Oe,n:function(){return m>=d.length?{done:!0}:{done:!1,value:d[m++]}},e:function($){throw $},f:Oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Be,Me=!0,Fe=!1;return{s:function(){de=de.call(d)},n:function(){var $=de.next();return Me=$.done,$},e:function($){Fe=!0,Be=$},f:function(){try{Me||de.return==null||de.return()}finally{if(Fe)throw Be}}}}function Ee(d,g){(g==null||g>d.length)&&(g=d.length);for(var de=0,m=new Array(g);de<g;de++)m[de]=d[de];return m}function xe(d,g){for(var de=0;de<g.length;de++){var m=g[de];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function re(d){var g=[];this.push=function(de){var m=g.indexOf(de);m>=0&&g.splice(m,1),g.push(de),g.length>d&&g.shift().destroy()},this.resize=function(de,m){if(d=de,m){for(var Oe=new Set,Be=0,Me=m.length;Be<Me;++Be)Oe.add(m[Be].id);(0,ge.moveToEndOfArray)(g,function(Fe){return Oe.has(Fe.id)})}for(;g.length>d;)g.shift().destroy()},this.has=function(de){return g.includes(de)}}function Ae(d,g){return g===d||Math.abs(g-d)<1e-15}var _=function(){function d(m){var Oe,Be,Me=this;if(function($,ee){if(!($ instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,d),this.constructor===d)throw new Error("Cannot initialize BaseViewer.");var Fe="2.9.359";if(Se.version!==Fe)throw new Error('The API version "'.concat(Se.version,'" does not match the Viewer version "').concat(Fe,'".'));if(this._name=this.constructor.name,this.container=m.container,this.viewer=m.viewer||m.container.firstElementChild,((Oe=this.container)===null||Oe===void 0?void 0:Oe.tagName.toUpperCase())!=="DIV"||((Be=this.viewer)===null||Be===void 0?void 0:Be.tagName.toUpperCase())!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=m.eventBus,this.linkService=m.linkService||new Ue.SimpleLinkService,this.downloadManager=m.downloadManager||null,this.findController=m.findController||null,this._scriptingManager=m.scriptingManager||null,this.removePageBorders=m.removePageBorders||!1,this.textLayerMode=Number.isInteger(m.textLayerMode)?m.textLayerMode:ge.TextLayerMode.ENABLE,this.imageResourcesPath=m.imageResourcesPath||"",this.renderInteractiveForms=m.renderInteractiveForms!==!1,this.enablePrintAutoRotate=m.enablePrintAutoRotate||!1,this.renderer=m.renderer||ge.RendererType.CANVAS,this.useOnlyCssZoom=m.useOnlyCssZoom||!1,this.maxCanvasPixels=m.maxCanvasPixels,this.l10n=m.l10n||$e.NullL10n,this.enableScripting=m.enableScripting===!0&&!!this._scriptingManager,this.defaultRenderingQueue=!m.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new Le.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=m.renderingQueue,this.scroll=(0,ge.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=ge.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){Me.eventBus.dispatch("baseviewerinit",{source:Me})})}var g,de;return g=d,de=[{key:"pagesCount",get:function(){return this._pages.length}},{key:"getPageView",value:function(m){return this._pages[m]}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every(function(m){return m==null?void 0:m.pdfPage})}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(m){if(!Number.isInteger(m))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(m,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(m,'" is not a valid page.')))}},{key:"_setCurrentPageNumber",value:function(m){var Oe,Be,Me=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this._currentPageNumber===m)return Me&&this._resetCurrentPageView(),!0;if(!(0<m&&m<=this.pagesCount))return!1;var Fe=this._currentPageNumber;return this._currentPageNumber=m,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:m,pageLabel:(Oe=(Be=this._pageLabels)===null||Be===void 0?void 0:Be[m-1])!==null&&Oe!==void 0?Oe:null,previous:Fe}),Me&&this._resetCurrentPageView(),!0}},{key:"currentPageLabel",get:function(){var m,Oe;return(m=(Oe=this._pageLabels)===null||Oe===void 0?void 0:Oe[this._currentPageNumber-1])!==null&&m!==void 0?m:null},set:function(m){if(this.pdfDocument){var Oe=0|m;if(this._pageLabels){var Be=this._pageLabels.indexOf(m);Be>=0&&(Oe=Be+1)}this._setCurrentPageNumber(Oe,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(m,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==ge.UNKNOWN_SCALE?this._currentScale:ge.DEFAULT_SCALE},set:function(m){if(isNaN(m))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(m,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(m){this.pdfDocument&&this._setScale(m,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(m){if(!(0,ge.isValidRotation)(m))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&((m%=360)<0&&(m+=360),this._pagesRotation!==m)){this._pagesRotation=m;for(var Oe=this._currentPageNumber,Be=0,Me=this._pages.length;Be<Me;Be++){var Fe=this._pages[Be];Fe.update(Fe.scale,m)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:m,pageNumber:Oe}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&this._getVisiblePages().views.length!==0?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(m){var Oe=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=m,m){var Be=m.isPureXfa,Me=m.numPages,Fe=m.getPage(1),$=m.getOptionalContentConfig();this._pagesCapability.promise.then(function(){Oe.eventBus.dispatch("pagesloaded",{source:Oe,pagesCount:Me})}),this._onBeforeDraw=function(ee){var ke=Oe._pages[ee.pageNumber-1];ke&&Oe._buffer.push(ke)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(ee){ee.cssTransform||Oe._onePageRenderedCapability.settled||(Oe._onePageRenderedCapability.resolve(),Oe.eventBus._off("pagerendered",Oe._onAfterDraw),Oe._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),Fe.then(function(ee){Oe._firstPageCapability.resolve(ee),Oe._optionalContentConfigPromise=$;for(var ke=Oe.currentScale,je=ee.getViewport({scale:ke*ge.CSS_UNITS}),He=Oe.textLayerMode!==ge.TextLayerMode.DISABLE?Oe:null,qe=Be?Oe:null,ze=1;ze<=Me;++ze){var at=new Qe.PDFPageView({container:Oe._viewerElement,eventBus:Oe.eventBus,id:ze,scale:ke,defaultViewport:je.clone(),optionalContentConfigPromise:$,renderingQueue:Oe.renderingQueue,textLayerFactory:He,textLayerMode:Oe.textLayerMode,annotationLayerFactory:Oe,xfaLayerFactory:qe,structTreeLayerFactory:Oe,imageResourcesPath:Oe.imageResourcesPath,renderInteractiveForms:Oe.renderInteractiveForms,renderer:Oe.renderer,useOnlyCssZoom:Oe.useOnlyCssZoom,maxCanvasPixels:Oe.maxCanvasPixels,l10n:Oe.l10n});Oe._pages.push(at)}var et=Oe._pages[0];et&&(et.setPdfPage(ee),Oe.linkService.cachePageRef(1,ee.ref)),Oe._spreadMode!==ge.SpreadMode.NONE&&Oe._updateSpreadMode(),Oe._onePageRenderedOrForceFetch().then(function(){if(Oe.findController&&Oe.findController.setDocument(m),Oe.enableScripting&&Oe._scriptingManager.setDocument(m),m.loadingParams.disableAutoFetch||Me>7500)Oe._pagesCapability.resolve();else{var tt=Me-1;if(tt<=0)Oe._pagesCapability.resolve();else for(var Ze=function(ut){m.getPage(ut).then(function(Je){var Ke=Oe._pages[ut-1];Ke.pdfPage||Ke.setPdfPage(Je),Oe.linkService.cachePageRef(ut,Je.ref),--tt==0&&Oe._pagesCapability.resolve()},function(Je){console.error("Unable to get page ".concat(ut," to initialize viewer"),Je),--tt==0&&Oe._pagesCapability.resolve()})},st=2;st<=Me;++st)Ze(st)}}),Oe.eventBus.dispatch("pagesinit",{source:Oe}),Oe.defaultRenderingQueue&&Oe.update()}).catch(function(ee){console.error("Unable to initialize viewer",ee)})}}},{key:"setPageLabels",value:function(m){if(this.pdfDocument){m?Array.isArray(m)&&this.pdfDocument.numPages===m.length?this._pageLabels=m:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var Oe=0,Be=this._pages.length;Oe<Be;Oe++){var Me,Fe;this._pages[Oe].setPageLabel((Me=(Fe=this._pageLabels)===null||Fe===void 0?void 0:Fe[Oe])!==null&&Me!==void 0?Me:null)}}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=ge.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new re(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,Se.createPromiseCapability)(),this._onePageRenderedCapability=(0,Se.createPromiseCapability)(),this._pagesCapability=(0,Se.createPromiseCapability)(),this._scrollMode=ge.ScrollMode.VERTICAL,this._spreadMode=ge.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){this.pagesCount!==0&&this.update()}},{key:"_scrollIntoView",value:function(m){var Oe=m.pageDiv,Be=m.pageSpot,Me=Be===void 0?null:Be;m.pageNumber,(0,ge.scrollIntoView)(Oe,Me)}},{key:"_setScaleUpdatePages",value:function(m,Oe){var Be=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Me=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(this._currentScaleValue=Oe.toString(),Ae(this._currentScale,m))Me&&this.eventBus.dispatch("scalechanging",{source:this,scale:m,presetValue:Oe});else{for(var Fe=0,$=this._pages.length;Fe<$;Fe++)this._pages[Fe].update(m);if(this._currentScale=m,!Be){var ee,ke=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(ke=this._location.pageNumber,ee=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ke,destArray:ee,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:m,presetValue:Me?Oe:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_pageWidthScaleFactor",get:function(){return this._spreadMode===ge.SpreadMode.NONE||this._scrollMode===ge.ScrollMode.HORIZONTAL||this.isInPresentationMode?1:2}},{key:"_setScale",value:function(m){var Oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Be=parseFloat(m);if(Be>0)this._setScaleUpdatePages(Be,m,Oe,!1);else{var Me=this._pages[this._currentPageNumber-1];if(!Me)return;var Fe=this.isInPresentationMode||this.removePageBorders,$=Fe?0:ge.SCROLLBAR_PADDING,ee=Fe?0:ge.VERTICAL_PADDING;if(!Fe&&this._isScrollModeHorizontal){var ke=[ee,$];$=ke[0],ee=ke[1]}var je=(this.container.clientWidth-$)/Me.width*Me.scale/this._pageWidthScaleFactor,He=(this.container.clientHeight-ee)/Me.height*Me.scale;switch(m){case"page-actual":Be=1;break;case"page-width":Be=je;break;case"page-height":Be=He;break;case"page-fit":Be=Math.min(je,He);break;case"auto":var qe=(0,ge.isPortraitOrientation)(Me)?je:Math.min(He,je);Be=Math.min(ge.MAX_AUTO_SCALE,qe);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(m,'" is an unknown zoom value.'))}this._setScaleUpdatePages(Be,m,Oe,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var m=this._pages[this._currentPageNumber-1];this._scrollIntoView({pageDiv:m.div})}},{key:"pageLabelToPageNumber",value:function(m){if(!this._pageLabels)return null;var Oe=this._pageLabels.indexOf(m);return Oe<0?null:Oe+1}},{key:"scrollPageIntoView",value:function(m){var Oe=m.pageNumber,Be=m.destArray,Me=Be===void 0?null:Be,Fe=m.allowNegativeOffset,$=Fe!==void 0&&Fe,ee=m.ignoreDestinationZoom,ke=ee!==void 0&&ee;if(this.pdfDocument){var je=Number.isInteger(Oe)&&this._pages[Oe-1];if(je)if(!this.isInPresentationMode&&Me){var He,qe,ze=0,at=0,et=0,tt=0,Ze=je.rotation%180!=0,st=(Ze?je.height:je.width)/je.scale/ge.CSS_UNITS,ut=(Ze?je.width:je.height)/je.scale/ge.CSS_UNITS,Je=0;switch(Me[1].name){case"XYZ":ze=Me[2],at=Me[3],Je=Me[4],ze=ze!==null?ze:0,at=at!==null?at:ut;break;case"Fit":case"FitB":Je="page-fit";break;case"FitH":case"FitBH":Je="page-width",(at=Me[2])===null&&this._location?(ze=this._location.left,at=this._location.top):typeof at!="number"&&(at=ut);break;case"FitV":case"FitBV":ze=Me[2],et=st,tt=ut,Je="page-height";break;case"FitR":ze=Me[2],at=Me[3],et=Me[4]-ze,tt=Me[5]-at;var Ke=this.removePageBorders?0:ge.SCROLLBAR_PADDING,Ge=this.removePageBorders?0:ge.VERTICAL_PADDING;He=(this.container.clientWidth-Ke)/et/ge.CSS_UNITS,qe=(this.container.clientHeight-Ge)/tt/ge.CSS_UNITS,Je=Math.min(Math.abs(He),Math.abs(qe));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(Me[1].name,'" is not a valid destination type.'))}if(ke||(Je&&Je!==this._currentScale?this.currentScaleValue=Je:this._currentScale===ge.UNKNOWN_SCALE&&(this.currentScaleValue=ge.DEFAULT_SCALE_VALUE)),Je!=="page-fit"||Me[4]){var Ye=[je.viewport.convertToViewportPoint(ze,at),je.viewport.convertToViewportPoint(ze+et,at+tt)],Xe=Math.min(Ye[0][0],Ye[1][0]),rt=Math.min(Ye[0][1],Ye[1][1]);$||(Xe=Math.max(Xe,0),rt=Math.max(rt,0)),this._scrollIntoView({pageDiv:je.div,pageSpot:{left:Xe,top:rt},pageNumber:Oe})}else this._scrollIntoView({pageDiv:je.div,pageNumber:Oe})}else this._setCurrentPageNumber(Oe,!0);else console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(Oe,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function(m){var Oe=this._currentScale,Be=this._currentScaleValue,Me=parseFloat(Be)===Oe?Math.round(1e4*Oe)/100:Be,Fe=m.id,$="#page="+Fe;$+="&zoom="+Me;var ee=this._pages[Fe-1],ke=this.container,je=ee.getPagePoint(ke.scrollLeft-m.x,ke.scrollTop-m.y),He=Math.round(je[0]),qe=Math.round(je[1]);$+=","+He+","+qe,this._location={pageNumber:Fe,scale:Me,top:qe,left:He,rotation:this._pagesRotation,pdfOpenParams:$}}},{key:"_updateHelper",value:function(m){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var m=this._getVisiblePages(),Oe=m.views,Be=Oe.length;if(Be!==0){var Me=Math.max(10,2*Be+1);this._buffer.resize(Me,Oe),this.renderingQueue.renderHighestPriority(m),this._updateHelper(Oe),this._updateLocation(m.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(m){return this.container.contains(m)}},{key:"focus",value:function(){this.container.focus()}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===ge.ScrollMode.HORIZONTAL}},{key:"_isContainerRtl",get:function(){return getComputedStyle(this.container).direction==="rtl"}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===ge.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===ge.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var m=this._pages[this._currentPageNumber-1],Oe=m.div,Be={id:m.id,x:Oe.offsetLeft+Oe.clientLeft,y:Oe.offsetTop+Oe.clientTop,view:m};return{first:Be,last:Be,views:[Be]}}},{key:"_getVisiblePages",value:function(){return(0,ge.getVisibleElements)({scrollEl:this.container,views:this._pages,sortByVisibility:!0,horizontal:this._isScrollModeHorizontal,rtl:this._isScrollModeHorizontal&&this._isContainerRtl})}},{key:"isPageVisible",value:function(m){return!!this.pdfDocument&&(Number.isInteger(m)&&m>0&&m<=this.pagesCount?this._getVisiblePages().views.some(function(Oe){return Oe.id===m}):(console.error("".concat(this._name,'.isPageVisible: "').concat(m,'" is not a valid page.')),!1))}},{key:"isPageCached",value:function(m){if(!this.pdfDocument||!this._buffer)return!1;if(!(Number.isInteger(m)&&m>0&&m<=this.pagesCount))return console.error("".concat(this._name,'.isPageCached: "').concat(m,'" is not a valid page.')),!1;var Oe=this._pages[m-1];return!!Oe&&this._buffer.has(Oe)}},{key:"cleanup",value:function(){for(var m=0,Oe=this._pages.length;m<Oe;m++)this._pages[m]&&this._pages[m].renderingState!==Le.RenderingStates.FINISHED&&this._pages[m].reset()}},{key:"_cancelRendering",value:function(){for(var m=0,Oe=this._pages.length;m<Oe;m++)this._pages[m]&&this._pages[m].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(m){var Oe=this;if(m.pdfPage)return Promise.resolve(m.pdfPage);if(this._pagesRequests.has(m))return this._pagesRequests.get(m);var Be=this.pdfDocument.getPage(m.id).then(function(Me){return m.pdfPage||m.setPdfPage(Me),Oe._pagesRequests.delete(m),Me}).catch(function(Me){console.error("Unable to get page for page view",Me),Oe._pagesRequests.delete(m)});return this._pagesRequests.set(m,Be),Be}},{key:"forceRendering",value:function(m){var Oe=this,Be=m||this._getVisiblePages(),Me=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,Fe=this.renderingQueue.getHighestPriority(Be,this._pages,Me);return!!Fe&&(this._ensurePdfPageLoaded(Fe).then(function(){Oe.renderingQueue.renderView(Fe)}),!0)}},{key:"createTextLayerBuilder",value:function(m,Oe,Be){var Me=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Fe=arguments.length>4?arguments[4]:void 0;return new we.TextLayerBuilder({textLayerDiv:m,eventBus:Fe,pageIndex:Oe,viewport:Be,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&Me})}},{key:"createAnnotationLayerBuilder",value:function(m,Oe){var Be,Me,Fe,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",ke=arguments.length>4&&arguments[4]!==void 0&&arguments[4],je=arguments.length>5&&arguments[5]!==void 0?arguments[5]:$e.NullL10n,He=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,qe=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,ze=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null;return new We.AnnotationLayerBuilder({pageDiv:m,pdfPage:Oe,annotationStorage:$||((Be=this.pdfDocument)===null||Be===void 0?void 0:Be.annotationStorage),imageResourcesPath:ee,renderInteractiveForms:ke,linkService:this.linkService,downloadManager:this.downloadManager,l10n:je,enableScripting:He??this.enableScripting,hasJSActionsPromise:qe||((Me=this.pdfDocument)===null||Me===void 0?void 0:Me.hasJSActions()),mouseState:ze||((Fe=this._scriptingManager)===null||Fe===void 0?void 0:Fe.mouseState)})}},{key:"createXfaLayerBuilder",value:function(m,Oe){var Be,Me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new ve.XfaLayerBuilder({pageDiv:m,pdfPage:Oe,annotationStorage:Me||((Be=this.pdfDocument)===null||Be===void 0?void 0:Be.annotationStorage)})}},{key:"createStructTreeLayerBuilder",value:function(m){return new De.StructTreeLayerBuilder({pdfPage:m})}},{key:"hasEqualPageSizes",get:function(){for(var m=this._pages[0],Oe=1,Be=this._pages.length;Oe<Be;++Oe){var Me=this._pages[Oe];if(Me.width!==m.width||Me.height!==m.height)return!1}return!0}},{key:"getPagesOverview",value:function(){var m=this;return this._pages.map(function(Oe){var Be=Oe.pdfPage.getViewport({scale:1});return!m.enablePrintAutoRotate||(0,ge.isPortraitOrientation)(Be)?{width:Be.width,height:Be.height,rotation:Be.rotation}:{width:Be.height,height:Be.width,rotation:(Be.rotation-90)%360}})}},{key:"optionalContentConfigPromise",get:function(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)},set:function(m){if(!(m instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(m));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=m;var Oe,Be=Ce(this._pages);try{for(Be.s();!(Oe=Be.n()).done;){var Me=Oe.value;Me.update(Me.scale,Me.rotation,m)}}catch(Fe){Be.e(Fe)}finally{Be.f()}this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:m})}}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(m){if(this._scrollMode!==m){if(!(0,ge.isValidScrollMode)(m))throw new Error("Invalid scroll mode: ".concat(m));this._scrollMode=m,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:m}),this._updateScrollMode(this._currentPageNumber)}}},{key:"_updateScrollMode",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Oe=this._scrollMode,Be=this.viewer;Be.classList.toggle("scrollHorizontal",Oe===ge.ScrollMode.HORIZONTAL),Be.classList.toggle("scrollWrapped",Oe===ge.ScrollMode.WRAPPED),this.pdfDocument&&m&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(m,!0),this.update())}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(m){if(this._spreadMode!==m){if(!(0,ge.isValidSpreadMode)(m))throw new Error("Invalid spread mode: ".concat(m));this._spreadMode=m,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:m}),this._updateSpreadMode(this._currentPageNumber)}}},{key:"_updateSpreadMode",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.pdfDocument){var Oe=this.viewer,Be=this._pages;if(Oe.textContent="",this._spreadMode===ge.SpreadMode.NONE)for(var Me=0,Fe=Be.length;Me<Fe;++Me)Oe.appendChild(Be[Me].div);else for(var $=this._spreadMode-1,ee=null,ke=0,je=Be.length;ke<je;++ke)ee===null?((ee=document.createElement("div")).className="spread",Oe.appendChild(ee)):ke%2===$&&(ee=ee.cloneNode(!1),Oe.appendChild(ee)),ee.appendChild(Be[ke].div);m&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(m,!0),this.update())}}},{key:"_getPageAdvance",value:function(m){var Oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.isInPresentationMode)return 1;switch(this._scrollMode){case ge.ScrollMode.WRAPPED:var Be,Me=this._getVisiblePages(),Fe=Me.views,$=new Map,ee=Ce(Fe);try{for(ee.s();!(Be=ee.n()).done;){var ke=Be.value,je=ke.id,He=ke.y,qe=ke.percent,ze=ke.widthPercent;if(!(qe===0||ze<100)){var at=$.get(He);at||$.set(He,at||(at=[])),at.push(je)}}}catch(St){ee.e(St)}finally{ee.f()}var et,tt=Ce($.values());try{for(tt.s();!(et=tt.n()).done;){var Ze=et.value,st=Ze.indexOf(m);if(st!==-1){var ut=Ze.length;if(ut===1)break;if(Oe)for(var Je=st-1,Ke=0;Je>=Ke;Je--){var Ge=Ze[Je],Ye=Ze[Je+1]-1;if(Ge<Ye)return m-Ye}else for(var Xe=st+1,rt=ut;Xe<rt;Xe++){var ot=Ze[Xe],it=Ze[Xe-1]+1;if(ot>it)return it-m}if(Oe){var lt=Ze[0];if(lt<m)return m-lt+1}else{var ct=Ze[ut-1];if(ct>m)return ct-m+1}break}}}catch(St){tt.e(St)}finally{tt.f()}break;case ge.ScrollMode.HORIZONTAL:break;case ge.ScrollMode.VERTICAL:if(this._spreadMode===ge.SpreadMode.NONE)break;var dt=this._spreadMode-1;if(Oe&&m%2!==dt||!Oe&&m%2===dt)break;var gt,vt=this._getVisiblePages(),pt=vt.views,_t=Oe?m-1:m+1,yt=Ce(pt);try{for(yt.s();!(gt=yt.n()).done;){var ft=gt.value,mt=ft.id,wt=ft.percent,At=ft.widthPercent;if(mt===_t){if(wt>0&&At===100)return 2;break}}}catch(St){yt.e(St)}finally{yt.f()}}return 1}},{key:"nextPage",value:function(){var m=this._currentPageNumber,Oe=this.pagesCount;if(m>=Oe)return!1;var Be=this._getPageAdvance(m,!1)||1;return this.currentPageNumber=Math.min(m+Be,Oe),!0}},{key:"previousPage",value:function(){var m=this._currentPageNumber;if(m<=1)return!1;var Oe=this._getPageAdvance(m,!0)||1;return this.currentPageNumber=Math.max(m-Oe,1),!0}}],de&&xe(g.prototype,de),d}();f.BaseViewer=_},(c,f)=>{function L(we,ve){var Ce=typeof Symbol<"u"&&we[Symbol.iterator]||we["@@iterator"];if(!Ce){if(Array.isArray(we)||(Ce=function(d,g){if(d){if(typeof d=="string")return Se(d,g);var de=Object.prototype.toString.call(d).slice(8,-1);return de==="Object"&&d.constructor&&(de=d.constructor.name),de==="Map"||de==="Set"?Array.from(d):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?Se(d,g):void 0}}(we))||ve&&we&&typeof we.length=="number"){Ce&&(we=Ce);var Ee=0,xe=function(){};return{s:xe,n:function(){return Ee>=we.length?{done:!0}:{done:!1,value:we[Ee++]}},e:function(d){throw d},f:xe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,Ae=!0,_=!1;return{s:function(){Ce=Ce.call(we)},n:function(){var d=Ce.next();return Ae=d.done,d},e:function(d){_=!0,re=d},f:function(){try{Ae||Ce.return==null||Ce.return()}finally{if(_)throw re}}}}function Se(we,ve){(ve==null||ve>we.length)&&(ve=we.length);for(var Ce=0,Ee=new Array(ve);Ce<ve;Ce++)Ee[Ce]=we[Ce];return Ee}function ge(we,ve){if(!(we instanceof ve))throw new TypeError("Cannot call a class as a function")}function Le(we,ve){for(var Ce=0;Ce<ve.length;Ce++){var Ee=ve[Ce];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(we,Ee.key,Ee)}}function We(we,ve,Ce){return ve&&Le(we.prototype,ve),Ce&&Le(we,Ce),we}Object.defineProperty(f,"__esModule",{value:!0}),f.StructTreeLayerBuilder=f.DefaultStructTreeLayerFactory=void 0;var $e={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Qe=/^H(\d+)$/,Ue=function(){function we(ve){var Ce=ve.pdfPage;ge(this,we),this.pdfPage=Ce}return We(we,[{key:"render",value:function(ve){return this._walk(ve)}},{key:"_setAttributes",value:function(ve,Ce){ve.alt!==void 0&&Ce.setAttribute("aria-label",ve.alt),ve.id!==void 0&&Ce.setAttribute("aria-owns",ve.id)}},{key:"_walk",value:function(ve){if(!ve)return null;var Ce=document.createElement("span");if("role"in ve){var Ee=ve.role,xe=Ee.match(Qe);xe?(Ce.setAttribute("role","heading"),Ce.setAttribute("aria-level",xe[1])):$e[Ee]&&Ce.setAttribute("role",$e[Ee])}if(this._setAttributes(ve,Ce),ve.children)if(ve.children.length===1&&"id"in ve.children[0])this._setAttributes(ve.children[0],Ce);else{var re,Ae=L(ve.children);try{for(Ae.s();!(re=Ae.n()).done;){var _=re.value;Ce.appendChild(this._walk(_))}}catch(d){Ae.e(d)}finally{Ae.f()}}return Ce}}]),we}();f.StructTreeLayerBuilder=Ue;var De=function(){function we(){ge(this,we)}return We(we,[{key:"createStructTreeLayerBuilder",value:function(ve){return new Ue({pdfPage:ve})}}]),we}();f.DefaultStructTreeLayerFactory=De},(c,f,L)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.XfaLayerBuilder=f.DefaultXfaLayerFactory=void 0;var Se=L(2);function ge(Ue,De){if(!(Ue instanceof De))throw new TypeError("Cannot call a class as a function")}function Le(Ue,De){for(var we=0;we<De.length;we++){var ve=De[we];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(Ue,ve.key,ve)}}function We(Ue,De,we){return De&&Le(Ue.prototype,De),we&&Le(Ue,we),Ue}var $e=function(){function Ue(De){var we=De.pageDiv,ve=De.pdfPage,Ce=De.annotationStorage;ge(this,Ue),this.pageDiv=we,this.pdfPage=ve,this.annotationStorage=Ce,this.div=null,this._cancelled=!1}return We(Ue,[{key:"render",value:function(De){var we=this;return this.pdfPage.getXfa().then(function(ve){if(!we._cancelled){var Ce={viewport:De.clone({dontFlip:!0}),div:we.div,xfa:ve,page:we.pdfPage,annotationStorage:we.annotationStorage};we.div?Se.XfaLayer.update(Ce):(we.div=document.createElement("div"),we.pageDiv.appendChild(we.div),Ce.div=we.div,Se.XfaLayer.render(Ce))}}).catch(function(ve){console.error(ve)})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}}]),Ue}();f.XfaLayerBuilder=$e;var Qe=function(){function Ue(){ge(this,Ue)}return We(Ue,[{key:"createXfaLayerBuilder",value:function(De,we){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new $e({pageDiv:De,pdfPage:we,annotationStorage:ve})}}]),Ue}();f.DefaultXfaLayerFactory=Qe},(c,f,L)=>{function Se(Ae){return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},Se(Ae)}Object.defineProperty(f,"__esModule",{value:!0}),f.PDFViewer=void 0;var ge=L(7),Le=L(21),We=L(2);function $e(Ae,_){var d=typeof Symbol<"u"&&Ae[Symbol.iterator]||Ae["@@iterator"];if(!d){if(Array.isArray(Ae)||(d=function(Me,Fe){if(Me){if(typeof Me=="string")return Qe(Me,Fe);var $=Object.prototype.toString.call(Me).slice(8,-1);return $==="Object"&&Me.constructor&&($=Me.constructor.name),$==="Map"||$==="Set"?Array.from(Me):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Qe(Me,Fe):void 0}}(Ae))||_&&Ae&&typeof Ae.length=="number"){d&&(Ae=d);var g=0,de=function(){};return{s:de,n:function(){return g>=Ae.length?{done:!0}:{done:!1,value:Ae[g++]}},e:function(Me){throw Me},f:de}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,Oe=!0,Be=!1;return{s:function(){d=d.call(Ae)},n:function(){var Me=d.next();return Oe=Me.done,Me},e:function(Me){Be=!0,m=Me},f:function(){try{Oe||d.return==null||d.return()}finally{if(Be)throw m}}}}function Qe(Ae,_){(_==null||_>Ae.length)&&(_=Ae.length);for(var d=0,g=new Array(_);d<_;d++)g[d]=Ae[d];return g}function Ue(Ae,_){if(!(Ae instanceof _))throw new TypeError("Cannot call a class as a function")}function De(Ae,_){for(var d=0;d<_.length;d++){var g=_[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(Ae,g.key,g)}}function we(Ae,_,d){return we=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(g,de,m){var Oe=function(Me,Fe){for(;!Object.prototype.hasOwnProperty.call(Me,Fe)&&(Me=xe(Me))!==null;);return Me}(g,de);if(Oe){var Be=Object.getOwnPropertyDescriptor(Oe,de);return Be.get?Be.get.call(m):Be.value}},we(Ae,_,d||Ae)}function ve(Ae,_){return ve=Object.setPrototypeOf||function(d,g){return d.__proto__=g,d},ve(Ae,_)}function Ce(Ae){var _=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,g=xe(Ae);if(_){var de=xe(this).constructor;d=Reflect.construct(g,arguments,de)}else d=g.apply(this,arguments);return Ee(this,d)}}function Ee(Ae,_){return!_||Se(_)!=="object"&&typeof _!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(Ae):_}function xe(Ae){return xe=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},xe(Ae)}var re=function(Ae){(function(m,Oe){if(typeof Oe!="function"&&Oe!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Oe&&ve(m,Oe)})(de,Ae);var _,d,g=Ce(de);function de(){return Ue(this,de),g.apply(this,arguments)}return _=de,(d=[{key:"_viewerElement",get:function(){return(0,We.shadow)(this,"_viewerElement",this.viewer)}},{key:"_scrollIntoView",value:function(m){var Oe=m.pageDiv,Be=m.pageSpot,Me=Be===void 0?null:Be,Fe=m.pageNumber,$=Fe===void 0?null:Fe;if(!Me&&!this.isInPresentationMode){var ee=Oe.offsetLeft+Oe.clientLeft,ke=ee+Oe.clientWidth,je=this.container,He=je.scrollLeft,qe=je.clientWidth;(this._isScrollModeHorizontal||ee<He||ke>He+qe)&&(Me={left:0,top:0})}we(xe(de.prototype),"_scrollIntoView",this).call(this,{pageDiv:Oe,pageSpot:Me,pageNumber:$})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():we(xe(de.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(m){if(!this.isInPresentationMode){var Oe,Be=this._currentPageNumber,Me=!1,Fe=$e(m);try{for(Fe.s();!(Oe=Fe.n()).done;){var $=Oe.value;if($.percent<100)break;if($.id===Be&&this._scrollMode===ge.ScrollMode.VERTICAL&&this._spreadMode===ge.SpreadMode.NONE){Me=!0;break}}}catch(ee){Fe.e(ee)}finally{Fe.f()}Me||(Be=m[0].id),this._setCurrentPageNumber(Be)}}}])&&De(_.prototype,d),de}(Le.BaseViewer);f.PDFViewer=re}],o={};function s(c){var f=o[c];if(f!==void 0)return f.exports;var L=o[c]={id:c,loaded:!1,exports:{}};return i[c](L,L.exports,s),L.loaded=!0,L.exports}s.nmd=c=>(c.paths=[],c.children||(c.children=[]),c);var u={};return(()=>{var c=u;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return f.AnnotationLayerBuilder}}),Object.defineProperty(c,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return f.DefaultAnnotationLayerFactory}}),Object.defineProperty(c,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return L.DefaultTextLayerFactory}}),Object.defineProperty(c,"TextLayerBuilder",{enumerable:!0,get:function(){return L.TextLayerBuilder}}),Object.defineProperty(c,"EventBus",{enumerable:!0,get:function(){return Se.EventBus}}),Object.defineProperty(c,"ProgressBar",{enumerable:!0,get:function(){return Se.ProgressBar}}),Object.defineProperty(c,"PDFLinkService",{enumerable:!0,get:function(){return ge.PDFLinkService}}),Object.defineProperty(c,"SimpleLinkService",{enumerable:!0,get:function(){return ge.SimpleLinkService}}),Object.defineProperty(c,"DownloadManager",{enumerable:!0,get:function(){return Le.DownloadManager}}),Object.defineProperty(c,"GenericL10n",{enumerable:!0,get:function(){return We.GenericL10n}}),Object.defineProperty(c,"NullL10n",{enumerable:!0,get:function(){return $e.NullL10n}}),Object.defineProperty(c,"PDFFindController",{enumerable:!0,get:function(){return Qe.PDFFindController}}),Object.defineProperty(c,"PDFHistory",{enumerable:!0,get:function(){return Ue.PDFHistory}}),Object.defineProperty(c,"PDFPageView",{enumerable:!0,get:function(){return De.PDFPageView}}),Object.defineProperty(c,"PDFScriptingManager",{enumerable:!0,get:function(){return we.PDFScriptingManager}}),Object.defineProperty(c,"PDFSinglePageViewer",{enumerable:!0,get:function(){return ve.PDFSinglePageViewer}}),Object.defineProperty(c,"PDFViewer",{enumerable:!0,get:function(){return Ce.PDFViewer}});var f=s(1),L=s(8),Se=s(7),ge=s(6),Le=s(9),We=s(11),$e=s(3),Qe=s(13),Ue=s(15),De=s(16),we=s(18),ve=s(20),Ce=s(24)})(),u})()},t.exports=a()},18:(t,e,n)=>{var a=n(194);a.__esModule&&(a=a.default),typeof a=="string"&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals),(0,n(346).Z)("4bef1e68",a,!1,{})},346:(t,e,n)=>{function a(Ee,xe){for(var re=[],Ae={},_=0;_<xe.length;_++){var d=xe[_],g=d[0],de={id:Ee+":"+_,css:d[1],media:d[2],sourceMap:d[3]};Ae[g]?Ae[g].parts.push(de):re.push(Ae[g]={id:g,parts:[de]})}return re}n.d(e,{Z:()=>We});var i=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=i&&(document.head||document.getElementsByTagName("head")[0]),u=null,c=0,f=!1,L=function(){},Se=null,ge="data-vue-ssr-id",Le=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function We(Ee,xe,re,Ae){f=re,Se=Ae||{};var _=a(Ee,xe);return $e(_),function(d){for(var g=[],de=0;de<_.length;de++){var m=_[de];(Oe=o[m.id]).refs--,g.push(Oe)}for(d?$e(_=a(Ee,d)):_=[],de=0;de<g.length;de++){var Oe;if((Oe=g[de]).refs===0){for(var Be=0;Be<Oe.parts.length;Be++)Oe.parts[Be]();delete o[Oe.id]}}}}function $e(Ee){for(var xe=0;xe<Ee.length;xe++){var re=Ee[xe],Ae=o[re.id];if(Ae){Ae.refs++;for(var _=0;_<Ae.parts.length;_++)Ae.parts[_](re.parts[_]);for(;_<re.parts.length;_++)Ae.parts.push(Ue(re.parts[_]));Ae.parts.length>re.parts.length&&(Ae.parts.length=re.parts.length)}else{var d=[];for(_=0;_<re.parts.length;_++)d.push(Ue(re.parts[_]));o[re.id]={id:re.id,refs:1,parts:d}}}}function Qe(){var Ee=document.createElement("style");return Ee.type="text/css",s.appendChild(Ee),Ee}function Ue(Ee){var xe,re,Ae=document.querySelector("style["+ge+'~="'+Ee.id+'"]');if(Ae){if(f)return L;Ae.parentNode.removeChild(Ae)}if(Le){var _=c++;Ae=u||(u=Qe()),xe=ve.bind(null,Ae,_,!1),re=ve.bind(null,Ae,_,!0)}else Ae=Qe(),xe=Ce.bind(null,Ae),re=function(){Ae.parentNode.removeChild(Ae)};return xe(Ee),function(d){if(d){if(d.css===Ee.css&&d.media===Ee.media&&d.sourceMap===Ee.sourceMap)return;xe(Ee=d)}else re()}}var De,we=(De=[],function(Ee,xe){return De[Ee]=xe,De.filter(Boolean).join(`
`)});function ve(Ee,xe,re,Ae){var _=re?"":Ae.css;if(Ee.styleSheet)Ee.styleSheet.cssText=we(xe,_);else{var d=document.createTextNode(_),g=Ee.childNodes;g[xe]&&Ee.removeChild(g[xe]),g.length?Ee.insertBefore(d,g[xe]):Ee.appendChild(d)}}function Ce(Ee,xe){var re=xe.css,Ae=xe.media,_=xe.sourceMap;if(Ae&&Ee.setAttribute("media",Ae),Se.ssrId&&Ee.setAttribute(ge,xe.id),_&&(re+=`
/*# sourceURL=`+_.sources[0]+" */",re+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(_))))+" */"),Ee.styleSheet)Ee.styleSheet.cssText=re;else{for(;Ee.firstChild;)Ee.removeChild(Ee.firstChild);Ee.appendChild(document.createTextNode(re))}}},477:t=>{t.exports=function(e,n,a,i){var o=self||window;try{try{var s;try{s=new o.Blob([e])}catch{(s=new(o.BlobBuilder||o.WebKitBlobBuilder||o.MozBlobBuilder||o.MSBlobBuilder)).append(e),s=s.getBlob()}var u=o.URL||o.webkitURL,c=u.createObjectURL(s),f=new o[n](c,a);return u.revokeObjectURL(c),f}catch{return new o[n]("data:application/javascript,".concat(encodeURIComponent(e)),a)}}catch{if(!i)throw Error("Inline worker is not supported");return new o[n](i,a)}}},103:t=>{t.exports=__WEBPACK_EXTERNAL_MODULE__103__},601:()=>{},767:()=>{},251:()=>{},677:()=>{},543:()=>{},324:()=>{}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var n=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>xe});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{s:()=>o});var e=__webpack_require__(103),n=(0,e.createVNode)("canvas",null,null,-1),a={key:0,class:"textLayer"},i={key:1,class:"annotationLayer"};function o(re,Ae,_,d,g,de){return(0,e.openBlock)(),(0,e.createBlock)("div",{id:_.id,class:"vue-pdf-embed"},[((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(g.pageNums,function(m){return(0,e.openBlock)(),(0,e.createBlock)("div",{key:m,id:_.id&&"".concat(_.id,"-").concat(m)},[n,_.disableTextLayer?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createBlock)("div",a)),_.disableAnnotationLayer?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createBlock)("div",i))],8,["id"])}),128))],8,["id"])}var s=__webpack_require__(783),u=__webpack_require__(477),c=__webpack_require__.n(u),f=__webpack_require__(102);function L(re,Ae,_){var d=re.contentWindow.document.createElement("style");d.textContent=`
    @page {
      margin: 0;
      size: `.concat(Ae,"pt ").concat(_,`pt;
    }
    body {
      margin: 0;
    }
    canvas {
      width: 100%;
      page-break-after: always;
      page-break-before: avoid;
      page-break-inside: avoid;
    }
  `),re.contentWindow.document.head.appendChild(d),re.contentWindow.document.body.style.width="100%"}function Se(re){return new Promise(function(Ae){var _=document.createElement("iframe");_.width=0,_.height=0,_.style.position="absolute",_.style.top=0,_.style.left=0,_.style.border="none",_.style.overflow="hidden",_.onload=function(){return Ae(_)},re.appendChild(_)})}function ge(re){for(;re.firstChild;)re.removeChild(re.firstChild)}function Le(re){re.querySelectorAll("canvas").forEach(function(Ae){var _;Ae.width=1,Ae.height=1,(_=Ae.getContext("2d"))===null||_===void 0||_.clearRect(0,0,1,1)})}function We(re){return function(Ae){if(Array.isArray(Ae))return Ue(Ae)}(re)||function(Ae){if(typeof Symbol<"u"&&Ae[Symbol.iterator]!=null||Ae["@@iterator"]!=null)return Array.from(Ae)}(re)||Qe(re)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $e(re,Ae){return function(_){if(Array.isArray(_))return _}(re)||function(_,d){var g=_&&(typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"]);if(g!=null){var de,m,Oe=[],Be=!0,Me=!1;try{for(g=g.call(_);!(Be=(de=g.next()).done)&&(Oe.push(de.value),!d||Oe.length!==d);Be=!0);}catch(Fe){Me=!0,m=Fe}finally{try{Be||g.return==null||g.return()}finally{if(Me)throw m}}return Oe}}(re,Ae)||Qe(re,Ae)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qe(re,Ae){if(re){if(typeof re=="string")return Ue(re,Ae);var _=Object.prototype.toString.call(re).slice(8,-1);return _==="Object"&&re.constructor&&(_=re.constructor.name),_==="Map"||_==="Set"?Array.from(re):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?Ue(re,Ae):void 0}}function Ue(re,Ae){(Ae==null||Ae>re.length)&&(Ae=re.length);for(var _=0,d=new Array(Ae);_<Ae;_++)d[_]=re[_];return d}function De(re,Ae,_,d,g,de,m){try{var Oe=re[de](m),Be=Oe.value}catch(Me){return void _(Me)}Oe.done?Ae(Be):Promise.resolve(Be).then(d,g)}function we(re){return function(){var Ae=this,_=arguments;return new Promise(function(d,g){var de=re.apply(Ae,_);function m(Be){De(de,d,g,m,Oe,"next",Be)}function Oe(Be){De(de,d,g,m,Oe,"throw",Be)}m(void 0)})}}s.GlobalWorkerOptions.workerPort=new function(){return c()(`(()=>{var e={636:function(e,t,r){var n;n=function(){return(()=>{var e=[,(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerTask=t.WorkerMessageHandler=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4),o=r(113),s=r(115),c=r(172),u=r(6),l=r(197),f=r(198),h=r(117);function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function p(e){return b(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||m()}function g(e,t){return b(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||v(e,t)||m()}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){if(Array.isArray(e))return e}function w(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function k(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){w(i,n,a,o,s,"next",e)}function s(e){w(i,n,a,o,s,"throw",e)}o(void 0)}))}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),e}var O=function(){function e(t){S(this,e),this.name=t,this.terminated=!1,this._capability=(0,i.createPromiseCapability)()}return A(e,[{key:"finished",get:function(){return this._capability.promise}},{key:"finish",value:function(){this._capability.resolve()}},{key:"terminate",value:function(){this.terminated=!0}},{key:"ensureNotTerminated",value:function(){if(this.terminated)throw new Error("Worker task was terminated")}}]),e}();t.WorkerTask=O;var C,T=function(){function e(){S(this,e)}return A(e,null,[{key:"setup",value:function(t,r){var n=!1;t.on("test",(function(e){if(!n)if(n=!0,e instanceof Uint8Array){var r=255===e[0];t.postMessageTransfers=r,t.send("test",{supportTransfers:r})}else t.send("test",null)})),t.on("configure",(function(e){(0,i.setVerbosityLevel)(e.verbosity)})),t.on("GetDocRequest",(function(t){return e.createDocumentHandler(t,r)}))}},{key:"createDocumentHandler",value:function(e,t){var r,n=!1,u=null,m=[],v=(0,i.getVerbosityLevel)(),y=e.apiVersion,b="2.9.359";if(y!==b)throw new Error('The API version "'.concat(y,'" does not match ')+'the Worker version "'.concat(b,'".'));var w=[];for(var S in[])w.push(S);if(w.length)throw new Error("The \`Array.prototype\` contains unexpected enumerable properties: "+w.join(", ")+"; thus breaking e.g. \`for...in\` iteration of \`Array\`s.");var x=e.docId,A=e.docBaseUrl,C=e.docId+"_worker",T=new l.MessageHandler(C,x,t);function F(){if(n)throw new Error("Worker was terminated")}function P(e){m.push(e)}function _(e){e.finish();var t=m.indexOf(e);m.splice(t,1)}function I(e){return E.apply(this,arguments)}function E(){return(E=k(a.default.mark((function e(t){var n,i,o,s,c,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.ensureDoc("checkHeader");case 2:return e.next=4,r.ensureDoc("parseStartXRef");case 4:return e.next=6,r.ensureDoc("parse",[t]);case 6:if(t){e.next=9;break}return e.next=9,r.ensureDoc("checkFirstPage");case 9:return e.next=11,Promise.all([r.ensureDoc("numPages"),r.ensureDoc("fingerprint"),r.ensureDoc("isPureXfa")]);case 11:if(n=e.sent,i=g(n,3),o=i[0],s=i[1],!(c=i[2])){e.next=21;break}return P(u=new O("loadXfaFonts")),e.next=21,r.loadXfaFonts(T,u).catch((function(e){})).then((function(){return _(u)}));case 21:return e.abrupt("return",{numPages:o,fingerprint:s,isPureXfa:c});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,r){var n,a=(0,i.createPromiseCapability)(),o=e.source;if(o.data){try{n=new s.LocalPdfManager(x,o.data,o.password,t,r,A),a.resolve(n)}catch(e){a.reject(e)}return a.promise}var c,l=[];try{c=new f.PDFWorkerStream(T)}catch(e){return a.reject(e),a.promise}var h=c.getFullReader();h.headersReady.then((function(){if(h.isRangeSupported){var e=o.disableAutoFetch||h.isStreamingSupported;n=new s.NetworkPdfManager(x,c,{msgHandler:T,password:o.password,length:h.contentLength,disableAutoFetch:e,rangeChunkSize:o.rangeChunkSize},t,r,A);for(var i=0;i<l.length;i++)n.sendProgressiveData(l[i]);l=[],a.resolve(n),u=null}})).catch((function(e){a.reject(e),u=null}));var d=0;return new Promise((function(e,c){h.read().then((function e(f){var p=f.value,g=f.done;try{if(F(),g)return n||function(){var e=(0,i.arraysToBytes)(l);o.length&&e.length!==o.length&&(0,i.warn)("reported HTTP length is different from actual");try{n=new s.LocalPdfManager(x,e,o.password,t,r,A),a.resolve(n)}catch(e){a.reject(e)}l=[]}(),void(u=null);d+=(0,i.arrayByteLength)(p),h.isStreamingSupported||T.send("DocProgress",{loaded:d,total:Math.max(d,h.contentLength||0)}),n?n.sendProgressiveData(p):l.push(p),h.read().then(e,c)}catch(e){c(e)}}),c)})).catch((function(e){a.reject(e),u=null})),u=function(e){c.cancelAllRequests(e)},a.promise}return T.postMessageTransfers=e.postMessageTransfers,T.on("GetPage",(function(e){return r.getPage(e.pageIndex).then((function(e){return Promise.all([r.ensure(e,"rotate"),r.ensure(e,"ref"),r.ensure(e,"userUnit"),r.ensure(e,"view")]).then((function(e){var t=g(e,4);return{rotate:t[0],ref:t[1],userUnit:t[2],view:t[3]}}))}))})),T.on("GetPageIndex",(function(e){var t=e.ref,n=o.Ref.get(t.num,t.gen);return r.ensureCatalog("getPageIndex",[n])})),T.on("GetDestinations",(function(e){return r.ensureCatalog("destinations")})),T.on("GetDestination",(function(e){return r.ensureCatalog("getDestination",[e.id])})),T.on("GetPageLabels",(function(e){return r.ensureCatalog("pageLabels")})),T.on("GetPageLayout",(function(e){return r.ensureCatalog("pageLayout")})),T.on("GetPageMode",(function(e){return r.ensureCatalog("pageMode")})),T.on("GetViewerPreferences",(function(e){return r.ensureCatalog("viewerPreferences")})),T.on("GetOpenAction",(function(e){return r.ensureCatalog("openAction")})),T.on("GetAttachments",(function(e){return r.ensureCatalog("attachments")})),T.on("GetJavaScript",(function(e){return r.ensureCatalog("javaScript")})),T.on("GetDocJSActions",(function(e){return r.ensureCatalog("jsActions")})),T.on("GetPageJSActions",(function(e){var t=e.pageIndex;return r.getPage(t).then((function(e){return r.ensure(e,"jsActions")}))})),T.on("GetPageXfa",(function(e){var t=e.pageIndex;return r.getPage(t).then((function(e){return r.ensure(e,"xfaData")}))})),T.on("GetOutline",(function(e){return r.ensureCatalog("documentOutline")})),T.on("GetOptionalContentConfig",(function(e){return r.ensureCatalog("optionalContentConfig")})),T.on("GetPermissions",(function(e){return r.ensureCatalog("permissions")})),T.on("GetMetadata",(function(e){return Promise.all([r.ensureDoc("documentInfo"),r.ensureCatalog("metadata")])})),T.on("GetMarkInfo",(function(e){return r.ensureCatalog("markInfo")})),T.on("GetData",(function(e){return r.requestLoadedStream(),r.onLoadedStream().then((function(e){return e.bytes}))})),T.on("GetStats",(function(e){return r.ensureXRef("stats")})),T.on("GetAnnotations",(function(e){var t=e.pageIndex,n=e.intent;return r.getPage(t).then((function(e){return e.getAnnotationsData(n)}))})),T.on("GetFieldObjects",(function(e){return r.ensureDoc("fieldObjects")})),T.on("HasJSActions",(function(e){return r.ensureDoc("hasJSActions")})),T.on("GetCalculationOrderIds",(function(e){return r.ensureDoc("calculationOrderIds")})),T.on("SaveDocument",(function(e){var t=e.numPages,n=e.annotationStorage,a=e.filename;r.requestLoadedStream();for(var s=[r.onLoadedStream(),r.ensureCatalog("acroForm"),r.ensureDoc("xref"),r.ensureDoc("startXRef")],u=function(e){s.push(r.getPage(e).then((function(t){var r=new O("Save: page ".concat(e));return P(r),t.save(T,r,n).finally((function(){_(r)}))})))},l=0;l<t;l++)u(l);return Promise.all(s).then((function(e){var t,r=p(e),n=r[0],s=r[1],u=r[2],l=r[3],f=[],h=d(r.slice(4));try{for(h.s();!(t=h.n()).done;)f=t.value.filter((function(e){return null!==e})).reduce((function(e,t){return e.concat(t)}),f)}catch(e){h.e(e)}finally{h.f()}if(0===f.length)return n.bytes;var g=s instanceof o.Dict&&s.get("XFA")||[],m=null;if(Array.isArray(g))for(var v=0,y=g.length;v<y;v+=2)"datasets"===g[v]&&(m=g[v+1]);else(0,i.warn)("Unsupported XFA type.");var b=Object.create(null);if(u.trailer){var w=Object.create(null),k=u.trailer.get("Info")||null;k instanceof o.Dict&&k.forEach((function(e,t){(0,i.isString)(e)&&(0,i.isString)(t)&&(w[e]=(0,i.stringToPDFString)(t))})),b={rootRef:u.trailer.getRaw("Root")||null,encryptRef:u.trailer.getRaw("Encrypt")||null,newRef:u.getNewRef(),infoRef:u.trailer.getRaw("Info")||null,info:w,fileIds:u.trailer.get("ID")||null,startXRef:l,filename:a}}return u.resetNewRef(),(0,c.incrementalUpdate)({originalData:n.bytes,xrefInfo:b,newRefs:f,xref:u,datasetsRef:m})}))})),T.on("GetOperatorList",(function(e,t){var n=e.pageIndex;r.getPage(n).then((function(r){var a=new O("GetOperatorList: page ".concat(n));P(a);var o=v>=i.VerbosityLevel.INFOS?Date.now():0;r.getOperatorList({handler:T,sink:t,task:a,intent:e.intent,renderInteractiveForms:e.renderInteractiveForms,annotationStorage:e.annotationStorage}).then((function(e){_(a),o&&(0,i.info)("page=".concat(n+1," - getOperatorList: time=")+"".concat(Date.now()-o,"ms, len=").concat(e.length)),t.close()}),(function(e){_(a),a.terminated||(T.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorOperatorList}),t.error(e))}))}))})),T.on("GetTextContent",(function(e,t){var n=e.pageIndex;t.onPull=function(e){},t.onCancel=function(e){},r.getPage(n).then((function(r){var a=new O("GetTextContent: page "+n);P(a);var o=v>=i.VerbosityLevel.INFOS?Date.now():0;r.extractTextContent({handler:T,task:a,sink:t,normalizeWhitespace:e.normalizeWhitespace,includeMarkedContent:e.includeMarkedContent,combineTextItems:e.combineTextItems}).then((function(){_(a),o&&(0,i.info)("page=".concat(n+1," - getTextContent: time=")+"".concat(Date.now()-o,"ms")),t.close()}),(function(e){_(a),a.terminated||t.error(e)}))}))})),T.on("GetStructTree",(function(e){return r.getPage(e.pageIndex).then((function(e){return r.ensure(e,"getStructTree")}))})),T.on("FontFallback",(function(e){return r.fontFallback(e.id,T)})),T.on("Cleanup",(function(e){return r.cleanup(!0)})),T.on("Terminate",(function(e){n=!0;var t=[];if(r){r.terminate(new i.AbortException("Worker was terminated."));var a=r.cleanup();t.push(a),r=null}else(0,o.clearPrimitiveCaches)();u&&u(new i.AbortException("Worker was terminated."));var s,c=d(m);try{for(c.s();!(s=c.n()).done;){var l=s.value;t.push(l.finished),l.terminate()}}catch(e){c.e(e)}finally{c.f()}return Promise.all(t).then((function(){T.destroy(),T=null}))})),T.on("Ready",(function(t){!function(e){function t(e){F(),T.send("GetDoc",{pdfInfo:e})}function a(e){if(F(),e instanceof i.PasswordException){var t=new O("PasswordException: response ".concat(e.code));P(t),T.sendWithPromise("PasswordRequest",e).then((function(e){var n=e.password;_(t),r.updatePassword(n),o()})).catch((function(){_(t),T.send("DocException",e)}))}else e instanceof i.InvalidPDFException||e instanceof i.MissingPDFException||e instanceof i.UnexpectedResponseException||e instanceof i.UnknownErrorException?T.send("DocException",e):T.send("DocException",new i.UnknownErrorException(e.message,e.toString()))}function o(){F(),I(!1).then(t,(function(e){F(),e instanceof h.XRefParseException?(r.requestLoadedStream(),r.onLoadedStream().then((function(){F(),I(!0).then(t,a)}))):a(e)}))}F(),j(e,{maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties},e.enableXfa).then((function(e){if(n)throw e.terminate(new i.AbortException("Worker was terminated.")),new Error("Worker was terminated");(r=e).onLoadedStream().then((function(e){T.send("DataLoaded",{length:e.bytes.byteLength})}))})).then(o,a)}(e),e=null})),C}},{key:"initializeFromPort",value:function(t){var r=new l.MessageHandler("worker","main",t);e.setup(r,t),r.send("ready",null)}}]),e}();t.WorkerMessageHandler=T,"undefined"==typeof window&&!u.isNodeJS&&"undefined"!=typeof self&&"function"==typeof(C=self).postMessage&&"onmessage"in C&&T.initializeFromPort(self)},(e,t,r)=>{"use strict";e.exports=r(3)},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var a=function(e){var t,r=Object.prototype,a=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),o=new P(n||[]);return i._invoke=function(e,t,r){var n=h;return function(a,i){if(n===p)throw new Error("Generator is already running");if(n===g){if("throw"===a)throw i;return I()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=C(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=f(e,t,r);if("normal"===c.type){if(n=r.done?g:d,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=g,r.method="throw",r.arg=c.arg)}}}(e,r,o),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};w[o]=function(){return this};var k=Object.getPrototypeOf,S=k&&k(k(_([])));S&&S!==r&&a.call(S,o)&&(w=S);var x=b.prototype=v.prototype=Object.create(w);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(i,o,s,c){var u=f(e[i],e,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"===n(h)&&a.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}}function C(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=f(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function _(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(a.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:I}}function I(){return{value:t,done:!0}}return y.prototype=x.constructor=b,b.constructor=y,y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},A(O.prototype),O.prototype[s]=function(){return this},e.AsyncIterator=O,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new O(l(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(x),u(x,c,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=_,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),F(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;F(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:_(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}("object"===n(e=r.nmd(e))?e.exports:{});try{regeneratorRuntime=a}catch(e){Function("r","regeneratorRuntime = r")(a)}},(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=P,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var r=0,n=0;n<t;n++)r+=P(e[n]);for(var a=0,i=new Uint8Array(r),o=0;o<t;o++){var s=e[o];s instanceof Uint8Array||(s="string"==typeof s?F(s):new Uint8Array(s));var c=s.byteLength;i.set(s,a),a+=c}return i},t.assert=v,t.bytesToString=function(e){v(null!==e&&"object"===o(e)&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length,r=8192;if(t<r)return String.fromCharCode.apply(null,e);for(var n=[],a=0;a<t;a+=r){var i=Math.min(a+r,t),s=e.subarray(a,i);n.push(String.fromCharCode.apply(null,s))}return n.join("")},t.createObjectURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&!r)return URL.createObjectURL(new Blob([e],{type:t}));for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="data:".concat(t,";base64,"),i=0,o=e.length;i<o;i+=3){var s=255&e[i],c=255&e[i+1],u=255&e[i+2],l=s>>2,f=(3&s)<<4|c>>4,h=i+1<o?(15&c)<<2|u>>6:64,d=i+2<o?63&u:64;a+=n[l]+n[f]+n[h]+n[d]}return a},t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise((function(r,n){e.resolve=function(e){t=!0,r(e)},e.reject=function(e){t=!0,n(e)}})),e},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var r=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(e){}return null},t.escapeString=function(e){return e.replace(/([()\\\\\\n\\r])/g,(function(e){return"\\n"===e?"\\\\n":"\\r"===e?"\\\\r":"\\\\".concat(e)}))},t.getModificationDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")];return t.join("")},t.getVerbosityLevel=function(){return p},t.info=function(e){p>=d.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===o(e)&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0},t.isAscii=function(e){return/^[\\x00-\\x7F]*$/.test(e)},t.isBool=function(e){return"boolean"==typeof e},t.isNum=function(e){return"number"==typeof e},t.isSameOrigin=function(e,t){var r;try{if(!(r=new URL(e)).origin||"null"===r.origin)return!1}catch(e){return!1}var n=new URL(t,r);return r.origin===n.origin},t.isString=function(e){return"string"==typeof e},t.objectFromMap=function(e){var t,r,n,i=Object.create(null),o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}(e);try{for(o.s();!(t=o.n()).done;){var s=(r=t.value,n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(r,n)||a(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1];i[c]=u}}catch(e){o.e(e)}finally{o.f()}return i},t.objectSize=function(e){return Object.keys(e).length},t.removeNullCharacters=function(e){return"string"!=typeof e?(g("The argument for removeNullCharacters must be a string."),e):e.replace(T,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(p=e)},t.shadow=y,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=F,t.stringToPDFString=function(e){var t=e.length,r=[];if(""===e[0]&&""===e[1])for(var n=2;n<t;n+=2)r.push(String.fromCharCode(e.charCodeAt(n)<<8|e.charCodeAt(n+1)));else if(""===e[0]&&""===e[1])for(var a=2;a<t;a+=2)r.push(String.fromCharCode(e.charCodeAt(a+1)<<8|e.charCodeAt(a)));else for(var i=0;i<t;++i){var o=M[e.charCodeAt(i)];r.push(o?String.fromCharCode(o):e.charAt(i))}return r.join("")},t.stringToUTF16BEString=function(e){for(var t=[""],r=0,n=e.length;r<n;r++){var a=e.charCodeAt(r);t.push(String.fromCharCode(a>>8&255),String.fromCharCode(255&a))}return t.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.unreachable=m,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=g,t.VerbosityLevel=t.Util=t.UNSUPPORTED_FEATURES=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.IsLittleEndianCached=t.IsEvalSupportedCached=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,r(5),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var d={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=d,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var p=d.WARNINGS;function g(e){p>=d.WARNINGS&&console.log("Warning: ".concat(e))}function m(e){throw new Error(e)}function v(e,t){e||m(t)}function y(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}var b=function(){function e(t){this.constructor===e&&m("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=b;var w=function(e){c(r,e);var t=l(r);function r(e,n){var a;return s(this,r),(a=t.call(this,e)).code=n,a}return r}(b);t.PasswordException=w;var k=function(e){c(r,e);var t=l(r);function r(e,n){var a;return s(this,r),(a=t.call(this,e)).details=n,a}return r}(b);t.UnknownErrorException=k;var S=function(e){c(r,e);var t=l(r);function r(){return s(this,r),t.apply(this,arguments)}return r}(b);t.InvalidPDFException=S;var x=function(e){c(r,e);var t=l(r);function r(){return s(this,r),t.apply(this,arguments)}return r}(b);t.MissingPDFException=x;var A=function(e){c(r,e);var t=l(r);function r(e,n){var a;return s(this,r),(a=t.call(this,e)).status=n,a}return r}(b);t.UnexpectedResponseException=A;var O=function(e){c(r,e);var t=l(r);function r(){return s(this,r),t.apply(this,arguments)}return r}(b);t.FormatError=O;var C=function(e){c(r,e);var t=l(r);function r(){return s(this,r),t.apply(this,arguments)}return r}(b);t.AbortException=C;var T=/\\x00/g;function F(e){v("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,r=new Uint8Array(t),n=0;n<t;++n)r[n]=255&e.charCodeAt(n);return r}function P(e){return void 0!==e.length?e.length:(v(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}var _={get value(){return y(this,"value",((e=new Uint8Array(4))[0]=1,1===new Uint32Array(e.buffer,0,1)[0]));var e}};t.IsLittleEndianCached=_;var I={get value(){return y(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};t.IsEvalSupportedCached=I;var E,j=(E=Array(256).keys(),function(e){if(Array.isArray(e))return i(e)}(E)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||a(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e.toString(16).padStart(2,"0")})),R=function(){function e(){s(this,e)}var t,r,a;return t=e,a=[{key:"makeHexColor",value:function(e,t,r){return"#".concat(j[e]).concat(j[t]).concat(j[r])}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var r=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r]}},{key:"getAxialAlignedBoundingBox",value:function(t,r){var n=e.applyTransform(t,r),a=e.applyTransform(t.slice(2,4),r),i=e.applyTransform([t[0],t[3]],r),o=e.applyTransform([t[2],t[1]],r);return[Math.min(n[0],a[0],i[0],o[0]),Math.min(n[1],a[1],i[1],o[1]),Math.max(n[0],a[0],i[0],o[0]),Math.max(n[1],a[1],i[1],o[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],n=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],i=e[2]*t[1]+e[3]*t[3],o=(r+i)/2,s=Math.sqrt(Math.pow(r+i,2)-4*(r*i-a*n))/2,c=o+s||1,u=o-s||1;return[Math.sqrt(c),Math.sqrt(u)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(t,r){function n(e,t){return e-t}var a=[t[0],t[2],r[0],r[2]].sort(n),i=[t[1],t[3],r[1],r[3]].sort(n),o=[];return t=e.normalizeRect(t),r=e.normalizeRect(r),a[0]===t[0]&&a[1]===r[0]||a[0]===r[0]&&a[1]===t[0]?(o[0]=a[1],o[2]=a[2],i[0]===t[1]&&i[1]===r[1]||i[0]===r[1]&&i[1]===t[1]?(o[1]=i[1],o[3]=i[2],o):null):null}}],(r=null)&&n(t.prototype,r),a&&n(t,a),e}();t.Util=R;var M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]},(e,t,r)=>{"use strict";var n=r(6);"undefined"!=typeof globalThis&&globalThis._pdfjsCompatibilityChecked||("undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=r(7)),globalThis._pdfjsCompatibilityChecked=!0,!globalThis.btoa&&n.isNodeJS&&(globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}),!globalThis.atob&&n.isNodeJS&&(globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")}),Object.fromEntries||r(53),globalThis.Promise.allSettled||(globalThis.Promise=r(84)),function(){var e=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),e=!0}catch(e){}e||(globalThis.ReadableStream=r(112).ReadableStream)}())},(e,t)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var n=!("object"!==("undefined"==typeof process?"undefined":r(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},(e,t,r)=>{r(8),e.exports=r(10)},(e,t,r)=>{r(9)({global:!0},{globalThis:r(10)})},(e,t,r)=>{var n=r(10),a=r(11).f,i=r(26),o=r(29),s=r(30),c=r(40),u=r(52);e.exports=function(e,t){var r,l,f,h,d,p=e.target,g=e.global,m=e.stat;if(r=g?n:m?n[p]||s(p,{}):(n[p]||{}).prototype)for(l in t){if(h=t[l],f=e.noTargetGet?(d=a(r,l))&&d.value:r[l],!u(g?l:p+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof h==typeof f)continue;c(h,f)}(e.sham||f&&f.sham)&&i(h,"sham",!0),o(r,l,h,e)}}},e=>{var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},(e,t,r)=>{var n=r(12),a=r(14),i=r(15),o=r(16),s=r(20),c=r(22),u=r(24),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=o(e),t=s(t,!0),u)try{return l(e,t)}catch(e){}if(c(e,t))return i(!a.f.call(e,t),e[t])}},(e,t,r)=>{var n=r(13);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},(e,t,r)=>{var n=r(17),a=r(19);e.exports=function(e){return n(a(e))}},(e,t,r)=>{var n=r(13),a=r(18),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},(e,t,r)=>{var n=r(21);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},(e,t,r)=>{var n=r(23),a={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return a.call(n(e),t)}},(e,t,r)=>{var n=r(19);e.exports=function(e){return Object(n(e))}},(e,t,r)=>{var n=r(12),a=r(13),i=r(25);e.exports=!n&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},(e,t,r)=>{var n=r(10),a=r(21),i=n.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},(e,t,r)=>{var n=r(12),a=r(27),i=r(15);e.exports=n?function(e,t,r){return a.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},(e,t,r)=>{var n=r(12),a=r(24),i=r(28),o=r(20),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(i(e),t=o(t,!0),i(r),a)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},(e,t,r)=>{var n=r(21);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},(e,t,r)=>{var n=r(10),a=r(26),i=r(22),o=r(30),s=r(31),c=r(33),u=c.get,l=c.enforce,f=String(String).split("String");(e.exports=function(e,t,r,s){var c,u=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||i(r,"name")||a(r,"name",t),(c=l(r)).source||(c.source=f.join("string"==typeof t?t:""))),e!==n?(u?!d&&e[t]&&(h=!0):delete e[t],h?e[t]=r:a(e,t,r)):h?e[t]=r:o(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},(e,t,r)=>{var n=r(10),a=r(26);e.exports=function(e,t){try{a(n,e,t)}catch(r){n[e]=t}return t}},(e,t,r)=>{var n=r(32),a=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return a.call(e)}),e.exports=n.inspectSource},(e,t,r)=>{var n=r(10),a=r(30),i="__core-js_shared__",o=n[i]||a(i,{});e.exports=o},(e,t,r)=>{var n,a,i,o=r(34),s=r(10),c=r(21),u=r(26),l=r(22),f=r(32),h=r(35),d=r(39),p="Object already initialized",g=s.WeakMap;if(o||f.state){var m=f.state||(f.state=new g),v=m.get,y=m.has,b=m.set;n=function(e,t){if(y.call(m,e))throw new TypeError(p);return t.facade=e,b.call(m,e,t),t},a=function(e){return v.call(m,e)||{}},i=function(e){return y.call(m,e)}}else{var w=h("state");d[w]=!0,n=function(e,t){if(l(e,w))throw new TypeError(p);return t.facade=e,u(e,w,t),t},a=function(e){return l(e,w)?e[w]:{}},i=function(e){return l(e,w)}}e.exports={set:n,get:a,has:i,enforce:function(e){return i(e)?a(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},(e,t,r)=>{var n=r(10),a=r(31),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(a(i))},(e,t,r)=>{var n=r(36),a=r(38),i=n("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},(e,t,r)=>{var n=r(37),a=r(32);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.13.1",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},e=>{e.exports=!1},e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},e=>{e.exports={}},(e,t,r)=>{var n=r(22),a=r(41),i=r(11),o=r(27);e.exports=function(e,t){for(var r=a(t),s=o.f,c=i.f,u=0;u<r.length;u++){var l=r[u];n(e,l)||s(e,l,c(t,l))}}},(e,t,r)=>{var n=r(42),a=r(44),i=r(51),o=r(28);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},(e,t,r)=>{var n=r(43),a=r(10),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(a[e]):n[e]&&n[e][t]||a[e]&&a[e][t]}},(e,t,r)=>{var n=r(10);e.exports=n},(e,t,r)=>{var n=r(45),a=r(50).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},(e,t,r)=>{var n=r(22),a=r(16),i=r(46).indexOf,o=r(39);e.exports=function(e,t){var r,s=a(e),c=0,u=[];for(r in s)!n(o,r)&&n(s,r)&&u.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~i(u,r)||u.push(r));return u}},(e,t,r)=>{var n=r(16),a=r(47),i=r(49),o=function(e){return function(t,r,o){var s,c=n(t),u=a(c.length),l=i(o,u);if(e&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},(e,t,r)=>{var n=r(48),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},(e,t,r)=>{var n=r(48),a=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):i(r,t)}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,r)=>{var n=r(13),a=/#|\\.prototype\\./,i=function(e,t){var r=s[o(e)];return r==u||r!=c&&("function"==typeof t?n(t):!!t)},o=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},(e,t,r)=>{r(54),r(74);var n=r(43);e.exports=n.Object.fromEntries},(e,t,r)=>{"use strict";var n=r(16),a=r(55),i=r(65),o=r(33),s=r(66),c="Array Iterator",u=o.set,l=o.getterFor(c);e.exports=s(Array,"Array",(function(e,t){u(this,{type:c,target:n(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),i.Arguments=i.Array,a("keys"),a("values"),a("entries")},(e,t,r)=>{var n=r(56),a=r(61),i=r(27),o=n("unscopables"),s=Array.prototype;null==s[o]&&i.f(s,o,{configurable:!0,value:a(null)}),e.exports=function(e){s[o][e]=!0}},(e,t,r)=>{var n=r(10),a=r(36),i=r(22),o=r(38),s=r(57),c=r(60),u=a("wks"),l=n.Symbol,f=c?l:l&&l.withoutSetter||o;e.exports=function(e){return i(u,e)&&(s||"string"==typeof u[e])||(s&&i(l,e)?u[e]=l[e]:u[e]=f("Symbol."+e)),u[e]}},(e,t,r)=>{var n=r(58),a=r(13);e.exports=!!Object.getOwnPropertySymbols&&!a((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},(e,t,r)=>{var n,a,i=r(10),o=r(59),s=i.process,c=s&&s.versions,u=c&&c.v8;u?a=(n=u.split("."))[0]<4?1:n[0]+n[1]:o&&(!(n=o.match(/Edge\\/(\\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\\/(\\d+)/))&&(a=n[1]),e.exports=a&&+a},(e,t,r)=>{var n=r(42);e.exports=n("navigator","userAgent")||""},(e,t,r)=>{var n=r(57);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(e,t,r)=>{var n,a=r(28),i=r(62),o=r(50),s=r(39),c=r(64),u=r(25),l=r(35),f=l("IE_PROTO"),h=function(){},d=function(e){return"<script>"+e+"<\\/script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=n?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var r=o.length;r--;)delete p.prototype[o[r]];return p()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h.prototype=a(e),r=new h,h.prototype=null,r[f]=e):r=p(),void 0===t?r:i(r,t)}},(e,t,r)=>{var n=r(12),a=r(27),i=r(28),o=r(63);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=o(t),s=n.length,c=0;s>c;)a.f(e,r=n[c++],t[r]);return e}},(e,t,r)=>{var n=r(45),a=r(50);e.exports=Object.keys||function(e){return n(e,a)}},(e,t,r)=>{var n=r(42);e.exports=n("document","documentElement")},e=>{e.exports={}},(e,t,r)=>{"use strict";var n=r(9),a=r(67),i=r(69),o=r(72),s=r(71),c=r(26),u=r(29),l=r(56),f=r(37),h=r(65),d=r(68),p=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,m=l("iterator"),v="keys",y="values",b="entries",w=function(){return this};e.exports=function(e,t,r,l,d,k,S){a(r,t,l);var x,A,O,C=function(e){if(e===d&&I)return I;if(!g&&e in P)return P[e];switch(e){case v:case y:case b:return function(){return new r(this,e)}}return function(){return new r(this)}},T=t+" Iterator",F=!1,P=e.prototype,_=P[m]||P["@@iterator"]||d&&P[d],I=!g&&_||C(d),E="Array"==t&&P.entries||_;if(E&&(x=i(E.call(new e)),p!==Object.prototype&&x.next&&(f||i(x)===p||(o?o(x,p):"function"!=typeof x[m]&&c(x,m,w)),s(x,T,!0,!0),f&&(h[T]=w))),d==y&&_&&_.name!==y&&(F=!0,I=function(){return _.call(this)}),f&&!S||P[m]===I||c(P,m,I),h[t]=I,d)if(A={values:C(y),keys:k?I:C(v),entries:C(b)},S)for(O in A)(g||F||!(O in P))&&u(P,O,A[O]);else n({target:t,proto:!0,forced:g||F},A);return A}},(e,t,r)=>{"use strict";var n=r(68).IteratorPrototype,a=r(61),i=r(15),o=r(71),s=r(65),c=function(){return this};e.exports=function(e,t,r){var u=t+" Iterator";return e.prototype=a(n,{next:i(1,r)}),o(e,u,!1,!0),s[u]=c,e}},(e,t,r)=>{"use strict";var n,a,i,o=r(13),s=r(69),c=r(26),u=r(22),l=r(56),f=r(37),h=l("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(a=s(s(i)))!==Object.prototype&&(n=a):d=!0);var p=null==n||o((function(){var e={};return n[h].call(e)!==e}));p&&(n={}),f&&!p||u(n,h)||c(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},(e,t,r)=>{var n=r(22),a=r(23),i=r(35),o=r(70),s=i("IE_PROTO"),c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=a(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},(e,t,r)=>{var n=r(13);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},(e,t,r)=>{var n=r(27).f,a=r(22),i=r(56)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},(e,t,r)=>{var n=r(28),a=r(73);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return n(r),a(i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},(e,t,r)=>{var n=r(21);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},(e,t,r)=>{var n=r(9),a=r(75),i=r(83);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return a(e,(function(e,r){i(t,e,r)}),{AS_ENTRIES:!0}),t}})},(e,t,r)=>{var n=r(28),a=r(76),i=r(47),o=r(77),s=r(79),c=r(82),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var l,f,h,d,p,g,m,v=r&&r.that,y=!(!r||!r.AS_ENTRIES),b=!(!r||!r.IS_ITERATOR),w=!(!r||!r.INTERRUPTED),k=o(t,v,1+y+w),S=function(e){return l&&c(l),new u(!0,e)},x=function(e){return y?(n(e),w?k(e[0],e[1],S):k(e[0],e[1])):w?k(e,S):k(e)};if(b)l=e;else{if("function"!=typeof(f=s(e)))throw TypeError("Target is not iterable");if(a(f)){for(h=0,d=i(e.length);d>h;h++)if((p=x(e[h]))&&p instanceof u)return p;return new u(!1)}l=f.call(e)}for(g=l.next;!(m=g.call(l)).done;){try{p=x(m.value)}catch(e){throw c(l),e}if("object"==typeof p&&p&&p instanceof u)return p}return new u(!1)}},(e,t,r)=>{var n=r(56),a=r(65),i=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},(e,t,r)=>{var n=r(78);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},(e,t,r)=>{var n=r(80),a=r(65),i=r(56)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},(e,t,r)=>{var n=r(81),a=r(18),i=r(56)("toStringTag"),o="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?a(t):"Object"==(n=a(t))&&"function"==typeof t.callee?"Arguments":n}},(e,t,r)=>{var n={};n[r(56)("toStringTag")]="z",e.exports="[object z]"===String(n)},(e,t,r)=>{var n=r(28);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},(e,t,r)=>{"use strict";var n=r(20),a=r(27),i=r(15);e.exports=function(e,t,r){var o=n(t);o in e?a.f(e,o,i(0,r)):e[o]=r}},(e,t,r)=>{r(85),r(86),r(88),r(105),r(106),r(107),r(108),r(110);var n=r(43);e.exports=n.Promise},(e,t,r)=>{"use strict";var n=r(9),a=r(69),i=r(72),o=r(61),s=r(26),c=r(15),u=r(75),l=function(e,t){var r=this;if(!(r instanceof l))return new l(e,t);i&&(r=i(new Error(void 0),a(r))),void 0!==t&&s(r,"message",String(t));var n=[];return u(e,n.push,{that:n}),s(r,"errors",n),r};l.prototype=o(Error.prototype,{constructor:c(5,l),message:c(5,""),name:c(5,"AggregateError")}),n({global:!0},{AggregateError:l})},(e,t,r)=>{var n=r(81),a=r(29),i=r(87);n||a(Object.prototype,"toString",i,{unsafe:!0})},(e,t,r)=>{"use strict";var n=r(81),a=r(80);e.exports=n?{}.toString:function(){return"[object "+a(this)+"]"}},(e,t,r)=>{"use strict";var n,a,i,o,s=r(9),c=r(37),u=r(10),l=r(42),f=r(89),h=r(29),d=r(90),p=r(72),g=r(71),m=r(91),v=r(21),y=r(78),b=r(92),w=r(31),k=r(75),S=r(93),x=r(94),A=r(95).set,O=r(98),C=r(100),T=r(102),F=r(101),P=r(103),_=r(33),I=r(52),E=r(56),j=r(104),R=r(97),M=r(58),N=E("species"),B="Promise",D=_.get,L=_.set,U=_.getterFor(B),q=f&&f.prototype,X=f,H=q,$=u.TypeError,z=u.document,G=u.process,W=F.f,V=W,K=!!(z&&z.createEvent&&u.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,J="unhandledrejection",Z=!1,Q=I(B,(function(){var e=w(X)!==String(X);if(!e&&66===M)return!0;if(c&&!H.finally)return!0;if(M>=51&&/native code/.test(X))return!1;var t=new X((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(t.constructor={})[N]=r,!(Z=t.then((function(){}))instanceof r)||!e&&j&&!Y})),ee=Q||!S((function(e){X.all(e).catch((function(){}))})),te=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},re=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;O((function(){for(var n=e.value,a=1==e.state,i=0;r.length>i;){var o,s,c,u=r[i++],l=a?u.ok:u.fail,f=u.resolve,h=u.reject,d=u.domain;try{l?(a||(2===e.rejection&&oe(e),e.rejection=1),!0===l?o=n:(d&&d.enter(),o=l(n),d&&(d.exit(),c=!0)),o===u.promise?h($("Promise-chain cycle")):(s=te(o))?s.call(o,f,h):f(o)):h(n)}catch(e){d&&!c&&d.exit(),h(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ae(e)}))}},ne=function(e,t,r){var n,a;K?((n=z.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:r},!Y&&(a=u["on"+e])?a(n):e===J&&T("Unhandled promise rejection",r)},ae=function(e){A.call(u,(function(){var t,r=e.facade,n=e.value;if(ie(e)&&(t=P((function(){R?G.emit("unhandledRejection",n,r):ne(J,r,n)})),e.rejection=R||ie(e)?2:1,t.error))throw t.value}))},ie=function(e){return 1!==e.rejection&&!e.parent},oe=function(e){A.call(u,(function(){var t=e.facade;R?G.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)}))},se=function(e,t,r){return function(n){e(t,n,r)}},ce=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,re(e,!0))},ue=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw $("Promise can't be resolved itself");var n=te(t);n?O((function(){var r={done:!1};try{n.call(t,se(ue,r,e),se(ce,r,e))}catch(t){ce(r,t,e)}})):(e.value=t,e.state=1,re(e,!1))}catch(t){ce({done:!1},t,e)}}};if(Q&&(H=(X=function(e){b(this,X,B),y(e),n.call(this);var t=D(this);try{e(se(ue,t),se(ce,t))}catch(e){ce(t,e)}}).prototype,(n=function(e){L(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(H,{then:function(e,t){var r=U(this),n=W(x(this,X));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=R?G.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&re(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n,t=D(e);this.promise=e,this.resolve=se(ue,t),this.reject=se(ce,t)},F.f=W=function(e){return e===X||e===i?new a(e):V(e)},!c&&"function"==typeof f&&q!==Object.prototype)){o=q.then,Z||(h(q,"then",(function(e,t){var r=this;return new X((function(e,t){o.call(r,e,t)})).then(e,t)}),{unsafe:!0}),h(q,"catch",H.catch,{unsafe:!0}));try{delete q.constructor}catch(e){}p&&p(q,H)}s({global:!0,wrap:!0,forced:Q},{Promise:X}),g(X,B,!1,!0),m(B),i=l(B),s({target:B,stat:!0,forced:Q},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),s({target:B,stat:!0,forced:c||Q},{resolve:function(e){return C(c&&this===i?X:this,e)}}),s({target:B,stat:!0,forced:ee},{all:function(e){var t=this,r=W(t),n=r.resolve,a=r.reject,i=P((function(){var r=y(t.resolve),i=[],o=0,s=1;k(e,(function(e){var c=o++,u=!1;i.push(void 0),s++,r.call(t,e).then((function(e){u||(u=!0,i[c]=e,--s||n(i))}),a)})),--s||n(i)}));return i.error&&a(i.value),r.promise},race:function(e){var t=this,r=W(t),n=r.reject,a=P((function(){var a=y(t.resolve);k(e,(function(e){a.call(t,e).then(r.resolve,n)}))}));return a.error&&n(a.value),r.promise}})},(e,t,r)=>{var n=r(10);e.exports=n.Promise},(e,t,r)=>{var n=r(29);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},(e,t,r)=>{"use strict";var n=r(42),a=r(27),i=r(56),o=r(12),s=i("species");e.exports=function(e){var t=n(e),r=a.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},e=>{e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},(e,t,r)=>{var n=r(56)("iterator"),a=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){a=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},(e,t,r)=>{var n=r(28),a=r(78),i=r(56)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[i])?t:a(r)}},(e,t,r)=>{var n,a,i,o=r(10),s=r(13),c=r(77),u=r(64),l=r(25),f=r(96),h=r(97),d=o.location,p=o.setImmediate,g=o.clearImmediate,m=o.process,v=o.MessageChannel,y=o.Dispatch,b=0,w={},k="onreadystatechange",S=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},x=function(e){return function(){S(e)}},A=function(e){S(e.data)},O=function(e){o.postMessage(e+"",d.protocol+"//"+d.host)};p&&g||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(b),b},g=function(e){delete w[e]},h?n=function(e){m.nextTick(x(e))}:y&&y.now?n=function(e){y.now(x(e))}:v&&!f?(i=(a=new v).port2,a.port1.onmessage=A,n=c(i.postMessage,i,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&d&&"file:"!==d.protocol&&!s(O)?(n=O,o.addEventListener("message",A,!1)):n=k in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),S(e)}}:function(e){setTimeout(x(e),0)}),e.exports={set:p,clear:g}},(e,t,r)=>{var n=r(59);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},(e,t,r)=>{var n=r(18),a=r(10);e.exports="process"==n(a.process)},(e,t,r)=>{var n,a,i,o,s,c,u,l,f=r(10),h=r(11).f,d=r(95).set,p=r(96),g=r(99),m=r(97),v=f.MutationObserver||f.WebKitMutationObserver,y=f.document,b=f.process,w=f.Promise,k=h(f,"queueMicrotask"),S=k&&k.value;S||(n=function(){var e,t;for(m&&(e=b.domain)&&e.exit();a;){t=a.fn,a=a.next;try{t()}catch(e){throw a?o():i=void 0,e}}i=void 0,e&&e.enter()},p||m||g||!v||!y?w&&w.resolve?((u=w.resolve(void 0)).constructor=w,l=u.then,o=function(){l.call(u,n)}):o=m?function(){b.nextTick(n)}:function(){d.call(f,n)}:(s=!0,c=y.createTextNode(""),new v(n).observe(c,{characterData:!0}),o=function(){c.data=s=!s})),e.exports=S||function(e){var t={fn:e,next:void 0};i&&(i.next=t),a||(a=t,o()),i=t}},(e,t,r)=>{var n=r(59);e.exports=/web0s(?!.*chrome)/i.test(n)},(e,t,r)=>{var n=r(28),a=r(21),i=r(101);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},(e,t,r)=>{"use strict";var n=r(78),a=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},(e,t,r)=>{var n=r(10);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},e=>{e.exports="object"==typeof window},(e,t,r)=>{"use strict";var n=r(9),a=r(78),i=r(101),o=r(103),s=r(75);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=i.f(t),n=r.resolve,c=r.reject,u=o((function(){var r=a(t.resolve),i=[],o=0,c=1;s(e,(function(e){var a=o++,s=!1;i.push(void 0),c++,r.call(t,e).then((function(e){s||(s=!0,i[a]={status:"fulfilled",value:e},--c||n(i))}),(function(e){s||(s=!0,i[a]={status:"rejected",reason:e},--c||n(i))}))})),--c||n(i)}));return u.error&&c(u.value),r.promise}})},(e,t,r)=>{"use strict";var n=r(9),a=r(78),i=r(42),o=r(101),s=r(103),c=r(75),u="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var t=this,r=o.f(t),n=r.resolve,l=r.reject,f=s((function(){var r=a(t.resolve),o=[],s=0,f=1,h=!1;c(e,(function(e){var a=s++,c=!1;o.push(void 0),f++,r.call(t,e).then((function(e){c||h||(h=!0,n(e))}),(function(e){c||h||(c=!0,o[a]=e,--f||l(new(i("AggregateError"))(o,u)))}))})),--f||l(new(i("AggregateError"))(o,u))}));return f.error&&l(f.value),r.promise}})},(e,t,r)=>{"use strict";var n=r(9),a=r(37),i=r(89),o=r(13),s=r(42),c=r(94),u=r(100),l=r(29);if(n({target:"Promise",proto:!0,real:!0,forced:!!i&&o((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!a&&"function"==typeof i){var f=s("Promise").prototype.finally;i.prototype.finally!==f&&l(i.prototype,"finally",f,{unsafe:!0})}},(e,t,r)=>{"use strict";var n=r(109).charAt,a=r(33),i=r(66),o="String Iterator",s=a.set,c=a.getterFor(o);i(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=c(this),r=t.string,a=t.index;return a>=r.length?{value:void 0,done:!0}:(e=n(r,a),t.index+=e.length,{value:e,done:!1})}))},(e,t,r)=>{var n=r(48),a=r(19),i=function(e){return function(t,r){var i,o,s=String(a(t)),c=n(r),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):i:e?s.slice(c,c+2):o-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},(e,t,r)=>{var n=r(10),a=r(111),i=r(54),o=r(26),s=r(56),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var f in a){var h=n[f],d=h&&h.prototype;if(d){if(d[c]!==l)try{o(d,c,l)}catch(e){d[c]=l}if(d[u]||o(d,u,f),a[f])for(var p in i)if(d[p]!==i[p])try{o(d,p,i[p])}catch(e){d[p]=i[p]}}}},e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t){!function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(e){return"Symbol("+e+")"};function n(){}function a(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:void 0}var i=a();function o(e){return"object"==typeof e&&null!==e||"function"==typeof e}var s=n,c=Promise,u=Promise.prototype.then,l=Promise.resolve.bind(c),f=Promise.reject.bind(c);function h(e){return new c(e)}function d(e){return l(e)}function p(e){return f(e)}function g(e,t,r){return u.call(e,t,r)}function m(e,t,r){g(g(e,t,r),void 0,s)}function v(e,t){m(e,t)}function y(e,t){m(e,void 0,t)}function b(e,t,r){return g(e,t,r)}function w(e){g(e,void 0,s)}var k=function(){var e=i&&i.queueMicrotask;if("function"==typeof e)return e;var t=d(void 0);return function(e){return g(t,e)}}();function S(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function x(e,t,r){try{return d(S(e,t,r))}catch(e){return p(e)}}var A=16384,O=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(e){var t=this._back,r=t;t._elements.length===A-1&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size},e.prototype.shift=function(){var e=this._front,t=e,r=this._cursor,n=r+1,a=e._elements,i=a[r];return n===A&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),a[r]=void 0,i},e.prototype.forEach=function(e){for(var t=this._cursor,r=this._front,n=r._elements;!(t===n.length&&void 0===r._next||t===n.length&&(t=0,0===(n=(r=r._next)._elements).length));)e(n[t]),++t},e.prototype.peek=function(){var e=this._front,t=this._cursor;return e._elements[t]},e}();function C(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?_(e):"closed"===t._state?E(e):I(e,t._storedError)}function T(e,t){return yn(e._ownerReadableStream,t)}function F(e){"readable"===e._ownerReadableStream._state?j(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):R(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function P(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function _(e){e._closedPromise=h((function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function I(e,t){_(e),j(e,t)}function E(e){_(e),M(e)}function j(e,t){void 0!==e._closedPromise_reject&&(w(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function R(e,t){I(e,t)}function M(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var N=t("[[AbortSteps]]"),B=t("[[ErrorSteps]]"),D=t("[[CancelSteps]]"),L=t("[[PullSteps]]"),U=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},q=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function X(e){return"object"==typeof e||"function"==typeof e}function H(e,t){if(void 0!==e&&!X(e))throw new TypeError(t+" is not an object.")}function $(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function.")}function z(e){return"object"==typeof e&&null!==e||"function"==typeof e}function G(e,t){if(!z(e))throw new TypeError(t+" is not an object.")}function W(e,t,r){if(void 0===e)throw new TypeError("Parameter "+t+" is required in '"+r+"'.")}function V(e,t,r){if(void 0===e)throw new TypeError(t+" is required in '"+r+"'.")}function K(e){return Number(e)}function Y(e){return 0===e?0:e}function J(e){return Y(q(e))}function Z(e,t){var r=0,n=Number.MAX_SAFE_INTEGER,a=Number(e);if(a=Y(a),!U(a))throw new TypeError(t+" is not a finite number");if((a=J(a))<r||a>n)throw new TypeError(t+" is outside the accepted range of "+r+" to "+n+", inclusive");return U(a)&&0!==a?a:0}function Q(e,t){if(!mn(e))throw new TypeError(t+" is not a ReadableStream.")}function ee(e){return new se(e)}function te(e,t){e._reader._readRequests.push(t)}function re(e,t,r){var n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function ne(e){return e._reader._readRequests.length}function ae(e){var t=e._reader;return void 0!==t&&!!ce(t)}var ie,oe,se=function(){function e(e){if(W(e,1,"ReadableStreamDefaultReader"),Q(e,"First parameter"),vn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");C(this,e),this._readRequests=new O}return Object.defineProperty(e.prototype,"closed",{get:function(){return ce(this)?this._closedPromise:p(le("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),ce(this)?void 0===this._ownerReadableStream?p(P("cancel")):T(this,e):p(le("cancel"))},e.prototype.read=function(){if(!ce(this))return p(le("read"));if(void 0===this._ownerReadableStream)return p(P("read from"));var e,t,r=h((function(r,n){e=r,t=n}));return ue(this,{_chunkSteps:function(t){return e({value:t,done:!1})},_closeSteps:function(){return e({value:void 0,done:!0})},_errorSteps:function(e){return t(e)}}),r},e.prototype.releaseLock=function(){if(!ce(this))throw le("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},e}();function ce(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function ue(e,t){var r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[L](t)}function le(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties(se.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(se.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof t.asyncIterator&&((ie={})[t.asyncIterator]=function(){return this},oe=ie,Object.defineProperty(oe,t.asyncIterator,{enumerable:!1}));var fe=function(){function e(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}return e.prototype.next=function(){var e=this,t=function(){return e._nextSteps()};return this._ongoingPromise=this._ongoingPromise?b(this._ongoingPromise,t,t):t(),this._ongoingPromise},e.prototype.return=function(e){var t=this,r=function(){return t._returnSteps(e)};return this._ongoingPromise?b(this._ongoingPromise,r,r):r()},e.prototype._nextSteps=function(){var e=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var t,r,n=this._reader;if(void 0===n._ownerReadableStream)return p(P("iterate"));var a=h((function(e,n){t=e,r=n}));return ue(n,{_chunkSteps:function(r){e._ongoingPromise=void 0,k((function(){return t({value:r,done:!1})}))},_closeSteps:function(){e._ongoingPromise=void 0,e._isFinished=!0,F(n),t({value:void 0,done:!0})},_errorSteps:function(t){e._ongoingPromise=void 0,e._isFinished=!0,F(n),r(t)}}),a},e.prototype._returnSteps=function(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;var t=this._reader;if(void 0===t._ownerReadableStream)return p(P("finish iterating"));if(!this._preventCancel){var r=T(t,e);return F(t),b(r,(function(){return{value:e,done:!0}}))}return F(t),d({value:e,done:!0})},e}(),he={next:function(){return pe(this)?this._asyncIteratorImpl.next():p(ge("next"))},return:function(e){return pe(this)?this._asyncIteratorImpl.return(e):p(ge("return"))}};function de(e,t){var r=ee(e),n=new fe(r,t),a=Object.create(he);return a._asyncIteratorImpl=n,a}function pe(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")}function ge(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}void 0!==oe&&Object.setPrototypeOf(he,oe);var me=Number.isNaN||function(e){return e!=e};function ve(e){return!!ye(e)&&e!==1/0}function ye(e){return!("number"!=typeof e||me(e)||e<0)}function be(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function we(e,t,r){if(!ve(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function ke(e){return e._queue.peek().value}function Se(e){e._queue=new O,e._queueTotalSize=0}function xe(e){return e.slice()}function Ae(e,t,r,n,a){new Uint8Array(e).set(new Uint8Array(r,n,a),t)}function Oe(e){return e}function Ce(e){return!1}var Te=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!_e(this))throw nt("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(e){if(!_e(this))throw nt("respond");if(W(e,1,"respond"),e=Z(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");Ce(this._view.buffer),Ze(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!_e(this))throw nt("respondWithNewView");if(W(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");Qe(this._associatedReadableByteStreamController,e)},e}();Object.defineProperties(Te.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Te.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Fe=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!Pe(this))throw at("byobRequest");if(null===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(Te.prototype);rt(r,this,t),this._byobRequest=r}return this._byobRequest},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Pe(this))throw at("desiredSize");return Je(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!Pe(this))throw at("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");Ve(this)},e.prototype.enqueue=function(e){if(!Pe(this))throw at("enqueue");if(W(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");Ke(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!Pe(this))throw at("error");Ye(this,e)},e.prototype[D]=function(e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),Se(this);var t=this._cancelAlgorithm(e);return We(this),t},e.prototype[L]=function(e){var t=this._controlledReadableByteStream;if(this._queueTotalSize>0){var r=this._queue.shift();this._queueTotalSize-=r.byteLength,De(this);var n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);e._chunkSteps(n)}else{var a=this._autoAllocateChunkSize;if(void 0!==a){var i=void 0;try{i=new ArrayBuffer(a)}catch(t){return void e._errorSteps(t)}var o={buffer:i,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}te(t,e),Ie(this)}},e}();function Pe(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function _e(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function Ie(e){Ge(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,m(e._pullAlgorithm(),(function(){e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ie(e))}),(function(t){Ye(e,t)}))))}function Ee(e){Le(e),e._pendingPullIntos=new O}function je(e,t){var r=!1;"closed"===e._state&&(r=!0);var n=Re(t);"default"===t.readerType?re(e,n,r):st(e,n,r)}function Re(e){var t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Me(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Ne(e,t){var r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,a=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+a,o=i-i%r,s=a,c=!1;o>n&&(s=o-t.bytesFilled,c=!0);for(var u=e._queue;s>0;){var l=u.peek(),f=Math.min(s,l.byteLength),h=t.byteOffset+t.bytesFilled;Ae(t.buffer,h,l.buffer,l.byteOffset,f),l.byteLength===f?u.shift():(l.byteOffset+=f,l.byteLength-=f),e._queueTotalSize-=f,Be(e,f,t),s-=f}return c}function Be(e,t,r){Le(e),r.bytesFilled+=t}function De(e){0===e._queueTotalSize&&e._closeRequested?(We(e),bn(e._controlledReadableByteStream)):Ie(e)}function Le(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ue(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();Ne(e,t)&&(ze(e),je(e._controlledReadableByteStream,t))}}function qe(e,t,r){var n=e._controlledReadableByteStream,a=1;t.constructor!==DataView&&(a=t.constructor.BYTES_PER_ELEMENT);var i=t.constructor,o={buffer:Oe(t.buffer),byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:a,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(o),void ot(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(Ne(e,o)){var s=Re(o);return De(e),void r._chunkSteps(s)}if(e._closeRequested){var c=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ye(e,c),void r._errorSteps(c)}}e._pendingPullIntos.push(o),ot(n,r),Ie(e)}else{var u=new i(o.buffer,o.byteOffset,0);r._closeSteps(u)}}function Xe(e,t){t.buffer=Oe(t.buffer);var r=e._controlledReadableByteStream;if(ut(r))for(;ct(r)>0;)je(r,ze(e))}function He(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(Be(e,t,r),!(r.bytesFilled<r.elementSize)){ze(e);var n=r.bytesFilled%r.elementSize;if(n>0){var a=r.byteOffset+r.bytesFilled,i=r.buffer.slice(a-n,a);Me(e,i,0,i.byteLength)}r.buffer=Oe(r.buffer),r.bytesFilled-=n,je(e._controlledReadableByteStream,r),Ue(e)}}function $e(e,t){var r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");Xe(e,r)}else He(e,t,r);Ie(e)}function ze(e){var t=e._pendingPullIntos.shift();return Le(e),t}function Ge(e){var t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&(!!(ae(t)&&ne(t)>0)||!!(ut(t)&&ct(t)>0)||Je(e)>0)}function We(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ve(e){var t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){var r=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ye(e,r),r}We(e),bn(t)}}function Ke(e,t){var r=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===r._state){var n=t.buffer,a=t.byteOffset,i=t.byteLength,o=Oe(n);ae(r)?0===ne(r)?Me(e,o,a,i):re(r,new Uint8Array(o,a,i),!1):ut(r)?(Me(e,o,a,i),Ue(e)):Me(e,o,a,i),Ie(e)}}function Ye(e,t){var r=e._controlledReadableByteStream;"readable"===r._state&&(Ee(e),Se(e),We(e),wn(r,t))}function Je(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Ze(e,t){if(!ve(t=Number(t)))throw new RangeError("bytesWritten must be a finite");$e(e,t)}function Qe(e,t){var r=e._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,$e(e,t.byteLength)}function et(e,t,r,n,a,i,o){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Se(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=a,t._autoAllocateChunkSize=o,t._pendingPullIntos=new O,e._readableStreamController=t,m(d(r()),(function(){t._started=!0,Ie(t)}),(function(e){Ye(t,e)}))}function tt(e,t,r){var n=Object.create(Fe.prototype),a=function(){},i=function(){return d(void 0)},o=function(){return d(void 0)};void 0!==t.start&&(a=function(){return t.start(n)}),void 0!==t.pull&&(i=function(){return t.pull(n)}),void 0!==t.cancel&&(o=function(e){return t.cancel(e)});var s=t.autoAllocateChunkSize;if(0===s)throw new TypeError("autoAllocateChunkSize must be greater than 0");et(e,n,a,i,o,r,s)}function rt(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}function nt(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function at(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function it(e){return new lt(e)}function ot(e,t){e._reader._readIntoRequests.push(t)}function st(e,t,r){var n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}function ct(e){return e._reader._readIntoRequests.length}function ut(e){var t=e._reader;return void 0!==t&&!!ft(t)}Object.defineProperties(Fe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Fe.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var lt=function(){function e(e){if(W(e,1,"ReadableStreamBYOBReader"),Q(e,"First parameter"),vn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Pe(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");C(this,e),this._readIntoRequests=new O}return Object.defineProperty(e.prototype,"closed",{get:function(){return ft(this)?this._closedPromise:p(dt("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),ft(this)?void 0===this._ownerReadableStream?p(P("cancel")):T(this,e):p(dt("cancel"))},e.prototype.read=function(e){if(!ft(this))return p(dt("read"));if(!ArrayBuffer.isView(e))return p(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return p(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return p(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return p(P("read from"));var t,r,n=h((function(e,n){t=e,r=n}));return ht(this,e,{_chunkSteps:function(e){return t({value:e,done:!1})},_closeSteps:function(e){return t({value:e,done:!0})},_errorSteps:function(e){return r(e)}}),n},e.prototype.releaseLock=function(){if(!ft(this))throw dt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},e}();function ft(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function ht(e,t,r){var n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):qe(n._readableStreamController,t,r)}function dt(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function pt(e,t){var r=e.highWaterMark;if(void 0===r)return t;if(me(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function gt(e){var t=e.size;return t||function(){return 1}}function mt(e,t){H(e,t);var r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:K(r),size:void 0===n?void 0:vt(n,t+" has member 'size' that")}}function vt(e,t){return $(e,t),function(t){return K(e(t))}}function yt(e,t){H(e,t);var r=null==e?void 0:e.abort,n=null==e?void 0:e.close,a=null==e?void 0:e.start,i=null==e?void 0:e.type,o=null==e?void 0:e.write;return{abort:void 0===r?void 0:bt(r,e,t+" has member 'abort' that"),close:void 0===n?void 0:wt(n,e,t+" has member 'close' that"),start:void 0===a?void 0:kt(a,e,t+" has member 'start' that"),write:void 0===o?void 0:St(o,e,t+" has member 'write' that"),type:i}}function bt(e,t,r){return $(e,r),function(r){return x(e,t,[r])}}function wt(e,t,r){return $(e,r),function(){return x(e,t,[])}}function kt(e,t,r){return $(e,r),function(r){return S(e,t,[r])}}function St(e,t,r){return $(e,r),function(r,n){return x(e,t,[r,n])}}function xt(e,t){if(!Ft(e))throw new TypeError(t+" is not a WritableStream.")}Object.defineProperties(lt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(lt.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var At=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:G(e,"First parameter");var r=mt(t,"Second parameter"),n=yt(e,"First parameter");if(Tt(this),void 0!==n.type)throw new RangeError("Invalid type is specified");var a=gt(r);or(this,n,pt(r,1),a)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!Ft(this))throw yr("locked");return Pt(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return void 0===e&&(e=void 0),Ft(this)?Pt(this)?p(new TypeError("Cannot abort a stream that already has a writer")):_t(this,e):p(yr("abort"))},e.prototype.close=function(){return Ft(this)?Pt(this)?p(new TypeError("Cannot close a stream that already has a writer")):Ut(this)?p(new TypeError("Cannot close an already-closing stream")):It(this):p(yr("close"))},e.prototype.getWriter=function(){if(!Ft(this))throw yr("getWriter");return Ot(this)},e}();function Ot(e){return new Gt(e)}function Ct(e,t,r,n,a,i){void 0===a&&(a=1),void 0===i&&(i=function(){return 1});var o=Object.create(At.prototype);return Tt(o),ir(o,Object.create(nr.prototype),e,t,r,n,a,i),o}function Tt(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new O,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Ft(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function Pt(e){return void 0!==e._writer}function _t(e,t){var r=e._state;if("closed"===r||"errored"===r)return d(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var n=!1;"erroring"===r&&(n=!0,t=void 0);var a=h((function(r,a){e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:a,_reason:t,_wasAlreadyErroring:n}}));return e._pendingAbortRequest._promise=a,n||Rt(e,t),a}function It(e){var t=e._state;if("closed"===t||"errored"===t)return p(new TypeError("The stream (in "+t+" state) is not in the writable state and cannot be closed"));var r=h((function(t,r){var n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;return void 0!==n&&e._backpressure&&"writable"===t&&jr(n),cr(e._writableStreamController),r}function Et(e){return h((function(t,r){var n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}function jt(e,t){"writable"!==e._state?Mt(e):Rt(e,t)}function Rt(e,t){var r=e._writableStreamController;e._state="erroring",e._storedError=t;var n=e._writer;void 0!==n&&Zt(n,t),!qt(e)&&r._started&&Mt(e)}function Mt(e){e._state="errored",e._writableStreamController[B]();var t=e._storedError;if(e._writeRequests.forEach((function(e){e._reject(t)})),e._writeRequests=new O,void 0!==e._pendingAbortRequest){var r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void $t(e);m(e._writableStreamController[N](r._reason),(function(){r._resolve(),$t(e)}),(function(t){r._reject(t),$t(e)}))}else $t(e)}function Nt(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Bt(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,jt(e,t)}function Dt(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var t=e._writer;void 0!==t&&Cr(t)}function Lt(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),jt(e,t)}function Ut(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function qt(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function Xt(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Ht(e){e._inFlightWriteRequest=e._writeRequests.shift()}function $t(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&Ar(t,e._storedError)}function zt(e,t){var r=e._writer;void 0!==r&&t!==e._backpressure&&(t?Ir(r):jr(r)),e._backpressure=t}Object.defineProperties(At.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(At.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});var Gt=function(){function e(e){if(W(e,1,"WritableStreamDefaultWriter"),xt(e,"First parameter"),Pt(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var t=e._state;if("writable"===t)!Ut(e)&&e._backpressure?Tr(this):Pr(this),kr(this);else if("erroring"===t)Fr(this,e._storedError),kr(this);else if("closed"===t)Pr(this),xr(this);else{var r=e._storedError;Fr(this,r),Sr(this,r)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return Wt(this)?this._closedPromise:p(br("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Wt(this))throw br("desiredSize");if(void 0===this._ownerWritableStream)throw wr("desiredSize");return Qt(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return Wt(this)?this._readyPromise:p(br("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return void 0===e&&(e=void 0),Wt(this)?void 0===this._ownerWritableStream?p(wr("abort")):Vt(this,e):p(br("abort"))},e.prototype.close=function(){if(!Wt(this))return p(br("close"));var e=this._ownerWritableStream;return void 0===e?p(wr("close")):Ut(e)?p(new TypeError("Cannot close an already-closing stream")):Kt(this)},e.prototype.releaseLock=function(){if(!Wt(this))throw br("releaseLock");void 0!==this._ownerWritableStream&&er(this)},e.prototype.write=function(e){return void 0===e&&(e=void 0),Wt(this)?void 0===this._ownerWritableStream?p(wr("write to")):tr(this,e):p(br("write"))},e}();function Wt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function Vt(e,t){return _t(e._ownerWritableStream,t)}function Kt(e){return It(e._ownerWritableStream)}function Yt(e){var t=e._ownerWritableStream,r=t._state;return Ut(t)||"closed"===r?d(void 0):"errored"===r?p(t._storedError):Kt(e)}function Jt(e,t){"pending"===e._closedPromiseState?Ar(e,t):Or(e,t)}function Zt(e,t){"pending"===e._readyPromiseState?_r(e,t):Er(e,t)}function Qt(e){var t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:lr(t._writableStreamController)}function er(e){var t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Zt(e,r),Jt(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function tr(e,t){var r=e._ownerWritableStream,n=r._writableStreamController,a=ur(n,t);if(r!==e._ownerWritableStream)return p(wr("write to"));var i=r._state;if("errored"===i)return p(r._storedError);if(Ut(r)||"closed"===i)return p(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return p(r._storedError);var o=Et(r);return fr(n,t,a),o}Object.defineProperties(Gt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Gt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var rr={},nr=function(){function e(){throw new TypeError("Illegal constructor")}return e.prototype.error=function(e){if(void 0===e&&(e=void 0),!ar(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&vr(this,e)},e.prototype[N]=function(e){var t=this._abortAlgorithm(e);return sr(this),t},e.prototype[B]=function(){Se(this)},e}();function ar(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")}function ir(e,t,r,n,a,i,o,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Se(t),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._writeAlgorithm=n,t._closeAlgorithm=a,t._abortAlgorithm=i;var c=mr(t);zt(e,c),m(d(r()),(function(){t._started=!0,hr(t)}),(function(r){t._started=!0,jt(e,r)}))}function or(e,t,r,n){var a=Object.create(nr.prototype),i=function(){},o=function(){return d(void 0)},s=function(){return d(void 0)},c=function(){return d(void 0)};void 0!==t.start&&(i=function(){return t.start(a)}),void 0!==t.write&&(o=function(e){return t.write(e,a)}),void 0!==t.close&&(s=function(){return t.close()}),void 0!==t.abort&&(c=function(e){return t.abort(e)}),ir(e,a,i,o,s,c,r,n)}function sr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function cr(e){we(e,rr,0),hr(e)}function ur(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return dr(e,t),1}}function lr(e){return e._strategyHWM-e._queueTotalSize}function fr(e,t,r){try{we(e,t,r)}catch(t){return void dr(e,t)}var n=e._controlledWritableStream;Ut(n)||"writable"!==n._state||zt(n,mr(e)),hr(e)}function hr(e){var t=e._controlledWritableStream;if(e._started&&void 0===t._inFlightWriteRequest)if("erroring"!==t._state){if(0!==e._queue.length){var r=ke(e);r===rr?pr(e):gr(e,r)}}else Mt(t)}function dr(e,t){"writable"===e._controlledWritableStream._state&&vr(e,t)}function pr(e){var t=e._controlledWritableStream;Xt(t),be(e);var r=e._closeAlgorithm();sr(e),m(r,(function(){Dt(t)}),(function(e){Lt(t,e)}))}function gr(e,t){var r=e._controlledWritableStream;Ht(r),m(e._writeAlgorithm(t),(function(){Nt(r);var t=r._state;if(be(e),!Ut(r)&&"writable"===t){var n=mr(e);zt(r,n)}hr(e)}),(function(t){"writable"===r._state&&sr(e),Bt(r,t)}))}function mr(e){return lr(e)<=0}function vr(e,t){var r=e._controlledWritableStream;sr(e),Rt(r,t)}function yr(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function br(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function wr(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function kr(e){e._closedPromise=h((function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function Sr(e,t){kr(e),Ar(e,t)}function xr(e){kr(e),Cr(e)}function Ar(e,t){void 0!==e._closedPromise_reject&&(w(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Or(e,t){Sr(e,t)}function Cr(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Tr(e){e._readyPromise=h((function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function Fr(e,t){Tr(e),_r(e,t)}function Pr(e){Tr(e),jr(e)}function _r(e,t){void 0!==e._readyPromise_reject&&(w(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Ir(e){Tr(e)}function Er(e,t){Fr(e,t)}function jr(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}function Rr(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}Object.defineProperties(nr.prototype,{error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(nr.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Mr="undefined"!=typeof DOMException?DOMException:void 0;function Nr(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}function Br(){var e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}var Dr=Nr(Mr)?Mr:Br();function Lr(e,t,r,a,i,o){var s=ee(e),c=Ot(t);e._disturbed=!0;var u=!1,l=d(void 0);return h((function(f,p){var b;if(void 0!==o){if(b=function(){var r=new Dr("Aborted","AbortError"),n=[];a||n.push((function(){return"writable"===t._state?_t(t,r):d(void 0)})),i||n.push((function(){return"readable"===e._state?yn(e,r):d(void 0)})),T((function(){return Promise.all(n.map((function(e){return e()})))}),!0,r)},o.aborted)return void b();o.addEventListener("abort",b)}function k(){return h((function(e,t){function r(n){n?e():g(S(),r,t)}r(!1)}))}function S(){return u?d(!0):g(c._readyPromise,(function(){return h((function(e,t){ue(s,{_chunkSteps:function(t){l=g(tr(c,t),void 0,n),e(!1)},_closeSteps:function(){return e(!0)},_errorSteps:t})}))}))}if(O(e,s._closedPromise,(function(e){a?P(!0,e):T((function(){return _t(t,e)}),!0,e)})),O(t,c._closedPromise,(function(t){i?P(!0,t):T((function(){return yn(e,t)}),!0,t)})),C(e,s._closedPromise,(function(){r?P():T((function(){return Yt(c)}))})),Ut(t)||"closed"===t._state){var x=new TypeError("the destination writable stream closed before all data could be piped to it");i?P(!0,x):T((function(){return yn(e,x)}),!0,x)}function A(){var e=l;return g(l,(function(){return e!==l?A():void 0}))}function O(e,t,r){"errored"===e._state?r(e._storedError):y(t,r)}function C(e,t,r){"closed"===e._state?r():v(t,r)}function T(e,r,n){function a(){m(e(),(function(){return _(r,n)}),(function(e){return _(!0,e)}))}u||(u=!0,"writable"!==t._state||Ut(t)?a():v(A(),a))}function P(e,r){u||(u=!0,"writable"!==t._state||Ut(t)?_(e,r):v(A(),(function(){return _(e,r)})))}function _(e,t){er(c),F(s),void 0!==o&&o.removeEventListener("abort",b),e?p(t):f(void 0)}w(k())}))}var Ur=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!qr(this))throw Qr("desiredSize");return Vr(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!qr(this))throw Qr("close");if(!Yr(this))throw new TypeError("The stream is not in a state that permits close");zr(this)},e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!qr(this))throw Qr("enqueue");if(!Yr(this))throw new TypeError("The stream is not in a state that permits enqueue");return Gr(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!qr(this))throw Qr("error");Wr(this,e)},e.prototype[D]=function(e){Se(this);var t=this._cancelAlgorithm(e);return $r(this),t},e.prototype[L]=function(e){var t=this._controlledReadableStream;if(this._queue.length>0){var r=be(this);this._closeRequested&&0===this._queue.length?($r(this),bn(t)):Xr(this),e._chunkSteps(r)}else te(t,e),Xr(this)},e}();function qr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function Xr(e){Hr(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,m(e._pullAlgorithm(),(function(){e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Xr(e))}),(function(t){Wr(e,t)}))))}function Hr(e){var t=e._controlledReadableStream;return!!Yr(e)&&!!e._started&&(!!(vn(t)&&ne(t)>0)||Vr(e)>0)}function $r(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function zr(e){if(Yr(e)){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&($r(e),bn(t))}}function Gr(e,t){if(Yr(e)){var r=e._controlledReadableStream;if(vn(r)&&ne(r)>0)re(r,t,!1);else{var n=void 0;try{n=e._strategySizeAlgorithm(t)}catch(t){throw Wr(e,t),t}try{we(e,t,n)}catch(t){throw Wr(e,t),t}}Xr(e)}}function Wr(e,t){var r=e._controlledReadableStream;"readable"===r._state&&(Se(e),$r(e),wn(r,t))}function Vr(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Kr(e){return!Hr(e)}function Yr(e){var t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function Jr(e,t,r,n,a,i,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Se(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=a,e._readableStreamController=t,m(d(r()),(function(){t._started=!0,Xr(t)}),(function(e){Wr(t,e)}))}function Zr(e,t,r,n){var a=Object.create(Ur.prototype),i=function(){},o=function(){return d(void 0)},s=function(){return d(void 0)};void 0!==t.start&&(i=function(){return t.start(a)}),void 0!==t.pull&&(o=function(){return t.pull(a)}),void 0!==t.cancel&&(s=function(e){return t.cancel(e)}),Jr(e,a,i,o,s,r,n)}function Qr(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function en(e,t){var r,n,a,i,o,s=ee(e),c=!1,u=!1,l=!1,f=h((function(e){o=e}));function p(){return c||(c=!0,ue(s,{_chunkSteps:function(e){k((function(){c=!1;var t=e,r=e;u||Gr(a._readableStreamController,t),l||Gr(i._readableStreamController,r)}))},_closeSteps:function(){c=!1,u||zr(a._readableStreamController),l||zr(i._readableStreamController),u&&l||o(void 0)},_errorSteps:function(){c=!1}})),d(void 0)}function g(t){if(u=!0,r=t,l){var a=xe([r,n]),i=yn(e,a);o(i)}return f}function m(t){if(l=!0,n=t,u){var a=xe([r,n]),i=yn(e,a);o(i)}return f}function v(){}return a=pn(v,p,g),i=pn(v,p,m),y(s._closedPromise,(function(e){Wr(a._readableStreamController,e),Wr(i._readableStreamController,e),u&&l||o(void 0)})),[a,i]}function tn(e,t){H(e,t);var r=e,n=null==r?void 0:r.autoAllocateChunkSize,a=null==r?void 0:r.cancel,i=null==r?void 0:r.pull,o=null==r?void 0:r.start,s=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:Z(n,t+" has member 'autoAllocateChunkSize' that"),cancel:void 0===a?void 0:rn(a,r,t+" has member 'cancel' that"),pull:void 0===i?void 0:nn(i,r,t+" has member 'pull' that"),start:void 0===o?void 0:an(o,r,t+" has member 'start' that"),type:void 0===s?void 0:on(s,t+" has member 'type' that")}}function rn(e,t,r){return $(e,r),function(r){return x(e,t,[r])}}function nn(e,t,r){return $(e,r),function(r){return x(e,t,[r])}}function an(e,t,r){return $(e,r),function(r){return S(e,t,[r])}}function on(e,t){if("bytes"!=(e=""+e))throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamType");return e}function sn(e,t){H(e,t);var r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:cn(r,t+" has member 'mode' that")}}function cn(e,t){if("byob"!=(e=""+e))throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamReaderMode");return e}function un(e,t){H(e,t);var r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}function ln(e,t){H(e,t);var r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,a=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&fn(i,t+" has member 'signal' that"),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(a),signal:i}}function fn(e,t){if(!Rr(e))throw new TypeError(t+" is not an AbortSignal.")}function hn(e,t){H(e,t);var r=null==e?void 0:e.readable;V(r,"readable","ReadableWritablePair"),Q(r,t+" has member 'readable' that");var n=null==e?void 0:e.writable;return V(n,"writable","ReadableWritablePair"),xt(n,t+" has member 'writable' that"),{readable:r,writable:n}}Object.defineProperties(Ur.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ur.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var dn=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:G(e,"First parameter");var r=mt(t,"Second parameter"),n=tn(e,"First parameter");if(gn(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");tt(this,n,pt(r,0))}else{var a=gt(r);Zr(this,n,pt(r,1),a)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!mn(this))throw kn("locked");return vn(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),mn(this)?vn(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):yn(this,e):p(kn("cancel"))},e.prototype.getReader=function(e){if(void 0===e&&(e=void 0),!mn(this))throw kn("getReader");return void 0===sn(e,"First parameter").mode?ee(this):it(this)},e.prototype.pipeThrough=function(e,t){if(void 0===t&&(t={}),!mn(this))throw kn("pipeThrough");W(e,1,"pipeThrough");var r=hn(e,"First parameter"),n=ln(t,"Second parameter");if(vn(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Pt(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return w(Lr(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable},e.prototype.pipeTo=function(e,t){if(void 0===t&&(t={}),!mn(this))return p(kn("pipeTo"));if(void 0===e)return p("Parameter 1 is required in 'pipeTo'.");if(!Ft(e))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var r;try{r=ln(t,"Second parameter")}catch(e){return p(e)}return vn(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Pt(e)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Lr(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)},e.prototype.tee=function(){if(!mn(this))throw kn("tee");return xe(en(this))},e.prototype.values=function(e){if(void 0===e&&(e=void 0),!mn(this))throw kn("values");return de(this,un(e,"First parameter").preventCancel)},e}();function pn(e,t,r,n,a){void 0===n&&(n=1),void 0===a&&(a=function(){return 1});var i=Object.create(dn.prototype);return gn(i),Jr(i,Object.create(Ur.prototype),e,t,r,n,a),i}function gn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function mn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function vn(e){return void 0!==e._reader}function yn(e,t){return e._disturbed=!0,"closed"===e._state?d(void 0):"errored"===e._state?p(e._storedError):(bn(e),b(e._readableStreamController[D](t),n))}function bn(e){e._state="closed";var t=e._reader;void 0!==t&&(M(t),ce(t)&&(t._readRequests.forEach((function(e){e._closeSteps()})),t._readRequests=new O))}function wn(e,t){e._state="errored",e._storedError=t;var r=e._reader;void 0!==r&&(j(r,t),ce(r)?(r._readRequests.forEach((function(e){e._errorSteps(t)})),r._readRequests=new O):(r._readIntoRequests.forEach((function(e){e._errorSteps(t)})),r._readIntoRequests=new O))}function kn(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function Sn(e,t){H(e,t);var r=null==e?void 0:e.highWaterMark;return V(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:K(r)}}Object.defineProperties(dn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(dn.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(dn.prototype,t.asyncIterator,{value:dn.prototype.values,writable:!0,configurable:!0});var xn=function(e){return e.byteLength},An=function(){function e(e){W(e,1,"ByteLengthQueuingStrategy"),e=Sn(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Cn(this))throw On("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!Cn(this))throw On("size");return xn},enumerable:!1,configurable:!0}),e}();function On(e){return new TypeError("ByteLengthQueuingStrategy.prototype."+e+" can only be used on a ByteLengthQueuingStrategy")}function Cn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(An.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(An.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Tn=function(){return 1},Fn=function(){function e(e){W(e,1,"CountQueuingStrategy"),e=Sn(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!_n(this))throw Pn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!_n(this))throw Pn("size");return Tn},enumerable:!1,configurable:!0}),e}();function Pn(e){return new TypeError("CountQueuingStrategy.prototype."+e+" can only be used on a CountQueuingStrategy")}function _n(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")}function In(e,t){H(e,t);var r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,a=null==e?void 0:e.start,i=null==e?void 0:e.transform,o=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:En(r,e,t+" has member 'flush' that"),readableType:n,start:void 0===a?void 0:jn(a,e,t+" has member 'start' that"),transform:void 0===i?void 0:Rn(i,e,t+" has member 'transform' that"),writableType:o}}function En(e,t,r){return $(e,r),function(r){return x(e,t,[r])}}function jn(e,t,r){return $(e,r),function(r){return S(e,t,[r])}}function Rn(e,t,r){return $(e,r),function(r,n){return x(e,t,[r,n])}}Object.defineProperties(Fn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Fn.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Mn=function(){function e(e,t,r){void 0===e&&(e={}),void 0===t&&(t={}),void 0===r&&(r={}),void 0===e&&(e=null);var n=mt(t,"Second parameter"),a=mt(r,"Third parameter"),i=In(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");var o,s=pt(a,0),c=gt(a),u=pt(n,1),l=gt(n);Nn(this,h((function(e){o=e})),u,l,s,c),$n(this,i),void 0!==i.start?o(i.start(this._transformStreamController)):o(void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!Bn(this))throw ta("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!Bn(this))throw ta("writable");return this._writable},enumerable:!1,configurable:!0}),e}();function Nn(e,t,r,n,a,i){function o(){return t}function s(t){return Yn(e,t)}function c(t){return Jn(e,t)}function u(){return Zn(e)}function l(){return Qn(e)}function f(t){return Ln(e,t),d(void 0)}e._writable=Ct(o,s,u,c,r,n),e._readable=pn(o,l,f,a,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Un(e,!0),e._transformStreamController=void 0}function Bn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function Dn(e,t){Wr(e._readable._readableStreamController,t),Ln(e,t)}function Ln(e,t){zn(e._transformStreamController),dr(e._writable._writableStreamController,t),e._backpressure&&Un(e,!1)}function Un(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=h((function(t){e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Mn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Mn.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});var qn=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Xn(this))throw ea("desiredSize");return Vr(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!Xn(this))throw ea("enqueue");Gn(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!Xn(this))throw ea("error");Wn(this,e)},e.prototype.terminate=function(){if(!Xn(this))throw ea("terminate");Kn(this)},e}();function Xn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function Hn(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}function $n(e,t){var r=Object.create(qn.prototype),n=function(e){try{return Gn(r,e),d(void 0)}catch(e){return p(e)}},a=function(){return d(void 0)};void 0!==t.transform&&(n=function(e){return t.transform(e,r)}),void 0!==t.flush&&(a=function(){return t.flush(r)}),Hn(e,r,n,a)}function zn(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Gn(e,t){var r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!Yr(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{Gr(n,t)}catch(e){throw Ln(r,e),r._readable._storedError}Kr(n)!==r._backpressure&&Un(r,!0)}function Wn(e,t){Dn(e._controlledTransformStream,t)}function Vn(e,t){return b(e._transformAlgorithm(t),void 0,(function(t){throw Dn(e._controlledTransformStream,t),t}))}function Kn(e){var t=e._controlledTransformStream;zr(t._readable._readableStreamController),Ln(t,new TypeError("TransformStream terminated"))}function Yn(e,t){var r=e._transformStreamController;return e._backpressure?b(e._backpressureChangePromise,(function(){var n=e._writable;if("erroring"===n._state)throw n._storedError;return Vn(r,t)})):Vn(r,t)}function Jn(e,t){return Dn(e,t),d(void 0)}function Zn(e){var t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return zn(r),b(n,(function(){if("errored"===t._state)throw t._storedError;zr(t._readableStreamController)}),(function(r){throw Dn(e,r),t._storedError}))}function Qn(e){return Un(e,!1),e._backpressureChangePromise}function ea(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function ta(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}Object.defineProperties(qn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(qn.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=An,e.CountQueuingStrategy=Fn,e.ReadableByteStreamController=Fe,e.ReadableStream=dn,e.ReadableStreamBYOBReader=lt,e.ReadableStreamBYOBRequest=Te,e.ReadableStreamDefaultController=Ur,e.ReadableStreamDefaultReader=se,e.TransformStream=Mn,e.TransformStreamDefaultController=qn,e.WritableStream=At,e.WritableStreamDefaultController=nr,e.WritableStreamDefaultWriter=Gt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearPrimitiveCaches=function(){b._clearCache(),v._clearCache(),x._clearCache()},t.isCmd=function(e,t){return e instanceof b&&(void 0===t||e.cmd===t)},t.isDict=function(e,t){return e instanceof k&&(void 0===t||C(e.get("Type"),t))},t.isEOF=function(e){return e===g},t.isName=C,t.isRef=function(e){return e instanceof x},t.isRefsEqual=function(e,t){return e.num===t.num&&e.gen===t.gen},t.isStream=function(e){return e instanceof o.BaseStream},t.RefSetCache=t.RefSet=t.Ref=t.Name=t.EOF=t.Dict=t.Cmd=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4),o=r(114);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}var g={};t.EOF=g;var m,v=(m=Object.create(null),function(){function e(t){h(this,e),this.name=t}return p(e,null,[{key:"get",value:function(t){var r=m[t];return r||(m[t]=new e(t))}},{key:"_clearCache",value:function(){m=Object.create(null)}}]),e}());t.Name=v;var y,b=(y=Object.create(null),function(){function e(t){h(this,e),this.cmd=t}return p(e,null,[{key:"get",value:function(t){var r=y[t];return r||(y[t]=new e(t))}},{key:"_clearCache",value:function(){y=Object.create(null)}}]),e}());t.Cmd=b;var w=function(){return w},k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;h(this,e),this._map=Object.create(null),this.xref=t,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=w}var t,r;return p(e,[{key:"assignXref",value:function(e){this.xref=e}},{key:"size",get:function(){return Object.keys(this._map).length}},{key:"get",value:function(e,t,r){var n=this._map[e];return void 0===n&&void 0!==t&&void 0===(n=this._map[t])&&void 0!==r&&(n=this._map[r]),n instanceof x&&this.xref?this.xref.fetch(n,this.suppressEncryption):n}},{key:"getAsync",value:(t=a.default.mark((function e(t,r,n){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(i=this._map[t])&&void 0!==r&&void 0===(i=this._map[r])&&void 0!==n&&(i=this._map[n]),!(i instanceof x&&this.xref)){e.next=4;break}return e.abrupt("return",this.xref.fetchAsync(i,this.suppressEncryption));case 4:return e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(e){f(i,n,a,o,s,"next",e)}function s(e){f(i,n,a,o,s,"throw",e)}o(void 0)}))},function(e,t,n){return r.apply(this,arguments)})},{key:"getArray",value:function(e,t,r){var n=this._map[e];if(void 0===n&&void 0!==t&&void 0===(n=this._map[t])&&void 0!==r&&(n=this._map[r]),n instanceof x&&this.xref&&(n=this.xref.fetch(n,this.suppressEncryption)),Array.isArray(n))for(var a=0,i=(n=n.slice()).length;a<i;a++)n[a]instanceof x&&this.xref&&(n[a]=this.xref.fetch(n[a],this.suppressEncryption));return n}},{key:"getRaw",value:function(e){return this._map[e]}},{key:"getKeys",value:function(){return Object.keys(this._map)}},{key:"getRawValues",value:function(){return Object.values(this._map)}},{key:"set",value:function(e,t){this._map[e]=t}},{key:"has",value:function(e){return void 0!==this._map[e]}},{key:"forEach",value:function(e){for(var t in this._map)e(t,this.get(t))}}],[{key:"empty",get:function(){var t=new e(null);return t.set=function(e,t){(0,i.unreachable)("Should not call \`set\` on the empty dictionary.")},(0,i.shadow)(this,"empty",t)}},{key:"merge",value:function(t){var r=t.xref,n=t.dictArray,a=t.mergeSubDicts,i=void 0!==a&&a,o=new e(r);if(!i){var u,l=c(n);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(f instanceof e)for(var h=0,d=Object.entries(f._map);h<d.length;h++){var p=s(d[h],2),g=p[0],m=p[1];void 0===o._map[g]&&(o._map[g]=m)}}}catch(e){l.e(e)}finally{l.f()}return o.size>0?o:e.empty}var v,y=new Map,b=c(n);try{for(b.s();!(v=b.n()).done;){var w=v.value;if(w instanceof e)for(var k=0,S=Object.entries(w._map);k<S.length;k++){var x=s(S[k],2),A=x[0],O=x[1],C=y.get(A);void 0===C&&(C=[],y.set(A,C)),C.push(O)}}}catch(e){b.e(e)}finally{b.f()}var T,F=c(y);try{for(F.s();!(T=F.n()).done;){var P=s(T.value,2),_=P[0],I=P[1];if(1!==I.length&&I[0]instanceof e){var E,j=new e(r),R=c(I);try{for(R.s();!(E=R.n()).done;){var M=E.value;if(M instanceof e)for(var N=0,B=Object.entries(M._map);N<B.length;N++){var D=s(B[N],2),L=D[0],U=D[1];void 0===j._map[L]&&(j._map[L]=U)}}}catch(e){R.e(e)}finally{R.f()}j.size>0&&(o._map[_]=j)}else o._map[_]=I[0]}}catch(e){F.e(e)}finally{F.f()}return y.clear(),o.size>0?o:e.empty}}]),e}();t.Dict=k;var S,x=(S=Object.create(null),function(){function e(t,r){h(this,e),this.num=t,this.gen=r}return p(e,[{key:"toString",value:function(){return 0===this.gen?"".concat(this.num,"R"):"".concat(this.num,"R").concat(this.gen)}}],[{key:"get",value:function(t,r){var n=0===r?"".concat(t,"R"):"".concat(t,"R").concat(r),a=S[n];return a||(S[n]=new e(t,r))}},{key:"_clearCache",value:function(){S=Object.create(null)}}]),e}());t.Ref=x;var A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;h(this,e),this._set=new Set(t&&t._set)}return p(e,[{key:"has",value:function(e){return this._set.has(e.toString())}},{key:"put",value:function(e){this._set.add(e.toString())}},{key:"remove",value:function(e){this._set.delete(e.toString())}},{key:"forEach",value:function(e){var t,r=c(this._set.values());try{for(r.s();!(t=r.n()).done;)e(t.value)}catch(e){r.e(e)}finally{r.f()}}},{key:"clear",value:function(){this._set.clear()}}]),e}();t.RefSet=A;var O=function(){function e(){h(this,e),this._map=new Map}return p(e,[{key:"size",get:function(){return this._map.size}},{key:"get",value:function(e){return this._map.get(e.toString())}},{key:"has",value:function(e){return this._map.has(e.toString())}},{key:"put",value:function(e,t){this._map.set(e.toString(),t)}},{key:"putAlias",value:function(e,t){this._map.set(e.toString(),this.get(t))}},{key:"forEach",value:function(e){var t,r=c(this._map.values());try{for(r.s();!(t=r.n()).done;)e(t.value)}catch(e){r.e(e)}finally{r.f()}}},{key:"clear",value:function(){this._map.clear()}}]),e}();function C(e,t){return e instanceof v&&(void 0===t||e.name===t)}t.RefSetCache=O},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStream=void 0;var n=r(4);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseStream.")}var t,r,i;return t=e,r=[{key:"length",get:function(){(0,n.unreachable)("Abstract getter \`length\` accessed")}},{key:"isEmpty",get:function(){(0,n.unreachable)("Abstract getter \`isEmpty\` accessed")}},{key:"isDataLoaded",get:function(){return(0,n.shadow)(this,"isDataLoaded",!0)}},{key:"getByte",value:function(){(0,n.unreachable)("Abstract method \`getByte\` called")}},{key:"getBytes",value:function(e){(0,n.unreachable)("Abstract method \`getBytes\` called")}},{key:"peekByte",value:function(){var e=this.getByte();return-1!==e&&this.pos--,e}},{key:"peekBytes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getBytes(e,t);return this.pos-=r.length,r}},{key:"getUint16",value:function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t}},{key:"getInt32",value:function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()}},{key:"getByteRange",value:function(e,t){(0,n.unreachable)("Abstract method \`getByteRange\` called")}},{key:"getString",value:function(e){return(0,n.bytesToString)(this.getBytes(e,!1))}},{key:"skip",value:function(e){this.pos+=e||1}},{key:"reset",value:function(){(0,n.unreachable)("Abstract method \`reset\` called")}},{key:"moveStart",value:function(){(0,n.unreachable)("Abstract method \`moveStart\` called")}},{key:"makeSubStream",value:function(e,t){(0,n.unreachable)("Abstract method \`makeSubStream\` called")}},{key:"getBaseStreams",value:function(){return null}}],r&&a(t.prototype,r),i&&a(t,i),e}();t.BaseStream=i},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkPdfManager=t.LocalPdfManager=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},o=r(4),s=r(116),c=r(117),u=r(119),l=r(118);function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){v(i,n,a,o,s,"next",e)}function s(e){v(i,n,a,o,s,"throw",e)}o(void 0)}))}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),e}function S(e){if(e){var t=(0,o.createValidAbsoluteUrl)(e);if(t)return t.href;(0,o.warn)('Invalid absolute docBaseUrl: "'.concat(e,'".'))}return null}var x=function(){function e(){b(this,e),this.constructor===e&&(0,o.unreachable)("Cannot initialize BasePdfManager.")}var t;return k(e,[{key:"docId",get:function(){return this._docId}},{key:"password",get:function(){return this._password}},{key:"docBaseUrl",get:function(){return this._docBaseUrl}},{key:"onLoadedStream",value:function(){(0,o.unreachable)("Abstract method \`onLoadedStream\` called")}},{key:"ensureDoc",value:function(e,t){return this.ensure(this.pdfDocument,e,t)}},{key:"ensureXRef",value:function(e,t){return this.ensure(this.pdfDocument.xref,e,t)}},{key:"ensureCatalog",value:function(e,t){return this.ensure(this.pdfDocument.catalog,e,t)}},{key:"getPage",value:function(e){return this.pdfDocument.getPage(e)}},{key:"fontFallback",value:function(e,t){return this.pdfDocument.fontFallback(e,t)}},{key:"loadXfaFonts",value:function(e,t){return this.pdfDocument.loadXfaFonts(e,t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pdfDocument.cleanup(e)}},{key:"ensure",value:(t=y(i.default.mark((function e(t,r,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,o.unreachable)("Abstract method \`ensure\` called");case 1:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"requestRange",value:function(e,t){(0,o.unreachable)("Abstract method \`requestRange\` called")}},{key:"requestLoadedStream",value:function(){(0,o.unreachable)("Abstract method \`requestLoadedStream\` called")}},{key:"sendProgressiveData",value:function(e){(0,o.unreachable)("Abstract method \`sendProgressiveData\` called")}},{key:"updatePassword",value:function(e){this._password=e}},{key:"terminate",value:function(e){(0,o.unreachable)("Abstract method \`terminate\` called")}}]),e}(),A=function(e){f(n,e);var t,r=d(n);function n(e,t,a,i,o,s){var c;b(this,n),(c=r.call(this))._docId=e,c._password=a,c._docBaseUrl=S(s),c.evaluatorOptions=i,c.enableXfa=o;var f=new l.Stream(t);return c.pdfDocument=new u.PDFDocument(g(c),f),c._loadedStreamPromise=Promise.resolve(f),c}return k(n,[{key:"ensure",value:(t=y(i.default.mark((function e(t,r,n){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof(a=t[r])){e.next=3;break}return e.abrupt("return",a.apply(t,n));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"requestRange",value:function(e,t){return Promise.resolve()}},{key:"requestLoadedStream",value:function(){}},{key:"onLoadedStream",value:function(){return this._loadedStreamPromise}},{key:"terminate",value:function(e){}}]),n}(x);t.LocalPdfManager=A;var O=function(e){f(n,e);var t,r=d(n);function n(e,t,a,i,o,c){var l;return b(this,n),(l=r.call(this))._docId=e,l._password=a.password,l._docBaseUrl=S(c),l.msgHandler=a.msgHandler,l.evaluatorOptions=i,l.enableXfa=o,l.streamManager=new s.ChunkedStreamManager(t,{msgHandler:a.msgHandler,length:a.length,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize}),l.pdfDocument=new u.PDFDocument(g(l),l.streamManager.getStream()),l}return k(n,[{key:"ensure",value:(t=y(i.default.mark((function e(t,r,n){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"function"!=typeof(a=t[r])){e.next=4;break}return e.abrupt("return",a.apply(t,n));case 4:return e.abrupt("return",a);case 7:if(e.prev=7,e.t0=e.catch(0),e.t0 instanceof c.MissingDataException){e.next=11;break}throw e.t0;case 11:return e.next=13,this.requestRange(e.t0.begin,e.t0.end);case 13:return e.abrupt("return",this.ensure(t,r,n));case 14:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,r,n){return t.apply(this,arguments)})},{key:"requestRange",value:function(e,t){return this.streamManager.requestRange(e,t)}},{key:"requestLoadedStream",value:function(){this.streamManager.requestAllChunks()}},{key:"sendProgressiveData",value:function(e){this.streamManager.onReceiveData({chunk:e})}},{key:"onLoadedStream",value:function(){return this.streamManager.onLoadedStream()}},{key:"terminate",value:function(e){this.streamManager.abort(e)}}]),n}(x);t.NetworkPdfManager=O},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkedStreamManager=t.ChunkedStream=void 0;var a=r(4),i=r(117);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var a=p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,e);var t=h(r);function r(e,n,a){var i;return c(this,r),(i=t.call(this,new Uint8Array(e),0,e,null)).chunkSize=n,i._loadedChunks=new Set,i.numChunks=Math.ceil(e/n),i.manager=a,i.progressiveDataLength=0,i.lastSuccessfulEnsureByteChunk=-1,i}return l(r,[{key:"getMissingChunks",value:function(){for(var e=[],t=0,r=this.numChunks;t<r;++t)this._loadedChunks.has(t)||e.push(t);return e}},{key:"numChunksLoaded",get:function(){return this._loadedChunks.size}},{key:"isDataLoaded",get:function(){return this.numChunksLoaded===this.numChunks}},{key:"onReceiveData",value:function(e,t){var r=this.chunkSize;if(e%r!=0)throw new Error("Bad begin offset: ".concat(e));var n=e+t.byteLength;if(n%r!=0&&n!==this.bytes.length)throw new Error("Bad end offset: ".concat(n));this.bytes.set(new Uint8Array(t),e);for(var a=Math.floor(e/r),i=Math.floor((n-1)/r)+1,o=a;o<i;++o)this._loadedChunks.add(o)}},{key:"onReceiveProgressiveData",value:function(e){var t=this.progressiveDataLength,r=Math.floor(t/this.chunkSize);this.bytes.set(new Uint8Array(e),t),t+=e.byteLength,this.progressiveDataLength=t;for(var n=t>=this.end?this.numChunks:Math.floor(t/this.chunkSize),a=r;a<n;++a)this._loadedChunks.add(a)}},{key:"ensureByte",value:function(e){if(!(e<this.progressiveDataLength)){var t=Math.floor(e/this.chunkSize);if(t!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(t))throw new i.MissingDataException(e,e+1);this.lastSuccessfulEnsureByteChunk=t}}}},{key:"ensureRange",value:function(e,t){if(!(e>=t||t<=this.progressiveDataLength))for(var r=this.chunkSize,n=Math.floor(e/r),a=Math.floor((t-1)/r)+1,o=n;o<a;++o)if(!this._loadedChunks.has(o))throw new i.MissingDataException(e,t)}},{key:"nextEmptyChunk",value:function(e){for(var t=this.numChunks,r=0;r<t;++r){var n=(e+r)%t;if(!this._loadedChunks.has(n))return n}return null}},{key:"hasChunk",value:function(e){return this._loadedChunks.has(e)}},{key:"getByte",value:function(){var e=this.pos;return e>=this.end?-1:(e>=this.progressiveDataLength&&this.ensureByte(e),this.bytes[this.pos++])}},{key:"getBytes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.bytes,n=this.pos,a=this.end;if(!e){a>this.progressiveDataLength&&this.ensureRange(n,a);var i=r.subarray(n,a);return t?new Uint8ClampedArray(i):i}var o=n+e;o>a&&(o=a),o>this.progressiveDataLength&&this.ensureRange(n,o),this.pos=o;var s=r.subarray(n,o);return t?new Uint8ClampedArray(s):s}},{key:"getByteRange",value:function(e,t){return e<0&&(e=0),t>this.end&&(t=this.end),t>this.progressiveDataLength&&this.ensureRange(e,t),this.bytes.subarray(e,t)}},{key:"makeSubStream",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function n(){}t?e+t>this.progressiveDataLength&&this.ensureRange(e,e+t):e>=this.progressiveDataLength&&this.ensureByte(e),n.prototype=Object.create(this),n.prototype.getMissingChunks=function(){for(var e=this.chunkSize,t=Math.floor(this.start/e),r=Math.floor((this.end-1)/e)+1,n=[],a=t;a<r;++a)this._loadedChunks.has(a)||n.push(a);return n},Object.defineProperty(n.prototype,"isDataLoaded",{get:function(){return this.numChunksLoaded===this.numChunks||0===this.getMissingChunks().length},configurable:!0});var a=new n;return a.pos=a.start=e,a.end=e+t||this.end,a.dict=r,a}},{key:"getBaseStreams",value:function(){return[this]}}]),r}(r(118).Stream);t.ChunkedStream=g;var m=function(){function e(t,r){c(this,e),this.length=r.length,this.chunkSize=r.rangeChunkSize,this.stream=new g(this.length,this.chunkSize,this),this.pdfNetworkStream=t,this.disableAutoFetch=r.disableAutoFetch,this.msgHandler=r.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,a.createPromiseCapability)()}return l(e,[{key:"onLoadedStream",value:function(){return this._loadedStreamCapability.promise}},{key:"sendRequest",value:function(e,t){var r=this,n=this.pdfNetworkStream.getRangeReader(e,t);n.isStreamingSupported||(n.onProgress=this.onProgress.bind(this));var i=[],o=0;new Promise((function(e,t){n.read().then((function s(c){try{if(!c.done){var u=c.value;return i.push(u),o+=(0,a.arrayByteLength)(u),n.isStreamingSupported&&r.onProgress({loaded:o}),void n.read().then(s,t)}var l=(0,a.arraysToBytes)(i);i=null,e(l)}catch(e){t(e)}}),t)})).then((function(t){r.aborted||r.onReceiveData({chunk:t,begin:e})}))}},{key:"requestAllChunks",value:function(){var e=this.stream.getMissingChunks();return this._requestChunks(e),this._loadedStreamCapability.promise}},{key:"_requestChunks",value:function(e){var t=this,r=this.currRequestId++,n=new Set;this._chunksNeededByRequest.set(r,n);var i,s=o(e);try{for(s.s();!(i=s.n()).done;){var c=i.value;this.stream.hasChunk(c)||n.add(c)}}catch(e){s.e(e)}finally{s.f()}if(0===n.size)return Promise.resolve();var u=(0,a.createPromiseCapability)();this._promisesByRequest.set(r,u);var l,f=[],h=o(n);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=this._requestsByChunk.get(d);p||(p=[],this._requestsByChunk.set(d,p),f.push(d)),p.push(r)}}catch(e){h.e(e)}finally{h.f()}if(f.length>0){var g,m=o(this.groupChunks(f));try{for(m.s();!(g=m.n()).done;){var v=g.value,y=v.beginChunk*this.chunkSize,b=Math.min(v.endChunk*this.chunkSize,this.length);this.sendRequest(y,b)}}catch(e){m.e(e)}finally{m.f()}}return u.promise.catch((function(e){if(!t.aborted)throw e}))}},{key:"getStream",value:function(){return this.stream}},{key:"requestRange",value:function(e,t){t=Math.min(t,this.length);for(var r=this.getBeginChunk(e),n=this.getEndChunk(t),a=[],i=r;i<n;++i)a.push(i);return this._requestChunks(a)}},{key:"requestRanges",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[],n=o(t);try{for(n.s();!(e=n.n()).done;)for(var a=e.value,i=this.getBeginChunk(a.begin),s=this.getEndChunk(a.end),c=i;c<s;++c)r.includes(c)||r.push(c)}catch(e){n.e(e)}finally{n.f()}return r.sort((function(e,t){return e-t})),this._requestChunks(r)}},{key:"groupChunks",value:function(e){for(var t=[],r=-1,n=-1,a=0,i=e.length;a<i;++a){var o=e[a];r<0&&(r=o),n>=0&&n+1!==o&&(t.push({beginChunk:r,endChunk:n+1}),r=o),a+1===e.length&&t.push({beginChunk:r,endChunk:o+1}),n=o}return t}},{key:"onProgress",value:function(e){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+e.loaded,total:this.length})}},{key:"onReceiveData",value:function(e){var t=e.chunk,r=void 0===e.begin,n=r?this.progressiveDataLength:e.begin,a=n+t.byteLength,i=Math.floor(n/this.chunkSize),s=a<this.length?Math.floor(a/this.chunkSize):Math.ceil(a/this.chunkSize);r?(this.stream.onReceiveProgressiveData(t),this.progressiveDataLength=a):this.stream.onReceiveData(n,t),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);for(var c=[],u=i;u<s;++u){var l=this._requestsByChunk.get(u);if(l){this._requestsByChunk.delete(u);var f,h=o(l);try{for(h.s();!(f=h.n()).done;){var d=f.value,p=this._chunksNeededByRequest.get(d);p.has(u)&&p.delete(u),p.size>0||c.push(d)}}catch(e){h.e(e)}finally{h.f()}}}if(!this.disableAutoFetch&&0===this._requestsByChunk.size){var g;if(1===this.stream.numChunksLoaded){var m=this.stream.numChunks-1;this.stream.hasChunk(m)||(g=m)}else g=this.stream.nextEmptyChunk(s);Number.isInteger(g)&&this._requestChunks([g])}for(var v=0,y=c;v<y.length;v++){var b=y[v],w=this._promisesByRequest.get(b);this._promisesByRequest.delete(b),w.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}},{key:"onError",value:function(e){this._loadedStreamCapability.reject(e)}},{key:"getBeginChunk",value:function(e){return Math.floor(e/this.chunkSize)}},{key:"getEndChunk",value:function(e){return Math.floor((e-1)/this.chunkSize)+1}},{key:"abort",value:function(e){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(e);var t,r=o(this._promisesByRequest.values());try{for(r.s();!(t=r.n()).done;)t.value.reject(e)}catch(e){r.e(e)}finally{r.f()}}}]),e}();t.ChunkedStreamManager=m},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.collectActions=function(e,t,r){var n=Object.create(null),s=v({dict:t,key:"AA",stopWhenFound:!1});if(s)for(var c=s.length-1;c>=0;c--){var u=s[c];if(u instanceof i.Dict){var l,f=o(u.getKeys());try{for(f.s();!(l=f.n()).done;){var h=l.value,d=r[h];if(d){var p=u.getRaw(h),g=new i.RefSet,m=[];b(p,e,m,g),m.length>0&&(n[d]=m)}}}catch(e){f.e(e)}finally{f.f()}}}if(t.has("A")){var y=t.get("A"),w=new i.RefSet,k=[];b(y,e,k,w),k.length>0&&(n.Action=k)}return(0,a.objectSize)(n)>0?n:null},t.encodeToXmlString=function(e){for(var t=[],r=0,n=0,a=e.length;n<a;n++){var i=e.codePointAt(n);if(32<=i&&i<=126){var o=w[i];o&&(r<n&&t.push(e.substring(r,n)),t.push(o),r=n+1)}else r<n&&t.push(e.substring(r,n)),t.push("&#x".concat(i.toString(16).toUpperCase(),";")),i>55295&&(i<57344||i>65533)&&n++,r=n+1}return 0===t.length?e:(r<e.length&&t.push(e.substring(r,e.length)),t.join(""))},t.escapePDFName=function(e){for(var t=[],r=0,n=0,a=e.length;n<a;n++){var i=e.charCodeAt(n);(i<33||i>126||35===i||40===i||41===i||60===i||62===i||91===i||93===i||123===i||125===i||47===i||37===i)&&(r<n&&t.push(e.substring(r,n)),t.push("#".concat(i.toString(16))),r=n+1)}return 0===t.length?e:(r<e.length&&t.push(e.substring(r,e.length)),t.join(""))},t.getArrayLookupTableFactory=function(e){var t;return function(){if(e){var r=e();e=null,t=Object.create(null);for(var n=0,a=r.length;n<a;n+=2)t[r[n]]=r[n+1];r=null}return t}},t.getInheritableProperty=v,t.getLookupTableFactory=function(e){var t;return function(){return e&&(t=Object.create(null),e(t),e=null),t}},t.isWhiteSpace=function(e){return 32===e||9===e||13===e||10===e},t.log2=function(e){return e<=0?0:Math.ceil(Math.log2(e))},t.parseXFAPath=function(e){var t=/(.+)\\[([0-9]+)\\]$/;return e.split(".").map((function(e){var r=e.match(t);return r?{name:r[1],pos:parseInt(r[2],10)}:{name:e,pos:0}}))},t.readInt8=function(e,t){return e[t]<<24>>24},t.readUint16=function(e,t){return e[t]<<8|e[t+1]},t.readUint32=function(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0},t.toRomanNumerals=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,a.assert)(Number.isInteger(e)&&e>0,"The number should be a positive integer.");for(var r,n=[];e>=1e3;)e-=1e3,n.push("M");r=e/100|0,e%=100,n.push(y[r]),r=e/10|0,e%=10,n.push(y[10+r]),n.push(y[20+e]);var i=n.join("");return t?i.toLowerCase():i},t.validateCSSFont=function(e){var t=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),r=e.fontFamily,n=e.fontWeight,i=e.italicAngle;if(/^".*"$/.test(r)){if(/[^\\\\]"/.test(r.slice(1,r.length-1)))return(0,a.warn)('XFA - FontFamily contains some unescaped ": '.concat(r,".")),!1}else if(/^'.*'$/.test(r)){if(/[^\\\\]'/.test(r.slice(1,r.length-1)))return(0,a.warn)("XFA - FontFamily contains some unescaped ': ".concat(r,".")),!1}else{var s,c=o(r.split(/[ \\t]+/));try{for(c.s();!(s=c.n()).done;){var u=s.value;if(/^([0-9]|(-([0-9]|-)))/.test(u)||!/^[a-zA-Z0-9\\-_\\\\]+$/.test(u))return(0,a.warn)("XFA - FontFamily contains some invalid <custom-ident>: ".concat(r,".")),!1}}catch(e){c.e(e)}finally{c.f()}}var l=n?n.toString():"";e.fontWeight=t.has(l)?l:"400";var f=parseFloat(i);return e.italicAngle=isNaN(f)||f<-90||f>90?"14":i.toString(),!0},t.XRefParseException=t.XRefEntryException=t.MissingDataException=void 0;var a=r(4),i=r(113);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){u(r,e);var t=f(r);function r(e,n){var a;return c(this,r),(a=t.call(this,"Missing data [".concat(e,", ").concat(n,")"))).begin=e,a.end=n,a}return r}(a.BaseException);t.MissingDataException=p;var g=function(e){u(r,e);var t=f(r);function r(){return c(this,r),t.apply(this,arguments)}return r}(a.BaseException);t.XRefEntryException=g;var m=function(e){u(r,e);var t=f(r);function r(){return c(this,r),t.apply(this,arguments)}return r}(a.BaseException);function v(e){for(var t,r=e.dict,n=e.key,a=e.getArray,o=void 0!==a&&a,s=e.stopWhenFound,c=void 0===s||s,u=new i.RefSet;r instanceof i.Dict&&(!r.objId||!u.has(r.objId));){r.objId&&u.put(r.objId);var l=o?r.getArray(n):r.get(n);if(void 0!==l){if(c)return l;t||(t=[]),t.push(l)}r=r.get("Parent")}return t}t.XRefParseException=m;var y=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function b(e,t,r,n){if(e){var s=null;if((0,i.isRef)(e)){if(n.has(e))return;s=e,n.put(s),e=t.fetch(e)}if(Array.isArray(e)){var c,u=o(e);try{for(u.s();!(c=u.n()).done;)b(c.value,t,r,n)}catch(e){u.e(e)}finally{u.f()}}else if(e instanceof i.Dict){if((0,i.isName)(e.get("S"),"JavaScript")&&e.has("JS")){var l,f=e.get("JS");l=(0,i.isStream)(f)?f.getString():f,(l=(0,a.stringToPDFString)(l))&&r.push(l)}b(e.getRaw("Next"),t,r,n)}s&&n.remove(s)}}var w={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.StringStream=t.Stream=t.NullStream=void 0;var a=r(114),i=r(4);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){c(i,e);var t,r,n,a=l(i);function i(e,t,r,n){var s;return o(this,i),(s=a.call(this)).bytes=e instanceof Uint8Array?e:new Uint8Array(e),s.start=t||0,s.pos=s.start,s.end=t+r||s.bytes.length,s.dict=n,s}return t=i,r=[{key:"length",get:function(){return this.end-this.start}},{key:"isEmpty",get:function(){return 0===this.length}},{key:"getByte",value:function(){return this.pos>=this.end?-1:this.bytes[this.pos++]}},{key:"getBytes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.bytes,n=this.pos,a=this.end;if(!e){var i=r.subarray(n,a);return t?new Uint8ClampedArray(i):i}var o=n+e;o>a&&(o=a),this.pos=o;var s=r.subarray(n,o);return t?new Uint8ClampedArray(s):s}},{key:"getByteRange",value:function(e,t){return e<0&&(e=0),t>this.end&&(t=this.end),this.bytes.subarray(e,t)}},{key:"reset",value:function(){this.pos=this.start}},{key:"moveStart",value:function(){this.start=this.pos}},{key:"makeSubStream",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new i(this.bytes.buffer,e,t,r)}}],r&&s(t.prototype,r),n&&s(t,n),i}(a.BaseStream);t.Stream=d;var p=function(e){c(r,e);var t=l(r);function r(e){return o(this,r),t.call(this,(0,i.stringToBytes)(e))}return r}(d);t.StringStream=p;var g=function(e){c(r,e);var t=l(r);function r(){return o(this,r),t.call(this,new Uint8Array(0))}return r}(d);t.NullStream=g},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDocument=t.Page=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},o=r(4),s=r(113),c=r(117),u=r(118),l=r(120),f=r(114),h=r(173),d=r(165),p=r(125),g=r(171),m=r(163),v=r(123),y=r(127),b=r(170),w=r(175),k=r(196);function S(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){S(i,n,a,o,s,"next",e)}function s(e){S(i,n,a,o,s,"throw",e)}o(void 0)}))}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=C(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function C(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I(e);if(t){var a=I(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t,r){return t&&j(e.prototype,t),r&&j(e,r),e}var M=[0,0,612,792],N=function(){function e(t){var r=t.pdfManager,n=t.xref,a=t.pageIndex,i=t.pageDict,o=t.ref,s=t.globalIdFactory,c=t.fontCache,u=t.builtInCMapCache,l=t.globalImageCache,f=t.nonBlendModesSet,h=t.xfaFactory;E(this,e),this.pdfManager=r,this.pageIndex=a,this.pageDict=i,this.xref=n,this.ref=o,this.fontCache=c,this.builtInCMapCache=u,this.globalImageCache=l,this.nonBlendModesSet=f,this.evaluatorOptions=r.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=h;var d={obj:0};this._localIdFactory=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(r,e);var t=P(r);function r(){return E(this,r),t.apply(this,arguments)}return R(r,null,[{key:"createObjId",value:function(){return"p".concat(a,"_").concat(++d.obj)}},{key:"getPageObjId",value:function(){return"page".concat(o.toString())}}]),r}(s)}var t;return R(e,[{key:"_getInheritableProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,c.getInheritableProperty)({dict:this.pageDict,key:e,getArray:t,stopWhenFound:!1});return Array.isArray(r)?1!==r.length&&(0,s.isDict)(r[0])?s.Dict.merge({xref:this.xref,dictArray:r}):r[0]:r}},{key:"content",get:function(){return this.pageDict.getArray("Contents")}},{key:"resources",get:function(){return(0,o.shadow)(this,"resources",this._getInheritableProperty("Resources")||s.Dict.empty)}},{key:"_getBoundingBox",value:function(e){if(this.xfaData){var t=this.xfaData.attributes.style,r=t.width,n=t.height;return[0,0,parseInt(r),parseInt(n)]}var a=this._getInheritableProperty(e,!0);if(Array.isArray(a)&&4===a.length){if(a[2]-a[0]!=0&&a[3]-a[1]!=0)return a;(0,o.warn)("Empty /".concat(e," entry."))}return null}},{key:"mediaBox",get:function(){return(0,o.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||M)}},{key:"cropBox",get:function(){return(0,o.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}},{key:"userUnit",get:function(){var e=this.pageDict.get("UserUnit");return(!(0,o.isNum)(e)||e<=0)&&(e=1),(0,o.shadow)(this,"userUnit",e)}},{key:"view",get:function(){var e,t=this.cropBox,r=this.mediaBox;if(t===r||(0,o.isArrayEqual)(t,r))e=r;else{var n=o.Util.intersect(t,r);n&&n[2]-n[0]!=0&&n[3]-n[1]!=0?e=n:(0,o.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,o.shadow)(this,"view",e||r)}},{key:"rotate",get:function(){var e=this._getInheritableProperty("Rotate")||0;return e%90!=0?e=0:e>=360?e%=360:e<0&&(e=(e%360+360)%360),(0,o.shadow)(this,"rotate",e)}},{key:"getContentStream",value:function(){return this.pdfManager.ensure(this,"content").then((function(e){return e instanceof f.BaseStream?e:Array.isArray(e)?new y.StreamsSequenceStream(e):new u.NullStream}))}},{key:"xfaData",get:function(){return this.xfaFactory?(0,o.shadow)(this,"xfaData",this.xfaFactory.getPage(this.pageIndex)):(0,o.shadow)(this,"xfaData",null)}},{key:"save",value:function(e,t,r){var n=new v.PartialEvaluator({xref:this.xref,handler:e,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then((function(e){var a,i=[],s=O(e);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.mustBePrinted(r)&&i.push(c.save(n,t,r).catch((function(e){return(0,o.warn)("save - ignoring annotation data during "+'"'.concat(t.name,'" task: "').concat(e,'".')),null})))}}catch(e){s.e(e)}finally{s.f()}return Promise.all(i)}))}},{key:"loadResources",value:function(e){var t=this;return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then((function(){return new g.ObjectLoader(t.resources,e,t.xref).load()}))}},{key:"getOperatorList",value:function(e){var t=this,r=e.handler,n=e.sink,a=e.task,i=e.intent,s=e.renderInteractiveForms,c=e.annotationStorage,u=this.getContentStream(),l=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),f=new v.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),h=Promise.all([u,l]).then((function(e){var o=A(e,1)[0],s=new m.OperatorList(i,n);return r.send("StartRenderPage",{transparency:f.hasBlendModes(t.resources,t.nonBlendModesSet),pageIndex:t.pageIndex,intent:i}),f.getOperatorList({stream:o,task:a,resources:t.resources,operatorList:s}).then((function(){return s}))}));return Promise.all([h,this._parsedAnnotations]).then((function(e){var t=A(e,2),r=t[0],n=t[1];if(0===n.length)return r.flush(!0),{length:r.totalLength};var u,l=[],h=O(n);try{for(h.s();!(u=h.n()).done;){var d=u.value;("display"===i&&d.mustBeViewed(c)||"print"===i&&d.mustBePrinted(c))&&l.push(d.getOperatorList(f,a,s,c).catch((function(e){return(0,o.warn)("getOperatorList - ignoring annotation data during "+'"'.concat(a.name,'" task: "').concat(e,'".')),null})))}}catch(e){h.e(e)}finally{h.f()}return Promise.all(l).then((function(e){r.addOp(o.OPS.beginAnnotations,[]);var t,n=O(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;r.addOpList(a)}}catch(e){n.e(e)}finally{n.f()}return r.addOp(o.OPS.endAnnotations,[]),r.flush(!0),{length:r.totalLength}}))}))}},{key:"extractTextContent",value:function(e){var t=this,r=e.handler,n=e.task,a=e.normalizeWhitespace,i=e.includeMarkedContent,o=e.sink,s=e.combineTextItems,c=this.getContentStream(),u=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([c,u]).then((function(e){var c=A(e,1)[0];return new v.PartialEvaluator({xref:t.xref,handler:r,pageIndex:t.pageIndex,idFactory:t._localIdFactory,fontCache:t.fontCache,builtInCMapCache:t.builtInCMapCache,globalImageCache:t.globalImageCache,options:t.evaluatorOptions}).getTextContent({stream:c,task:n,resources:t.resources,normalizeWhitespace:a,includeMarkedContent:i,combineTextItems:s,sink:o})}))}},{key:"getStructTree",value:(t=x(i.default.mark((function e(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pdfManager.ensureCatalog("structTreeRoot");case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.pdfManager.ensure(this,"_parseStructTree",[t]);case 7:return r=e.sent,e.abrupt("return",r.serializable);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_parseStructTree",value:function(e){var t=new b.StructTreePage(e,this.pageDict);return t.parse(),t}},{key:"getAnnotationsData",value:function(e){return this._parsedAnnotations.then((function(t){for(var r=[],n=0,a=t.length;n<a;n++)(!e||"display"===e&&t[n].viewable||"print"===e&&t[n].printable)&&r.push(t[n].data);return r}))}},{key:"annotations",get:function(){var e=this._getInheritableProperty("Annots");return(0,o.shadow)(this,"annotations",Array.isArray(e)?e:[])}},{key:"_parsedAnnotations",get:function(){var e=this,t=this.pdfManager.ensure(this,"annotations").then((function(){var t,r=[],n=O(e.annotations);try{for(n.s();!(t=n.n()).done;){var a=t.value;r.push(l.AnnotationFactory.create(e.xref,a,e.pdfManager,e._localIdFactory,!1).catch((function(e){return(0,o.warn)('_parsedAnnotations: "'.concat(e,'".')),null})))}}catch(e){n.e(e)}finally{n.f()}return Promise.all(r).then((function(e){return e.filter((function(e){return!!e}))}))}));return(0,o.shadow)(this,"_parsedAnnotations",t)}},{key:"jsActions",get:function(){var e=(0,c.collectActions)(this.xref,this.pageDict,o.PageActionEventType);return(0,o.shadow)(this,"jsActions",e)}}]),e}();t.Page=N;var B=new Uint8Array([37,80,68,70,45]),D=new Uint8Array([115,116,97,114,116,120,114,101,102]),L=new Uint8Array([101,110,100,111,98,106]),U=/^[1-9]\\.[0-9]$/;function q(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1024,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t.length,i=e.peekBytes(r),o=i.length-a;if(o<=0)return!1;if(n)for(var s=a-1,c=i.length-1;c>=s;){for(var u=0;u<a&&i[c-u]===t[s-u];)u++;if(u>=a)return e.pos+=c-s,!0;c--}else for(var l=0;l<=o;){for(var f=0;f<a&&i[l+f]===t[f];)f++;if(f>=a)return e.pos+=l,!0;l++}return!1}var X=function(){function e(t,r){var n;if(E(this,e),(0,s.isStream)(r))n=r;else{if(!(0,o.isArrayBuffer)(r))throw new Error("PDFDocument: Unknown argument type");n=new u.Stream(r)}if(n.length<=0)throw new o.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=t,this.stream=n,this.xref=new k.XRef(n,t),this._pagePromises=[],this._version=null;var a={font:0};this._globalIdFactory=function(){function e(){E(this,e)}return R(e,null,[{key:"getDocId",value:function(){return"g_".concat(t.docId)}},{key:"createFontId",value:function(){return"f".concat(++a.font)}},{key:"createObjId",value:function(){(0,o.unreachable)("Abstract method \`createObjId\` called.")}},{key:"getPageObjId",value:function(){(0,o.unreachable)("Abstract method \`getPageObjId\` called.")}}]),e}()}var t,r,n;return R(e,[{key:"parse",value:function(e){this.xref.parse(e),this.catalog=new d.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}},{key:"linearization",get:function(){var e=null;try{e=p.Linearization.create(this.stream)}catch(e){if(e instanceof c.MissingDataException)throw e;(0,o.info)(e)}return(0,o.shadow)(this,"linearization",e)}},{key:"startXRef",get:function(){var e=this.stream,t=0;if(this.linearization)e.reset(),q(e,L)&&(t=e.pos+6-e.start);else{for(var r=D.length,n=!1,a=e.end;!n&&a>0;)(a-=1024-r)<0&&(a=0),e.pos=a,n=q(e,D,1024,!0);if(n){var i;e.skip(9);do{i=e.getByte()}while((0,c.isWhiteSpace)(i));for(var s="";i>=32&&i<=57;)s+=String.fromCharCode(i),i=e.getByte();t=parseInt(s,10),isNaN(t)&&(t=0)}}return(0,o.shadow)(this,"startXRef",t)}},{key:"checkHeader",value:function(){var e=this.stream;if(e.reset(),q(e,B)){e.moveStart();for(var t,r="";(t=e.getByte())>32&&!(r.length>=12);)r+=String.fromCharCode(t);this._version||(this._version=r.substring(5))}}},{key:"parseStartXRef",value:function(){this.xref.setStartXRef(this.startXRef)}},{key:"numPages",get:function(){if(this.xfaFactory)return(0,o.shadow)(this,"numPages",this.xfaFactory.numberPages);var e=this.linearization,t=e?e.numPages:this.catalog.numPages;return(0,o.shadow)(this,"numPages",t)}},{key:"_hasOnlyDocumentSignatures",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=10;return!!Array.isArray(e)&&e.every((function(e){if(!((e=t.xref.fetchIfRef(e))instanceof s.Dict))return!1;if(e.has("Kids"))return++r>n?((0,o.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):t._hasOnlyDocumentSignatures(e.get("Kids"),r);var a=(0,s.isName)(e.get("FT"),"Sig"),i=e.get("Rect"),c=Array.isArray(i)&&i.every((function(e){return 0===e}));return a&&c}))}},{key:"xfaData",get:function(){var e=this.catalog.acroForm;if(!e)return null;var t=e.get("XFA"),r={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if((0,s.isStream)(t)&&!t.isEmpty)try{return r["xdp:xdp"]=(0,o.stringToUTF8String)(t.getString()),r}catch(e){return(0,o.warn)("XFA - Invalid utf-8 string."),null}if(!Array.isArray(t)||0===t.length)return null;for(var n=0,a=t.length;n<a;n+=2){var i=void 0;if(i=0===n?"xdp:xdp":n===a-2?"/xdp:xdp":t[n],r.hasOwnProperty(i)){var c=this.xref.fetchIfRef(t[n+1]);if((0,s.isStream)(c)&&!c.isEmpty)try{r[i]=(0,o.stringToUTF8String)(c.getString())}catch(e){return(0,o.warn)("XFA - Invalid utf-8 string."),null}}}return r}},{key:"xfaFactory",get:function(){if(this.pdfManager.enableXfa&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm){var e=this.xfaData;return(0,o.shadow)(this,"xfaFactory",e?new w.XFAFactory(e):null)}return(0,o.shadow)(this,"xfaFaxtory",null)}},{key:"isPureXfa",get:function(){return null!==this.xfaFactory}},{key:"loadXfaFonts",value:(n=x(i.default.mark((function e(t,r){var n,a,u,l,f,h,d,p,y,b,w,k,S,x,C,T,F,P,_;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pdfManager.ensureCatalog("acroForm");case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n.getAsync("DR");case 7:if((a=e.sent)instanceof s.Dict){e.next=10;break}return e.abrupt("return");case 10:return u=new g.ObjectLoader(a,["Font"],this.xref),e.next=13,u.load();case 13:if((l=a.get("Font"))instanceof s.Dict){e.next=16;break}return e.abrupt("return");case 16:f=new v.PartialEvaluator({xref:this.xref,handler:t,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache}),h=new m.OperatorList,d={font:null,clone:function(){return this}},p=new Map,l.forEach((function(e,t){p.set(e,t)})),y=[],b=O(p),e.prev=23,b.s();case 25:if((w=b.n()).done){e.next=39;break}if(k=A(w.value,2),S=k[0],x=k[1],(C=x.get("FontDescriptor"))instanceof s.Dict){e.next=30;break}return e.abrupt("continue",37);case 30:if(T=C.get("FontFamily"),F=C.get("FontWeight"),P=-C.get("ItalicAngle"),_={fontFamily:T,fontWeight:F,italicAngle:P},(0,c.validateCSSFont)(_)){e.next=36;break}return e.abrupt("continue",37);case 36:y.push(f.handleSetFont(a,[s.Name.get(S),1],null,h,r,d,null,_).catch((function(e){return(0,o.warn)('loadXfaFonts: "'.concat(e,'".')),null})));case 37:e.next=25;break;case 39:e.next=44;break;case 41:e.prev=41,e.t0=e.catch(23),b.e(e.t0);case 44:return e.prev=44,b.f(),e.finish(44);case 47:return e.next=49,Promise.all(y);case 49:case"end":return e.stop()}}),e,this,[[23,41,44,47]])}))),function(e,t){return n.apply(this,arguments)})},{key:"formInfo",get:function(){var e={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},t=this.catalog.acroForm;if(!t)return(0,o.shadow)(this,"formInfo",e);try{var r=t.get("Fields"),n=Array.isArray(r)&&r.length>0;e.hasFields=n;var a=t.get("XFA");e.hasXfa=Array.isArray(a)&&a.length>0||(0,s.isStream)(a)&&!a.isEmpty;var i=!!(1&t.get("SigFlags")),u=i&&this._hasOnlyDocumentSignatures(r);e.hasAcroForm=n&&!u,e.hasSignatures=i}catch(e){if(e instanceof c.MissingDataException)throw e;(0,o.warn)('Cannot fetch form information: "'.concat(e,'".'))}return(0,o.shadow)(this,"formInfo",e)}},{key:"documentInfo",get:function(){var e={Title:o.isString,Author:o.isString,Subject:o.isString,Keywords:o.isString,Creator:o.isString,Producer:o.isString,CreationDate:o.isString,ModDate:o.isString,Trapped:s.isName},t=this._version;"string"==typeof t&&U.test(t)||((0,o.warn)("Invalid PDF header version number: ".concat(t)),t=null);var r,n={PDFFormatVersion:t,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};try{r=this.xref.trailer.get("Info")}catch(e){if(e instanceof c.MissingDataException)throw e;(0,o.info)("The document information dictionary is invalid.")}if((0,s.isDict)(r)){var a,i=O(r.getKeys());try{for(i.s();!(a=i.n()).done;){var u=a.value,l=r.get(u);if(e[u])e[u](l)?n[u]="string"!=typeof l?l:(0,o.stringToPDFString)(l):(0,o.info)('Bad value in document info for "'.concat(u,'".'));else if("string"==typeof u){var f=void 0;if((0,o.isString)(l))f=(0,o.stringToPDFString)(l);else{if(!((0,s.isName)(l)||(0,o.isNum)(l)||(0,o.isBool)(l))){(0,o.info)('Unsupported value in document info for (custom) "'.concat(u,'".'));continue}f=l}n.Custom||(n.Custom=Object.create(null)),n.Custom[u]=f}}}catch(e){i.e(e)}finally{i.f()}}return(0,o.shadow)(this,"documentInfo",n)}},{key:"fingerprint",get:function(){for(var e,t=this.xref.trailer.get("ID"),r=[],n=0,a=(e=Array.isArray(t)&&t[0]&&(0,o.isString)(t[0])&&"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0"!==t[0]?(0,o.stringToBytes)(t[0]):(0,h.calculateMD5)(this.stream.getByteRange(0,1024),0,1024)).length;n<a;n++){var i=e[n].toString(16);r.push(i.padStart(2,"0"))}return(0,o.shadow)(this,"fingerprint",r.join(""))}},{key:"_getLinearizationPage",value:function(e){var t=this.catalog,r=this.linearization,n=s.Ref.get(r.objectNumberFirst,0);return this.xref.fetchAsync(n).then((function(e){if((0,s.isDict)(e,"Page")||(0,s.isDict)(e)&&!e.has("Type")&&e.has("Contents"))return n&&!t.pageKidsCountCache.has(n)&&t.pageKidsCountCache.put(n,1),[e,n];throw new o.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")})).catch((function(r){return(0,o.info)(r),t.getPageDict(e)}))}},{key:"getPage",value:function(e){var t=this;if(void 0!==this._pagePromises[e])return this._pagePromises[e];var r=this.catalog,n=this.linearization;if(this.xfaFactory)return Promise.resolve(new N({pdfManager:this.pdfManager,xref:this.xref,pageIndex:e,pageDict:s.Dict.empty,ref:null,globalIdFactory:this._globalIdFactory,fontCache:r.fontCache,builtInCMapCache:r.builtInCMapCache,globalImageCache:r.globalImageCache,nonBlendModesSet:r.nonBlendModesSet,xfaFactory:this.xfaFactory}));var a=n&&n.pageFirst===e?this._getLinearizationPage(e):r.getPageDict(e);return this._pagePromises[e]=a.then((function(n){var a=A(n,2),i=a[0],o=a[1];return new N({pdfManager:t.pdfManager,xref:t.xref,pageIndex:e,pageDict:i,ref:o,globalIdFactory:t._globalIdFactory,fontCache:r.fontCache,builtInCMapCache:r.builtInCMapCache,globalImageCache:r.globalImageCache,nonBlendModesSet:r.nonBlendModesSet,xfaFactory:null})}))}},{key:"checkFirstPage",value:function(){var e=this;return this.getPage(0).catch(function(){var t=x(i.default.mark((function t(r){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r instanceof c.XRefEntryException)){t.next=5;break}return e._pagePromises.length=0,t.next=4,e.cleanup();case 4:throw new c.XRefParseException;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"fontFallback",value:function(e,t){return this.catalog.fontFallback(e,t)}},{key:"cleanup",value:(r=x(i.default.mark((function e(){var t,r=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],e.abrupt("return",this.catalog?this.catalog.cleanup(t):(0,s.clearPrimitiveCaches)());case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_collectFieldObjects",value:function(e,t,r){var n=this.xref.fetchIfRef(t);if(n.has("T")){var a=(0,o.stringToPDFString)(n.get("T"));e=""===e?a:"".concat(e,".").concat(a)}if(r.has(e)||r.set(e,[]),r.get(e).push(l.AnnotationFactory.create(this.xref,t,this.pdfManager,this._localIdFactory,!0).then((function(e){return e&&e.getFieldObject()})).catch((function(e){return(0,o.warn)('_collectFieldObjects: "'.concat(e,'".')),null}))),n.has("Kids")){var i,s=O(n.get("Kids"));try{for(s.s();!(i=s.n()).done;){var c=i.value;this._collectFieldObjects(e,c,r)}}catch(e){s.e(e)}finally{s.f()}}}},{key:"fieldObjects",get:function(){if(!this.formInfo.hasFields)return(0,o.shadow)(this,"fieldObjects",Promise.resolve(null));var e,t=Object.create(null),r=new Map,n=O(this.catalog.acroForm.get("Fields"));try{for(n.s();!(e=n.n()).done;){var a=e.value;this._collectFieldObjects("",a,r)}}catch(e){n.e(e)}finally{n.f()}var i,s=[],c=O(r);try{var u=function(){var e=A(i.value,2),r=e[0],n=e[1];s.push(Promise.all(n).then((function(e){(e=e.filter((function(e){return!!e}))).length>0&&(t[r]=e)})))};for(c.s();!(i=c.n()).done;)u()}catch(e){c.e(e)}finally{c.f()}return(0,o.shadow)(this,"fieldObjects",Promise.all(s).then((function(){return t})))}},{key:"hasJSActions",get:function(){var e=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,o.shadow)(this,"hasJSActions",e)}},{key:"_parseHasJSActions",value:(t=x(i.default.mark((function e(){var t,r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);case 2:if(t=e.sent,r=A(t,2),n=r[0],a=r[1],!n){e.next=8;break}return e.abrupt("return",!0);case 8:if(!a){e.next=10;break}return e.abrupt("return",Object.values(a).some((function(e){return e.some((function(e){return null!==e.actions}))})));case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"calculationOrderIds",get:function(){var e=this.catalog.acroForm;if(!e||!e.has("CO"))return(0,o.shadow)(this,"calculationOrderIds",null);var t=e.get("CO");if(!Array.isArray(t)||0===t.length)return(0,o.shadow)(this,"calculationOrderIds",null);var r=t.filter(s.isRef).map((function(e){return e.toString()}));return 0===r.length?(0,o.shadow)(this,"calculationOrderIds",null):(0,o.shadow)(this,"calculationOrderIds",r)}}]),e}();t.PDFDocument=X},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getQuadPoints=R,t.MarkupAnnotation=t.AnnotationFactory=t.AnnotationBorderStyle=t.Annotation=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},o=r(4),s=r(117),c=r(121),u=r(113),l=r(165),f=r(122),h=r(167),d=r(171),p=r(163),g=r(118),m=r(172);function v(e,t,r){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}},v(e,t,r||e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var a=S(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function x(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=T(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function A(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){A(i,n,a,o,s,"next",e)}function s(e){A(i,n,a,o,s,"throw",e)}o(void 0)}))}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),e}var E=function(){function e(){P(this,e)}var t;return I(e,null,[{key:"create",value:function(e,t,r,n,a){var i=this;return Promise.all([r.ensureCatalog("acroForm"),a?this._getPageIndex(e,t,r):-1]).then((function(o){var s=C(o,2),c=s[0],u=s[1];return r.ensure(i,"_create",[e,t,r,n,c,a,u])}))}},{key:"_create",value:function(e,t,r,n,a,i){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-1,l=e.fetchIfRef(t);if((0,u.isDict)(l)){var f=(0,u.isRef)(t)?t.toString():"annot_".concat(n.createObjId()),h=l.get("Subtype"),d={xref:e,ref:t,dict:l,subtype:h=(0,u.isName)(h)?h.name:null,id:f,pdfManager:r,acroForm:a instanceof u.Dict?a:u.Dict.empty,collectFields:i,pageIndex:c};switch(h){case"Link":return new z(d);case"Text":return new $(d);case"Widget":var p=(0,s.getInheritableProperty)({dict:l,key:"FT"});switch(p=(0,u.isName)(p)?p.name:null){case"Tx":return new U(d);case"Btn":return new q(d);case"Ch":return new X(d);case"Sig":return new H(d)}return(0,o.warn)('Unimplemented widget field type "'.concat(p,'", ')+"falling back to base field type."),new L(d);case"Popup":return new G(d);case"FreeText":return new W(d);case"Line":return new V(d);case"Square":return new K(d);case"Circle":return new Y(d);case"PolyLine":return new J(d);case"Polygon":return new Z(d);case"Caret":return new Q(d);case"Ink":return new ee(d);case"Highlight":return new te(d);case"Underline":return new re(d);case"Squiggly":return new ne(d);case"StrikeOut":return new ae(d);case"Stamp":return new ie(d);case"FileAttachment":return new oe(d);default:return i||(h?(0,o.warn)('Unimplemented annotation type "'.concat(h,'", ')+"falling back to base annotation."):(0,o.warn)("Annotation is missing the required /Subtype.")),new N(d)}}}},{key:"_getPageIndex",value:(t=O(i.default.mark((function e(t,r,n){var a,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchIfRefAsync(r);case 3:if(a=e.sent,(0,u.isDict)(a)){e.next=6;break}return e.abrupt("return",-1);case 6:if(s=a.getRaw("P"),(0,u.isRef)(s)){e.next=9;break}return e.abrupt("return",-1);case 9:return e.next=11,n.ensureCatalog("getPageIndex",[s]);case 11:return c=e.sent,e.abrupt("return",c);case 15:return e.prev=15,e.t0=e.catch(0),(0,o.warn)('_getPageIndex: "'.concat(e.t0,'".')),e.abrupt("return",-1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),function(e,r,n){return t.apply(this,arguments)})}]),e}();function j(e){var t=new Uint8ClampedArray(3);if(!Array.isArray(e))return t;switch(e.length){case 0:return null;case 1:return f.ColorSpace.singletons.gray.getRgbItem(e,0,t,0),t;case 3:return f.ColorSpace.singletons.rgb.getRgbItem(e,0,t,0),t;case 4:return f.ColorSpace.singletons.cmyk.getRgbItem(e,0,t,0),t;default:return t}}function R(e,t){if(!e.has("QuadPoints"))return null;var r=e.getArray("QuadPoints");if(!Array.isArray(r)||0===r.length||r.length%8>0)return null;for(var n=[],a=0,i=r.length/8;a<i;a++){n.push([]);for(var o=8*a,s=8*a+8;o<s;o+=2){var c=r[o],u=r[o+1];if(null!==t&&(c<t[0]||c>t[2]||u<t[1]||u>t[3]))return null;n[a].push({x:c,y:u})}}return n.map((function(e){var t=e.reduce((function(e,t){var r=C(e,4),n=r[0],a=r[1],i=r[2],o=r[3];return[Math.min(n,t.x),Math.max(a,t.x),Math.min(i,t.y),Math.max(o,t.y)]}),[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]),r=C(t,4),n=r[0],a=r[1],i=r[2],o=r[3];return[{x:n,y:o},{x:a,y:o},{x:n,y:i},{x:a,y:i}]}))}function M(e,t,r){var n=C(o.Util.getAxialAlignedBoundingBox(t,r),4),a=n[0],i=n[1],s=n[2],c=n[3];if(a===s||i===c)return[1,0,0,1,e[0],e[1]];var u=(e[2]-e[0])/(s-a),l=(e[3]-e[1])/(c-i);return[u,0,0,l,e[0]-a*u,e[1]-i*l]}t.AnnotationFactory=E;var N=function(){function e(t){P(this,e);var r=t.dict;if(this.setContents(r.get("Contents")),this.setModificationDate(r.get("M")),this.setFlags(r.get("F")),this.setRectangle(r.getArray("Rect")),this.setColor(r.getArray("C")),this.setBorderStyle(r),this.setAppearance(r),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,contents:this.contents,hasAppearance:!!this.appearance,id:t.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:t.subtype},t.collectFields){var n=r.get("Kids");if(Array.isArray(n)){var a,i=[],c=x(n);try{for(c.s();!(a=c.n()).done;){var l=a.value;(0,u.isRef)(l)&&i.push(l.toString())}}catch(e){c.e(e)}finally{c.f()}0!==i.length&&(this.data.kidIds=i)}this.data.actions=(0,s.collectActions)(t.xref,r,o.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(r),this.data.pageIndex=t.pageIndex}this._fallbackFontDict=null}var t;return I(e,[{key:"_hasFlag",value:function(e,t){return!!(e&t)}},{key:"_isViewable",value:function(e){return!this._hasFlag(e,o.AnnotationFlag.INVISIBLE)&&!this._hasFlag(e,o.AnnotationFlag.NOVIEW)}},{key:"_isPrintable",value:function(e){return this._hasFlag(e,o.AnnotationFlag.PRINT)&&!this._hasFlag(e,o.AnnotationFlag.INVISIBLE)}},{key:"mustBeViewed",value:function(e){var t=e&&e.get(this.data.id);return t&&void 0!==t.hidden?!t.hidden:this.viewable&&!this._hasFlag(this.flags,o.AnnotationFlag.HIDDEN)}},{key:"mustBePrinted",value:function(e){var t=e&&e.get(this.data.id);return t&&void 0!==t.print?t.print:this.printable}},{key:"viewable",get:function(){return null!==this.data.quadPoints&&(0===this.flags||this._isViewable(this.flags))}},{key:"printable",get:function(){return null!==this.data.quadPoints&&0!==this.flags&&this._isPrintable(this.flags)}},{key:"setContents",value:function(e){this.contents=(0,o.stringToPDFString)(e||"")}},{key:"setModificationDate",value:function(e){this.modificationDate=(0,o.isString)(e)?e:null}},{key:"setFlags",value:function(e){this.flags=Number.isInteger(e)&&e>0?e:0}},{key:"hasFlag",value:function(e){return this._hasFlag(this.flags,e)}},{key:"setRectangle",value:function(e){Array.isArray(e)&&4===e.length?this.rectangle=o.Util.normalizeRect(e):this.rectangle=[0,0,0,0]}},{key:"setColor",value:function(e){this.color=j(e)}},{key:"setBorderStyle",value:function(e){if(this.borderStyle=new B,(0,u.isDict)(e))if(e.has("BS")){var t=e.get("BS"),r=t.get("Type");r&&!(0,u.isName)(r,"Border")||(this.borderStyle.setWidth(t.get("W"),this.rectangle),this.borderStyle.setStyle(t.get("S")),this.borderStyle.setDashArray(t.getArray("D")))}else if(e.has("Border")){var n=e.getArray("Border");Array.isArray(n)&&n.length>=3&&(this.borderStyle.setHorizontalCornerRadius(n[0]),this.borderStyle.setVerticalCornerRadius(n[1]),this.borderStyle.setWidth(n[2],this.rectangle),4===n.length&&this.borderStyle.setDashArray(n[3]))}else this.borderStyle.setWidth(0)}},{key:"setAppearance",value:function(e){this.appearance=null;var t=e.get("AP");if((0,u.isDict)(t)){var r=t.get("N");if((0,u.isStream)(r))this.appearance=r;else if((0,u.isDict)(r)){var n=e.get("AS");(0,u.isName)(n)&&r.has(n.name)&&(this.appearance=r.get(n.name))}}}},{key:"loadResources",value:function(e){return this.appearance.dict.getAsync("Resources").then((function(t){if(t)return new d.ObjectLoader(t,e,t.xref).load().then((function(){return t}))}))}},{key:"getOperatorList",value:function(e,t,r,n){var a=this;if(!this.appearance)return Promise.resolve(new p.OperatorList);var i=this.appearance,s=this.data,c=i.dict,u=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),l=c.getArray("BBox")||[0,0,1,1],f=c.getArray("Matrix")||[1,0,0,1,0,0],h=M(s.rect,l,f);return u.then((function(r){var n=new p.OperatorList;return n.addOp(o.OPS.beginAnnotation,[s.rect,h,f]),e.getOperatorList({stream:i,task:t,resources:r,operatorList:n,fallbackFontDict:a._fallbackFontDict}).then((function(){return n.addOp(o.OPS.endAnnotation,[]),a.reset(),n}))}))}},{key:"save",value:(t=O(i.default.mark((function e(t,r,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"getFieldObject",value:function(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex}:null}},{key:"reset",value:function(){var e,t=x(this._streams);try{for(t.s();!(e=t.n()).done;)e.value.reset()}catch(e){t.e(e)}finally{t.f()}}},{key:"_constructFieldName",value:function(e){if(!e.has("T")&&!e.has("Parent"))return(0,o.warn)("Unknown field name, falling back to empty field name."),"";if(!e.has("Parent"))return(0,o.stringToPDFString)(e.get("T"));var t=[];e.has("T")&&t.unshift((0,o.stringToPDFString)(e.get("T")));var r=e,n=new u.RefSet;for(e.objId&&n.put(e.objId);r.has("Parent")&&(r=r.get("Parent"))instanceof u.Dict&&(!r.objId||!n.has(r.objId));)r.objId&&n.put(r.objId),r.has("T")&&t.unshift((0,o.stringToPDFString)(r.get("T")));return t.join(".")}}]),e}();t.Annotation=N;var B=function(){function e(){P(this,e),this.width=1,this.style=o.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}return I(e,[{key:"setWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0];if((0,u.isName)(e))this.width=0;else if(Number.isInteger(e)){if(e>0){var r=(t[2]-t[0])/2,n=(t[3]-t[1])/2;r>0&&n>0&&(e>r||e>n)&&((0,o.warn)("AnnotationBorderStyle.setWidth - ignoring width: ".concat(e)),e=1)}this.width=e}}},{key:"setStyle",value:function(e){if((0,u.isName)(e))switch(e.name){case"S":this.style=o.AnnotationBorderStyleType.SOLID;break;case"D":this.style=o.AnnotationBorderStyleType.DASHED;break;case"B":this.style=o.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=o.AnnotationBorderStyleType.INSET;break;case"U":this.style=o.AnnotationBorderStyleType.UNDERLINE}}},{key:"setDashArray",value:function(e){if(Array.isArray(e)&&e.length>0){var t,r=!0,n=!0,a=x(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!(+i>=0)){r=!1;break}i>0&&(n=!1)}}catch(e){a.e(e)}finally{a.f()}r&&!n?this.dashArray=e:this.width=0}else e&&(this.width=0)}},{key:"setHorizontalCornerRadius",value:function(e){Number.isInteger(e)&&(this.horizontalCornerRadius=e)}},{key:"setVerticalCornerRadius",value:function(e){Number.isInteger(e)&&(this.verticalCornerRadius=e)}}]),e}();t.AnnotationBorderStyle=B;var D=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),n=t.call(this,e);var a=e.dict;if(a.has("IRT")){var i=a.getRaw("IRT");n.data.inReplyTo=(0,u.isRef)(i)?i.toString():null;var s=a.get("RT");n.data.replyType=(0,u.isName)(s)?s.name:o.AnnotationReplyType.REPLY}if(n.data.replyType===o.AnnotationReplyType.GROUP){var c=a.get("IRT");n.data.title=(0,o.stringToPDFString)(c.get("T")||""),n.setContents(c.get("Contents")),n.data.contents=n.contents,c.has("CreationDate")?(n.setCreationDate(c.get("CreationDate")),n.data.creationDate=n.creationDate):n.data.creationDate=null,c.has("M")?(n.setModificationDate(c.get("M")),n.data.modificationDate=n.modificationDate):n.data.modificationDate=null,n.data.hasPopup=c.has("Popup"),c.has("C")?(n.setColor(c.getArray("C")),n.data.color=n.color):n.data.color=null}else n.data.title=(0,o.stringToPDFString)(a.get("T")||""),n.setCreationDate(a.get("CreationDate")),n.data.creationDate=n.creationDate,n.data.hasPopup=a.has("Popup"),a.has("C")||(n.data.color=null);return n}return I(r,[{key:"setCreationDate",value:function(e){this.creationDate=(0,o.isString)(e)?e:null}},{key:"_setDefaultAppearance",value:function(e){var t=e.xref,r=e.extra,n=e.strokeColor,a=e.fillColor,i=e.blendMode,o=e.strokeAlpha,s=e.fillAlpha,c=e.pointsCallback,l=Number.MAX_VALUE,f=Number.MAX_VALUE,h=Number.MIN_VALUE,d=Number.MIN_VALUE,p=["q"];r&&p.push(r),n&&p.push("".concat(n[0]," ").concat(n[1]," ").concat(n[2]," RG")),a&&p.push("".concat(a[0]," ").concat(a[1]," ").concat(a[2]," rg"));var m=this.data.quadPoints;m||(m=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);var v,y=x(m);try{for(y.s();!(v=y.n()).done;){var b=C(c(p,v.value),4),w=b[0],k=b[1],S=b[2],A=b[3];l=Math.min(l,w),h=Math.max(h,k),f=Math.min(f,S),d=Math.max(d,A)}}catch(e){y.e(e)}finally{y.f()}p.push("Q");var O=new u.Dict(t),T=new u.Dict(t);T.set("Subtype",u.Name.get("Form"));var F=new g.StringStream(p.join(" "));F.dict=T,O.set("Fm0",F);var P=new u.Dict(t);i&&P.set("BM",u.Name.get(i)),"number"==typeof o&&P.set("CA",o),"number"==typeof s&&P.set("ca",s);var _=new u.Dict(t);_.set("GS0",P);var I=new u.Dict(t);I.set("ExtGState",_),I.set("XObject",O);var E=new u.Dict(t);E.set("Resources",I);var j=this.data.rect=[l,f,h,d];E.set("BBox",j),this.appearance=new g.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=E,this._streams.push(this.appearance,F)}}]),r}(N);t.MarkupAnnotation=D;var L=function(e){y(l,e);var t,r,n,a=w(l);function l(e){var t;P(this,l),t=a.call(this,e);var r=e.dict,n=t.data;t.ref=e.ref,n.annotationType=o.AnnotationType.WIDGET,void 0===n.fieldName&&(n.fieldName=t._constructFieldName(r)),void 0===n.actions&&(n.actions=(0,s.collectActions)(e.xref,r,o.AnnotationActionEventType));var i=(0,s.getInheritableProperty)({dict:r,key:"V",getArray:!0});n.fieldValue=t._decodeFormValue(i);var f=(0,s.getInheritableProperty)({dict:r,key:"DV",getArray:!0});n.defaultFieldValue=t._decodeFormValue(f),n.alternativeText=(0,o.stringToPDFString)(r.get("TU")||"");var h=(0,s.getInheritableProperty)({dict:r,key:"DA"})||e.acroForm.get("DA");t._defaultAppearance=(0,o.isString)(h)?h:"",n.defaultAppearanceData=(0,c.parseDefaultAppearance)(t._defaultAppearance);var d=(0,s.getInheritableProperty)({dict:r,key:"FT"});n.fieldType=(0,u.isName)(d)?d.name:null;var p=(0,s.getInheritableProperty)({dict:r,key:"DR"}),g=e.acroForm.get("DR"),m=t.appearance&&t.appearance.dict.get("Resources");return t._fieldResources={localResources:p,acroFormResources:g,appearanceResources:m,mergedResources:u.Dict.merge({xref:e.xref,dictArray:[p,m,g],mergeSubDicts:!0})},n.fieldFlags=(0,s.getInheritableProperty)({dict:r,key:"Ff"}),(!Number.isInteger(n.fieldFlags)||n.fieldFlags<0)&&(n.fieldFlags=0),n.readOnly=t.hasFieldFlag(o.AnnotationFieldFlag.READONLY),n.hidden=t._hasFlag(n.annotationFlags,o.AnnotationFlag.HIDDEN),t}return I(l,[{key:"_decodeFormValue",value:function(e){return Array.isArray(e)?e.filter((function(e){return(0,o.isString)(e)})).map((function(e){return(0,o.stringToPDFString)(e)})):(0,u.isName)(e)?(0,o.stringToPDFString)(e.name):(0,o.isString)(e)?(0,o.stringToPDFString)(e):null}},{key:"hasFieldFlag",value:function(e){return!!(this.data.fieldFlags&e)}},{key:"getOperatorList",value:function(e,t,r,n){var a=this;return!r||this instanceof H?this._hasText?this._getAppearance(e,t,n).then((function(i){if(a.appearance&&null===i)return v(S(l.prototype),"getOperatorList",a).call(a,e,t,r,n);var s=new p.OperatorList;if(!a._defaultAppearance||null===i)return s;var c=[1,0,0,1,0,0],u=[0,0,a.data.rect[2]-a.data.rect[0],a.data.rect[3]-a.data.rect[1]],f=M(a.data.rect,u,c);s.addOp(o.OPS.beginAnnotation,[a.data.rect,f,c]);var h=new g.StringStream(i);return e.getOperatorList({stream:h,task:t,resources:a._fieldResources.mergedResources,operatorList:s}).then((function(){return s.addOp(o.OPS.endAnnotation,[]),s}))})):v(S(l.prototype),"getOperatorList",this).call(this,e,t,r,n):Promise.resolve(new p.OperatorList)}},{key:"save",value:(n=O(i.default.mark((function e(t,r,n){var a,s,c,l,f,h,d,p,g,v,y,b,w,k,S;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:if(a=n.get(this.data.id),(s=a&&a.value)!==this.data.fieldValue&&void 0!==s){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,this._getAppearance(t,r,n);case 8:if(null!==(c=e.sent)){e.next=11;break}return e.abrupt("return",null);case 11:if(l=t.xref,f=l.fetchIfRef(this.ref),(0,u.isDict)(f)){e.next=15;break}return e.abrupt("return",null);case 15:return h=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],d={path:(0,o.stringToPDFString)(f.get("T")||""),value:s},p=l.getNewRef(),(g=new u.Dict(l)).set("N",p),v=l.encrypt,y=null,b=null,v&&(y=v.createCipherTransform(this.ref.num,this.ref.gen),b=v.createCipherTransform(p.num,p.gen),c=b.encryptString(c)),f.set("V",(0,o.isAscii)(s)?s:(0,o.stringToUTF16BEString)(s)),f.set("AP",g),f.set("M","D:".concat((0,o.getModificationDate)())),(w=new u.Dict(l)).set("Length",c.length),w.set("Subtype",u.Name.get("Form")),w.set("Resources",this._getSaveFieldResources(l)),w.set("BBox",h),k=["".concat(this.ref.num," ").concat(this.ref.gen," obj\\n")],(0,m.writeDict)(f,k,y),k.push("\\nendobj\\n"),S=["".concat(p.num," ").concat(p.gen," obj\\n")],(0,m.writeDict)(w,S,b),S.push(" stream\\n",c,"\\nendstream\\nendobj\\n"),e.abrupt("return",[{ref:this.ref,data:k.join(""),xfa:d},{ref:p,data:S.join(""),xfa:null}]);case 39:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"_getAppearance",value:(r=O(i.default.mark((function e(t,r,n){var a,s,u,l,f,h,d,p,g,m,v,y,b,w,k,S,x,A;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.hasFieldFlag(o.AnnotationFieldFlag.PASSWORD),n&&!a){e.next=3;break}return e.abrupt("return",null);case 3:if(s=n.get(this.data.id),void 0!==(u=s&&s.value)){e.next=7;break}return e.abrupt("return",null);case 7:if(""!==(u=u.trim())){e.next=10;break}return e.abrupt("return","");case 10:return l=-1,this.data.multiLine&&(l=u.split(/\\r\\n|\\r|\\n/).length),h=f=2,d=this.data.rect[3]-this.data.rect[1],p=this.data.rect[2]-this.data.rect[0],this._defaultAppearance||(this.data.defaultAppearanceData=(0,c.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g")),g=this._computeFontSize(d,l),m=C(g,2),v=m[0],y=m[1],e.next=20,this._getFontData(t,r);case 20:if(b=e.sent,w=b.descent,isNaN(w)&&(w=0),k=f+Math.abs(w)*y,S=this.data.textAlignment,!this.data.multiLine){e.next=27;break}return e.abrupt("return",this._getMultilineAppearance(v,u,b,y,p,d,S,h,k));case 27:if(x=b.encodeString(u).join(""),!this.data.comb){e.next=30;break}return e.abrupt("return",this._getCombAppearance(v,b,x,p,h,k));case 30:if(!(0===S||S>2)){e.next=32;break}return e.abrupt("return","/Tx BMC q BT "+v+" 1 0 0 1 ".concat(h," ").concat(k," Tm (").concat((0,o.escapeString)(x),") Tj")+" ET Q EMC");case 32:return A=this._renderText(x,b,y,p,S,h,k),e.abrupt("return","/Tx BMC q BT "+v+" 1 0 0 1 0 0 Tm ".concat(A)+" ET Q EMC");case 34:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"_getFontData",value:(t=O(i.default.mark((function e(t,r){var n,a,o,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new p.OperatorList,a={font:null,clone:function(){return this}},o=this.data.defaultAppearanceData,s=o.fontName,c=o.fontSize,e.next=5,t.handleSetFont(this._fieldResources.mergedResources,[s&&u.Name.get(s),c],null,n,r,a,null);case 5:return e.abrupt("return",a.font);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"_computeFontSize",value:function(e,t){var r=this.data.defaultAppearanceData.fontSize;if(!r){var n=function(e){return Math.round(10*e)/10};if(-1===t)r=n(.8*e);else{var a=(r=10)/.8,i=Math.round(e/a);r=n(.8*(a=e/(i=Math.max(i,t))))}var o=this.data.defaultAppearanceData,s=o.fontName,u=o.fontColor;this._defaultAppearance=(0,c.createDefaultAppearance)({fontSize:r,fontName:s,fontColor:u})}return[this._defaultAppearance,r]}},{key:"_renderText",value:function(e,t,r,n,a,i,s){var c,u,l=r/1e3,f=0,h=x(t.charsToGlyphs(e));try{for(h.s();!(c=h.n()).done;)f+=c.value.width*l}catch(e){h.e(e)}finally{h.f()}return u=(u=1===a?(n-f)/2:2===a?n-f-i:i).toFixed(2),s=s.toFixed(2),"".concat(u," ").concat(s," Td (").concat((0,o.escapeString)(e),") Tj")}},{key:"_getSaveFieldResources",value:function(e){var t=this._fieldResources,r=t.localResources,n=t.appearanceResources,a=t.acroFormResources,i=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!i)return r||u.Dict.empty;for(var o=0,s=[r,n];o<s.length;o++){var c=s[o];if(c instanceof u.Dict){var l=c.get("Font");if(l instanceof u.Dict&&l.has(i))return c}}if(a instanceof u.Dict){var f=a.get("Font");if(f instanceof u.Dict&&f.has(i)){var h=new u.Dict(e);h.set(i,f.getRaw(i));var d=new u.Dict(e);return d.set("Font",h),u.Dict.merge({xref:e,dictArray:[d,r],mergeSubDicts:!0})}}return r||u.Dict.empty}},{key:"getFieldObject",value:function(){return null}}]),l}(N),U=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e))._hasText=!0;var a=e.dict;(0,o.isString)(n.data.fieldValue)||(n.data.fieldValue="");var i=(0,s.getInheritableProperty)({dict:a,key:"Q"});(!Number.isInteger(i)||i<0||i>2)&&(i=null),n.data.textAlignment=i;var c=(0,s.getInheritableProperty)({dict:a,key:"MaxLen"});return(!Number.isInteger(c)||c<0)&&(c=null),n.data.maxLen=c,n.data.multiLine=n.hasFieldFlag(o.AnnotationFieldFlag.MULTILINE),n.data.comb=n.hasFieldFlag(o.AnnotationFieldFlag.COMB)&&!n.hasFieldFlag(o.AnnotationFieldFlag.MULTILINE)&&!n.hasFieldFlag(o.AnnotationFieldFlag.PASSWORD)&&!n.hasFieldFlag(o.AnnotationFieldFlag.FILESELECT)&&null!==n.data.maxLen,n}return I(r,[{key:"_getCombAppearance",value:function(e,t,r,n,a,i){var s,c=(n/this.data.maxLen).toFixed(2),u=[],l=x(t.getCharPositions(r));try{for(l.s();!(s=l.n()).done;){var f=C(s.value,2),h=f[0],d=f[1];u.push("(".concat((0,o.escapeString)(r.substring(h,d)),") Tj"))}}catch(e){l.e(e)}finally{l.f()}var p=u.join(" ".concat(c," 0 Td "));return"/Tx BMC q BT "+e+" 1 0 0 1 ".concat(a," ").concat(i," Tm ").concat(p)+" ET Q EMC"}},{key:"_getMultilineAppearance",value:function(e,t,r,n,a,i,o,s,c){var u,l=[],f=a-2*s,h=x(t.split(/\\r\\n|\\r|\\n/));try{for(h.s();!(u=h.n()).done;){var d,p=u.value,g=x(this._splitLine(p,r,n,f));try{for(g.s();!(d=g.n()).done;){var m=d.value,v=0===l.length?s:0;l.push(this._renderText(m,r,n,a,o,v,-n))}}catch(e){g.e(e)}finally{g.f()}}}catch(e){h.e(e)}finally{h.f()}var y=l.join("\\n");return"/Tx BMC q BT "+e+" 1 0 0 1 0 ".concat(i," Tm ").concat(y)+" ET Q EMC"}},{key:"_splitLine",value:function(e,t,r,n){e=t.encodeString(e).join("");var a=t.charsToGlyphs(e);if(a.length<=1)return[e];for(var i=t.getCharPositions(e),o=r/1e3,s=[],c=-1,u=-1,l=-1,f=0,h=0,d=0,p=a.length;d<p;d++){var g=C(i[d],2),m=g[0],v=g[1],y=a[d],b=y.width*o;" "===y.unicode?h+b>n?(s.push(e.substring(f,m)),f=m,h=b,c=-1,l=-1):(h+=b,c=m,u=v,l=d):h+b>n?-1!==c?(s.push(e.substring(f,u)),f=u,d=l+1,c=-1,h=0):(s.push(e.substring(f,m)),f=m,h=b):h+=b}return f<e.length&&s.push(e.substring(f,e.length)),s}},{key:"getFieldObject",value:function(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue,multiline:this.data.multiLine,password:this.hasFieldFlag(o.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,type:"text"}}}]),r}(L),q=function(e){y(s,e);var t,r,n,a=w(s);function s(e){var t;return P(this,s),(t=a.call(this,e)).checkedAppearance=null,t.uncheckedAppearance=null,t.data.checkBox=!t.hasFieldFlag(o.AnnotationFieldFlag.RADIO)&&!t.hasFieldFlag(o.AnnotationFieldFlag.PUSHBUTTON),t.data.radioButton=t.hasFieldFlag(o.AnnotationFieldFlag.RADIO)&&!t.hasFieldFlag(o.AnnotationFieldFlag.PUSHBUTTON),t.data.pushButton=t.hasFieldFlag(o.AnnotationFieldFlag.PUSHBUTTON),t.data.isTooltipOnly=!1,t.data.checkBox?t._processCheckBox(e):t.data.radioButton?t._processRadioButton(e):t.data.pushButton?t._processPushButton(e):(0,o.warn)("Invalid field flags for button widget annotation"),t}return I(s,[{key:"getOperatorList",value:function(e,t,r,n){if(this.data.pushButton)return v(S(s.prototype),"getOperatorList",this).call(this,e,t,!1,n);if(n){var a,i=n.get(this.data.id),o=i&&i.value;if(void 0===o)return v(S(s.prototype),"getOperatorList",this).call(this,e,t,r,n);if(a=o?this.checkedAppearance:this.uncheckedAppearance){var c=this.appearance;this.appearance=a;var u=v(S(s.prototype),"getOperatorList",this).call(this,e,t,r,n);return this.appearance=c,u}return Promise.resolve(new p.OperatorList)}return v(S(s.prototype),"getOperatorList",this).call(this,e,t,r,n)}},{key:"save",value:(n=O(i.default.mark((function e(t,r,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.data.checkBox){e.next=2;break}return e.abrupt("return",this._saveCheckbox(t,r,n));case 2:if(!this.data.radioButton){e.next=4;break}return e.abrupt("return",this._saveRadioButton(t,r,n));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"_saveCheckbox",value:(r=O(i.default.mark((function e(t,r,n){var a,s,c,l,f,h,d,p;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:if(a=n.get(this.data.id),void 0!==(s=a&&a.value)){e.next=6;break}return e.abrupt("return",null);case 6:if((this.data.fieldValue&&"Off"!==this.data.fieldValue)!==s){e.next=9;break}return e.abrupt("return",null);case 9:if(c=t.xref.fetchIfRef(this.ref),(0,u.isDict)(c)){e.next=12;break}return e.abrupt("return",null);case 12:return l={path:(0,o.stringToPDFString)(c.get("T")||""),value:s?this.data.exportValue:""},f=u.Name.get(s?this.data.exportValue:"Off"),c.set("V",f),c.set("AS",f),c.set("M","D:".concat((0,o.getModificationDate)())),h=t.xref.encrypt,d=null,h&&(d=h.createCipherTransform(this.ref.num,this.ref.gen)),p=["".concat(this.ref.num," ").concat(this.ref.gen," obj\\n")],(0,m.writeDict)(c,p,d),p.push("\\nendobj\\n"),e.abrupt("return",[{ref:this.ref,data:p.join(""),xfa:l}]);case 24:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"_saveRadioButton",value:(t=O(i.default.mark((function e(t,r,n){var a,s,c,l,f,h,d,p,g,v,y,b;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:if(a=n.get(this.data.id),void 0!==(s=a&&a.value)){e.next=6;break}return e.abrupt("return",null);case 6:if(this.data.fieldValue===this.data.buttonValue!==s){e.next=9;break}return e.abrupt("return",null);case 9:if(c=t.xref.fetchIfRef(this.ref),(0,u.isDict)(c)){e.next=12;break}return e.abrupt("return",null);case 12:return l={path:(0,o.stringToPDFString)(c.get("T")||""),value:s?this.data.buttonValue:""},f=u.Name.get(s?this.data.buttonValue:"Off"),h=null,d=t.xref.encrypt,s&&((0,u.isRef)(this.parent)?(p=t.xref.fetch(this.parent),g=null,d&&(g=d.createCipherTransform(this.parent.num,this.parent.gen)),p.set("V",f),h=["".concat(this.parent.num," ").concat(this.parent.gen," obj\\n")],(0,m.writeDict)(p,h,g),h.push("\\nendobj\\n")):(0,u.isDict)(this.parent)&&this.parent.set("V",f)),c.set("AS",f),c.set("M","D:".concat((0,o.getModificationDate)())),v=null,d&&(v=d.createCipherTransform(this.ref.num,this.ref.gen)),y=["".concat(this.ref.num," ").concat(this.ref.gen," obj\\n")],(0,m.writeDict)(c,y,v),y.push("\\nendobj\\n"),b=[{ref:this.ref,data:y.join(""),xfa:l}],null!==h&&b.push({ref:this.parent,data:h.join(""),xfa:null}),e.abrupt("return",b);case 27:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"_processCheckBox",value:function(e){var t=e.dict.get("AP");if((0,u.isDict)(t)){var r=t.get("N");if((0,u.isDict)(r)){var n=r.getKeys();n.includes("Off")||n.push("Off"),2===n.length&&(this.data.exportValue="Off"===n[0]?n[1]:n[0],this.checkedAppearance=r.get(this.data.exportValue),this.uncheckedAppearance=r.get("Off")||null,this._streams.push(this.checkedAppearance),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict)}}}},{key:"_processRadioButton",value:function(e){this.data.fieldValue=this.data.buttonValue=null;var t=e.dict.get("Parent");if((0,u.isDict)(t)){this.parent=e.dict.getRaw("Parent");var r=t.get("V");(0,u.isName)(r)&&(this.data.fieldValue=this._decodeFormValue(r))}var n=e.dict.get("AP");if((0,u.isDict)(n)){var a=n.get("N");if((0,u.isDict)(a)){var i,o=x(a.getKeys());try{for(o.s();!(i=o.n()).done;){var s=i.value;if("Off"!==s){this.data.buttonValue=this._decodeFormValue(s);break}}}catch(e){o.e(e)}finally{o.f()}this.checkedAppearance=a.get(this.data.buttonValue),this.uncheckedAppearance=a.get("Off")||null,this._streams.push(this.checkedAppearance),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}}},{key:"_processPushButton",value:function(e){e.dict.has("A")||e.dict.has("AA")||this.data.alternativeText?(this.data.isTooltipOnly=!e.dict.has("A")&&!e.dict.has("AA"),l.Catalog.parseDestDictionary({destDict:e.dict,resultObj:this.data,docBaseUrl:e.pdfManager.docBaseUrl})):(0,o.warn)("Push buttons without action dictionaries are not supported")}},{key:"getFieldObject",value:function(){var e,t="button";return this.data.checkBox?(t="checkbox",e=this.data.exportValue):this.data.radioButton&&(t="radiobutton",e=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:e,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,type:t}}},{key:"fallbackFontDict",get:function(){var e=new u.Dict;return e.set("BaseFont",u.Name.get("ZapfDingbats")),e.set("Type",u.Name.get("FallbackType")),e.set("Subtype",u.Name.get("FallbackType")),e.set("Encoding",u.Name.get("ZapfDingbatsEncoding")),(0,o.shadow)(this,"fallbackFontDict",e)}}]),s}(L),X=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e)).data.options=[];var a=(0,s.getInheritableProperty)({dict:e.dict,key:"Opt"});if(Array.isArray(a))for(var i=e.xref,c=0,u=a.length;c<u;c++){var l=i.fetchIfRef(a[c]),f=Array.isArray(l);n.data.options[c]={exportValue:n._decodeFormValue(f?i.fetchIfRef(l[0]):l),displayValue:n._decodeFormValue(f?i.fetchIfRef(l[1]):l)}}return(0,o.isString)(n.data.fieldValue)?n.data.fieldValue=[n.data.fieldValue]:n.data.fieldValue||(n.data.fieldValue=[]),n.data.combo=n.hasFieldFlag(o.AnnotationFieldFlag.COMBO),n.data.multiSelect=n.hasFieldFlag(o.AnnotationFieldFlag.MULTISELECT),n._hasText=!0,n}return I(r,[{key:"getFieldObject",value:function(){var e=this.data.combo?"combobox":"listbox",t=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:t,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,type:e}}}]),r}(L),H=function(e){y(r,e);var t=w(r);function r(e){var n;return P(this,r),(n=t.call(this,e)).data.fieldValue=null,n}return I(r,[{key:"getFieldObject",value:function(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}]),r}(L),$=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),n=t.call(this,e);var a=e.dict;return n.data.annotationType=o.AnnotationType.TEXT,n.data.hasAppearance?n.data.name="NoIcon":(n.data.rect[1]=n.data.rect[3]-22,n.data.rect[2]=n.data.rect[0]+22,n.data.name=a.has("Name")?a.get("Name").name:"Note"),a.has("State")?(n.data.state=a.get("State")||null,n.data.stateModel=a.get("StateModel")||null):(n.data.state=null,n.data.stateModel=null),n}return r}(D),z=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.LINK;var a=R(e.dict,n.rectangle);return a&&(n.data.quadPoints=a),l.Catalog.parseDestDictionary({destDict:e.dict,resultObj:n.data,docBaseUrl:e.pdfManager.docBaseUrl}),n}return r}(N),G=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.POPUP;var a=e.dict.get("Parent");if(!a)return(0,o.warn)("Popup annotation has a missing or invalid parent annotation."),k(n);var i=a.get("Subtype");n.data.parentType=(0,u.isName)(i)?i.name:null;var s=e.dict.getRaw("Parent");n.data.parentId=(0,u.isRef)(s)?s.toString():null;var c=a.getArray("Rect");Array.isArray(c)&&4===c.length?n.data.parentRect=o.Util.normalizeRect(c):n.data.parentRect=[0,0,0,0];var l=a.get("RT");if((0,u.isName)(l,o.AnnotationReplyType.GROUP)&&(a=a.get("IRT")),a.has("M")?(n.setModificationDate(a.get("M")),n.data.modificationDate=n.modificationDate):n.data.modificationDate=null,a.has("C")?(n.setColor(a.getArray("C")),n.data.color=n.color):n.data.color=null,!n.viewable){var f=a.get("F");n._isViewable(f)&&n.setFlags(f)}return n.data.title=(0,o.stringToPDFString)(a.get("T")||""),n.data.contents=(0,o.stringToPDFString)(a.get("Contents")||""),n}return r}(N),W=function(e){y(r,e);var t=w(r);function r(e){var n;return P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.FREETEXT,n}return r}(D),V=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.LINE;var a=e.dict.getArray("L");if(n.data.lineCoordinates=o.Util.normalizeRect(a),!n.appearance){var i=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],s=e.dict.get("CA"),c=null,u=e.dict.getArray("IC");u&&(c=(u=j(u))?Array.from(u).map((function(e){return e/255})):null);var l=c?s:null,f=n.borderStyle.width||1,h=2*f,d=[n.data.lineCoordinates[0]-h,n.data.lineCoordinates[1]-h,n.data.lineCoordinates[2]+h,n.data.lineCoordinates[3]+h];o.Util.intersect(n.rectangle,d)||(n.rectangle=d),n._setDefaultAppearance({xref:e.xref,extra:"".concat(f," w"),strokeColor:i,fillColor:c,strokeAlpha:s,fillAlpha:l,pointsCallback:function(e,t){return e.push("".concat(a[0]," ").concat(a[1]," m"),"".concat(a[2]," ").concat(a[3]," l"),"S"),[t[0].x-f,t[1].x+f,t[3].y-f,t[1].y+f]}})}return n}return r}(D),K=function(e){y(r,e);var t=w(r);function r(e){var n;if(P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.SQUARE,!n.appearance){var a=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],i=e.dict.get("CA"),s=null,c=e.dict.getArray("IC");c&&(c=j(c),s=c?Array.from(c).map((function(e){return e/255})):null);var u=s?i:null;n._setDefaultAppearance({xref:e.xref,extra:"".concat(n.borderStyle.width," w"),strokeColor:a,fillColor:s,strokeAlpha:i,fillAlpha:u,pointsCallback:function(e,t){var r=t[2].x+n.borderStyle.width/2,a=t[2].y+n.borderStyle.width/2,i=t[3].x-t[2].x-n.borderStyle.width,o=t[1].y-t[3].y-n.borderStyle.width;return e.push("".concat(r," ").concat(a," ").concat(i," ").concat(o," re")),s?e.push("B"):e.push("S"),[t[0].x,t[1].x,t[3].y,t[1].y]}})}return n}return r}(D),Y=function(e){y(r,e);var t=w(r);function r(e){var n;if(P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.CIRCLE,!n.appearance){var a=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],i=e.dict.get("CA"),s=null,c=e.dict.getArray("IC");c&&(c=j(c),s=c?Array.from(c).map((function(e){return e/255})):null);var u=s?i:null,l=4/3*Math.tan(Math.PI/8);n._setDefaultAppearance({xref:e.xref,extra:"".concat(n.borderStyle.width," w"),strokeColor:a,fillColor:s,strokeAlpha:i,fillAlpha:u,pointsCallback:function(e,t){var r=t[0].x+n.borderStyle.width/2,a=t[0].y-n.borderStyle.width/2,i=t[3].x-n.borderStyle.width/2,o=t[3].y+n.borderStyle.width/2,c=r+(i-r)/2,u=a+(o-a)/2,f=(i-r)/2*l,h=(o-a)/2*l;return e.push("".concat(c," ").concat(o," m"),"".concat(c+f," ").concat(o," ").concat(i," ").concat(u+h," ").concat(i," ").concat(u," c"),"".concat(i," ").concat(u-h," ").concat(c+f," ").concat(a," ").concat(c," ").concat(a," c"),"".concat(c-f," ").concat(a," ").concat(r," ").concat(u-h," ").concat(r," ").concat(u," c"),"".concat(r," ").concat(u+h," ").concat(c-f," ").concat(o," ").concat(c," ").concat(o," c"),"h"),s?e.push("B"):e.push("S"),[t[0].x,t[1].x,t[3].y,t[1].y]}})}return n}return r}(D),J=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.POLYLINE,n.data.vertices=[];var a=e.dict.getArray("Vertices");if(!Array.isArray(a))return k(n);for(var i=0,s=a.length;i<s;i+=2)n.data.vertices.push({x:a[i],y:a[i+1]});if(!n.appearance){var c,u=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],l=e.dict.get("CA"),f=n.borderStyle.width||1,h=2*f,d=[1/0,1/0,-1/0,-1/0],p=x(n.data.vertices);try{for(p.s();!(c=p.n()).done;){var g=c.value;d[0]=Math.min(d[0],g.x-h),d[1]=Math.min(d[1],g.y-h),d[2]=Math.max(d[2],g.x+h),d[3]=Math.max(d[3],g.y+h)}}catch(e){p.e(e)}finally{p.f()}o.Util.intersect(n.rectangle,d)||(n.rectangle=d),n._setDefaultAppearance({xref:e.xref,extra:"".concat(f," w"),strokeColor:u,strokeAlpha:l,pointsCallback:function(e,t){for(var r=n.data.vertices,a=0,i=r.length;a<i;a++)e.push("".concat(r[a].x," ").concat(r[a].y," ").concat(0===a?"m":"l"));return e.push("S"),[t[0].x,t[1].x,t[3].y,t[1].y]}})}return n}return r}(D),Z=function(e){y(r,e);var t=w(r);function r(e){var n;return P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.POLYGON,n}return r}(J),Q=function(e){y(r,e);var t=w(r);function r(e){var n;return P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.CARET,n}return r}(D),ee=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.INK,n.data.inkLists=[];var a=e.dict.getArray("InkList");if(!Array.isArray(a))return k(n);for(var i=e.xref,s=0,c=a.length;s<c;++s){n.data.inkLists.push([]);for(var u=0,l=a[s].length;u<l;u+=2)n.data.inkLists[s].push({x:i.fetchIfRef(a[s][u]),y:i.fetchIfRef(a[s][u+1])})}if(!n.appearance){var f,h=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],d=e.dict.get("CA"),p=n.borderStyle.width||1,g=2*p,m=[1/0,1/0,-1/0,-1/0],v=x(n.data.inkLists);try{for(v.s();!(f=v.n()).done;){var y,b=x(f.value);try{for(b.s();!(y=b.n()).done;){var w=y.value;m[0]=Math.min(m[0],w.x-g),m[1]=Math.min(m[1],w.y-g),m[2]=Math.max(m[2],w.x+g),m[3]=Math.max(m[3],w.y+g)}}catch(e){b.e(e)}finally{b.f()}}}catch(e){v.e(e)}finally{v.f()}o.Util.intersect(n.rectangle,m)||(n.rectangle=m),n._setDefaultAppearance({xref:e.xref,extra:"".concat(p," w"),strokeColor:h,strokeAlpha:d,pointsCallback:function(e,t){var r,a=x(n.data.inkLists);try{for(a.s();!(r=a.n()).done;){for(var i=r.value,o=0,s=i.length;o<s;o++)e.push("".concat(i[o].x," ").concat(i[o].y," ").concat(0===o?"m":"l"));e.push("S")}}catch(e){a.e(e)}finally{a.f()}return[t[0].x,t[1].x,t[3].y,t[1].y]}})}return n}return r}(D),te=function(e){y(r,e);var t=w(r);function r(e){var n;if(P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.HIGHLIGHT,n.data.quadPoints=R(e.dict,null)){var a=n.appearance&&n.appearance.dict.get("Resources");if(!n.appearance||!a||!a.has("ExtGState")){n.appearance&&(0,o.warn)("HighlightAnnotation - ignoring built-in appearance stream.");var i=n.color?Array.from(n.color).map((function(e){return e/255})):[1,1,0],s=e.dict.get("CA");n._setDefaultAppearance({xref:e.xref,fillColor:i,blendMode:"Multiply",fillAlpha:s,pointsCallback:function(e,t){return e.push("".concat(t[0].x," ").concat(t[0].y," m"),"".concat(t[1].x," ").concat(t[1].y," l"),"".concat(t[3].x," ").concat(t[3].y," l"),"".concat(t[2].x," ").concat(t[2].y," l"),"f"),[t[0].x,t[1].x,t[3].y,t[1].y]}})}}else n.data.hasPopup=!1;return n}return r}(D),re=function(e){y(r,e);var t=w(r);function r(e){var n;if(P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.UNDERLINE,n.data.quadPoints=R(e.dict,null)){if(!n.appearance){var a=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],i=e.dict.get("CA");n._setDefaultAppearance({xref:e.xref,extra:"[] 0 d 1 w",strokeColor:a,strokeAlpha:i,pointsCallback:function(e,t){return e.push("".concat(t[2].x," ").concat(t[2].y," m"),"".concat(t[3].x," ").concat(t[3].y," l"),"S"),[t[0].x,t[1].x,t[3].y,t[1].y]}})}}else n.data.hasPopup=!1;return n}return r}(D),ne=function(e){y(r,e);var t=w(r);function r(e){var n;if(P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.SQUIGGLY,n.data.quadPoints=R(e.dict,null)){if(!n.appearance){var a=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],i=e.dict.get("CA");n._setDefaultAppearance({xref:e.xref,extra:"[] 0 d 1 w",strokeColor:a,strokeAlpha:i,pointsCallback:function(e,t){var r=(t[0].y-t[2].y)/6,n=r,a=t[2].x,i=t[2].y,o=t[3].x;e.push("".concat(a," ").concat(i+n," m"));do{a+=2,n=0===n?r:0,e.push("".concat(a," ").concat(i+n," l"))}while(a<o);return e.push("S"),[t[2].x,o,i-2*r,i+2*r]}})}}else n.data.hasPopup=!1;return n}return r}(D),ae=function(e){y(r,e);var t=w(r);function r(e){var n;if(P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.STRIKEOUT,n.data.quadPoints=R(e.dict,null)){if(!n.appearance){var a=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],i=e.dict.get("CA");n._setDefaultAppearance({xref:e.xref,extra:"[] 0 d 1 w",strokeColor:a,strokeAlpha:i,pointsCallback:function(e,t){return e.push("".concat((t[0].x+t[2].x)/2," ")+"".concat((t[0].y+t[2].y)/2," m"),"".concat((t[1].x+t[3].x)/2," ")+"".concat((t[1].y+t[3].y)/2," l"),"S"),[t[0].x,t[1].x,t[3].y,t[1].y]}})}}else n.data.hasPopup=!1;return n}return r}(D),ie=function(e){y(r,e);var t=w(r);function r(e){var n;return P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.STAMP,n}return r}(D),oe=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),n=t.call(this,e);var a=new h.FileSpec(e.dict.get("FS"),e.xref);return n.data.annotationType=o.AnnotationType.FILEATTACHMENT,n.data.file=a.serializable,n}return r}(D)},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultAppearance=function(e){var t,r=e.fontSize,n=e.fontName,a=e.fontColor;return t=a.every((function(e){return 0===e}))?"0 g":Array.from(a).map((function(e){return(e/255).toFixed(2)})).join(" ")+" rg","/".concat((0,o.escapePDFName)(n)," ").concat(r," Tf ").concat(t)},t.parseDefaultAppearance=function(e){return new v(e).parse()};var a=r(4),i=r(122),o=r(117),s=r(123),c=r(113),u=r(118);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,r,n,o=p(s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,new u.StringStream(e))}return t=s,(r=[{key:"parse",value:function(){var e={fn:0,args:[]},t={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;e.args.length=0,this.read(e);)if(0===this.savedStatesDepth){var r=e.fn,n=e.args;switch(0|r){case a.OPS.setFont:var o=l(n,2),s=o[0],u=o[1];s instanceof c.Name&&(t.fontName=s.name),"number"==typeof u&&u>0&&(t.fontSize=u);break;case a.OPS.setFillRGBColor:i.ColorSpace.singletons.rgb.getRgbItem(n,0,t.fontColor,0);break;case a.OPS.setFillGray:i.ColorSpace.singletons.gray.getRgbItem(n,0,t.fontColor,0);break;case a.OPS.setFillColorSpace:i.ColorSpace.singletons.cmyk.getRgbItem(n,0,t.fontColor,0)}}}catch(e){(0,a.warn)('parseDefaultAppearance - ignoring errors: "'.concat(e,'".'))}return t}}])&&h(t.prototype,r),n&&h(t,n),s}(s.EvaluatorPreprocessor)},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorSpace=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},o=r(4),s=r(113),c=r(117);function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}var y=function(){function e(t,r){g(this,e),this.constructor===e&&(0,o.unreachable)("Cannot initialize ColorSpace."),this.name=t,this.numComps=r}var t,r;return v(e,[{key:"getRgb",value:function(e,t){var r=new Uint8ClampedArray(3);return this.getRgbItem(e,t,r,0),r}},{key:"getRgbItem",value:function(e,t,r,n){(0,o.unreachable)("Should not call ColorSpace.getRgbItem")}},{key:"getRgbBuffer",value:function(e,t,r,n,a,i,s){(0,o.unreachable)("Should not call ColorSpace.getRgbBuffer")}},{key:"getOutputLength",value:function(e,t){(0,o.unreachable)("Should not call ColorSpace.getOutputLength")}},{key:"isPassthrough",value:function(e){return!1}},{key:"isDefaultDecode",value:function(t,r){return e.isDefaultDecode(t,this.numComps)}},{key:"fillRgb",value:function(e,t,r,n,a,i,o,s,c){var u=t*r,l=null,f=1<<o,h=r!==a||t!==n;if(this.isPassthrough(o))l=s;else if(1===this.numComps&&u>f&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){for(var d=o<=8?new Uint8Array(f):new Uint16Array(f),p=0;p<f;p++)d[p]=p;var g=new Uint8ClampedArray(3*f);if(this.getRgbBuffer(d,0,f,g,0,o,0),h){l=new Uint8Array(3*u);for(var m=0,v=0;v<u;++v){var y=3*s[v];l[m++]=g[y],l[m++]=g[y+1],l[m++]=g[y+2]}}else for(var b=0,w=0;w<u;++w){var k=3*s[w];e[b++]=g[k],e[b++]=g[k+1],e[b++]=g[k+2],b+=c}}else h?(l=new Uint8ClampedArray(3*u),this.getRgbBuffer(s,0,u,l,0,o,0)):this.getRgbBuffer(s,0,n*i,e,0,o,c);if(l)if(h)!function(e,t,r,n,a,i,o){o=1!==o?0:o;for(var s,c=r/a,u=n/i,l=0,f=new Uint16Array(a),h=3*r,d=0;d<a;d++)f[d]=3*Math.floor(d*c);for(var p=0;p<i;p++)for(var g=Math.floor(p*u)*h,m=0;m<a;m++)s=g+f[m],t[l++]=e[s++],t[l++]=e[s++],t[l++]=e[s++],l+=o}(l,e,t,r,n,a,c);else for(var S=0,x=0,A=0,O=n*i;A<O;A++)e[S++]=l[x++],e[S++]=l[x++],e[S++]=l[x++],S+=c}},{key:"usesZeroToOneRange",get:function(){return(0,o.shadow)(this,"usesZeroToOneRange",!0)}}],[{key:"_cache",value:function(e,t,r,n){if(!r)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!n)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');var a,i;e instanceof s.Ref&&(i=e,e=t.fetch(e)),e instanceof s.Name&&(a=e.name),(a||i)&&r.set(a,i,n)}},{key:"getCached",value:function(e,t,r){if(!r)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(e instanceof s.Ref){var n=r.getByRef(e);if(n)return n;try{e=t.fetch(e)}catch(e){if(e instanceof c.MissingDataException)throw e}}if(e instanceof s.Name){var a=r.getByName(e.name);if(a)return a}return null}},{key:"parseAsync",value:(t=i.default.mark((function e(t){var r,n,a,o,s,c,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cs,n=t.xref,a=t.resources,o=void 0===a?null:a,s=t.pdfFunctionFactory,c=t.localColorSpaceCache,u=this._parse(r,n,o,s),this._cache(r,n,c,u),e.abrupt("return",u);case 4:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(e){p(i,n,a,o,s,"next",e)}function s(e){p(i,n,a,o,s,"throw",e)}o(void 0)}))},function(e){return r.apply(this,arguments)})},{key:"parse",value:function(e){var t=e.cs,r=e.xref,n=e.resources,a=void 0===n?null:n,i=e.pdfFunctionFactory,o=e.localColorSpaceCache,s=this.getCached(t,r,o);if(s)return s;var c=this._parse(t,r,a,i);return this._cache(t,r,o,c),c}},{key:"_parse",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;if(e=t.fetchIfRef(e),(0,s.isName)(e))switch(e.name){case"DeviceGray":case"G":return this.singletons.gray;case"DeviceRGB":case"RGB":return this.singletons.rgb;case"DeviceCMYK":case"CMYK":return this.singletons.cmyk;case"Pattern":return new w(null);default:if((0,s.isDict)(r)){var a=r.get("ColorSpace");if((0,s.isDict)(a)){var i=a.get(e.name);if(i){if((0,s.isName)(i))return this._parse(i,t,r,n);e=i;break}}}throw new o.FormatError("Unrecognized ColorSpace: ".concat(e.name))}if(Array.isArray(e)){var c,u,l,f,h,d,p=t.fetchIfRef(e[0]).name;switch(p){case"DeviceGray":case"G":return this.singletons.gray;case"DeviceRGB":case"RGB":return this.singletons.rgb;case"DeviceCMYK":case"CMYK":return this.singletons.cmyk;case"CalGray":return f=(c=t.fetchIfRef(e[1])).getArray("WhitePoint"),h=c.getArray("BlackPoint"),d=c.get("Gamma"),new O(f,h,d);case"CalRGB":f=(c=t.fetchIfRef(e[1])).getArray("WhitePoint"),h=c.getArray("BlackPoint"),d=c.getArray("Gamma");var g=c.getArray("Matrix");return new C(f,h,d,g);case"ICCBased":var m=t.fetchIfRef(e[1]),v=m.dict;u=v.get("N");var y=v.get("Alternate");if(y){var S=this._parse(y,t,r,n);if(S.numComps===u)return S;(0,o.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(1===u)return this.singletons.gray;if(3===u)return this.singletons.rgb;if(4===u)return this.singletons.cmyk;break;case"Pattern":return(l=e[1]||null)&&(l=this._parse(l,t,r,n)),new w(l);case"Indexed":case"I":l=this._parse(e[1],t,r,n);var x=t.fetchIfRef(e[2])+1,A=t.fetchIfRef(e[3]);return new k(l,x,A);case"Separation":case"DeviceN":var F=t.fetchIfRef(e[1]);u=Array.isArray(F)?F.length:1,l=this._parse(e[2],t,r,n);var P=n.create(e[3]);return new b(u,l,P);case"Lab":f=(c=t.fetchIfRef(e[1])).getArray("WhitePoint"),h=c.getArray("BlackPoint");var _=c.getArray("Range");return new T(f,h,_);default:throw new o.FormatError("Unimplemented ColorSpace object: ".concat(p))}}throw new o.FormatError("Unrecognized ColorSpace object: ".concat(e))}},{key:"isDefaultDecode",value:function(e,t){if(!Array.isArray(e))return!0;if(2*t!==e.length)return(0,o.warn)("The decode map is not the correct length"),!0;for(var r=0,n=e.length;r<n;r+=2)if(0!==e[r]||1!==e[r+1])return!1;return!0}},{key:"singletons",get:function(){return(0,o.shadow)(this,"singletons",{get gray(){return(0,o.shadow)(this,"gray",new S)},get rgb(){return(0,o.shadow)(this,"rgb",new x)},get cmyk(){return(0,o.shadow)(this,"cmyk",new A)}})}}]),e}();t.ColorSpace=y;var b=function(e){u(r,e);var t=f(r);function r(e,n,a){var i;return g(this,r),(i=t.call(this,"Alternate",e)).base=n,i.tintFn=a,i.tmpBuf=new Float32Array(n.numComps),i}return v(r,[{key:"getRgbItem",value:function(e,t,r,n){var a=this.tmpBuf;this.tintFn(e,t,a,0),this.base.getRgbItem(a,0,r,n)}},{key:"getRgbBuffer",value:function(e,t,r,n,a,i,o){var s,c,u=this.tintFn,l=this.base,f=1/((1<<i)-1),h=l.numComps,d=l.usesZeroToOneRange,p=(l.isPassthrough(8)||!d)&&0===o,g=p?a:0,m=p?n:new Uint8ClampedArray(h*r),v=this.numComps,y=new Float32Array(v),b=new Float32Array(h);for(s=0;s<r;s++){for(c=0;c<v;c++)y[c]=e[t++]*f;if(u(y,0,b,0),d)for(c=0;c<h;c++)m[g++]=255*b[c];else l.getRgbItem(b,0,m,g),g+=h}p||l.getRgbBuffer(m,0,r,n,a,8,o)}},{key:"getOutputLength",value:function(e,t){return this.base.getOutputLength(e*this.base.numComps/this.numComps,t)}}]),r}(y),w=function(e){u(r,e);var t=f(r);function r(e){var n;return g(this,r),(n=t.call(this,"Pattern",null)).base=e,n}return v(r,[{key:"isDefaultDecode",value:function(e,t){(0,o.unreachable)("Should not call PatternCS.isDefaultDecode")}}]),r}(y),k=function(e){u(r,e);var t=f(r);function r(e,n,a){var i;g(this,r),(i=t.call(this,"Indexed",1)).base=e,i.highVal=n;var c=e.numComps*n;if(i.lookup=new Uint8Array(c),(0,s.isStream)(a)){var u=a.getBytes(c);i.lookup.set(u)}else{if("string"!=typeof a)throw new o.FormatError("IndexedCS - unrecognized lookup table: ".concat(a));for(var l=0;l<c;++l)i.lookup[l]=255&a.charCodeAt(l)}return i}return v(r,[{key:"getRgbItem",value:function(e,t,r,n){var a=this.base.numComps,i=e[t]*a;this.base.getRgbBuffer(this.lookup,i,1,r,n,8,0)}},{key:"getRgbBuffer",value:function(e,t,r,n,a,i,o){for(var s=this.base,c=s.numComps,u=s.getOutputLength(c,o),l=this.lookup,f=0;f<r;++f){var h=e[t++]*c;s.getRgbBuffer(l,h,1,n,a,8,o),a+=u}}},{key:"getOutputLength",value:function(e,t){return this.base.getOutputLength(e*this.base.numComps,t)}},{key:"isDefaultDecode",value:function(e,t){return!Array.isArray(e)||(2!==e.length?((0,o.warn)("Decode map length is not correct"),!0):!Number.isInteger(t)||t<1?((0,o.warn)("Bits per component is not correct"),!0):0===e[0]&&e[1]===(1<<t)-1)}}]),r}(y),S=function(e){u(r,e);var t=f(r);function r(){return g(this,r),t.call(this,"DeviceGray",1)}return v(r,[{key:"getRgbItem",value:function(e,t,r,n){var a=255*e[t];r[n]=r[n+1]=r[n+2]=a}},{key:"getRgbBuffer",value:function(e,t,r,n,a,i,o){for(var s=255/((1<<i)-1),c=t,u=a,l=0;l<r;++l){var f=s*e[c++];n[u++]=f,n[u++]=f,n[u++]=f,u+=o}}},{key:"getOutputLength",value:function(e,t){return e*(3+t)}}]),r}(y),x=function(e){u(r,e);var t=f(r);function r(){return g(this,r),t.call(this,"DeviceRGB",3)}return v(r,[{key:"getRgbItem",value:function(e,t,r,n){r[n]=255*e[t],r[n+1]=255*e[t+1],r[n+2]=255*e[t+2]}},{key:"getRgbBuffer",value:function(e,t,r,n,a,i,o){if(8!==i||0!==o)for(var s=255/((1<<i)-1),c=t,u=a,l=0;l<r;++l)n[u++]=s*e[c++],n[u++]=s*e[c++],n[u++]=s*e[c++],u+=o;else n.set(e.subarray(t,t+3*r),a)}},{key:"getOutputLength",value:function(e,t){return e*(3+t)/3|0}},{key:"isPassthrough",value:function(e){return 8===e}}]),r}(y),A=function(){function e(e,t,r,n,a){var i=e[t]*r,o=e[t+1]*r,s=e[t+2]*r,c=e[t+3]*r;n[a]=255+i*(-4.387332384609988*i+54.48615194189176*o+18.82290502165302*s+212.25662451639585*c-285.2331026137004)+o*(1.7149763477362134*o-5.6096736904047315*s+-17.873870861415444*c-5.497006427196366)+s*(-2.5217340131683033*s-21.248923337353073*c+17.5119270841813)+c*(-21.86122147463605*c-189.48180835922747),n[a+1]=255+i*(8.841041422036149*i+60.118027045597366*o+6.871425592049007*s+31.159100130055922*c-79.2970844816548)+o*(-15.310361306967817*o+17.575251261109482*s+131.35250912493976*c-190.9453302588951)+s*(4.444339102852739*s+9.8632861493405*c-24.86741582555878)+c*(-20.737325471181034*c-187.80453709719578),n[a+2]=255+i*(.8842522430003296*i+8.078677503112928*o+30.89978309703729*s-.23883238689178934*c-14.183576799673286)+o*(10.49593273432072*o+63.02378494754052*s+50.606957656360734*c-112.23884253719248)+s*(.03296041114873217*s+115.60384449646641*c-193.58209356861505)+c*(-22.33816807309886*c-180.12613974708367)}return function(t){u(n,t);var r=f(n);function n(){return g(this,n),r.call(this,"DeviceCMYK",4)}return v(n,[{key:"getRgbItem",value:function(t,r,n,a){e(t,r,1,n,a)}},{key:"getRgbBuffer",value:function(t,r,n,a,i,o,s){for(var c=1/((1<<o)-1),u=0;u<n;u++)e(t,r,c,a,i),r+=4,i+=3+s}},{key:"getOutputLength",value:function(e,t){return e/4*(3+t)|0}}]),n}(y)}(),O=function(){function e(e,t,r,n,a,i){var o=t[r]*i,s=Math.pow(o,e.G),c=e.YW*s,u=Math.max(295.8*Math.pow(c,.3333333333333333)-40.8,0);n[a]=u,n[a+1]=u,n[a+2]=u}return function(t){u(n,t);var r=f(n);function n(e,t,a){var i;if(g(this,n),i=r.call(this,"CalGray",1),!e)throw new o.FormatError("WhitePoint missing - required for color space CalGray");if(t=t||[0,0,0],a=a||1,i.XW=e[0],i.YW=e[1],i.ZW=e[2],i.XB=t[0],i.YB=t[1],i.ZB=t[2],i.G=a,i.XW<0||i.ZW<0||1!==i.YW)throw new o.FormatError("Invalid WhitePoint components for ".concat(i.name)+", no fallback available");return(i.XB<0||i.YB<0||i.ZB<0)&&((0,o.info)("Invalid BlackPoint for ".concat(i.name,", falling back to default.")),i.XB=i.YB=i.ZB=0),0===i.XB&&0===i.YB&&0===i.ZB||(0,o.warn)("".concat(i.name,", BlackPoint: XB: ").concat(i.XB,", YB: ").concat(i.YB,", ")+"ZB: ".concat(i.ZB,", only default values are supported.")),i.G<1&&((0,o.info)("Invalid Gamma: ".concat(i.G," for ").concat(i.name,", ")+"falling back to default."),i.G=1),i}return v(n,[{key:"getRgbItem",value:function(t,r,n,a){e(this,t,r,n,a,1)}},{key:"getRgbBuffer",value:function(t,r,n,a,i,o,s){for(var c=1/((1<<o)-1),u=0;u<n;++u)e(this,t,r,a,i,c),r+=1,i+=3+s}},{key:"getOutputLength",value:function(e,t){return e*(3+t)}}]),n}(y)}(),C=function(){var e=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),t=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),r=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),n=new Float32Array([1,1,1]),a=new Float32Array(3),i=new Float32Array(3),s=new Float32Array(3),c=Math.pow(24/116,3)/8;function l(e,t,r){r[0]=e[0]*t[0]+e[1]*t[1]+e[2]*t[2],r[1]=e[3]*t[0]+e[4]*t[1]+e[5]*t[2],r[2]=e[6]*t[0]+e[7]*t[1]+e[8]*t[2]}function h(e){return e<=.0031308?d(0,1,12.92*e):e>=.99554525?1:d(0,1,1.055*Math.pow(e,1/2.4)-.055)}function d(e,t,r){return Math.max(e,Math.min(t,r))}function p(e){return e<0?-p(-e):e>8?Math.pow((e+16)/116,3):e*c}function m(o,c,u,f,g,m){var v=d(0,1,c[u]*m),y=d(0,1,c[u+1]*m),b=d(0,1,c[u+2]*m),w=1===v?1:Math.pow(v,o.GR),k=1===y?1:Math.pow(y,o.GG),S=1===b?1:Math.pow(b,o.GB),x=o.MXA*w+o.MXB*k+o.MXC*S,A=o.MYA*w+o.MYB*k+o.MYC*S,O=o.MZA*w+o.MZB*k+o.MZC*S,C=i;C[0]=x,C[1]=A,C[2]=O;var T=s;!function(r,n,i){if(1===r[0]&&1===r[2])return i[0]=n[0],i[1]=n[1],void(i[2]=n[2]);var o=i;l(e,n,o);var s=a;!function(e,t,r){r[0]=1*t[0]/e[0],r[1]=1*t[1]/e[1],r[2]=1*t[2]/e[2]}(r,o,s),l(t,s,i)}(o.whitePoint,C,T);var F=i;!function(e,t,r){if(0===e[0]&&0===e[1]&&0===e[2])return r[0]=t[0],r[1]=t[1],void(r[2]=t[2]);var n=p(0),a=(1-n)/(1-p(e[0])),i=1-a,o=(1-n)/(1-p(e[1])),s=1-o,c=(1-n)/(1-p(e[2])),u=1-c;r[0]=t[0]*a+i,r[1]=t[1]*o+s,r[2]=t[2]*c+u}(o.blackPoint,T,F);var P=s;!function(r,n,i){var o=i;l(e,n,o);var s=a;!function(e,t,r){r[0]=.95047*t[0]/e[0],r[1]=1*t[1]/e[1],r[2]=1.08883*t[2]/e[2]}(r,o,s),l(t,s,i)}(n,F,P);var _=i;l(r,P,_),f[g]=255*h(_[0]),f[g+1]=255*h(_[1]),f[g+2]=255*h(_[2])}return function(e){u(r,e);var t=f(r);function r(e,n,a,i){var s;if(g(this,r),s=t.call(this,"CalRGB",3),!e)throw new o.FormatError("WhitePoint missing - required for color space CalRGB");n=n||new Float32Array(3),a=a||new Float32Array([1,1,1]),i=i||new Float32Array([1,0,0,0,1,0,0,0,1]);var c=e[0],u=e[1],l=e[2];s.whitePoint=e;var f=n[0],h=n[1],d=n[2];if(s.blackPoint=n,s.GR=a[0],s.GG=a[1],s.GB=a[2],s.MXA=i[0],s.MYA=i[1],s.MZA=i[2],s.MXB=i[3],s.MYB=i[4],s.MZB=i[5],s.MXC=i[6],s.MYC=i[7],s.MZC=i[8],c<0||l<0||1!==u)throw new o.FormatError("Invalid WhitePoint components for ".concat(s.name)+", no fallback available");return(f<0||h<0||d<0)&&((0,o.info)("Invalid BlackPoint for ".concat(s.name," [").concat(f,", ").concat(h,", ").concat(d,"], ")+"falling back to default."),s.blackPoint=new Float32Array(3)),(s.GR<0||s.GG<0||s.GB<0)&&((0,o.info)("Invalid Gamma [".concat(s.GR,", ").concat(s.GG,", ").concat(s.GB,"] for ")+"".concat(s.name,", falling back to default.")),s.GR=s.GG=s.GB=1),s}return v(r,[{key:"getRgbItem",value:function(e,t,r,n){m(this,e,t,r,n,1)}},{key:"getRgbBuffer",value:function(e,t,r,n,a,i,o){for(var s=1/((1<<i)-1),c=0;c<r;++c)m(this,e,t,n,a,s),t+=3,a+=3+o}},{key:"getOutputLength",value:function(e,t){return e*(3+t)/3|0}}]),r}(y)}(),T=function(){function e(e){return e>=6/29?Math.pow(e,3):108/841*(e-4/29)}function t(e,t,r,n){return r+e*(n-r)/t}function r(r,n,a,i,o,s){var c=n[a],u=n[a+1],l=n[a+2];!1!==i&&(c=t(c,i,0,100),u=t(u,i,r.amin,r.amax),l=t(l,i,r.bmin,r.bmax)),u>r.amax?u=r.amax:u<r.amin&&(u=r.amin),l>r.bmax?l=r.bmax:l<r.bmin&&(l=r.bmin);var f,h,d,p=(c+16)/116,g=p+u/500,m=p-l/200,v=r.XW*e(g),y=r.YW*e(p),b=r.ZW*e(m);r.ZW<1?(f=3.1339*v+-1.617*y+-.4906*b,h=-.9785*v+1.916*y+.0333*b,d=.072*v+-.229*y+1.4057*b):(f=3.2406*v+-1.5372*y+-.4986*b,h=-.9689*v+1.8758*y+.0415*b,d=.0557*v+-.204*y+1.057*b),o[s]=255*Math.sqrt(f),o[s+1]=255*Math.sqrt(h),o[s+2]=255*Math.sqrt(d)}return function(e){u(n,e);var t=f(n);function n(e,r,a){var i;if(g(this,n),i=t.call(this,"Lab",3),!e)throw new o.FormatError("WhitePoint missing - required for color space Lab");if(r=r||[0,0,0],a=a||[-100,100,-100,100],i.XW=e[0],i.YW=e[1],i.ZW=e[2],i.amin=a[0],i.amax=a[1],i.bmin=a[2],i.bmax=a[3],i.XB=r[0],i.YB=r[1],i.ZB=r[2],i.XW<0||i.ZW<0||1!==i.YW)throw new o.FormatError("Invalid WhitePoint components, no fallback available");return(i.XB<0||i.YB<0||i.ZB<0)&&((0,o.info)("Invalid BlackPoint, falling back to default"),i.XB=i.YB=i.ZB=0),(i.amin>i.amax||i.bmin>i.bmax)&&((0,o.info)("Invalid Range, falling back to defaults"),i.amin=-100,i.amax=100,i.bmin=-100,i.bmax=100),i}return v(n,[{key:"getRgbItem",value:function(e,t,n,a){r(this,e,t,!1,n,a)}},{key:"getRgbBuffer",value:function(e,t,n,a,i,o,s){for(var c=(1<<o)-1,u=0;u<n;u++)r(this,e,t,c,a,i),t+=3,i+=3+s}},{key:"getOutputLength",value:function(e,t){return e*(3+t)/3|0}},{key:"isDefaultDecode",value:function(e,t){return!0}},{key:"usesZeroToOneRange",get:function(){return(0,o.shadow)(this,"usesZeroToOneRange",!1)}}]),n}(y)}()},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PartialEvaluator=t.EvaluatorPreprocessor=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4),o=r(124),s=r(113),c=r(142),u=r(146),l=r(145),f=r(148),h=r(149),d=r(156),p=r(150),g=r(157),m=r(125),v=r(159),y=r(160),b=r(122),w=r(127),k=r(147),S=r(117),x=r(161),A=r(162),O=r(118),C=r(163),T=r(164);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){P(i,n,a,o,s,"next",e)}function s(e){P(i,n,a,o,s,"throw",e)}o(void 0)}))}}function I(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=E(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function E(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t,r){return t&&M(e.prototype,t),r&&M(e,r),e}var B=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1}),D=1,L=2,U=Promise.resolve();function q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Array.isArray(e)){for(var r=0,n=e.length;r<n;r++){var a=q(e[r],!0);if(a)return a}return(0,i.warn)("Unsupported blend mode Array: ".concat(e)),"source-over"}if(!(0,s.isName)(e))return t?null:"source-over";switch(e.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return t?null:((0,i.warn)("Unsupported blend mode: ".concat(e.name)),"source-over")}var X=function(){function e(){R(this,e),this.reset()}return N(e,[{key:"check",value:function(){return!(++this.checked<e.CHECK_TIME_EVERY)&&(this.checked=0,this.endTime<=Date.now())}},{key:"reset",value:function(){this.endTime=Date.now()+e.TIME_SLOT_DURATION_MS,this.checked=0}}],[{key:"TIME_SLOT_DURATION_MS",get:function(){return(0,i.shadow)(this,"TIME_SLOT_DURATION_MS",20)}},{key:"CHECK_TIME_EVERY",get:function(){return(0,i.shadow)(this,"CHECK_TIME_EVERY",100)}}]),e}(),H=function(){function e(t){var r=t.xref,n=t.handler,a=t.pageIndex,i=t.idFactory,o=t.fontCache,s=t.builtInCMapCache,c=t.globalImageCache,u=t.options,l=void 0===u?null:u;R(this,e),this.xref=r,this.handler=n,this.pageIndex=a,this.idFactory=i,this.fontCache=o,this.builtInCMapCache=s,this.globalImageCache=c,this.options=l||B,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}var t,r,n,m,S,F;return N(e,[{key:"_pdfFunctionFactory",get:function(){var e=new g.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,i.shadow)(this,"_pdfFunctionFactory",e)}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=Object.create(this);return t.options=e,t}},{key:"hasBlendModes",value:function(e,t){if(!(e instanceof s.Dict))return!1;if(e.objId&&t.has(e.objId))return!1;var r=new s.RefSet(t);e.objId&&r.put(e.objId);for(var n=[e],a=this.xref;n.length;){var o=n.shift(),c=o.get("ExtGState");if(c instanceof s.Dict){var u,l=I(c.getRawValues());try{for(l.s();!(u=l.n()).done;){var f=u.value;if(f instanceof s.Ref){if(r.has(f))continue;try{f=a.fetch(f)}catch(e){r.put(f),(0,i.info)('hasBlendModes - ignoring ExtGState: "'.concat(e,'".'));continue}}if(f instanceof s.Dict){f.objId&&r.put(f.objId);var h=f.get("BM");if(h instanceof s.Name){if("Normal"!==h.name)return!0}else if(void 0!==h&&Array.isArray(h)){var d,p=I(h);try{for(p.s();!(d=p.n()).done;){var g=d.value;if(g instanceof s.Name&&"Normal"!==g.name)return!0}}catch(e){p.e(e)}finally{p.f()}}}}}catch(e){l.e(e)}finally{l.f()}}var m=o.get("XObject");if(m instanceof s.Dict){var v,y=I(m.getRawValues());try{for(y.s();!(v=y.n()).done;){var b=v.value;if(b instanceof s.Ref){if(r.has(b))continue;try{b=a.fetch(b)}catch(e){r.put(b),(0,i.info)('hasBlendModes - ignoring XObject: "'.concat(e,'".'));continue}}if((0,s.isStream)(b)){b.dict.objId&&r.put(b.dict.objId);var w=b.dict.get("Resources");w instanceof s.Dict&&(w.objId&&r.has(w.objId)||(n.push(w),w.objId&&r.put(w.objId)))}}}catch(e){y.e(e)}finally{y.f()}}}return r.forEach((function(e){t.put(e)})),!1}},{key:"fetchBuiltInCMap",value:(F=_(a.default.mark((function e(t){var r,n,o,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.builtInCMapCache.get(t))){e.next=3;break}return e.abrupt("return",r);case 3:return n=this.handler.sendWithStream("FetchBuiltInCMap",{name:t}),o=n.getReader(),e.next=7,new Promise((function(e,t){!function r(){o.read().then((function(t){var n=t.value;t.done||(e(n),r())}),t)}()}));case 7:return(s=e.sent).compressionType!==i.CMapCompressionType.NONE&&this.builtInCMapCache.set(t,s),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"buildFormXObject",value:(S=_(a.default.mark((function e(t,r,n,o,c,u,l){var f,h,d,p,g,m,v,y,w,k;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=r.dict,h=f.getArray("Matrix"),d=f.getArray("BBox"),d=Array.isArray(d)&&4===d.length?i.Util.normalizeRect(d):null,p=null,!f.has("OC")){e.next=10;break}return e.next=8,this.parseMarkedContentProps(f.get("OC"),t);case 8:p=e.sent,o.addOp(i.OPS.beginMarkedContentProps,["OC",p]);case 10:if(!(m=f.get("Group"))){e.next=30;break}if(g={matrix:h,bbox:d,smask:n,isolated:!1,knockout:!1},v=m.get("S"),y=null,!(0,s.isName)(v,"Transparency")){e.next=28;break}if(g.isolated=m.get("I")||!1,g.knockout=m.get("K")||!1,!m.has("CS")){e.next=28;break}if(w=m.getRaw("CS"),!(k=b.ColorSpace.getCached(w,this.xref,l))){e.next=25;break}y=k,e.next=28;break;case 25:return e.next=27,this.parseColorSpace({cs:w,resources:t,localColorSpaceCache:l});case 27:y=e.sent;case 28:n&&n.backdrop&&(y=y||b.ColorSpace.singletons.rgb,n.backdrop=y.getRgb(n.backdrop,0)),o.addOp(i.OPS.beginGroup,[g]);case 30:return o.addOp(i.OPS.paintFormXObjectBegin,[h,d]),e.abrupt("return",this.getOperatorList({stream:r,task:c,resources:f.get("Resources")||t,operatorList:o,initialState:u}).then((function(){o.addOp(i.OPS.paintFormXObjectEnd,[]),m&&o.addOp(i.OPS.endGroup,[g]),p&&o.addOp(i.OPS.endMarkedContent,[])})));case 32:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,a,i,o){return S.apply(this,arguments)})},{key:"_sendImgData",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t?[t.data.buffer]:null;return this.parsingType3Font||r?this.handler.send("commonobj",[e,"Image",t],n):this.handler.send("obj",[e,this.pageIndex,"Image",t],n)}},{key:"buildPaintImageXObject",value:(m=_(a.default.mark((function e(t){var r,n,o,s,c,u,l,f,h,d,p,g,m,v,y,b,k,S,x,A,O,C,F,P,_,I=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.resources,n=t.image,o=t.isInline,s=void 0!==o&&o,c=t.operatorList,u=t.cacheKey,l=t.localImageCache,f=t.localColorSpaceCache,h=n.dict,d=h.objId,p=h.get("Width","W"),g=h.get("Height","H"),p&&(0,i.isNum)(p)&&g&&(0,i.isNum)(g)){e.next=8;break}return(0,i.warn)("Image dimensions are missing, or not numbers."),e.abrupt("return",void 0);case 8:if(!(-1!==(m=this.options.maxImageSize)&&p*g>m)){e.next=12;break}return(0,i.warn)("Image exceeded maximum allowed size and was removed."),e.abrupt("return",void 0);case 12:if(!h.get("ImageMask","IM")){e.next=25;break}return b=h.get("Width","W"),k=h.get("Height","H"),S=b+7>>3,x=n.getBytes(S*k,!0),A=h.getArray("Decode","D"),(v=T.PDFImage.createMask({imgArray:x,width:b,height:k,imageIsFromDecodeStream:n instanceof w.DecodeStream,inverseDecode:!!A&&A[0]>0})).cached=!!u,y=[v],c.addOp(i.OPS.paintImageMaskXObject,y),u&&l.set(u,d,{fn:i.OPS.paintImageMaskXObject,args:y}),e.abrupt("return",void 0);case 25:if(O=h.get("SMask","SM")||!1,C=h.get("Mask")||!1,!s||O||C||!(p+g<200)){e.next=33;break}return F=new T.PDFImage({xref:this.xref,res:r,image:n,isInline:s,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:f}),v=F.createImageData(!0),c.addOp(i.OPS.paintInlineImageXObject,[v]),e.abrupt("return",void 0);case 33:return P="img_".concat(this.idFactory.createObjId()),_=!1,this.parsingType3Font?P="".concat(this.idFactory.getDocId(),"_type3_").concat(P):d&&(_=this.globalImageCache.shouldCache(d,this.pageIndex))&&(P="".concat(this.idFactory.getDocId(),"_").concat(P)),c.addDependency(P),y=[P,p,g],T.PDFImage.buildImage({xref:this.xref,res:r,image:n,isInline:s,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:f}).then((function(e){return v=e.createImageData(!1),u&&d&&_&&I.globalImageCache.addByteSize(d,v.data.length),I._sendImgData(P,v,_)})).catch((function(e){return(0,i.warn)('Unable to decode image "'.concat(P,'": "').concat(e,'".')),I._sendImgData(P,null,_)})),c.addOp(i.OPS.paintImageXObject,y),u&&(l.set(u,d,{fn:i.OPS.paintImageXObject,args:y}),d&&((0,i.assert)(!s,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(d,this.pageIndex),_&&this.globalImageCache.setData(d,{objId:P,fn:i.OPS.paintImageXObject,args:y,byteSize:0}))),e.abrupt("return",void 0);case 41:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"handleSMask",value:function(e,t,r,n,a,i){var o=e.get("G"),s={subtype:e.get("S").name,backdrop:e.get("BC")},c=e.get("TR");if((0,g.isPDFFunction)(c)){for(var u=this._pdfFunctionFactory.create(c),l=new Uint8Array(256),f=new Float32Array(1),h=0;h<256;h++)f[0]=h/255,u(f,0,f,0),l[h]=255*f[0]|0;s.transferMap=l}return this.buildFormXObject(t,o,s,r,n,a.state.clone(),i)}},{key:"handleTransferFunction",value:function(e){var t;if(Array.isArray(e))t=e;else{if(!(0,g.isPDFFunction)(e))return null;t=[e]}var r,n=[],a=0,i=0,o=I(t);try{for(o.s();!(r=o.n()).done;){var c=r.value,u=this.xref.fetchIfRef(c);if(a++,(0,s.isName)(u,"Identity"))n.push(null);else{if(!(0,g.isPDFFunction)(u))return null;for(var l=this._pdfFunctionFactory.create(u),f=new Uint8Array(256),h=new Float32Array(1),d=0;d<256;d++)h[0]=d/255,l(h,0,h,0),f[d]=255*h[0]|0;n.push(f),i++}}}catch(e){o.e(e)}finally{o.f()}return 1!==a&&4!==a||0===i?null:n}},{key:"handleTilingType",value:function(e,t,r,n,a,o,c,u,l){var f=this,h=new C.OperatorList,p=s.Dict.merge({xref:this.xref,dictArray:[a.get("Resources"),r]});return this.getOperatorList({stream:n,task:c,resources:p,operatorList:h}).then((function(){var r=h.getIR(),n=(0,d.getTilingPatternIR)(r,a,t);o.addDependencies(h.dependencies),o.addOp(e,n),u&&l.set(u,a.objId,{operatorListIR:r,dict:a})})).catch((function(e){if(!(e instanceof i.AbortException)){if(f.options.ignoreErrors)return f.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorTilingPattern}),void(0,i.warn)('handleTilingType - ignoring pattern: "'.concat(e,'".'));throw e}}))}},{key:"handleSetFont",value:function(e,t,r,n,a,o){var u=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=t&&t[0]instanceof s.Name?t[0].name:null;return this.loadFont(h,r,e,l,f).then((function(t){return t.font.isType3Font?t.loadType3Data(u,e,a).then((function(){return n.addDependencies(t.type3Dependencies),t})).catch((function(e){return u.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorFontLoadType3}),new $({loadedName:"g_font_error",font:new c.ErrorFont("Type3 font load error: ".concat(e)),dict:t.font,evaluatorOptions:u.options})})):t})).then((function(e){return o.font=e.font,e.send(u.handler),e.loadedName}))}},{key:"handleText",value:function(t,r){var n=r.font,a=n.charsToGlyphs(t);return n.data&&(r.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG||"Pattern"===r.fillColorSpace.name||n.disableFontFace||this.options.disableFontFace)&&e.buildFontPaths(n,a,this.handler,this.options),a}},{key:"ensureStateFont",value:function(e){if(!e.font){var t=new i.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorFontState}),void(0,i.warn)('ensureStateFont: "'.concat(t,'".'));throw t}}},{key:"setGState",value:(n=_(a.default.mark((function e(t){var r,n,o,c,u,l,f,h,d,p,g,m,v,y,b,w,k=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.resources,n=t.gState,o=t.operatorList,c=t.cacheKey,u=t.task,l=t.stateManager,f=t.localGStateCache,h=t.localColorSpaceCache,d=n.objId,p=!0,g=[],m=n.getKeys(),v=Promise.resolve(),y=function(e,t){var a=m[e],c=n.get(a);switch(a){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":g.push([a,c]);break;case"Font":p=!1,v=v.then((function(){return k.handleSetFont(r,null,c[0],o,u,l.state).then((function(e){o.addDependency(e),g.push([a,[e,c[1]]])}))}));break;case"BM":g.push([a,q(c)]);break;case"SMask":if((0,s.isName)(c,"None")){g.push([a,!1]);break}(0,s.isDict)(c)?(p=!1,v=v.then((function(){return k.handleSMask(c,r,o,u,l,h)})),g.push([a,!0])):(0,i.warn)("Unsupported SMask type");break;case"TR":var f=k.handleTransferFunction(c);g.push([a,f]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,i.info)("graphic state operator "+a);break;default:(0,i.info)("Unknown graphic state operator "+a)}},b=0,w=m.length;b<w;b++)y(b);return e.abrupt("return",v.then((function(){g.length>0&&o.addOp(i.OPS.setGState,[g]),p&&f.set(c,d,g)})));case 9:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"loadFont",value:function(t,r,n){var o,l=this,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=function(){var e=_(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new $({loadedName:"g_font_error",font:new c.ErrorFont('Font "'.concat(t,'" is not available.')),dict:r,evaluatorOptions:l.options}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=this.xref;if(r){if(!(0,s.isRef)(r))throw new i.FormatError('The "font" object should be a reference.');o=r}else{var g=n.get("Font");g&&(o=g.getRaw(t))}if(!o){var m='Font "'.concat(t||r&&r.toString(),'" is not available');if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,i.warn)("".concat(m,".")),d();this.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorFontMissing}),(0,i.warn)("".concat(m," -- attempting to fallback to a default font.")),o=f||e.fallbackFontDict}if(this.fontCache.has(o))return this.fontCache.get(o);if(r=p.fetchIfRef(o),!(0,s.isDict)(r))return d();if(r.cacheKey&&this.fontCache.has(r.cacheKey))return this.fontCache.get(r.cacheKey);var v,y=(0,i.createPromiseCapability)();try{(v=this.preEvaluateFont(r)).cssFontInfo=h}catch(e){return(0,i.warn)('loadFont - preEvaluateFont failed: "'.concat(e,'".')),d()}var b,w=v,k=w.descriptor,S=w.hash,x=(0,s.isRef)(o);if(x&&(b="f".concat(o.toString())),S&&(0,s.isDict)(k)){k.fontAliases||(k.fontAliases=Object.create(null));var A=k.fontAliases;if(A[S]){var O=A[S].aliasRef;if(x&&O&&this.fontCache.has(O))return this.fontCache.putAlias(o,O),this.fontCache.get(o)}else A[S]={fontID:this.idFactory.createFontId()};x&&(A[S].aliasRef=o),b=A[S].fontID}return x?this.fontCache.put(o,y.promise):(b||(b=this.idFactory.createFontId()),r.cacheKey="cacheKey_".concat(b),this.fontCache.put(r.cacheKey,y.promise)),(0,i.assert)(b&&b.startsWith("f"),'The "fontID" must be (correctly) defined.'),r.loadedName="".concat(this.idFactory.getDocId(),"_").concat(b),this.translateFont(v).then((function(e){void 0!==e.fontType&&(p.stats.fontTypes[e.fontType]=!0),y.resolve(new $({loadedName:r.loadedName,font:e,dict:r,evaluatorOptions:l.options}))})).catch((function(e){l.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,i.warn)('loadFont - translateFont failed: "'.concat(e,'".'));try{var t=k&&k.get("FontFile3"),n=t&&t.get("Subtype"),a=(0,u.getFontType)(v.type,n&&n.name);p.stats.fontTypes[a]=!0}catch(e){}y.resolve(new $({loadedName:r.loadedName,font:new c.ErrorFont(e instanceof Error?e.message:e),dict:r,evaluatorOptions:l.options}))})),y.promise}},{key:"buildPath",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.length-1;if(r||(r=[]),a<0||e.fnArray[a]!==i.OPS.constructPath)n&&((0,i.warn)('Encountered path operator "'.concat(t,'" inside of a text object.')),e.addOp(i.OPS.save,null)),e.addOp(i.OPS.constructPath,[[t],r]),n&&e.addOp(i.OPS.restore,null);else{var o=e.argsArray[a];o[0].push(t),Array.prototype.push.apply(o[1],r)}}},{key:"parseColorSpace",value:function(e){var t=this,r=e.cs,n=e.resources,a=e.localColorSpaceCache;return b.ColorSpace.parseAsync({cs:r,xref:this.xref,resources:n,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:a}).catch((function(e){if(e instanceof i.AbortException)return null;if(t.options.ignoreErrors)return t.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorColorSpace}),(0,i.warn)('parseColorSpace - ignoring ColorSpace: "'.concat(e,'".')),null;throw e}))}},{key:"handleColorN",value:function(e,t,r,n,a,o,c,u,l){var f=r.pop();if(f instanceof s.Name){var h=f.name,p=l.getByName(h);if(p)try{var g=n.base?n.base.getRgb(r,0):null,m=(0,d.getTilingPatternIR)(p.operatorListIR,p.dict,g);return void e.addOp(t,m)}catch(e){}var v=a.get(h);if(v){var y=(0,s.isStream)(v)?v.dict:v,b=y.get("PatternType");if(b===D){var w=n.base?n.base.getRgb(r,0):null;return this.handleTilingType(t,w,o,v,y,e,c,h,l)}if(b===L){var k=y.get("Shading"),S=y.getArray("Matrix");return v=d.Pattern.parseShading(k,S,this.xref,o,this.handler,this._pdfFunctionFactory,u),void e.addOp(t,v.getIR())}throw new i.FormatError("Unknown PatternType: ".concat(b))}}throw new i.FormatError("Unknown PatternName: ".concat(f))}},{key:"_parseVisibilityExpression",value:function(e,t,r){if(++t>10)(0,i.warn)("Visibility expression is too deeply nested");else{var n=e.length,a=this.xref.fetchIfRef(e[0]);if(n<2||!(0,s.isName)(a))(0,i.warn)("Invalid visibility expression");else{switch(a.name){case"And":case"Or":case"Not":r.push(a.name);break;default:return void(0,i.warn)("Invalid operator ".concat(a.name," in visibility expression"))}for(var o=1;o<n;o++){var c=e[o],u=this.xref.fetchIfRef(c);if(Array.isArray(u)){var l=[];r.push(l),this._parseVisibilityExpression(u,t,l)}else(0,s.isRef)(c)&&r.push(c.toString())}}}}},{key:"parseMarkedContentProps",value:(r=_(a.default.mark((function e(t,r){var n,o,c,u,l,f,h,d,p,g;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,s.isName)(t)){e.next=5;break}o=r.get("Properties"),n=o.get(t.name),e.next=10;break;case 5:if(!(0,s.isDict)(t)){e.next=9;break}n=t,e.next=10;break;case 9:throw new i.FormatError("Optional content properties malformed.");case 10:if("OCG"!==(c=n.get("Type").name)){e.next=15;break}return e.abrupt("return",{type:c,id:n.objId});case 15:if("OCMD"!==c){e.next=31;break}if(u=n.get("VE"),!Array.isArray(u)){e.next=22;break}if(l=[],this._parseVisibilityExpression(u,0,l),!(l.length>0)){e.next=22;break}return e.abrupt("return",{type:"OCMD",expression:l});case 22:if(f=n.get("OCGs"),!Array.isArray(f)&&!(0,s.isDict)(f)){e.next=29;break}if(h=[],Array.isArray(f)){d=I(f);try{for(d.s();!(p=d.n()).done;)g=p.value,h.push(g.toString())}catch(e){d.e(e)}finally{d.f()}}else h.push(f.objId);return e.abrupt("return",{type:c,ids:h,policy:(0,s.isName)(n.get("P"))?n.get("P").name:null,expression:null});case 29:if(!(0,s.isRef)(f)){e.next=31;break}return e.abrupt("return",{type:c,id:f.toString()});case 31:return e.abrupt("return",null);case 32:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getOperatorList",value:function(e){var t=this,r=e.stream,n=e.task,a=e.resources,o=e.operatorList,c=e.initialState,u=void 0===c?null:c,l=e.fallbackFontDict,f=void 0===l?null:l;if(a=a||s.Dict.empty,u=u||new W,!o)throw new Error('getOperatorList: missing "operatorList" parameter');var h=this,p=this.xref,g=!1,m=new v.LocalImageCache,y=new v.LocalColorSpaceCache,w=new v.LocalGStateCache,k=new v.LocalTilingPatternCache,S=a.get("XObject")||s.Dict.empty,x=a.get("Pattern")||s.Dict.empty,A=new z(u),O=new V(r,p,A),C=new X;function T(e){for(var t=0,r=O.savedStatesDepth;t<r;t++)o.addOp(i.OPS.restore,[])}return new Promise((function e(t,r){var c=function(n){Promise.all([n,o.ready]).then((function(){try{e(t,r)}catch(e){r(e)}}),r)};n.ensureNotTerminated(),C.reset();for(var u,l,v,F,P,_={};!(u=C.check())&&(_.args=null,O.read(_));){var I=_.args,E=_.fn;switch(0|E){case i.OPS.paintXObject:if(P=I[0].name){var j=m.getByName(P);if(j){o.addOp(j.fn,j.args),I=null;continue}}return void c(new Promise((function(e,t){if(!P)throw new i.FormatError("XObject must be referred to by name.");var r=S.getRaw(P);if(r instanceof s.Ref){var c=m.getByRef(r);if(c)return o.addOp(c.fn,c.args),void e();var u=h.globalImageCache.getData(r,h.pageIndex);if(u)return o.addDependency(u.objId),o.addOp(u.fn,u.args),void e();r=p.fetch(r)}if(!(0,s.isStream)(r))throw new i.FormatError("XObject should be a stream");var l=r.dict.get("Subtype");if(!(0,s.isName)(l))throw new i.FormatError("XObject should have a Name subtype");if("Form"===l.name)return A.save(),void h.buildFormXObject(a,r,null,o,n,A.state.clone(),y).then((function(){A.restore(),e()}),t);if("Image"!==l.name){if("PS"!==l.name)throw new i.FormatError("Unhandled XObject subtype ".concat(l.name));(0,i.info)("Ignored XObject subtype PS"),e()}else h.buildPaintImageXObject({resources:a,image:r,operatorList:o,cacheKey:P,localImageCache:m,localColorSpaceCache:y}).then(e,t)})).catch((function(e){if(!(e instanceof i.AbortException)){if(h.options.ignoreErrors)return h.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorXObject}),void(0,i.warn)('getOperatorList - ignoring XObject: "'.concat(e,'".'));throw e}})));case i.OPS.setFont:var R=I[1];return void c(h.handleSetFont(a,I,null,o,n,A.state,f).then((function(e){o.addDependency(e),o.addOp(i.OPS.setFont,[e,R])})));case i.OPS.beginText:g=!0;break;case i.OPS.endText:g=!1;break;case i.OPS.endInlineImage:var M=I[0].cacheKey;if(M){var N=m.getByName(M);if(N){o.addOp(N.fn,N.args),I=null;continue}}return void c(h.buildPaintImageXObject({resources:a,image:I[0],isInline:!0,operatorList:o,cacheKey:M,localImageCache:m,localColorSpaceCache:y}));case i.OPS.showText:if(!A.state.font){h.ensureStateFont(A.state);continue}I[0]=h.handleText(I[0],A.state);break;case i.OPS.showSpacedText:if(!A.state.font){h.ensureStateFont(A.state);continue}var B=I[0],D=[],L=B.length,q=A.state;for(l=0;l<L;++l){var X=B[l];(0,i.isString)(X)?Array.prototype.push.apply(D,h.handleText(X,q)):(0,i.isNum)(X)&&D.push(X)}I[0]=D,E=i.OPS.showText;break;case i.OPS.nextLineShowText:if(!A.state.font){h.ensureStateFont(A.state);continue}o.addOp(i.OPS.nextLine),I[0]=h.handleText(I[0],A.state),E=i.OPS.showText;break;case i.OPS.nextLineSetSpacingShowText:if(!A.state.font){h.ensureStateFont(A.state);continue}o.addOp(i.OPS.nextLine),o.addOp(i.OPS.setWordSpacing,[I.shift()]),o.addOp(i.OPS.setCharSpacing,[I.shift()]),I[0]=h.handleText(I[0],A.state),E=i.OPS.showText;break;case i.OPS.setTextRenderingMode:A.state.textRenderingMode=I[0];break;case i.OPS.setFillColorSpace:var H=b.ColorSpace.getCached(I[0],p,y);if(H){A.state.fillColorSpace=H;continue}return void c(h.parseColorSpace({cs:I[0],resources:a,localColorSpaceCache:y}).then((function(e){e&&(A.state.fillColorSpace=e)})));case i.OPS.setStrokeColorSpace:var $=b.ColorSpace.getCached(I[0],p,y);if($){A.state.strokeColorSpace=$;continue}return void c(h.parseColorSpace({cs:I[0],resources:a,localColorSpaceCache:y}).then((function(e){e&&(A.state.strokeColorSpace=e)})));case i.OPS.setFillColor:I=(F=A.state.fillColorSpace).getRgb(I,0),E=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeColor:I=(F=A.state.strokeColorSpace).getRgb(I,0),E=i.OPS.setStrokeRGBColor;break;case i.OPS.setFillGray:A.state.fillColorSpace=b.ColorSpace.singletons.gray,I=b.ColorSpace.singletons.gray.getRgb(I,0),E=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeGray:A.state.strokeColorSpace=b.ColorSpace.singletons.gray,I=b.ColorSpace.singletons.gray.getRgb(I,0),E=i.OPS.setStrokeRGBColor;break;case i.OPS.setFillCMYKColor:A.state.fillColorSpace=b.ColorSpace.singletons.cmyk,I=b.ColorSpace.singletons.cmyk.getRgb(I,0),E=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeCMYKColor:A.state.strokeColorSpace=b.ColorSpace.singletons.cmyk,I=b.ColorSpace.singletons.cmyk.getRgb(I,0),E=i.OPS.setStrokeRGBColor;break;case i.OPS.setFillRGBColor:A.state.fillColorSpace=b.ColorSpace.singletons.rgb,I=b.ColorSpace.singletons.rgb.getRgb(I,0);break;case i.OPS.setStrokeRGBColor:A.state.strokeColorSpace=b.ColorSpace.singletons.rgb,I=b.ColorSpace.singletons.rgb.getRgb(I,0);break;case i.OPS.setFillColorN:if("Pattern"===(F=A.state.fillColorSpace).name)return void c(h.handleColorN(o,i.OPS.setFillColorN,I,F,x,a,n,y,k));I=F.getRgb(I,0),E=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeColorN:if("Pattern"===(F=A.state.strokeColorSpace).name)return void c(h.handleColorN(o,i.OPS.setStrokeColorN,I,F,x,a,n,y,k));I=F.getRgb(I,0),E=i.OPS.setStrokeRGBColor;break;case i.OPS.shadingFill:var z=a.get("Shading");if(!z)throw new i.FormatError("No shading resource found");var G=z.get(I[0].name);if(!G)throw new i.FormatError("No shading object found");I=[d.Pattern.parseShading(G,null,p,a,h.handler,h._pdfFunctionFactory,y).getIR()],E=i.OPS.shadingFill;break;case i.OPS.setGState:if(P=I[0].name){var W=w.getByName(P);if(W){W.length>0&&o.addOp(i.OPS.setGState,[W]),I=null;continue}}return void c(new Promise((function(e,t){if(!P)throw new i.FormatError("GState must be referred to by name.");var r=a.get("ExtGState");if(!(r instanceof s.Dict))throw new i.FormatError("ExtGState should be a dictionary.");var c=r.get(P);if(!(c instanceof s.Dict))throw new i.FormatError("GState should be a dictionary.");h.setGState({resources:a,gState:c,operatorList:o,cacheKey:P,task:n,stateManager:A,localGStateCache:w,localColorSpaceCache:y}).then(e,t)})).catch((function(e){if(!(e instanceof i.AbortException)){if(h.options.ignoreErrors)return h.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorExtGState}),void(0,i.warn)('getOperatorList - ignoring ExtGState: "'.concat(e,'".'));throw e}})));case i.OPS.moveTo:case i.OPS.lineTo:case i.OPS.curveTo:case i.OPS.curveTo2:case i.OPS.curveTo3:case i.OPS.closePath:case i.OPS.rectangle:h.buildPath(o,E,I,g);continue;case i.OPS.markPoint:case i.OPS.markPointProps:case i.OPS.beginCompat:case i.OPS.endCompat:continue;case i.OPS.beginMarkedContentProps:if(!(0,s.isName)(I[0])){(0,i.warn)("Expected name for beginMarkedContentProps arg0=".concat(I[0]));continue}if("OC"===I[0].name)return void c(h.parseMarkedContentProps(I[1],a).then((function(e){o.addOp(i.OPS.beginMarkedContentProps,["OC",e])})).catch((function(e){if(!(e instanceof i.AbortException)){if(h.options.ignoreErrors)return h.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorMarkedContent}),void(0,i.warn)('getOperatorList - ignoring beginMarkedContentProps: "'.concat(e,'".'));throw e}})));I=[I[0].name,I[1]instanceof s.Dict?I[1].get("MCID"):null];break;case i.OPS.beginMarkedContent:case i.OPS.endMarkedContent:default:if(null!==I){for(l=0,v=I.length;l<v&&!(I[l]instanceof s.Dict);l++);if(l<v){(0,i.warn)("getOperatorList - ignoring operator: "+E);continue}}}o.addOp(E,I)}u?c(U):(T(),t())})).catch((function(e){if(!(e instanceof i.AbortException)){if(t.options.ignoreErrors)return t.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorOperatorList}),(0,i.warn)('getOperatorList - ignoring errors during "'.concat(n.name,'" ')+'task: "'.concat(e,'".')),void T();throw e}}))}},{key:"getTextContent",value:function(e){var t=this,r=e.stream,n=e.task,a=e.resources,o=e.stateManager,c=void 0===o?null:o,u=e.normalizeWhitespace,l=void 0!==u&&u,h=e.combineTextItems,d=void 0!==h&&h,p=e.includeMarkedContent,g=void 0!==p&&p,m=e.sink,b=e.seenStyles,w=void 0===b?new Set:b;a=a||s.Dict.empty,c=c||new z(new G);var k,S=/\\s/g,x={items:[],styles:Object.create(null)},A={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,lastCharSize:0,prevTransform:null,textAdvanceScale:0,spaceWidth:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,transform:null,fontName:null,hasEOL:!1,isLastCharWhiteSpace:!1},O=this,C=this.xref,T=[],F=null,P=new v.LocalImageCache,_=new v.LocalGStateCache,I=new V(r,C,c);function E(){var e=k.font,t=[k.fontSize*k.textHScale,0,0,k.fontSize,0,k.textRise];if(e.isType3Font&&k.fontSize<=1&&!(0,i.isArrayEqual)(k.fontMatrix,i.FONT_IDENTITY_MATRIX)){var r=e.bbox[3]-e.bbox[1];r>0&&(t[3]*=r*k.fontMatrix[3])}return i.Util.transform(k.ctm,i.Util.transform(k.textMatrix,t))}function j(){if(A.initialized)return A;var e=k.font,t=e.loadedName;w.has(t)||(w.add(t),x.styles[t]={fontFamily:e.fallbackName,ascent:e.ascent,descent:e.descent,vertical:e.vertical}),A.fontName=t;var r=A.transform=E();e.vertical?(A.width=A.totalWidth=Math.hypot(r[0],r[1]),A.height=A.totalHeight=0,A.vertical=!0):(A.width=A.totalWidth=0,A.height=A.totalHeight=Math.hypot(r[2],r[3]),A.vertical=!1);var n=Math.hypot(k.textLineMatrix[0],k.textLineMatrix[1]),a=Math.hypot(k.ctm[0],k.ctm[1]);A.textAdvanceScale=a*n,A.lastCharSize=A.lastCharSize||0;var i=e.spaceWidth/1e3*k.fontSize;return i?(A.spaceWidth=i,A.trackingSpaceMin=.3*i,A.spaceInFlowMin=.3*i,A.spaceInFlowMax=1.3*i):(A.spaceWidth=0,A.trackingSpaceMin=1/0),A.hasEOL=!1,A.initialized=!0,A}function R(){if(A.initialized){var e=Math.hypot(k.textLineMatrix[0],k.textLineMatrix[1]),t=Math.hypot(k.ctm[0],k.ctm[1])*e;t!==A.textAdvanceScale&&(A.vertical?(A.totalHeight+=A.height*A.textAdvanceScale,A.height=0):(A.totalWidth+=A.width*A.textAdvanceScale,A.width=0),A.textAdvanceScale=t)}}function M(e){var t=e.str.join(""),r=(0,y.bidi)(t,-1,e.vertical);return{str:l?function(e){for(var t,r=e.length,n=0;n<r&&(t=e.charCodeAt(n))>=32&&t<=127;)n++;return n<r?e.replace(S," "):e}(r.str):r.str,dir:r.dir,width:e.totalWidth,height:e.totalHeight,transform:e.transform,fontName:e.fontName,hasEOL:e.hasEOL}}function N(e,t){return O.loadFont(e,t,a).then((function(e){k.font=e.font,k.fontMatrix=e.font.fontMatrix||i.FONT_IDENTITY_MATRIX}))}function B(e){var t=e.chars,r=e.extraSpacing,n=e.isFirstChunk,a=k.font;if(t){var i=(0,f.getNormalizedUnicodes)(),o=a.charsToGlyphs(t),s=k.fontMatrix[0]*k.fontSize;n&&function(e){if(d&&k.font&&A.prevTransform){var t=E(),r=t[4],n=t[5],a=A.prevTransform[4],i=A.prevTransform[5];if(a!==r||i!==n){var o=(r-a)/A.textAdvanceScale,s=(n-i)/A.textAdvanceScale,c=-.5*A.lastCharSize;if(k.font.vertical){if(Math.abs(o)>A.width/A.textAdvanceScale)return void D();if(c>s)return;s>A.trackingSpaceMin?A.height+=s:L(s,0,A.prevTransform)||(0===A.str.length?(x.items.push({str:" ",dir:"ltr",width:0,height:s,transform:A.prevTransform,fontName:A.fontName,hasEOL:!1}),A.isLastCharWhiteSpace=!0):A.height+=s)}else Math.abs(s)>A.height/A.textAdvanceScale?D():c>o||(o<=A.trackingSpaceMin?A.width+=o:L(o,0,A.prevTransform)||(0===A.str.length?(x.items.push({str:" ",dir:"ltr",width:o,height:0,transform:A.prevTransform,fontName:A.fontName,hasEOL:!1}),A.isLastCharWhiteSpace=!0):A.width+=o))}}}();for(var c=j(),u=0,l=0,h=0,p=o.length;h<p;h++){var g=o[h],m=k.charSpacing+(h===p-1?r:0),v=g.unicode;g.isSpace?(m+=k.wordSpacing,c.isLastCharWhiteSpace=!0):(v=i[v]||v,v=(0,f.reverseIfRtl)(v),c.isLastCharWhiteSpace=!1),c.str.push(v);var y=(a.vertical&&g.vmetric?g.vmetric[0]:g.width)*s;if(a.vertical?(k.translateTextMatrix(0,y),y=Math.abs(y)):(y*=k.textHScale,k.translateTextMatrix(y,0)),u+=y,m){a.vertical||(m*=k.textHScale),y+=m;var b=m>A.trackingSpaceMin&&L(m,u);a.vertical?k.translateTextMatrix(0,m):k.translateTextMatrix(m,0),b?(c=j(),u=0):u+=m}l=y}c.lastCharSize=l,a.vertical?c.height+=u:c.width+=u,c.prevTransform=E()}else{var w=k.charSpacing+r;w&&(a.vertical?k.translateTextMatrix(0,w):k.translateTextMatrix(w*k.textHScale,0))}}function D(){A.initialized?(A.hasEOL=!0,q()):x.items.length>0?x.items[x.items.length-1].hasEOL=!0:x.items.push({str:"",dir:"ltr",width:0,height:0,transform:E(),fontName:k.font.loadedName,hasEOL:!0}),A.isLastCharWhiteSpace=!1,A.lastCharSize=0}function L(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(A.spaceInFlowMin<=e&&e<=A.spaceInFlowMax)return A.initialized&&(A.str.push(" "),A.isLastCharWhiteSpace=!0),!1;var n=A.fontName,a=0;return e*=A.textAdvanceScale,A.vertical?(A.height+=t,a=e,e=0):A.width+=t,q(),A.isLastCharWhiteSpace||(A.isLastCharWhiteSpace=!0,x.items.push({str:" ",dir:"ltr",width:e,height:a,transform:r||E(),fontName:n,hasEOL:!1})),!0}function q(){A.initialized&&A.str&&(A.vertical?A.totalHeight+=A.height*A.textAdvanceScale:A.totalWidth+=A.width*A.textAdvanceScale,x.items.push(M(A)),A.initialized=!1,A.str.length=0)}function H(){var e=x.items.length;e>0&&(m.enqueue(x,e),x.items=[],x.styles=Object.create(null))}var $=new X;return new Promise((function e(t,r){var o=function(n){H(),Promise.all([n,m.ready]).then((function(){try{e(t,r)}catch(e){r(e)}}),r)};n.ensureNotTerminated(),$.reset();for(var u,f={},h=[];!(u=$.check())&&(h.length=0,f.args=h,I.read(f));){k=c.state;var p=f.fn;switch(h=f.args,0|p){case i.OPS.setFont:var v=h[0].name,y=h[1];if(k.font&&v===k.fontName&&y===k.fontSize)break;return q(),k.fontName=v,k.fontSize=y,void o(N(v,null));case i.OPS.setTextRise:q(),k.textRise=h[0];break;case i.OPS.setHScale:q(),k.textHScale=h[0]/100;break;case i.OPS.setLeading:q(),k.leading=h[0];break;case i.OPS.moveText:k.translateTextLineMatrix(h[0],h[1]),k.textMatrix=k.textLineMatrix.slice();break;case i.OPS.setLeadingMoveText:q(),k.leading=-h[1],k.translateTextLineMatrix(h[0],h[1]),k.textMatrix=k.textLineMatrix.slice();break;case i.OPS.nextLine:D(),k.carriageReturn();break;case i.OPS.setTextMatrix:k.setTextMatrix(h[0],h[1],h[2],h[3],h[4],h[5]),k.setTextLineMatrix(h[0],h[1],h[2],h[3],h[4],h[5]),R();break;case i.OPS.setCharSpacing:k.charSpacing=h[0];break;case i.OPS.setWordSpacing:k.wordSpacing=h[0];break;case i.OPS.beginText:q(),k.textMatrix=i.IDENTITY_MATRIX.slice(),k.textLineMatrix=i.IDENTITY_MATRIX.slice();break;case i.OPS.showSpacedText:if(!c.state.font){O.ensureStateFont(c.state);continue}for(var b=(k.font.vertical?1:-1)*k.fontSize/1e3,S=h[0],E=!0,j=0,M=S.length;j<M-1;j++){var L=S[j];if("string"==typeof L)T.push(L);else if("number"==typeof L&&0!==L){var X=T.join("");T.length=0,B({chars:X,extraSpacing:L*b,isFirstChunk:E}),X&&E&&(E=!1)}}var G=S[S.length-1];if("string"==typeof G&&T.push(G),T.length>0){var W=T.join("");T.length=0,B({chars:W,extraSpacing:0,isFirstChunk:E})}break;case i.OPS.showText:if(!c.state.font){O.ensureStateFont(c.state);continue}B({chars:h[0],extraSpacing:0,isFirstChunk:!0});break;case i.OPS.nextLineShowText:if(!c.state.font){O.ensureStateFont(c.state);continue}A.hasEOL=!0,q(),k.carriageReturn(),B({chars:h[0],extraSpacing:0,isFirstChunk:!0});break;case i.OPS.nextLineSetSpacingShowText:if(!c.state.font){O.ensureStateFont(c.state);continue}A.hasEOL=!0,q(),k.wordSpacing=h[0],k.charSpacing=h[1],k.carriageReturn(),B({chars:h[2],extraSpacing:0,isFirstChunk:!0});break;case i.OPS.paintXObject:q(),F||(F=a.get("XObject")||s.Dict.empty);var V=h[0].name;if(V&&P.getByName(V))break;return void o(new Promise((function(e,t){if(!V)throw new i.FormatError("XObject must be referred to by name.");var r=F.getRaw(V);if(r instanceof s.Ref){if(P.getByRef(r))return void e();if(O.globalImageCache.getData(r,O.pageIndex))return void e();r=C.fetch(r)}if(!(0,s.isStream)(r))throw new i.FormatError("XObject should be a stream");var o=r.dict.get("Subtype");if(!(0,s.isName)(o))throw new i.FormatError("XObject should have a Name subtype");if("Form"!==o.name)return P.set(V,r.dict.objId,!0),void e();var u=c.state.clone(),f=new z(u),h=r.dict.getArray("Matrix");Array.isArray(h)&&6===h.length&&f.transform(h),H();var p={enqueueInvoked:!1,enqueue:function(e,t){this.enqueueInvoked=!0,m.enqueue(e,t)},get desiredSize(){return m.desiredSize},get ready(){return m.ready}};O.getTextContent({stream:r,task:n,resources:r.dict.get("Resources")||a,stateManager:f,normalizeWhitespace:l,combineTextItems:d,includeMarkedContent:g,sink:p,seenStyles:w}).then((function(){p.enqueueInvoked||P.set(V,r.dict.objId,!0),e()}),t)})).catch((function(e){if(!(e instanceof i.AbortException)){if(!O.options.ignoreErrors)throw e;(0,i.warn)('getTextContent - ignoring XObject: "'.concat(e,'".'))}})));case i.OPS.setGState:if((V=h[0].name)&&_.getByName(V))break;return void o(new Promise((function(e,t){if(!V)throw new i.FormatError("GState must be referred to by name.");var r=a.get("ExtGState");if(!(r instanceof s.Dict))throw new i.FormatError("ExtGState should be a dictionary.");var n=r.get(V);if(!(n instanceof s.Dict))throw new i.FormatError("GState should be a dictionary.");var o=n.get("Font");if(!o)return _.set(V,n.objId,!0),void e();q(),k.fontName=null,k.fontSize=o[1],N(null,o[0]).then(e,t)})).catch((function(e){if(!(e instanceof i.AbortException)){if(!O.options.ignoreErrors)throw e;(0,i.warn)('getTextContent - ignoring ExtGState: "'.concat(e,'".'))}})));case i.OPS.beginMarkedContent:g&&x.items.push({type:"beginMarkedContent",tag:(0,s.isName)(h[0])?h[0].name:null});break;case i.OPS.beginMarkedContentProps:if(g){q();var K=null;(0,s.isDict)(h[1])&&(K=h[1].get("MCID")),x.items.push({type:"beginMarkedContentProps",id:Number.isInteger(K)?"".concat(O.idFactory.getPageObjId(),"_mcid").concat(K):null,tag:(0,s.isName)(h[0])?h[0].name:null})}break;case i.OPS.endMarkedContent:g&&(q(),x.items.push({type:"endMarkedContent"}))}if(x.items.length>=m.desiredSize){u=!0;break}}u?o(U):(q(),H(),t())})).catch((function(e){if(!(e instanceof i.AbortException)){if(t.options.ignoreErrors)return(0,i.warn)('getTextContent - ignoring errors during "'.concat(n.name,'" ')+'task: "'.concat(e,'".')),q(),void H();throw e}}))}},{key:"extractDataStructures",value:function(e,t,r){var n,a=this,o=this.xref,c=this.readToUnicode(r.toUnicode||e.get("ToUnicode")||t.get("ToUnicode"));if(r.composite){var f=e.get("CIDSystemInfo");(0,s.isDict)(f)&&(r.cidSystemInfo={registry:(0,i.stringToPDFString)(f.get("Registry")),ordering:(0,i.stringToPDFString)(f.get("Ordering")),supplement:f.get("Supplement")});var h=e.get("CIDToGIDMap");(0,s.isStream)(h)&&(n=h.getBytes())}var d,p=[],g=null;if(e.has("Encoding")){if(d=e.get("Encoding"),(0,s.isDict)(d)){if(g=d.get("BaseEncoding"),g=(0,s.isName)(g)?g.name:null,d.has("Differences"))for(var m=d.get("Differences"),v=0,y=0,b=m.length;y<b;y++){var w=o.fetchIfRef(m[y]);if((0,i.isNum)(w))v=w;else{if(!(0,s.isName)(w))throw new i.FormatError("Invalid entry in 'Differences' array: ".concat(w));p[v++]=w.name}}}else{if(!(0,s.isName)(d))throw new i.FormatError("Encoding is not a Name nor a Dict");g=d.name}"MacRomanEncoding"!==g&&"MacExpertEncoding"!==g&&"WinAnsiEncoding"!==g&&(g=null)}if(g)r.defaultEncoding=(0,l.getEncoding)(g);else{var k=!!(r.flags&u.FontFlags.Symbolic),S=!!(r.flags&u.FontFlags.Nonsymbolic);d=l.StandardEncoding,"TrueType"!==r.type||S||(d=l.WinAnsiEncoding),k&&(d=l.MacRomanEncoding,r.file||(/Symbol/i.test(r.name)?d=l.SymbolSetEncoding:/Dingbats|Wingdings/i.test(r.name)&&(d=l.ZapfDingbatsEncoding))),r.defaultEncoding=d}return r.differences=p,r.baseEncodingName=g,r.hasEncoding=!!g||p.length>0,r.dict=e,c.then((function(e){return r.toUnicode=e,a.buildToUnicode(r)})).then((function(e){return r.toUnicode=e,n&&(r.cidToGidMap=a.readCidToGidMap(n,e)),r}))}},{key:"_buildSimpleFontToUnicode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,i.assert)(!e.composite,"Must be a simple font.");var r=[],n=e.defaultEncoding.slice(),a=e.baseEncodingName,o=e.differences;for(var s in o){var c=o[s];".notdef"!==c&&(n[s]=c)}var u=(0,k.getGlyphsUnicode)();for(var h in n){var d=n[h];if(""!==d)if(void 0!==u[d])r[h]=String.fromCharCode(u[d]);else{var g=0;switch(d[0]){case"G":3===d.length&&(g=parseInt(d.substring(1),16));break;case"g":5===d.length&&(g=parseInt(d.substring(1),16));break;case"C":case"c":if(d.length>=3&&d.length<=4){var m=d.substring(1);if(t){g=parseInt(m,16);break}if(g=+m,Number.isNaN(g)&&Number.isInteger(parseInt(m,16)))return this._buildSimpleFontToUnicode(e,!0)}break;default:var v=(0,f.getUnicodeForGlyph)(d,u);-1!==v&&(g=v)}if(g>0&&g<=1114111&&Number.isInteger(g)){if(a&&g===+h){var y=(0,l.getEncoding)(a);if(y&&(d=y[h])){r[h]=String.fromCharCode(u[d]);continue}}r[h]=String.fromCodePoint(g)}}}return new p.ToUnicodeMap(r)}},{key:"buildToUnicode",value:function(e){if(e.hasIncludedToUnicodeMap=!!e.toUnicode&&e.toUnicode.length>0,e.hasIncludedToUnicodeMap)return!e.composite&&e.hasEncoding&&(e.fallbackToUnicode=this._buildSimpleFontToUnicode(e)),Promise.resolve(e.toUnicode);if(!e.composite)return Promise.resolve(this._buildSimpleFontToUnicode(e));if(e.composite&&(e.cMap.builtInCMap&&!(e.cMap instanceof o.IdentityCMap)||"Adobe"===e.cidSystemInfo.registry&&("GB1"===e.cidSystemInfo.ordering||"CNS1"===e.cidSystemInfo.ordering||"Japan1"===e.cidSystemInfo.ordering||"Korea1"===e.cidSystemInfo.ordering))){var t=e.cidSystemInfo.registry,r=e.cidSystemInfo.ordering,n=s.Name.get(t+"-"+r+"-UCS2");return o.CMapFactory.create({encoding:n,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then((function(t){var r=e.cMap,n=[];return r.forEach((function(e,r){if(r>65535)throw new i.FormatError("Max size of CID is 65,535");var a=t.lookup(r);a&&(n[e]=String.fromCharCode((a.charCodeAt(0)<<8)+a.charCodeAt(1)))})),new p.ToUnicodeMap(n)}))}return Promise.resolve(new p.IdentityToUnicodeMap(e.firstChar,e.lastChar))}},{key:"readToUnicode",value:function(e){var t=this;return e?(0,s.isName)(e)?o.CMapFactory.create({encoding:e,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then((function(e){return e instanceof o.IdentityCMap?new p.IdentityToUnicodeMap(0,65535):new p.ToUnicodeMap(e.getMap())})):(0,s.isStream)(e)?o.CMapFactory.create({encoding:e,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then((function(e){if(e instanceof o.IdentityCMap)return new p.IdentityToUnicodeMap(0,65535);var t=new Array(e.length);return e.forEach((function(e,r){for(var n=[],a=0;a<r.length;a+=2){var i=r.charCodeAt(a)<<8|r.charCodeAt(a+1);if(55296==(63488&i)){a+=2;var o=r.charCodeAt(a)<<8|r.charCodeAt(a+1);n.push(((1023&i)<<10)+(1023&o)+65536)}else n.push(i)}t[e]=String.fromCodePoint.apply(String,n)})),new p.ToUnicodeMap(t)}),(function(e){if(e instanceof i.AbortException)return null;if(t.options.ignoreErrors)return t.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,i.warn)('readToUnicode - ignoring ToUnicode data: "'.concat(e,'".')),null;throw e})):Promise.resolve(null):Promise.resolve(null)}},{key:"readCidToGidMap",value:function(e,t){for(var r=[],n=0,a=e.length;n<a;n++){var i=e[n++]<<8|e[n],o=n>>1;(0!==i||t.has(o))&&(r[o]=i)}return r}},{key:"extractWidths",value:function(e,t,r){var n,a,i,o,c,l,f,h,d=this.xref,p=[],g=0,m=[];if(r.composite){if(g=e.has("DW")?e.get("DW"):1e3,h=e.get("W"))for(a=0,i=h.length;a<i;a++)if(l=d.fetchIfRef(h[a++]),f=d.fetchIfRef(h[a]),Array.isArray(f))for(o=0,c=f.length;o<c;o++)p[l++]=d.fetchIfRef(f[o]);else{var v=d.fetchIfRef(h[++a]);for(o=l;o<=f;o++)p[o]=v}if(r.vertical){var y=e.getArray("DW2")||[880,-1e3];if(n=[y[1],.5*g,y[0]],y=e.get("W2"))for(a=0,i=y.length;a<i;a++)if(l=d.fetchIfRef(y[a++]),f=d.fetchIfRef(y[a]),Array.isArray(f))for(o=0,c=f.length;o<c;o++)m[l++]=[d.fetchIfRef(f[o++]),d.fetchIfRef(f[o++]),d.fetchIfRef(f[o])];else{var b=[d.fetchIfRef(y[++a]),d.fetchIfRef(y[++a]),d.fetchIfRef(y[++a])];for(o=l;o<=f;o++)m[o]=b}}}else{var w=r.firstChar;if(h=e.get("Widths")){for(o=w,a=0,i=h.length;a<i;a++)p[o++]=d.fetchIfRef(h[a]);g=parseFloat(t.get("MissingWidth"))||0}else{var k=e.get("BaseFont");if((0,s.isName)(k)){var S=this.getBaseFontMetrics(k.name);p=this.buildCharCodeToWidth(S.widths,r),g=S.defaultWidth}}}var x=!0,A=g;for(var O in p){var C=p[O];if(C)if(A){if(A!==C){x=!1;break}}else A=C}x&&(r.flags|=u.FontFlags.FixedPitch),r.defaultWidth=g,r.widths=p,r.defaultVMetrics=n,r.vmetrics=m}},{key:"isSerifFont",value:function(e){var t=e.split("-")[0];return t in(0,h.getSerifFonts)()||-1!==t.search(/serif/gi)}},{key:"getBaseFontMetrics",value:function(e){var t=0,r=Object.create(null),n=!1,a=(0,h.getStdFontMap)()[e]||e,o=(0,x.getMetrics)();a in o||(a=this.isSerifFont(e)?"Times-Roman":"Helvetica");var s=o[a];return(0,i.isNum)(s)?(t=s,n=!0):r=s(),{defaultWidth:t,monospace:n,widths:r}}},{key:"buildCharCodeToWidth",value:function(e,t){for(var r=Object.create(null),n=t.differences,a=t.defaultEncoding,i=0;i<256;i++)i in n&&e[n[i]]?r[i]=e[n[i]]:i in a&&e[a[i]]&&(r[i]=e[a[i]]);return r}},{key:"preEvaluateFont",value:function(e){var t=e,r=e.get("Subtype");if(!(0,s.isName)(r))throw new i.FormatError("invalid font Subtype");var n,a,o=!1;if("Type0"===r.name){var c=e.get("DescendantFonts");if(!c)throw new i.FormatError("Descendant fonts are not specified");if(!((e=Array.isArray(c)?this.xref.fetchIfRef(c[0]):c)instanceof s.Dict))throw new i.FormatError("Descendant font is not a dictionary.");if(r=e.get("Subtype"),!(0,s.isName)(r))throw new i.FormatError("invalid font Subtype");o=!0}var u=e.get("FirstChar")||0,l=e.get("LastChar")||(o?65535:255),f=e.get("FontDescriptor");if(f){n=new A.MurmurHash3_64;var h=t.getRaw("Encoding");if((0,s.isName)(h))n.update(h.name);else if((0,s.isRef)(h))n.update(h.toString());else if((0,s.isDict)(h)){var d,p=I(h.getRawValues());try{for(p.s();!(d=p.n()).done;){var g=d.value;if((0,s.isName)(g))n.update(g.name);else if((0,s.isRef)(g))n.update(g.toString());else if(Array.isArray(g)){for(var m=g.length,v=new Array(m),y=0;y<m;y++){var b=g[y];(0,s.isName)(b)?v[y]=b.name:((0,i.isNum)(b)||(0,s.isRef)(b))&&(v[y]=b.toString())}n.update(v.join())}}}catch(e){p.e(e)}finally{p.f()}}if(n.update("".concat(u,"-").concat(l)),a=e.get("ToUnicode")||t.get("ToUnicode"),(0,s.isStream)(a)){var w=a.str||a,k=w.buffer?new Uint8Array(w.buffer.buffer,0,w.bufferLength):new Uint8Array(w.bytes.buffer,w.start,w.end-w.start);n.update(k)}else(0,s.isName)(a)&&n.update(a.name);var S=e.get("Widths")||t.get("Widths");if(Array.isArray(S)){var x,O=[],C=I(S);try{for(C.s();!(x=C.n()).done;){var T=x.value;((0,i.isNum)(T)||(0,s.isRef)(T))&&O.push(T.toString())}}catch(e){C.e(e)}finally{C.f()}n.update(O.join())}if(o){n.update("compositeFont");var F=e.get("W")||t.get("W");if(Array.isArray(F)){var P,_=[],E=I(F);try{for(E.s();!(P=E.n()).done;){var j=P.value;if((0,i.isNum)(j)||(0,s.isRef)(j))_.push(j.toString());else if(Array.isArray(j)){var R,M=[],N=I(j);try{for(N.s();!(R=N.n()).done;){var B=R.value;((0,i.isNum)(B)||(0,s.isRef)(B))&&M.push(B.toString())}}catch(e){N.e(e)}finally{N.f()}_.push("[".concat(M.join(),"]"))}}}catch(e){E.e(e)}finally{E.f()}n.update(_.join())}}}return{descriptor:f,dict:e,baseDict:t,composite:o,type:r.name,firstChar:u,lastChar:l,toUnicode:a,hash:n?n.hexdigest():""}}},{key:"translateFont",value:(t=_(a.default.mark((function e(t){var r,n,l,f,d,p,g,m,v,y,b,w,k,S,x,A,C,T,F,P,_,I,E,j,R,M,N,B,D=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.descriptor,n=t.dict,l=t.baseDict,f=t.composite,d=t.type,p=t.firstChar,g=t.lastChar,m=t.toUnicode,v=t.cssFontInfo,y="Type3"===d,r){e.next=19;break}if(!y){e.next=9;break}(r=new s.Dict(null)).set("FontName",s.Name.get(d)),r.set("FontBBox",n.getArray("FontBBox")||[0,0,0,0]),e.next=19;break;case 9:if(w=n.get("BaseFont"),(0,s.isName)(w)){e.next=12;break}throw new i.FormatError("Base font is not specified");case 12:return w=w.name.replace(/[,_]/g,"-"),k=this.getBaseFontMetrics(w),S=w.split("-")[0],x=(this.isSerifFont(S)?u.FontFlags.Serif:0)|(k.monospace?u.FontFlags.FixedPitch:0)|((0,h.getSymbolsFonts)()[S]?u.FontFlags.Symbolic:u.FontFlags.Nonsymbolic),b={type:d,name:w,widths:k.widths,defaultWidth:k.defaultWidth,flags:x,firstChar:p,lastChar:g,toUnicode:m,isType3Font:y},A=n.get("Widths"),e.abrupt("return",this.extractDataStructures(n,n,b).then((function(e){if(A){for(var t=[],r=p,n=0,a=A.length;n<a;n++)t[r++]=D.xref.fetchIfRef(A[n]);e.widths=t}else e.widths=D.buildCharCodeToWidth(k.widths,e);return new c.Font(w,null,e)})));case 19:if(C=r.get("FontName"),T=n.get("BaseFont"),(0,i.isString)(C)&&(C=s.Name.get(C)),(0,i.isString)(T)&&(T=s.Name.get(T)),y||(F=C&&C.name,P=T&&T.name,F!==P&&((0,i.info)("The FontDescriptor's FontName is \\"".concat(F,'" but ')+"should be the same as the Font's BaseFont \\"".concat(P,'".')),F&&P&&P.startsWith(F)&&(C=T))),C=C||T,(0,s.isName)(C)){e.next=27;break}throw new i.FormatError("invalid font name");case 27:e.prev=27,_=r.get("FontFile","FontFile2","FontFile3"),e.next=37;break;case 31:if(e.prev=31,e.t0=e.catch(27),this.options.ignoreErrors){e.next=35;break}throw e.t0;case 35:(0,i.warn)('translateFont - fetching "'.concat(C.name,'" font file: "').concat(e.t0,'".')),_=new O.NullStream;case 37:if(_&&_.dict&&((M=_.dict.get("Subtype"))instanceof s.Name&&(I=M.name),E=_.dict.get("Length1"),j=_.dict.get("Length2"),R=_.dict.get("Length3")),b={type:d,name:C.name,subtype:I,file:_,length1:E,length2:j,length3:R,loadedName:l.loadedName,composite:f,fixedPitch:!1,fontMatrix:n.getArray("FontMatrix")||i.FONT_IDENTITY_MATRIX,firstChar:p,lastChar:g,toUnicode:m,bbox:r.getArray("FontBBox"),ascent:r.get("Ascent"),descent:r.get("Descent"),xHeight:r.get("XHeight"),capHeight:r.get("CapHeight"),flags:r.get("Flags"),italicAngle:r.get("ItalicAngle"),isType3Font:y,cssFontInfo:v},!f){e.next=47;break}return N=l.get("Encoding"),(0,s.isName)(N)&&(b.cidEncoding=N.name),e.next=44,o.CMapFactory.create({encoding:N,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});case 44:B=e.sent,b.cMap=B,b.vertical=b.cMap.vertical;case 47:return e.abrupt("return",this.extractDataStructures(n,l,b).then((function(e){return D.extractWidths(n,r,e),new c.Font(C.name,_,e)})));case 48:case"end":return e.stop()}}),e,this,[[27,31]])}))),function(e){return t.apply(this,arguments)})}],[{key:"buildFontPaths",value:function(e,t,r,n){function a(t){var a="".concat(e.loadedName,"_path_").concat(t);try{if(e.renderer.hasBuiltPath(t))return;r.send("commonobj",[a,"FontPath",e.renderer.getPathJs(t)])}catch(e){if(n.ignoreErrors)return r.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorFontBuildPath}),void(0,i.warn)("buildFontPaths - ignoring ".concat(a,' glyph: "').concat(e,'".'));throw e}}var o,s=I(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;a(c.fontChar);var u=c.accent;u&&u.fontChar&&a(u.fontChar)}}catch(e){s.e(e)}finally{s.f()}}},{key:"fallbackFontDict",get:function(){var e=new s.Dict;return e.set("BaseFont",s.Name.get("PDFJS-FallbackFont")),e.set("Type",s.Name.get("FallbackType")),e.set("Subtype",s.Name.get("FallbackType")),e.set("Encoding",s.Name.get("WinAnsiEncoding")),(0,i.shadow)(this,"fallbackFontDict",e)}}]),e}();t.PartialEvaluator=H;var $=function(){function e(t){var r=t.loadedName,n=t.font,a=t.dict,i=t.evaluatorOptions;R(this,e),this.loadedName=r,this.font=n,this.dict=a,this._evaluatorOptions=i||B,this.type3Loaded=null,this.type3Dependencies=n.isType3Font?new Set:null,this.sent=!1}return N(e,[{key:"send",value:function(e){this.sent||(this.sent=!0,e.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}},{key:"fallback",value:function(e){this.font.data&&(this.font.disableFontFace=!0,H.buildFontPaths(this.font,this.font.glyphCacheValues,e,this._evaluatorOptions))}},{key:"loadType3Data",value:function(e,t,r){var n=this;if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");var a=Object.create(e.options);a.ignoreErrors=!1;var o=e.clone(a);o.parsingType3Font=!0;var s,c=this.font,u=this.type3Dependencies,l=Promise.resolve(),f=this.dict.get("CharProcs"),h=this.dict.get("Resources")||t,d=Object.create(null),p=I(f.getKeys());try{var g=function(){var e=s.value;l=l.then((function(){var t=f.get(e),a=new C.OperatorList;return o.getOperatorList({stream:t,task:r,resources:h,operatorList:a}).then((function(){a.fnArray[0]===i.OPS.setCharWidthAndBounds&&n._removeType3ColorOperators(a),d[e]=a.getIR();var t,r=I(a.dependencies);try{for(r.s();!(t=r.n()).done;){var o=t.value;u.add(o)}}catch(e){r.e(e)}finally{r.f()}})).catch((function(t){(0,i.warn)('Type3 font resource "'.concat(e,'" is not available.'));var r=new C.OperatorList;d[e]=r.getIR()}))}))};for(p.s();!(s=p.n()).done;)g()}catch(e){p.e(e)}finally{p.f()}return this.type3Loaded=l.then((function(){c.charProcOperatorList=d})),this.type3Loaded}},{key:"_removeType3ColorOperators",value:function(e){for(var t=1,r=e.length;t<r;){switch(e.fnArray[t]){case i.OPS.setStrokeColorSpace:case i.OPS.setFillColorSpace:case i.OPS.setStrokeColor:case i.OPS.setStrokeColorN:case i.OPS.setFillColor:case i.OPS.setFillColorN:case i.OPS.setStrokeGray:case i.OPS.setFillGray:case i.OPS.setStrokeRGBColor:case i.OPS.setFillRGBColor:case i.OPS.setStrokeCMYKColor:case i.OPS.setFillCMYKColor:case i.OPS.shadingFill:case i.OPS.setRenderingIntent:e.fnArray.splice(t,1),e.argsArray.splice(t,1),r--;continue;case i.OPS.setGState:for(var n=F(e.argsArray[t],1)[0],a=0,o=n.length;a<o;){switch(F(n[a],1)[0]){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":n.splice(a,1),o--;continue}a++}}t++}}}]),e}(),z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new W;R(this,e),this.state=t,this.stateStack=[]}return N(e,[{key:"save",value:function(){var e=this.state;this.stateStack.push(this.state),this.state=e.clone()}},{key:"restore",value:function(){var e=this.stateStack.pop();e&&(this.state=e)}},{key:"transform",value:function(e){this.state.ctm=i.Util.transform(this.state.ctm,e)}}]),e}(),G=function(){function e(){R(this,e),this.ctm=new Float32Array(i.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.textMatrix=i.IDENTITY_MATRIX.slice(),this.textLineMatrix=i.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}return N(e,[{key:"setTextMatrix",value:function(e,t,r,n,a,i){var o=this.textMatrix;o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=a,o[5]=i}},{key:"setTextLineMatrix",value:function(e,t,r,n,a,i){var o=this.textLineMatrix;o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=a,o[5]=i}},{key:"translateTextMatrix",value:function(e,t){var r=this.textMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5]}},{key:"translateTextLineMatrix",value:function(e,t){var r=this.textLineMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5]}},{key:"carriageReturn",value:function(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}},{key:"clone",value:function(){var e=Object.create(this);return e.textMatrix=this.textMatrix.slice(),e.textLineMatrix=this.textLineMatrix.slice(),e.fontMatrix=this.fontMatrix.slice(),e}}]),e}(),W=function(){function e(){R(this,e),this.ctm=new Float32Array(i.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=i.TextRenderingMode.FILL,this.fillColorSpace=b.ColorSpace.singletons.gray,this.strokeColorSpace=b.ColorSpace.singletons.gray}return N(e,[{key:"clone",value:function(){return Object.create(this)}}]),e}(),V=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new z;R(this,e),this.parser=new m.Parser({lexer:new m.Lexer(t,e.opMap),xref:r}),this.stateManager=n,this.nonProcessedArgs=[],this._numInvalidPathOPS=0}return N(e,[{key:"savedStatesDepth",get:function(){return this.stateManager.stateStack.length}},{key:"read",value:function(t){for(var r=t.args;;){var n=this.parser.getObj();if(n instanceof s.Cmd){var a=n.cmd,o=e.opMap[a];if(!o){(0,i.warn)('Unknown command "'.concat(a,'".'));continue}var c=o.id,u=o.numArgs,l=null!==r?r.length:0;if(o.variableArgs)l>u&&(0,i.info)("Command ".concat(a,": expected [0, ").concat(u,"] args, ")+"but received ".concat(l," args."));else{if(l!==u){for(var f=this.nonProcessedArgs;l>u;)f.push(r.shift()),l--;for(;l<u&&0!==f.length;)null===r&&(r=[]),r.unshift(f.pop()),l++}if(l<u){var h="command ".concat(a,": expected ").concat(u," args, ")+"but received ".concat(l," args.");if(c>=i.OPS.moveTo&&c<=i.OPS.endPath&&++this._numInvalidPathOPS>e.MAX_INVALID_PATH_OPS)throw new i.FormatError("Invalid ".concat(h));(0,i.warn)("Skipping ".concat(h)),null!==r&&(r.length=0);continue}}return this.preprocessCommand(c,r),t.fn=c,t.args=r,!0}if(n===s.EOF)return!1;if(null!==n&&(null===r&&(r=[]),r.push(n),r.length>33))throw new i.FormatError("Too many arguments")}}},{key:"preprocessCommand",value:function(e,t){switch(0|e){case i.OPS.save:this.stateManager.save();break;case i.OPS.restore:this.stateManager.restore();break;case i.OPS.transform:this.stateManager.transform(t)}}}],[{key:"opMap",get:function(){var e=(0,S.getLookupTableFactory)((function(e){e.w={id:i.OPS.setLineWidth,numArgs:1,variableArgs:!1},e.J={id:i.OPS.setLineCap,numArgs:1,variableArgs:!1},e.j={id:i.OPS.setLineJoin,numArgs:1,variableArgs:!1},e.M={id:i.OPS.setMiterLimit,numArgs:1,variableArgs:!1},e.d={id:i.OPS.setDash,numArgs:2,variableArgs:!1},e.ri={id:i.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},e.i={id:i.OPS.setFlatness,numArgs:1,variableArgs:!1},e.gs={id:i.OPS.setGState,numArgs:1,variableArgs:!1},e.q={id:i.OPS.save,numArgs:0,variableArgs:!1},e.Q={id:i.OPS.restore,numArgs:0,variableArgs:!1},e.cm={id:i.OPS.transform,numArgs:6,variableArgs:!1},e.m={id:i.OPS.moveTo,numArgs:2,variableArgs:!1},e.l={id:i.OPS.lineTo,numArgs:2,variableArgs:!1},e.c={id:i.OPS.curveTo,numArgs:6,variableArgs:!1},e.v={id:i.OPS.curveTo2,numArgs:4,variableArgs:!1},e.y={id:i.OPS.curveTo3,numArgs:4,variableArgs:!1},e.h={id:i.OPS.closePath,numArgs:0,variableArgs:!1},e.re={id:i.OPS.rectangle,numArgs:4,variableArgs:!1},e.S={id:i.OPS.stroke,numArgs:0,variableArgs:!1},e.s={id:i.OPS.closeStroke,numArgs:0,variableArgs:!1},e.f={id:i.OPS.fill,numArgs:0,variableArgs:!1},e.F={id:i.OPS.fill,numArgs:0,variableArgs:!1},e["f*"]={id:i.OPS.eoFill,numArgs:0,variableArgs:!1},e.B={id:i.OPS.fillStroke,numArgs:0,variableArgs:!1},e["B*"]={id:i.OPS.eoFillStroke,numArgs:0,variableArgs:!1},e.b={id:i.OPS.closeFillStroke,numArgs:0,variableArgs:!1},e["b*"]={id:i.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},e.n={id:i.OPS.endPath,numArgs:0,variableArgs:!1},e.W={id:i.OPS.clip,numArgs:0,variableArgs:!1},e["W*"]={id:i.OPS.eoClip,numArgs:0,variableArgs:!1},e.BT={id:i.OPS.beginText,numArgs:0,variableArgs:!1},e.ET={id:i.OPS.endText,numArgs:0,variableArgs:!1},e.Tc={id:i.OPS.setCharSpacing,numArgs:1,variableArgs:!1},e.Tw={id:i.OPS.setWordSpacing,numArgs:1,variableArgs:!1},e.Tz={id:i.OPS.setHScale,numArgs:1,variableArgs:!1},e.TL={id:i.OPS.setLeading,numArgs:1,variableArgs:!1},e.Tf={id:i.OPS.setFont,numArgs:2,variableArgs:!1},e.Tr={id:i.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},e.Ts={id:i.OPS.setTextRise,numArgs:1,variableArgs:!1},e.Td={id:i.OPS.moveText,numArgs:2,variableArgs:!1},e.TD={id:i.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},e.Tm={id:i.OPS.setTextMatrix,numArgs:6,variableArgs:!1},e["T*"]={id:i.OPS.nextLine,numArgs:0,variableArgs:!1},e.Tj={id:i.OPS.showText,numArgs:1,variableArgs:!1},e.TJ={id:i.OPS.showSpacedText,numArgs:1,variableArgs:!1},e["'"]={id:i.OPS.nextLineShowText,numArgs:1,variableArgs:!1},e['"']={id:i.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},e.d0={id:i.OPS.setCharWidth,numArgs:2,variableArgs:!1},e.d1={id:i.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},e.CS={id:i.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},e.cs={id:i.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},e.SC={id:i.OPS.setStrokeColor,numArgs:4,variableArgs:!0},e.SCN={id:i.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},e.sc={id:i.OPS.setFillColor,numArgs:4,variableArgs:!0},e.scn={id:i.OPS.setFillColorN,numArgs:33,variableArgs:!0},e.G={id:i.OPS.setStrokeGray,numArgs:1,variableArgs:!1},e.g={id:i.OPS.setFillGray,numArgs:1,variableArgs:!1},e.RG={id:i.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},e.rg={id:i.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},e.K={id:i.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},e.k={id:i.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},e.sh={id:i.OPS.shadingFill,numArgs:1,variableArgs:!1},e.BI={id:i.OPS.beginInlineImage,numArgs:0,variableArgs:!1},e.ID={id:i.OPS.beginImageData,numArgs:0,variableArgs:!1},e.EI={id:i.OPS.endInlineImage,numArgs:1,variableArgs:!1},e.Do={id:i.OPS.paintXObject,numArgs:1,variableArgs:!1},e.MP={id:i.OPS.markPoint,numArgs:1,variableArgs:!1},e.DP={id:i.OPS.markPointProps,numArgs:2,variableArgs:!1},e.BMC={id:i.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},e.BDC={id:i.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},e.EMC={id:i.OPS.endMarkedContent,numArgs:0,variableArgs:!1},e.BX={id:i.OPS.beginCompat,numArgs:0,variableArgs:!1},e.EX={id:i.OPS.endCompat,numArgs:0,variableArgs:!1},e.BM=null,e.BD=null,e.true=null,e.fa=null,e.fal=null,e.fals=null,e.false=null,e.nu=null,e.nul=null,e.null=null}));return(0,i.shadow)(this,"opMap",e())}},{key:"MAX_INVALID_PATH_OPS",get:function(){return(0,i.shadow)(this,"MAX_INVALID_PATH_OPS",20)}}]),e}();t.EvaluatorPreprocessor=V},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityCMap=t.CMapFactory=t.CMap=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},o=r(4),s=r(113),c=r(125),u=r(117),l=r(118);function f(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){f(i,n,a,o,s,"next",e)}function s(e){f(i,n,a,o,s,"throw",e)}o(void 0)}))}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),e}var w=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],k=Math.pow(2,24)-1,S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v(this,e),this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=t}return b(e,[{key:"addCodespaceRange",value:function(e,t,r){this.codespaceRanges[e-1].push(t,r),this.numCodespaceRanges++}},{key:"mapCidRange",value:function(e,t,r){if(t-e>k)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;e<=t;)this._map[e++]=r++}},{key:"mapBfRange",value:function(e,t,r){if(t-e>k)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");for(var n=r.length-1;e<=t;)this._map[e++]=r,r=r.substring(0,n)+String.fromCharCode(r.charCodeAt(n)+1)}},{key:"mapBfRangeToArray",value:function(e,t,r){if(t-e>k)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");for(var n=r.length,a=0;e<=t&&a<n;)this._map[e]=r[a++],++e}},{key:"mapOne",value:function(e,t){this._map[e]=t}},{key:"lookup",value:function(e){return this._map[e]}},{key:"contains",value:function(e){return void 0!==this._map[e]}},{key:"forEach",value:function(e){var t=this._map,r=t.length;if(r<=65536)for(var n=0;n<r;n++)void 0!==t[n]&&e(n,t[n]);else for(var a in t)e(a,t[a])}},{key:"charCodeOf",value:function(e){var t=this._map;if(t.length<=65536)return t.indexOf(e);for(var r in t)if(t[r]===e)return 0|r;return-1}},{key:"getMap",value:function(){return this._map}},{key:"readCharCode",value:function(e,t,r){for(var n=0,a=this.codespaceRanges,i=0,o=a.length;i<o;i++){n=(n<<8|e.charCodeAt(t+i))>>>0;for(var s=a[i],c=0,u=s.length;c<u;){var l=s[c++],f=s[c++];if(n>=l&&n<=f)return r.charcode=n,void(r.length=i+1)}}r.charcode=0,r.length=1}},{key:"getCharCodeLength",value:function(e){for(var t=this.codespaceRanges,r=0,n=t.length;r<n;r++)for(var a=t[r],i=0,o=a.length;i<o;){var s=a[i++],c=a[i++];if(e>=s&&e<=c)return r+1}return 1}},{key:"length",get:function(){return this._map.length}},{key:"isIdentityCMap",get:function(){if("Identity-H"!==this.name&&"Identity-V"!==this.name)return!1;if(65536!==this._map.length)return!1;for(var e=0;e<65536;e++)if(this._map[e]!==e)return!1;return!0}}]),e}();t.CMap=S;var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,e);var t=p(r);function r(e,n){var a;return v(this,r),(a=t.call(this)).vertical=e,a.addCodespaceRange(n,0,65535),a}return b(r,[{key:"mapCidRange",value:function(e,t,r){(0,o.unreachable)("should not call mapCidRange")}},{key:"mapBfRange",value:function(e,t,r){(0,o.unreachable)("should not call mapBfRange")}},{key:"mapBfRangeToArray",value:function(e,t,r){(0,o.unreachable)("should not call mapBfRangeToArray")}},{key:"mapOne",value:function(e,t){(0,o.unreachable)("should not call mapCidOne")}},{key:"lookup",value:function(e){return Number.isInteger(e)&&e<=65535?e:void 0}},{key:"contains",value:function(e){return Number.isInteger(e)&&e<=65535}},{key:"forEach",value:function(e){for(var t=0;t<=65535;t++)e(t,t)}},{key:"charCodeOf",value:function(e){return Number.isInteger(e)&&e<=65535?e:-1}},{key:"getMap",value:function(){for(var e=new Array(65536),t=0;t<=65535;t++)e[t]=t;return e}},{key:"length",get:function(){return 65536}},{key:"isIdentityCMap",get:function(){(0,o.unreachable)("should not access .isIdentityCMap")}}]),r}(S);t.IdentityCMap=x;var A=function(){function e(e,t){for(var r=0,n=0;n<=t;n++)r=r<<8|e[n];return r>>>0}function t(e,t){return 1===t?String.fromCharCode(e[0],e[1]):3===t?String.fromCharCode(e[0],e[1],e[2],e[3]):String.fromCharCode.apply(null,e.subarray(0,t+1))}function r(e,t,r){for(var n=0,a=r;a>=0;a--)n+=e[a]+t[a],e[a]=255&n,n>>=8}function n(e,t){for(var r=1,n=t;n>=0&&r>0;n--)r+=e[n],e[n]=255&r,r>>=8}var a=16,s=function(){function e(t){v(this,e),this.buffer=t,this.pos=0,this.end=t.length,this.tmpBuf=new Uint8Array(19)}return b(e,[{key:"readByte",value:function(){return this.pos>=this.end?-1:this.buffer[this.pos++]}},{key:"readNumber",value:function(){var e,t=0;do{var r=this.readByte();if(r<0)throw new o.FormatError("unexpected EOF in bcmap");e=!(128&r),t=t<<7|127&r}while(!e);return t}},{key:"readSigned",value:function(){var e=this.readNumber();return 1&e?~(e>>>1):e>>>1}},{key:"readHex",value:function(e,t){e.set(this.buffer.subarray(this.pos,this.pos+t+1)),this.pos+=t+1}},{key:"readHexNumber",value:function(e,t){var r,n=this.tmpBuf,a=0;do{var i=this.readByte();if(i<0)throw new o.FormatError("unexpected EOF in bcmap");r=!(128&i),n[a++]=127&i}while(!r);for(var s=t,c=0,u=0;s>=0;){for(;u<8&&n.length>0;)c=n[--a]<<u|c,u+=7;e[s]=255&c,s--,c>>=8,u-=8}}},{key:"readHexSigned",value:function(e,t){this.readHexNumber(e,t);for(var r=1&e[t]?255:0,n=0,a=0;a<=t;a++)n=(1&n)<<8|e[a],e[a]=n>>1^r}},{key:"readString",value:function(){for(var e=this.readNumber(),t="",r=0;r<e;r++)t+=String.fromCharCode(this.readNumber());return t}}]),e}(),c=function(){function o(){v(this,o)}var c;return b(o,[{key:"process",value:(c=h(i.default.mark((function o(c,u,l){var f,h,d,p,g,m,v,y,b,w,k,S,x,A,O,C,T,F,P,_,I;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:f=new s(c),h=f.readByte(),u.vertical=!!(1&h),d=null,p=new Uint8Array(a),g=new Uint8Array(a),m=new Uint8Array(a),v=new Uint8Array(a),y=new Uint8Array(a);case 9:if(!((w=f.readByte())>=0)){i.next=68;break}if(7!=(k=w>>5)){i.next=20;break}i.t0=31&w,i.next=0===i.t0?15:1===i.t0?17:19;break;case 15:return f.readString(),i.abrupt("break",19);case 17:return d=f.readString(),i.abrupt("break",19);case 19:return i.abrupt("continue",9);case 20:if(S=!!(16&w),!(1+(x=15&w)>a)){i.next=24;break}throw new Error("BinaryCMapReader.process: Invalid dataSize.");case 24:A=1,O=f.readNumber(),i.t1=k,i.next=0===i.t1?29:1===i.t1?35:2===i.t1?41:3===i.t1?46:4===i.t1?53:5===i.t1?58:65;break;case 29:for(f.readHex(p,x),f.readHexNumber(g,x),r(g,p,x),u.addCodespaceRange(x+1,e(p,x),e(g,x)),C=1;C<O;C++)n(g,x),f.readHexNumber(p,x),r(p,g,x),f.readHexNumber(g,x),r(g,p,x),u.addCodespaceRange(x+1,e(p,x),e(g,x));return i.abrupt("break",66);case 35:for(f.readHex(p,x),f.readHexNumber(g,x),r(g,p,x),f.readNumber(),T=1;T<O;T++)n(g,x),f.readHexNumber(p,x),r(p,g,x),f.readHexNumber(g,x),r(g,p,x),f.readNumber();return i.abrupt("break",66);case 41:for(f.readHex(m,x),b=f.readNumber(),u.mapOne(e(m,x),b),F=1;F<O;F++)n(m,x),S||(f.readHexNumber(y,x),r(m,y,x)),b=f.readSigned()+(b+1),u.mapOne(e(m,x),b);return i.abrupt("break",66);case 46:for(f.readHex(p,x),f.readHexNumber(g,x),r(g,p,x),b=f.readNumber(),u.mapCidRange(e(p,x),e(g,x),b),P=1;P<O;P++)n(g,x),S?p.set(g):(f.readHexNumber(p,x),r(p,g,x)),f.readHexNumber(g,x),r(g,p,x),b=f.readNumber(),u.mapCidRange(e(p,x),e(g,x),b);return i.abrupt("break",66);case 53:for(f.readHex(m,A),f.readHex(v,x),u.mapOne(e(m,A),t(v,x)),_=1;_<O;_++)n(m,A),S||(f.readHexNumber(y,A),r(m,y,A)),n(v,x),f.readHexSigned(y,x),r(v,y,x),u.mapOne(e(m,A),t(v,x));return i.abrupt("break",66);case 58:for(f.readHex(p,A),f.readHexNumber(g,A),r(g,p,A),f.readHex(v,x),u.mapBfRange(e(p,A),e(g,A),t(v,x)),I=1;I<O;I++)n(g,A),S?p.set(g):(f.readHexNumber(p,A),r(p,g,A)),f.readHexNumber(g,A),r(g,p,A),f.readHex(v,x),u.mapBfRange(e(p,A),e(g,A),t(v,x));return i.abrupt("break",66);case 65:throw new Error("BinaryCMapReader.process - unknown type: ".concat(k));case 66:i.next=9;break;case 68:if(!d){i.next=70;break}return i.abrupt("return",l(d));case 70:return i.abrupt("return",u);case 71:case"end":return i.stop()}}),o)}))),function(e,t,r){return c.apply(this,arguments)})}]),o}();return c}(),O=function(){function e(e){for(var t=0,r=0;r<e.length;r++)t=t<<8|e.charCodeAt(r);return t>>>0}function t(e){if(!(0,o.isString)(e))throw new o.FormatError("Malformed CMap: expected string.")}function r(e){if(!Number.isInteger(e))throw new o.FormatError("Malformed CMap: expected int.")}function n(r,n){for(;;){var a=n.getObj();if((0,s.isEOF)(a))break;if((0,s.isCmd)(a,"endbfchar"))return;t(a);var i=e(a);t(a=n.getObj());var o=a;r.mapOne(i,o)}}function a(r,n){for(;;){var a=n.getObj();if((0,s.isEOF)(a))break;if((0,s.isCmd)(a,"endbfrange"))return;t(a);var i=e(a);t(a=n.getObj());var c=e(a);if(a=n.getObj(),Number.isInteger(a)||(0,o.isString)(a)){var u=Number.isInteger(a)?String.fromCharCode(a):a;r.mapBfRange(i,c,u)}else{if(!(0,s.isCmd)(a,"["))break;a=n.getObj();for(var l=[];!(0,s.isCmd)(a,"]")&&!(0,s.isEOF)(a);)l.push(a),a=n.getObj();r.mapBfRangeToArray(i,c,l)}}throw new o.FormatError("Invalid bf range.")}function f(n,a){for(;;){var i=a.getObj();if((0,s.isEOF)(i))break;if((0,s.isCmd)(i,"endcidchar"))return;t(i);var o=e(i);r(i=a.getObj());var c=i;n.mapOne(o,c)}}function d(n,a){for(;;){var i=a.getObj();if((0,s.isEOF)(i))break;if((0,s.isCmd)(i,"endcidrange"))return;t(i);var o=e(i);t(i=a.getObj());var c=e(i);r(i=a.getObj());var u=i;n.mapCidRange(o,c,u)}}function p(t,r){for(;;){var n=r.getObj();if((0,s.isEOF)(n))break;if((0,s.isCmd)(n,"endcodespacerange"))return;if(!(0,o.isString)(n))break;var a=e(n);if(n=r.getObj(),!(0,o.isString)(n))break;var i=e(n);t.addCodespaceRange(n.length,a,i)}throw new o.FormatError("Invalid codespace range.")}function g(e,t){var r=t.getObj();Number.isInteger(r)&&(e.vertical=!!r)}function m(e,t){var r=t.getObj();(0,s.isName)(r)&&(0,o.isString)(r.name)&&(e.name=r.name)}function v(e,t,r,n){return y.apply(this,arguments)}function y(){return y=h(i.default.mark((function e(t,r,c,l){var h,v,y;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=1,y=r.getObj(),!(0,s.isEOF)(y)){e.next=7;break}return e.abrupt("break",39);case 7:if(!(0,s.isName)(y)){e.next=12;break}"WMode"===y.name?g(t,r):"CMapName"===y.name&&m(t,r),h=y,e.next=29;break;case 12:if(!(0,s.isCmd)(y)){e.next=29;break}e.t0=y.cmd,e.next="endcmap"===e.t0?16:"usecmap"===e.t0?17:"begincodespacerange"===e.t0?19:"beginbfchar"===e.t0?21:"begincidchar"===e.t0?23:"beginbfrange"===e.t0?25:"begincidrange"===e.t0?27:29;break;case 16:return e.abrupt("break",39);case 17:return(0,s.isName)(h)&&(v=h.name),e.abrupt("break",29);case 19:return p(t,r),e.abrupt("break",29);case 21:return n(t,r),e.abrupt("break",29);case 23:return f(t,r),e.abrupt("break",29);case 25:return a(t,r),e.abrupt("break",29);case 27:return d(t,r),e.abrupt("break",29);case 29:e.next=37;break;case 31:if(e.prev=31,e.t1=e.catch(1),!(e.t1 instanceof u.MissingDataException)){e.next=35;break}throw e.t1;case 35:return(0,o.warn)("Invalid cMap data: "+e.t1),e.abrupt("continue",0);case 37:e.next=0;break;case 39:if(!l&&v&&(l=v),!l){e.next=42;break}return e.abrupt("return",b(t,c,l));case 42:return e.abrupt("return",t);case 43:case"end":return e.stop()}}),e,null,[[1,31]])}))),y.apply(this,arguments)}function b(e,t,r){return k.apply(this,arguments)}function k(){return(k=h(i.default.mark((function e(t,r,n){var a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(n,r);case 2:if(t.useCMap=e.sent,0===t.numCodespaceRanges){for(a=t.useCMap.codespaceRanges,o=0;o<a.length;o++)t.codespaceRanges[o]=a[o].slice();t.numCodespaceRanges=t.useCMap.numCodespaceRanges}return t.useCMap.forEach((function(e,r){t.contains(e)||t.mapOne(e,t.useCMap.lookup(e))})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return C.apply(this,arguments)}function C(){return(C=h(i.default.mark((function e(t,r){var n,a,s,u,f;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Identity-H"!==t){e.next=4;break}return e.abrupt("return",new x(!1,2));case 4:if("Identity-V"!==t){e.next=6;break}return e.abrupt("return",new x(!0,2));case 6:if(w.includes(t)){e.next=8;break}throw new Error("Unknown CMap name: "+t);case 8:if(r){e.next=10;break}throw new Error("Built-in CMap parameters are not provided.");case 10:return e.next=12,r(t);case 12:if(n=e.sent,a=n.cMapData,s=n.compressionType,u=new S(!0),s!==o.CMapCompressionType.BINARY){e.next=18;break}return e.abrupt("return",(new A).process(a,u,(function(e){return b(u,r,e)})));case 18:if(s!==o.CMapCompressionType.NONE){e.next=21;break}return f=new c.Lexer(new l.Stream(a)),e.abrupt("return",v(u,f,r,null));case 21:throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.");case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{create:function(e){return h(i.default.mark((function t(){var r,n,a,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.encoding,n=e.fetchBuiltInCMap,a=e.useCMap,!(0,s.isName)(r)){t.next=7;break}return t.abrupt("return",O(r.name,n));case 7:if(!(0,s.isStream)(r)){t.next=14;break}return t.next=10,v(new S,new c.Lexer(r),n,a);case 10:if(!(o=t.sent).isIdentityCMap){t.next=13;break}return t.abrupt("return",O(o.name,n));case 13:return t.abrupt("return",o);case 14:throw new Error("Encoding required.");case 15:case"end":return t.stop()}}),t)})))()}}}();t.CMapFactory=O},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=t.Linearization=t.Lexer=void 0;var n=r(4),a=r(113),i=r(117),o=r(126),s=r(128),c=r(129),u=r(131),l=r(132),f=r(135),h=r(137),d=r(139),p=r(118),g=r(140),m=r(141);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),e}function w(e){for(var t=e.length,r=1,n=0,a=0;a<t;++a)n+=r+=255&e[a];return n%65521<<16|r%65521}var k=function(){function e(t){var r=t.lexer,n=t.xref,a=t.allowStreams,i=void 0!==a&&a,o=t.recoveryMode,s=void 0!==o&&o;v(this,e),this.lexer=r,this.xref=n,this.allowStreams=i,this.recoveryMode=s,this.imageCache=Object.create(null),this.refill()}return b(e,[{key:"refill",value:function(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}},{key:"shift",value:function(){this.buf2 instanceof a.Cmd&&"ID"===this.buf2.cmd?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}},{key:"tryShift",value:function(){try{return this.shift(),!0}catch(e){if(e instanceof i.MissingDataException)throw e;return!1}}},{key:"getObj",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.buf1;if(this.shift(),t instanceof a.Cmd)switch(t.cmd){case"BI":return this.makeInlineImage(e);case"[":for(var r=[];!(0,a.isCmd)(this.buf1,"]")&&!(0,a.isEOF)(this.buf1);)r.push(this.getObj(e));if((0,a.isEOF)(this.buf1)){if(!this.recoveryMode)throw new n.FormatError("End of file inside array");return r}return this.shift(),r;case"<<":for(var i=new a.Dict(this.xref);!(0,a.isCmd)(this.buf1,">>")&&!(0,a.isEOF)(this.buf1);)if((0,a.isName)(this.buf1)){var o=this.buf1.name;if(this.shift(),(0,a.isEOF)(this.buf1))break;i.set(o,this.getObj(e))}else(0,n.info)("Malformed dictionary: key must be a name object"),this.shift();if((0,a.isEOF)(this.buf1)){if(!this.recoveryMode)throw new n.FormatError("End of file inside dictionary");return i}return(0,a.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(i,e):i:(this.shift(),i);default:return t}if(Number.isInteger(t)){if(Number.isInteger(this.buf1)&&(0,a.isCmd)(this.buf2,"R")){var s=a.Ref.get(t,this.buf1);return this.shift(),this.shift(),s}return t}return"string"==typeof t&&e?e.decryptString(t):t}},{key:"findDefaultInlineStreamEnd",value:function(e){for(var t,r,o=this.lexer,s=e.pos,c=0;-1!==(t=e.getByte());)if(0===c)c=69===t?1:0;else if(1===c)c=73===t?2:0;else if((0,n.assert)(2===c,"findDefaultInlineStreamEnd - invalid state."),32===t||10===t||13===t){r=e.pos;for(var u=e.peekBytes(10),l=0,f=u.length;l<f;l++)if((0!==(t=u[l])||0===u[l+1])&&10!==t&&13!==t&&(t<32||t>127)){c=0;break}if(2!==c)continue;if(o.knownCommands){var h=o.peekObj();h instanceof a.Cmd&&!o.knownCommands[h.cmd]&&(c=0)}else(0,n.warn)("findDefaultInlineStreamEnd - \`lexer.knownCommands\` is undefined.");if(2===c)break}else c=0;-1===t&&((0,n.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),r&&((0,n.warn)('... trying to recover by using the last "EI" occurrence.'),e.skip(-(e.pos-r))));var d=4;return e.skip(-d),t=e.peekByte(),e.skip(d),(0,i.isWhiteSpace)(t)||d--,e.pos-d-s}},{key:"findDCTDecodeInlineStreamEnd",value:function(e){for(var t,r,a=e.pos,i=!1;-1!==(t=e.getByte());)if(255===t){switch(e.getByte()){case 0:break;case 255:e.skip(-1);break;case 217:i=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:(r=e.getUint16())>2?e.skip(r-2):e.skip(-2)}if(i)break}var o=e.pos-a;return-1===t?((0,n.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),e.skip(-o),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),o)}},{key:"findASCII85DecodeInlineStreamEnd",value:function(e){for(var t,r=e.pos;-1!==(t=e.getByte());)if(126===t){var a=e.pos;for(t=e.peekByte();(0,i.isWhiteSpace)(t);)e.skip(),t=e.peekByte();if(62===t){e.skip();break}if(e.pos>a){var o=e.peekBytes(2);if(69===o[0]&&73===o[1])break}}var s=e.pos-r;return-1===t?((0,n.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),e.skip(-s),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),s)}},{key:"findASCIIHexDecodeInlineStreamEnd",value:function(e){for(var t,r=e.pos;-1!==(t=e.getByte())&&62!==t;);var a=e.pos-r;return-1===t?((0,n.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),e.skip(-a),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),a)}},{key:"inlineStreamSkipEI",value:function(e){for(var t,r=0;-1!==(t=e.getByte());)if(0===r)r=69===t?1:0;else if(1===r)r=73===t?2:0;else if(2===r)break}},{key:"makeInlineImage",value:function(e){for(var t,r=this.lexer,i=r.stream,o=new a.Dict(this.xref);!(0,a.isCmd)(this.buf1,"ID")&&!(0,a.isEOF)(this.buf1);){if(!(0,a.isName)(this.buf1))throw new n.FormatError("Dictionary key must be a name object");var s=this.buf1.name;if(this.shift(),(0,a.isEOF)(this.buf1))break;o.set(s,this.getObj(e))}-1!==r.beginInlineImagePos&&(t=i.pos-r.beginInlineImagePos);var c,u=o.get("Filter","F");if((0,a.isName)(u))c=u.name;else if(Array.isArray(u)){var l=this.xref.fetchIfRef(u[0]);(0,a.isName)(l)&&(c=l.name)}var f,h=i.pos;f="DCTDecode"===c||"DCT"===c?this.findDCTDecodeInlineStreamEnd(i):"ASCII85Decode"===c||"A85"===c?this.findASCII85DecodeInlineStreamEnd(i):"ASCIIHexDecode"===c||"AHx"===c?this.findASCIIHexDecodeInlineStreamEnd(i):this.findDefaultInlineStreamEnd(i);var d,p=i.makeSubStream(h,f,o);if(f<1e3&&t<5552){var g=p.getBytes();p.reset();var m=i.pos;i.pos=r.beginInlineImagePos;var v=i.getBytes(t);i.pos=m,d=w(g)+"_"+w(v);var y=this.imageCache[d];if(void 0!==y)return this.buf2=a.Cmd.get("EI"),this.shift(),y.reset(),y}return e&&(p=e.createStream(p,f)),(p=this.filter(p,o,f)).dict=o,void 0!==d&&(p.cacheKey="inline_".concat(f,"_").concat(d),this.imageCache[d]=p),this.buf2=a.Cmd.get("EI"),this.shift(),p}},{key:"_findStreamLength",value:function(e,t){var r=this.lexer.stream;r.pos=e;for(var n=t.length;r.pos<r.end;){var a=r.peekBytes(2048),i=a.length-n;if(i<=0)break;for(var o=0;o<i;){for(var s=0;s<n&&a[o+s]===t[s];)s++;if(s>=n)return r.pos+=o,r.pos-e;o++}r.pos+=i}return-1}},{key:"makeStream",value:function(e,t){var r=this.lexer,o=r.stream;r.skipToNextLine();var s=o.pos-1,c=e.get("Length");if(Number.isInteger(c)||((0,n.info)('Bad length "'.concat(c,'" in stream')),c=0),o.pos=s+c,r.nextChar(),this.tryShift()&&(0,a.isCmd)(this.buf2,"endstream"))this.shift();else{var u=new Uint8Array([101,110,100,115,116,114,101,97,109]),l=this._findStreamLength(s,u);if(l<0){for(var f=1;f<=1;f++){var h=u.length-f,d=u.slice(0,h),p=this._findStreamLength(s,d);if(p>=0){var g=o.peekBytes(h+1)[h];if(!(0,i.isWhiteSpace)(g))break;(0,n.info)('Found "'.concat((0,n.bytesToString)(d),'" when ')+"searching for endstream command."),l=p;break}}if(l<0)throw new n.FormatError("Missing endstream command.")}c=l,r.nextChar(),this.shift(),this.shift()}return this.shift(),o=o.makeSubStream(s,c,e),t&&(o=t.createStream(o,c)),(o=this.filter(o,e,c)).dict=e,o}},{key:"filter",value:function(e,t,r){var i=t.get("Filter","F"),o=t.get("DecodeParms","DP");if((0,a.isName)(i))return Array.isArray(o)&&(0,n.warn)("/DecodeParms should not contain an Array, when /Filter contains a Name."),this.makeFilter(e,i.name,r,o);var s=r;if(Array.isArray(i))for(var c=i,u=o,l=0,f=c.length;l<f;++l){if(i=this.xref.fetchIfRef(c[l]),!(0,a.isName)(i))throw new n.FormatError('Bad filter name "'.concat(i,'"'));o=null,Array.isArray(u)&&l in u&&(o=this.xref.fetchIfRef(u[l])),e=this.makeFilter(e,i.name,s,o),s=null}return e}},{key:"makeFilter",value:function(e,t,r,a){if(0===r)return(0,n.warn)('Empty "'.concat(t,'" stream.')),new p.NullStream;try{var v=this.xref.stats.streamTypes;if("FlateDecode"===t||"Fl"===t)return v[n.StreamType.FLATE]=!0,a?new g.PredictorStream(new u.FlateStream(e,r),r,a):new u.FlateStream(e,r);if("LZWDecode"===t||"LZW"===t){v[n.StreamType.LZW]=!0;var y=1;return a?(a.has("EarlyChange")&&(y=a.get("EarlyChange")),new g.PredictorStream(new d.LZWStream(e,r,y),r,a)):new d.LZWStream(e,r,y)}return"DCTDecode"===t||"DCT"===t?(v[n.StreamType.DCT]=!0,new f.JpegStream(e,r,a)):"JPXDecode"===t||"JPX"===t?(v[n.StreamType.JPX]=!0,new h.JpxStream(e,r,a)):"ASCII85Decode"===t||"A85"===t?(v[n.StreamType.A85]=!0,new o.Ascii85Stream(e,r)):"ASCIIHexDecode"===t||"AHx"===t?(v[n.StreamType.AHX]=!0,new s.AsciiHexStream(e,r)):"CCITTFaxDecode"===t||"CCF"===t?(v[n.StreamType.CCF]=!0,new c.CCITTFaxStream(e,r,a)):"RunLengthDecode"===t||"RL"===t?(v[n.StreamType.RLX]=!0,new m.RunLengthStream(e,r)):"JBIG2Decode"===t?(v[n.StreamType.JBIG]=!0,new l.Jbig2Stream(e,r,a)):((0,n.warn)('Filter "'.concat(t,'" is not supported.')),e)}catch(e){if(e instanceof i.MissingDataException)throw e;return(0,n.warn)('Invalid stream: "'.concat(e,'"')),new p.NullStream}}}]),e}();t.Parser=k;var S=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function x(e){return e>=48&&e<=57?15&e:e>=65&&e<=70||e>=97&&e<=102?9+(15&e):-1}var A=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v(this,e),this.stream=t,this.nextChar(),this.strBuf=[],this.knownCommands=r,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}return b(e,[{key:"nextChar",value:function(){return this.currentChar=this.stream.getByte()}},{key:"peekChar",value:function(){return this.stream.peekByte()}},{key:"getNumber",value:function(){var e=this.currentChar,t=!1,r=0,a=0;if(45===e?(a=-1,45===(e=this.nextChar())&&(e=this.nextChar())):43===e&&(a=1,e=this.nextChar()),10===e||13===e)do{e=this.nextChar()}while(10===e||13===e);if(46===e&&(r=10,e=this.nextChar()),e<48||e>57){if(10===r&&0===a&&((0,i.isWhiteSpace)(e)||-1===e))return(0,n.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;throw new n.FormatError("Invalid number: ".concat(String.fromCharCode(e)," (charCode ").concat(e,")"))}a=a||1;for(var o=e-48,s=0,c=1;(e=this.nextChar())>=0;)if(e>=48&&e<=57){var u=e-48;t?s=10*s+u:(0!==r&&(r*=10),o=10*o+u)}else if(46===e){if(0!==r)break;r=1}else if(45===e)(0,n.warn)("Badly formatted number: minus sign in the middle");else{if(69!==e&&101!==e)break;if(43===(e=this.peekChar())||45===e)c=45===e?-1:1,this.nextChar();else if(e<48||e>57)break;t=!0}return 0!==r&&(o/=r),t&&(o*=Math.pow(10,c*s)),a*o}},{key:"getString",value:function(){var e=1,t=!1,r=this.strBuf;r.length=0;for(var a=this.nextChar();;){var i=!1;switch(0|a){case-1:(0,n.warn)("Unterminated string"),t=!0;break;case 40:++e,r.push("(");break;case 41:0==--e?(this.nextChar(),t=!0):r.push(")");break;case 92:switch(a=this.nextChar()){case-1:(0,n.warn)("Unterminated string"),t=!0;break;case 110:r.push("\\n");break;case 114:r.push("\\r");break;case 116:r.push("\\t");break;case 98:r.push("\\b");break;case 102:r.push("\\f");break;case 92:case 40:case 41:r.push(String.fromCharCode(a));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:var o=15&a;i=!0,(a=this.nextChar())>=48&&a<=55&&(o=(o<<3)+(15&a),(a=this.nextChar())>=48&&a<=55&&(i=!1,o=(o<<3)+(15&a))),r.push(String.fromCharCode(o));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:r.push(String.fromCharCode(a))}break;default:r.push(String.fromCharCode(a))}if(t)break;i||(a=this.nextChar())}return r.join("")}},{key:"getName",value:function(){var e,t,r=this.strBuf;for(r.length=0;(e=this.nextChar())>=0&&!S[e];)if(35===e){if(e=this.nextChar(),S[e]){(0,n.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),r.push("#");break}var i=x(e);if(-1!==i){t=e;var o=x(e=this.nextChar());if(-1===o){if((0,n.warn)("Lexer_getName: Illegal digit (".concat(String.fromCharCode(e),") ")+"in hexadecimal number."),r.push("#",String.fromCharCode(t)),S[e])break;r.push(String.fromCharCode(e));continue}r.push(String.fromCharCode(i<<4|o))}else r.push("#",String.fromCharCode(e))}else r.push(String.fromCharCode(e));return r.length>127&&(0,n.warn)("Name token is longer than allowed by the spec: ".concat(r.length)),a.Name.get(r.join(""))}},{key:"_hexStringWarn",value:function(e){5!=this._hexStringNumWarn++?this._hexStringNumWarn>5||(0,n.warn)("getHexString - ignoring invalid character: ".concat(e)):(0,n.warn)("getHexString - ignoring additional invalid characters.")}},{key:"getHexString",value:function(){var e=this.strBuf;e.length=0;var t,r,a=this.currentChar,i=!0;for(this._hexStringNumWarn=0;;){if(a<0){(0,n.warn)("Unterminated hex string");break}if(62===a){this.nextChar();break}if(1!==S[a]){if(i){if(-1===(t=x(a))){this._hexStringWarn(a),a=this.nextChar();continue}}else{if(-1===(r=x(a))){this._hexStringWarn(a),a=this.nextChar();continue}e.push(String.fromCharCode(t<<4|r))}i=!i,a=this.nextChar()}else a=this.nextChar()}return e.join("")}},{key:"getObj",value:function(){for(var e=!1,t=this.currentChar;;){if(t<0)return a.EOF;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(1!==S[t])break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),a.Cmd.get("[");case 93:return this.nextChar(),a.Cmd.get("]");case 60:return 60===(t=this.nextChar())?(this.nextChar(),a.Cmd.get("<<")):this.getHexString();case 62:return 62===(t=this.nextChar())?(this.nextChar(),a.Cmd.get(">>")):a.Cmd.get(">");case 123:return this.nextChar(),a.Cmd.get("{");case 125:return this.nextChar(),a.Cmd.get("}");case 41:throw this.nextChar(),new n.FormatError("Illegal character: ".concat(t))}for(var r=String.fromCharCode(t),i=this.knownCommands,o=i&&void 0!==i[r];(t=this.nextChar())>=0&&!S[t];){var s=r+String.fromCharCode(t);if(o&&void 0===i[s])break;if(128===r.length)throw new n.FormatError("Command token too long: ".concat(r.length));r=s,o=i&&void 0!==i[r]}return"true"===r||"false"!==r&&("null"===r?null:("BI"===r&&(this.beginInlineImagePos=this.stream.pos),a.Cmd.get(r)))}},{key:"peekObj",value:function(){var e,t=this.stream.pos,r=this.currentChar,a=this.beginInlineImagePos;try{e=this.getObj()}catch(e){if(e instanceof i.MissingDataException)throw e;(0,n.warn)("peekObj: ".concat(e))}return this.stream.pos=t,this.currentChar=r,this.beginInlineImagePos=a,e}},{key:"skipToNextLine",value:function(){for(var e=this.currentChar;e>=0;){if(13===e){10===(e=this.nextChar())&&this.nextChar();break}if(10===e){this.nextChar();break}e=this.nextChar()}}}]),e}();t.Lexer=A;var O=function(){function e(){v(this,e)}return b(e,null,[{key:"create",value:function(e){function t(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.get(t);if(Number.isInteger(n)&&(r?n>=0:n>0))return n;throw new Error('The "'.concat(t,'" parameter in the linearization ')+"dictionary is invalid.")}var r,i,o=new k({lexer:new A(e),xref:null}),s=o.getObj(),c=o.getObj(),u=o.getObj(),l=o.getObj();if(!(Number.isInteger(s)&&Number.isInteger(c)&&(0,a.isCmd)(u,"obj")&&(0,a.isDict)(l)&&(0,n.isNum)(r=l.get("Linearized"))&&r>0))return null;if((i=t(l,"L"))!==e.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:i,hints:function(e){var t,r=e.get("H");if(Array.isArray(r)&&(2===(t=r.length)||4===t)){for(var n=0;n<t;n++){var a=r[n];if(!(Number.isInteger(a)&&a>0))throw new Error("Hint (".concat(n,") in the linearization dictionary is invalid."))}return r}throw new Error("Hint array in the linearization dictionary is invalid.")}(l),objectNumberFirst:t(l,"O"),endFirst:t(l,"E"),numPages:t(l,"N"),mainXRefEntriesOffset:t(l,"T"),pageFirst:l.has("P")?t(l,"P",!0):0}}}]),e}();t.Linearization=O},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Ascii85Stream=void 0;var a=r(127),i=r(117);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,a=c(u);function u(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t&&(t*=.8),(r=a.call(this,t)).str=e,r.dict=e.dict,r.input=new Uint8Array(5),r}return t=u,(r=[{key:"readBlock",value:function(){for(var e=this.str,t=e.getByte();(0,i.isWhiteSpace)(t);)t=e.getByte();if(-1!==t&&126!==t){var r,n,a=this.bufferLength;if(122===t){for(r=this.ensureBuffer(a+4),n=0;n<4;++n)r[a+n]=0;this.bufferLength+=4}else{var o=this.input;for(o[0]=t,n=1;n<5;++n){for(t=e.getByte();(0,i.isWhiteSpace)(t);)t=e.getByte();if(o[n]=t,-1===t||126===t)break}if(r=this.ensureBuffer(a+n-1),this.bufferLength+=n-1,n<5){for(;n<5;++n)o[n]=117;this.eof=!0}var s=0;for(n=0;n<5;++n)s=85*s+(o[n]-33);for(n=3;n>=0;--n)r[a+n]=255&s,s>>=8}}else this.eof=!0}}])&&o(t.prototype,r),n&&o(t,n),u}(a.DecodeStream);t.Ascii85Stream=f},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.StreamsSequenceStream=t.DecodeStream=void 0;var a=r(114),i=r(118);function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var a=v(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var y=new Uint8Array(0),b=function(e){d(r,e);var t=g(r);function r(e){var n;if(l(this,r),(n=t.call(this))._rawMinBufferLength=e||0,n.pos=0,n.bufferLength=0,n.eof=!1,n.buffer=y,n.minBufferLength=512,e)for(;n.minBufferLength<e;)n.minBufferLength*=2;return n}return h(r,[{key:"isEmpty",get:function(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength}},{key:"ensureBuffer",value:function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var r=this.minBufferLength;r<e;)r*=2;var n=new Uint8Array(r);return n.set(t),this.buffer=n}},{key:"getByte",value:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}},{key:"getBytes",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.pos;if(e){for(this.ensureBuffer(n+e),t=n+e;!this.eof&&this.bufferLength<t;)this.readBlock();var a=this.bufferLength;t>a&&(t=a)}else{for(;!this.eof;)this.readBlock();t=this.bufferLength}this.pos=t;var i=this.buffer.subarray(n,t);return!r||i instanceof Uint8ClampedArray?i:new Uint8ClampedArray(i)}},{key:"reset",value:function(){this.pos=0}},{key:"makeSubStream",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(void 0===t)for(;!this.eof;)this.readBlock();else for(var n=e+t;this.bufferLength<=n&&!this.eof;)this.readBlock();return new i.Stream(this.buffer,e,t,r)}},{key:"getBaseStreams",value:function(){return this.str?this.str.getBaseStreams():null}}]),r}(a.BaseStream);t.DecodeStream=b;var w=function(e){d(r,e);var t=g(r);function r(e){var n;l(this,r);var a,i=0,o=s(e);try{for(o.s();!(a=o.n()).done;){var c=a.value;i+=c instanceof b?c._rawMinBufferLength:c.length}}catch(e){o.e(e)}finally{o.f()}return(n=t.call(this,i)).streams=e,n}return h(r,[{key:"readBlock",value:function(){var e=this.streams;if(0!==e.length){var t=e.shift().getBytes(),r=this.bufferLength,n=r+t.length;this.ensureBuffer(n).set(t,r),this.bufferLength=n}else this.eof=!0}},{key:"getBaseStreams",value:function(){var e,t=[],r=s(this.streams);try{for(r.s();!(e=r.n()).done;){var n=e.value.getBaseStreams();n&&t.push.apply(t,o(n))}}catch(e){r.e(e)}finally{r.f()}return t.length>0?t:null}}]),r}(b);t.StreamsSequenceStream=w},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.AsciiHexStream=void 0;var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,i=c(u);function u(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t&&(t*=.5),(r=i.call(this,t)).str=e,r.dict=e.dict,r.firstDigit=-1,r}return t=u,(r=[{key:"readBlock",value:function(){var e=this.str.getBytes(8e3);if(e.length){var t,r=e.length+1>>1,n=this.ensureBuffer(this.bufferLength+r),i=this.bufferLength,o=this.firstDigit,s=a(e);try{for(s.s();!(t=s.n()).done;){var c=t.value,u=void 0;if(c>=48&&c<=57)u=15&c;else{if(!(c>=65&&c<=70||c>=97&&c<=102)){if(62===c){this.eof=!0;break}continue}u=9+(15&c)}o<0?o=u:(n[i++]=o<<4|u,o=-1)}}catch(e){s.e(e)}finally{s.f()}o>=0&&this.eof&&(n[i++]=o<<4,o=-1),this.firstDigit=o,this.bufferLength=i}else this.eof=!0}}])&&o(t.prototype,r),n&&o(t,n),u}(r(127).DecodeStream);t.AsciiHexStream=f},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CCITTFaxStream=void 0;var a=r(113),i=r(130);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,r,n,u=c(l);function l(e,t,r){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=u.call(this,t)).str=e,n.dict=e.dict,(0,a.isDict)(r)||(r=a.Dict.empty);var o={next:function(){return e.getByte()}};return n.ccittFaxDecoder=new i.CCITTFaxDecoder(o,{K:r.get("K"),EndOfLine:r.get("EndOfLine"),EncodedByteAlign:r.get("EncodedByteAlign"),Columns:r.get("Columns"),Rows:r.get("Rows"),EndOfBlock:r.get("EndOfBlock"),BlackIs1:r.get("BlackIs1")}),n}return t=l,(r=[{key:"readBlock",value:function(){for(;!this.eof;){var e=this.ccittFaxDecoder.readNextChar();if(-1===e)return void(this.eof=!0);this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=e}}}])&&o(t.prototype,r),n&&o(t,n),l}(r(127).DecodeStream);t.CCITTFaxStream=f},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CCITTFaxDecoder=void 0;var n=r(4);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=-1,s=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],c=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],u=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],l=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],f=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],h=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]],d=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(this,e),!t||"function"!=typeof t.next)throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=t,this.eof=!1,this.encoding=r.K||0,this.eoline=r.EndOfLine||!1,this.byteAlign=r.EncodedByteAlign||!1,this.columns=r.Columns||1728,this.rows=r.Rows||0;var n,i=r.EndOfBlock;for(null==i&&(i=!0),this.eoblock=i,this.black=r.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;0===(n=this._lookBits(12));)this._eatBits(1);1===n&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}var t,r,d;return t=e,(r=[{key:"readNextChar",value:function(){if(this.eof)return-1;var e,t,r,a,i,s=this.refLine,c=this.codingLine,u=this.columns;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;var l,f,h;if(this.err=!1,this.nextLine2D){for(a=0;c[a]<u;++a)s[a]=c[a];for(s[a++]=u,s[a]=u,c[0]=0,this.codingPos=0,e=0,t=0;c[this.codingPos]<u;)switch(l=this._getTwoDimCode()){case 0:this._addPixels(s[e+1],t),s[e+1]<u&&(e+=2);break;case 1:if(l=f=0,t){do{l+=h=this._getBlackCode()}while(h>=64);do{f+=h=this._getWhiteCode()}while(h>=64)}else{do{l+=h=this._getWhiteCode()}while(h>=64);do{f+=h=this._getBlackCode()}while(h>=64)}for(this._addPixels(c[this.codingPos]+l,t),c[this.codingPos]<u&&this._addPixels(c[this.codingPos]+f,1^t);s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 7:if(this._addPixels(s[e]+3,t),t^=1,c[this.codingPos]<u)for(++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 5:if(this._addPixels(s[e]+2,t),t^=1,c[this.codingPos]<u)for(++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 3:if(this._addPixels(s[e]+1,t),t^=1,c[this.codingPos]<u)for(++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 2:if(this._addPixels(s[e],t),t^=1,c[this.codingPos]<u)for(++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 8:if(this._addPixelsNeg(s[e]-3,t),t^=1,c[this.codingPos]<u)for(e>0?--e:++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 6:if(this._addPixelsNeg(s[e]-2,t),t^=1,c[this.codingPos]<u)for(e>0?--e:++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 4:if(this._addPixelsNeg(s[e]-1,t),t^=1,c[this.codingPos]<u)for(e>0?--e:++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case o:this._addPixels(u,0),this.eof=!0;break;default:(0,n.info)("bad 2d code"),this._addPixels(u,0),this.err=!0}}else for(c[0]=0,this.codingPos=0,t=0;c[this.codingPos]<u;){if(l=0,t)do{l+=h=this._getBlackCode()}while(h>=64);else do{l+=h=this._getWhiteCode()}while(h>=64);this._addPixels(c[this.codingPos]+l,t),t^=1}var d=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(l=this._lookBits(12),this.eoline)for(;l!==o&&1!==l;)this._eatBits(1),l=this._lookBits(12);else for(;0===l;)this._eatBits(1),l=this._lookBits(12);1===l?(this._eatBits(12),d=!0):l===o&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&d&&this.byteAlign){if(1===(l=this._lookBits(12))){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(a=0;a<4;++a)1!==(l=this._lookBits(12))&&(0,n.info)("bad rtc code: "+l),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if((l=this._lookBits(13))===o)return this.eof=!0,-1;if(l>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&l))}c[0]>0?this.outputBits=c[this.codingPos=0]:this.outputBits=c[this.codingPos=1],this.row++}if(this.outputBits>=8)i=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&c[this.codingPos]<u&&(this.codingPos++,this.outputBits=c[this.codingPos]-c[this.codingPos-1]);else{r=8,i=0;do{this.outputBits>r?(i<<=r,1&this.codingPos||(i|=255>>8-r),this.outputBits-=r,r=0):(i<<=this.outputBits,1&this.codingPos||(i|=255>>8-this.outputBits),r-=this.outputBits,this.outputBits=0,c[this.codingPos]<u?(this.codingPos++,this.outputBits=c[this.codingPos]-c[this.codingPos-1]):r>0&&(i<<=r,r=0))}while(r)}return this.black&&(i^=255),i}},{key:"_addPixels",value:function(e,t){var r=this.codingLine,a=this.codingPos;e>r[a]&&(e>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,e=this.columns),1&a^t&&++a,r[a]=e),this.codingPos=a}},{key:"_addPixelsNeg",value:function(e,t){var r=this.codingLine,a=this.codingPos;if(e>r[a])e>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,e=this.columns),1&a^t&&++a,r[a]=e;else if(e<r[a]){for(e<0&&((0,n.info)("invalid code"),this.err=!0,e=0);a>0&&e<r[a-1];)--a;r[a]=e}this.codingPos=a}},{key:"_findTableCode",value:function(e,t,r,n){for(var a=n||0,i=e;i<=t;++i){var s=this._lookBits(i);if(s===o)return[!0,1,!1];if(i<t&&(s<<=t-i),!a||s>=a){var c=r[s-a];if(c[0]===i)return this._eatBits(i),[!0,c[1],!0]}}return[!1,0,!1]}},{key:"_getTwoDimCode",value:function(){var e,t=0;if(this.eoblock){if(t=this._lookBits(7),(e=s[t])&&e[0]>0)return this._eatBits(e[0]),e[1]}else{var r=this._findTableCode(1,7,s);if(r[0]&&r[2])return r[1]}return(0,n.info)("Bad two dim code"),o}},{key:"_getWhiteCode",value:function(){var e,t=0;if(this.eoblock){if((t=this._lookBits(12))===o)return 1;if((e=t>>5==0?c[t]:u[t>>3])[0]>0)return this._eatBits(e[0]),e[1]}else{var r=this._findTableCode(1,9,u);if(r[0])return r[1];if((r=this._findTableCode(11,12,c))[0])return r[1]}return(0,n.info)("bad white code"),this._eatBits(1),1}},{key:"_getBlackCode",value:function(){var e,t;if(this.eoblock){if((e=this._lookBits(13))===o)return 1;if((t=e>>7==0?l[e]:e>>9==0&&e>>7!=0?f[(e>>1)-64]:h[e>>7])[0]>0)return this._eatBits(t[0]),t[1]}else{var r=this._findTableCode(2,6,h);if(r[0])return r[1];if((r=this._findTableCode(7,12,f,64))[0])return r[1];if((r=this._findTableCode(10,13,l))[0])return r[1]}return(0,n.info)("bad black code"),this._eatBits(1),1}},{key:"_lookBits",value:function(e){for(var t;this.inputBits<e;){if(-1===(t=this.source.next()))return 0===this.inputBits?o:this.inputBuf<<e-this.inputBits&65535>>16-e;this.inputBuf=this.inputBuf<<8|t,this.inputBits+=8}return this.inputBuf>>this.inputBits-e&65535>>16-e}},{key:"_eatBits",value:function(e){(this.inputBits-=e)<0&&(this.inputBits=0)}}])&&i(t.prototype,r),d&&i(t,d),e}();t.CCITTFaxDecoder=d},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.FlateStream=void 0;var a=r(127),i=r(4);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),d=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),p=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],g=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,a=c(u);function u(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=a.call(this,t)).str=e,r.dict=e.dict;var n=e.getByte(),o=e.getByte();if(-1===n||-1===o)throw new i.FormatError("Invalid header in flate stream: ".concat(n,", ").concat(o));if(8!=(15&n))throw new i.FormatError("Unknown compression method in flate stream: ".concat(n,", ").concat(o));if(((n<<8)+o)%31!=0)throw new i.FormatError("Bad FCHECK in flate stream: ".concat(n,", ").concat(o));if(32&o)throw new i.FormatError("FDICT bit set in flate stream: ".concat(n,", ").concat(o));return r.codeSize=0,r.codeBuf=0,r}return t=u,(r=[{key:"getBits",value:function(e){for(var t,r=this.str,n=this.codeSize,a=this.codeBuf;n<e;){if(-1===(t=r.getByte()))throw new i.FormatError("Bad encoding in flate stream");a|=t<<n,n+=8}return t=a&(1<<e)-1,this.codeBuf=a>>e,this.codeSize=n-=e,t}},{key:"getCode",value:function(e){for(var t,r=this.str,n=e[0],a=e[1],o=this.codeSize,s=this.codeBuf;o<a&&-1!==(t=r.getByte());)s|=t<<o,o+=8;var c=n[s&(1<<a)-1],u=c>>16,l=65535&c;if(u<1||o<u)throw new i.FormatError("Bad encoding in flate stream");return this.codeBuf=s>>u,this.codeSize=o-u,l}},{key:"generateHuffmanTable",value:function(e){var t,r=e.length,n=0;for(t=0;t<r;++t)e[t]>n&&(n=e[t]);for(var a=1<<n,i=new Int32Array(a),o=1,s=0,c=2;o<=n;++o,s<<=1,c<<=1)for(var u=0;u<r;++u)if(e[u]===o){var l=0,f=s;for(t=0;t<o;++t)l=l<<1|1&f,f>>=1;for(t=l;t<a;t+=c)i[t]=o<<16|u;++s}return[i,n]}},{key:"readBlock",value:function(){var e,t,r=this.str,n=this.getBits(3);if(1&n&&(this.eof=!0),0!=(n>>=1)){var a,o;if(1===n)a=p,o=g;else{if(2!==n)throw new i.FormatError("Unknown block type in flate stream");var s,c=this.getBits(5)+257,u=this.getBits(5)+1,l=this.getBits(4)+4,m=new Uint8Array(f.length);for(s=0;s<l;++s)m[f[s]]=this.getBits(3);var v=this.generateHuffmanTable(m);t=0,s=0;for(var y,b,w,k=c+u,S=new Uint8Array(k);s<k;){var x=this.getCode(v);if(16===x)y=2,b=3,w=t;else if(17===x)y=3,b=3,w=t=0;else{if(18!==x){S[s++]=t=x;continue}y=7,b=11,w=t=0}for(var A=this.getBits(y)+b;A-- >0;)S[s++]=w}a=this.generateHuffmanTable(S.subarray(0,c)),o=this.generateHuffmanTable(S.subarray(c,k))}for(var O=(e=this.buffer)?e.length:0,C=this.bufferLength;;){var T=this.getCode(a);if(T<256)C+1>=O&&(O=(e=this.ensureBuffer(C+1)).length),e[C++]=T;else{if(256===T)return void(this.bufferLength=C);var F=(T=h[T-=257])>>16;F>0&&(F=this.getBits(F)),t=(65535&T)+F,T=this.getCode(o),(F=(T=d[T])>>16)>0&&(F=this.getBits(F));var P=(65535&T)+F;C+t>=O&&(O=(e=this.ensureBuffer(C+t)).length);for(var _=0;_<t;++_,++C)e[C]=e[C-P]}}}else{var I;if(-1===(I=r.getByte()))throw new i.FormatError("Bad block header in flate stream");var E=I;if(-1===(I=r.getByte()))throw new i.FormatError("Bad block header in flate stream");if(E|=I<<8,-1===(I=r.getByte()))throw new i.FormatError("Bad block header in flate stream");var j=I;if(-1===(I=r.getByte()))throw new i.FormatError("Bad block header in flate stream");if((j|=I<<8)!=(65535&~E)&&(0!==E||0!==j))throw new i.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var R=this.bufferLength,M=R+E;if(e=this.ensureBuffer(M),this.bufferLength=M,0===E)-1===r.peekByte()&&(this.eof=!0);else{var N=r.getBytes(E);e.set(N,R),N.length<E&&(this.eof=!0)}}}}])&&o(t.prototype,r),n&&o(t,n),u}(a.DecodeStream);t.FlateStream=m},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Jbig2Stream=void 0;var a=r(113),i=r(127),o=r(133),s=r(4);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(f,e);var t,r,n,i=l(f);function f(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(n=i.call(this,t)).stream=e,n.dict=e.dict,n.maybeLength=t,n.params=r,n}return t=f,(r=[{key:"bytes",get:function(){return(0,s.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}},{key:"ensureBuffer",value:function(e){}},{key:"readBlock",value:function(){if(!this.eof){var e=new o.Jbig2Image,t=[];if((0,a.isDict)(this.params)){var r=this.params.get("JBIG2Globals");if((0,a.isStream)(r)){var n=r.getBytes();t.push({data:n,start:0,end:n.length})}}t.push({data:this.bytes,start:0,end:this.bytes.length});for(var i=e.parseChunks(t),s=i.length,c=0;c<s;c++)i[c]^=255;this.buffer=i,this.bufferLength=s,this.eof=!0}}}])&&c(t.prototype,r),n&&c(t,n),f}(i.DecodeStream);t.Jbig2Stream=d},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Jbig2Image=void 0;var a=r(4),i=r(117),o=r(134),s=r(130);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var a=p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,e);var t=h(r);function r(e){return l(this,r),t.call(this,"JBIG2 error: ".concat(e))}return r}(a.BaseException),m=function(){function e(){l(this,e)}return u(e,[{key:"getContexts",value:function(e){return e in this?this[e]:this[e]=new Int8Array(65536)}}]),e}(),v=function(){function e(t,r,n){l(this,e),this.data=t,this.start=r,this.end=n}return u(e,[{key:"decoder",get:function(){var e=new o.ArithmeticDecoder(this.data,this.start,this.end);return(0,a.shadow)(this,"decoder",e)}},{key:"contextCache",get:function(){var e=new m;return(0,a.shadow)(this,"contextCache",e)}}]),e}();function y(e,t,r){var n=e.getContexts(t),a=1;function i(e){for(var t=0,i=0;i<e;i++){var o=r.readBit(n,a);a=a<256?a<<1|o:511&(a<<1|o)|256,t=t<<1|o}return t>>>0}var o=i(1),s=i(1)?i(1)?i(1)?i(1)?i(1)?i(32)+4436:i(12)+340:i(8)+84:i(6)+20:i(4)+4:i(2);return 0===o?s:s>0?-s:null}function b(e,t,r){for(var n=e.getContexts("IAID"),a=1,i=0;i<r;i++)a=a<<1|t.readBit(n,a);return r<31?a&(1<<r)-1:2147483647&a}var w=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],k=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],S=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],x=[39717,1941,229,405],A=[32,8];function O(e,t,r,n,a,i,o,s){if(e)return H(new U(s.data,s.start,s.end),t,r,!1);if(0===n&&!i&&!a&&4===o.length&&3===o[0].x&&-1===o[0].y&&-3===o[1].x&&-1===o[1].y&&2===o[2].x&&-2===o[2].y&&-2===o[3].x&&-2===o[3].y)return function(e,t,r){var n,a,i,o,s,c,u,l=r.decoder,f=r.contextCache.getContexts("GB"),h=[];for(a=0;a<t;a++)for(s=h[a]=new Uint8Array(e),c=a<1?s:h[a-1],n=(u=a<2?s:h[a-2])[0]<<13|u[1]<<12|u[2]<<11|c[0]<<7|c[1]<<6|c[2]<<5|c[3]<<4,i=0;i<e;i++)s[i]=o=l.readBit(f,n),n=(31735&n)<<1|(i+3<e?u[i+3]<<11:0)|(i+4<e?c[i+4]<<4:0)|o;return h}(t,r,s);var c=!!i,u=k[n].concat(o);u.sort((function(e,t){return e.y-t.y||e.x-t.x}));var l,f,h=u.length,d=new Int8Array(h),p=new Int8Array(h),g=[],m=0,v=0,y=0,b=0;for(f=0;f<h;f++)d[f]=u[f].x,p[f]=u[f].y,v=Math.min(v,u[f].x),y=Math.max(y,u[f].x),b=Math.min(b,u[f].y),f<h-1&&u[f].y===u[f+1].y&&u[f].x===u[f+1].x-1?m|=1<<h-1-f:g.push(f);var w=g.length,S=new Int8Array(w),A=new Int8Array(w),O=new Uint16Array(w);for(l=0;l<w;l++)f=g[l],S[l]=u[f].x,A[l]=u[f].y,O[l]=1<<h-1-f;for(var C,T,F,P,_,I=-v,E=-b,j=t-y,R=x[n],M=new Uint8Array(t),N=[],B=s.decoder,D=s.contextCache.getContexts("GB"),L=0,q=0,X=0;X<r;X++)if(a&&(L^=B.readBit(D,R)))N.push(M);else for(M=new Uint8Array(M),N.push(M),C=0;C<t;C++)if(c&&i[X][C])M[C]=0;else{if(C>=I&&C<j&&X>=E)for(q=q<<1&m,f=0;f<w;f++)T=X+A[f],F=C+S[f],(P=N[T][F])&&(q|=P=O[f]);else for(q=0,_=h-1,f=0;f<h;f++,_--)(F=C+d[f])>=0&&F<t&&(T=X+p[f])>=0&&(P=N[T][F])&&(q|=P<<_);var $=B.readBit(D,q);M[C]=$}return N}function C(e,t,r,n,a,i,o,s,c){var u=S[r].coding;0===r&&(u=u.concat([s[0]]));var l,f=u.length,h=new Int32Array(f),d=new Int32Array(f);for(l=0;l<f;l++)h[l]=u[l].x,d[l]=u[l].y;var p=S[r].reference;0===r&&(p=p.concat([s[1]]));var m=p.length,v=new Int32Array(m),y=new Int32Array(m);for(l=0;l<m;l++)v[l]=p[l].x,y[l]=p[l].y;for(var b=n[0].length,w=n.length,k=A[r],x=[],O=c.decoder,C=c.contextCache.getContexts("GR"),T=0,F=0;F<t;F++){if(o&&(T^=O.readBit(C,k)))throw new g("prediction is not supported");var P=new Uint8Array(e);x.push(P);for(var _=0;_<e;_++){var I=void 0,E=void 0,j=0;for(l=0;l<f;l++)I=F+d[l],E=_+h[l],I<0||E<0||E>=e?j<<=1:j=j<<1|x[I][E];for(l=0;l<m;l++)I=F+y[l]-i,E=_+v[l]-a,I<0||I>=w||E<0||E>=b?j<<=1:j=j<<1|n[I][E];var R=O.readBit(C,j);P[_]=R}}return x}function T(e,t,r,n,a,i,o,s,c,u,l,f,h,d,p,m,v,w,k){if(e&&t)throw new g("refinement with Huffman is not supported");var S,x,A=[];for(S=0;S<n;S++){if(x=new Uint8Array(r),a)for(var O=0;O<r;O++)x[O]=a;A.push(x)}var T=v.decoder,F=v.contextCache,P=e?-d.tableDeltaT.decode(k):-y(F,"IADT",T),_=0;for(S=0;S<i;){P+=e?d.tableDeltaT.decode(k):y(F,"IADT",T);for(var I=_+=e?d.tableFirstS.decode(k):y(F,"IAFS",T);;){var E=0;o>1&&(E=e?k.readBits(w):y(F,"IAIT",T));var j=o*P+E,R=e?d.symbolIDTable.decode(k):b(F,T,c),M=t&&(e?k.readBit():y(F,"IARI",T)),N=s[R],B=N[0].length,D=N.length;if(M){var L=y(F,"IARDW",T),U=y(F,"IARDH",T);N=C(B+=L,D+=U,p,N,(L>>1)+y(F,"IARDX",T),(U>>1)+y(F,"IARDY",T),!1,m,v)}var q=j-(1&f?0:D-1),X=I-(2&f?B-1:0),H=void 0,$=void 0,z=void 0;if(u){for(H=0;H<D;H++)if(x=A[X+H]){z=N[H];var G=Math.min(r-q,B);switch(h){case 0:for($=0;$<G;$++)x[q+$]|=z[$];break;case 2:for($=0;$<G;$++)x[q+$]^=z[$];break;default:throw new g("operator ".concat(h," is not supported"))}}I+=D-1}else{for($=0;$<D;$++)if(x=A[q+$])switch(z=N[$],h){case 0:for(H=0;H<B;H++)x[X+H]|=z[H];break;case 2:for(H=0;H<B;H++)x[X+H]^=z[H];break;default:throw new g("operator ".concat(h," is not supported"))}I+=B-1}S++;var W=e?d.tableDeltaS.decode(k):y(F,"IADS",T);if(null===W)break;I+=W+l}}return A}function F(e,t){var r={};r.number=(0,i.readUint32)(e,t);var n=e[t+4],a=63&n;if(!w[a])throw new g("invalid segment type: "+a);r.type=a,r.typeName=w[a],r.deferredNonRetain=!!(128&n);var o=!!(64&n),s=e[t+5],c=s>>5&7,u=[31&s],l=t+6;if(7===s){c=536870911&(0,i.readUint32)(e,l-1),l+=3;var f=c+7>>3;for(u[0]=e[l++];--f>0;)u.push(e[l++])}else if(5===s||6===s)throw new g("invalid referred-to flags");r.retainBits=u;var h=4;r.number<=256?h=1:r.number<=65536&&(h=2);var d,p,m=[];for(d=0;d<c;d++){var v=void 0;v=1===h?e[l]:2===h?(0,i.readUint16)(e,l):(0,i.readUint32)(e,l),m.push(v),l+=h}if(r.referredTo=m,o?(r.pageAssociation=(0,i.readUint32)(e,l),l+=4):r.pageAssociation=e[l++],r.length=(0,i.readUint32)(e,l),l+=4,4294967295===r.length){if(38!==a)throw new g("invalid unknown segment length");var y=_(e,l),b=!!(1&e[l+I]),k=new Uint8Array(6);for(b||(k[0]=255,k[1]=172),k[2]=y.height>>>24&255,k[3]=y.height>>16&255,k[4]=y.height>>8&255,k[5]=255&y.height,d=l,p=e.length;d<p;d++){for(var S=0;S<6&&k[S]===e[d+S];)S++;if(6===S){r.length=d+6;break}}if(4294967295===r.length)throw new g("segment end was not found")}return r.headerEnd=l,r}function P(e,t,r,n){for(var a=[],i=r;i<n;){var o=F(t,i);i=o.headerEnd;var s={header:o,data:t};if(e.randomAccess||(s.start=i,i+=o.length,s.end=i),a.push(s),51===o.type)break}if(e.randomAccess)for(var c=0,u=a.length;c<u;c++)a[c].start=i,i+=a[c].header.length,a[c].end=i;return a}function _(e,t){return{width:(0,i.readUint32)(e,t),height:(0,i.readUint32)(e,t+4),x:(0,i.readUint32)(e,t+8),y:(0,i.readUint32)(e,t+12),combinationOperator:7&e[t+16]}}var I=17;function E(e,t){var r,n,a,o,s=e.header,c=e.data,u=e.end,l=e.start;switch(s.type){case 0:var f={},h=(0,i.readUint16)(c,l);if(f.huffman=!!(1&h),f.refinement=!!(2&h),f.huffmanDHSelector=h>>2&3,f.huffmanDWSelector=h>>4&3,f.bitmapSizeSelector=h>>6&1,f.aggregationInstancesSelector=h>>7&1,f.bitmapCodingContextUsed=!!(256&h),f.bitmapCodingContextRetained=!!(512&h),f.template=h>>10&3,f.refinementTemplate=h>>12&1,l+=2,!f.huffman){for(o=0===f.template?4:1,n=[],a=0;a<o;a++)n.push({x:(0,i.readInt8)(c,l),y:(0,i.readInt8)(c,l+1)}),l+=2;f.at=n}if(f.refinement&&!f.refinementTemplate){for(n=[],a=0;a<2;a++)n.push({x:(0,i.readInt8)(c,l),y:(0,i.readInt8)(c,l+1)}),l+=2;f.refinementAt=n}f.numberOfExportedSymbols=(0,i.readUint32)(c,l),l+=4,f.numberOfNewSymbols=(0,i.readUint32)(c,l),l+=4,r=[f,s.number,s.referredTo,c,l,u];break;case 6:case 7:var d={};d.info=_(c,l),l+=I;var p=(0,i.readUint16)(c,l);if(l+=2,d.huffman=!!(1&p),d.refinement=!!(2&p),d.logStripSize=p>>2&3,d.stripSize=1<<d.logStripSize,d.referenceCorner=p>>4&3,d.transposed=!!(64&p),d.combinationOperator=p>>7&3,d.defaultPixelValue=p>>9&1,d.dsOffset=p<<17>>27,d.refinementTemplate=p>>15&1,d.huffman){var m=(0,i.readUint16)(c,l);l+=2,d.huffmanFS=3&m,d.huffmanDS=m>>2&3,d.huffmanDT=m>>4&3,d.huffmanRefinementDW=m>>6&3,d.huffmanRefinementDH=m>>8&3,d.huffmanRefinementDX=m>>10&3,d.huffmanRefinementDY=m>>12&3,d.huffmanRefinementSizeSelector=!!(16384&m)}if(d.refinement&&!d.refinementTemplate){for(n=[],a=0;a<2;a++)n.push({x:(0,i.readInt8)(c,l),y:(0,i.readInt8)(c,l+1)}),l+=2;d.refinementAt=n}d.numberOfSymbolInstances=(0,i.readUint32)(c,l),l+=4,r=[d,s.referredTo,c,l,u];break;case 16:var v={},y=c[l++];v.mmr=!!(1&y),v.template=y>>1&3,v.patternWidth=c[l++],v.patternHeight=c[l++],v.maxPatternIndex=(0,i.readUint32)(c,l),l+=4,r=[v,s.number,c,l,u];break;case 22:case 23:var b={};b.info=_(c,l),l+=I;var w=c[l++];b.mmr=!!(1&w),b.template=w>>1&3,b.enableSkip=!!(8&w),b.combinationOperator=w>>4&7,b.defaultPixelValue=w>>7&1,b.gridWidth=(0,i.readUint32)(c,l),l+=4,b.gridHeight=(0,i.readUint32)(c,l),l+=4,b.gridOffsetX=4294967295&(0,i.readUint32)(c,l),l+=4,b.gridOffsetY=4294967295&(0,i.readUint32)(c,l),l+=4,b.gridVectorX=(0,i.readUint16)(c,l),l+=2,b.gridVectorY=(0,i.readUint16)(c,l),l+=2,r=[b,s.referredTo,c,l,u];break;case 38:case 39:var k={};k.info=_(c,l),l+=I;var S=c[l++];if(k.mmr=!!(1&S),k.template=S>>1&3,k.prediction=!!(8&S),!k.mmr){for(o=0===k.template?4:1,n=[],a=0;a<o;a++)n.push({x:(0,i.readInt8)(c,l),y:(0,i.readInt8)(c,l+1)}),l+=2;k.at=n}r=[k,c,l,u];break;case 48:var x={width:(0,i.readUint32)(c,l),height:(0,i.readUint32)(c,l+4),resolutionX:(0,i.readUint32)(c,l+8),resolutionY:(0,i.readUint32)(c,l+12)};4294967295===x.height&&delete x.height;var A=c[l+16];(0,i.readUint16)(c,l+17),x.lossless=!!(1&A),x.refinement=!!(2&A),x.defaultPixelValue=A>>2&1,x.combinationOperator=A>>3&3,x.requiresBuffer=!!(32&A),x.combinationOperatorOverride=!!(64&A),r=[x];break;case 49:case 50:case 51:case 62:break;case 53:r=[s.number,c,l,u];break;default:throw new g("segment type ".concat(s.typeName,"(").concat(s.type,")")+" is not implemented")}var O="on"+s.typeName;O in t&&t[O].apply(t,r)}function j(e,t){for(var r=0,n=e.length;r<n;r++)E(e[r],t)}var R=function(){function e(){l(this,e)}return u(e,[{key:"onPageInformation",value:function(e){this.currentPageInfo=e;var t=e.width+7>>3,r=new Uint8ClampedArray(t*e.height);if(e.defaultPixelValue)for(var n=0,a=r.length;n<a;n++)r[n]=255;this.buffer=r}},{key:"drawBitmap",value:function(e,t){var r,n,a,i,o=this.currentPageInfo,s=e.width,c=e.height,u=o.width+7>>3,l=o.combinationOperatorOverride?e.combinationOperator:o.combinationOperator,f=this.buffer,h=128>>(7&e.x),d=e.y*u+(e.x>>3);switch(l){case 0:for(r=0;r<c;r++){for(a=h,i=d,n=0;n<s;n++)t[r][n]&&(f[i]|=a),(a>>=1)||(a=128,i++);d+=u}break;case 2:for(r=0;r<c;r++){for(a=h,i=d,n=0;n<s;n++)t[r][n]&&(f[i]^=a),(a>>=1)||(a=128,i++);d+=u}break;default:throw new g("operator ".concat(l," is not supported"))}}},{key:"onImmediateGenericRegion",value:function(e,t,r,n){var a=e.info,i=new v(t,r,n),o=O(e.mmr,a.width,a.height,e.template,e.prediction,null,e.at,i);this.drawBitmap(a,o)}},{key:"onImmediateLosslessGenericRegion",value:function(){this.onImmediateGenericRegion.apply(this,arguments)}},{key:"onSymbolDictionary",value:function(e,t,r,n,a,o){var s,c;e.huffman&&(s=function(e,t,r){var n,a,i,o,s=0;switch(e.huffmanDHSelector){case 0:case 1:n=L(e.huffmanDHSelector+4);break;case 3:n=q(s,t,r),s++;break;default:throw new g("invalid Huffman DH selector")}switch(e.huffmanDWSelector){case 0:case 1:a=L(e.huffmanDWSelector+2);break;case 3:a=q(s,t,r),s++;break;default:throw new g("invalid Huffman DW selector")}return e.bitmapSizeSelector?(i=q(s,t,r),s++):i=L(1),o=e.aggregationInstancesSelector?q(s,t,r):L(1),{tableDeltaHeight:n,tableDeltaWidth:a,tableBitmapSize:i,tableAggregateInstances:o}}(e,r,this.customTables),c=new U(n,a,o));var u=this.symbols;u||(this.symbols=u={});for(var l=[],f=0,h=r.length;f<h;f++){var d=u[r[f]];d&&(l=l.concat(d))}var p=new v(n,a,o);u[t]=function(e,t,r,n,a,o,s,c,u,l,f,h){if(e&&t)throw new g("symbol refinement with Huffman is not supported");var d,p,m=[],v=0,w=(0,i.log2)(r.length+n),k=f.decoder,S=f.contextCache;for(e&&(d=L(1),p=[],w=Math.max(w,1));m.length<n;){v+=e?o.tableDeltaHeight.decode(h):y(S,"IADH",k);for(var x=0,A=0,F=e?p.length:0;;){var P=e?o.tableDeltaWidth.decode(h):y(S,"IADW",k);if(null===P)break;A+=x+=P;var _=void 0;if(t){var I=y(S,"IAAI",k);if(I>1)_=T(e,t,x,v,0,I,1,r.concat(m),w,0,0,1,0,o,u,l,f,0,h);else{var E=b(S,k,w),j=y(S,"IARDX",k),R=y(S,"IARDY",k);_=C(x,v,u,E<r.length?r[E]:m[E-r.length],j,R,!1,l,f)}m.push(_)}else e?p.push(x):(_=O(!1,x,v,s,!1,null,c,f),m.push(_))}if(e&&!t){var M=o.tableBitmapSize.decode(h);h.byteAlign();var N=void 0;if(0===M)N=X(h,A,v);else{var B=h.end,D=h.position+M;h.end=D,N=H(h,A,v,!1),h.end=B,h.position=D}var U=p.length;if(F===U-1)m.push(N);else{var q=void 0,$=void 0,z=0,G=void 0,W=void 0;for(q=F;q<U;q++){for(G=z+p[q],W=[],$=0;$<v;$++)W.push(N[$].subarray(z,G));m.push(W),z=G}}}}for(var V,K,Y=[],J=[],Z=!1,Q=r.length+n;J.length<Q;){for(var ee=e?d.decode(h):y(S,"IAEX",k);ee--;)J.push(Z);Z=!Z}for(V=0,K=r.length;V<K;V++)J[V]&&Y.push(r[V]);for(var te=0;te<n;V++,te++)J[V]&&Y.push(m[te]);return Y}(e.huffman,e.refinement,l,e.numberOfNewSymbols,e.numberOfExportedSymbols,s,e.template,e.at,e.refinementTemplate,e.refinementAt,p,c)}},{key:"onImmediateTextRegion",value:function(e,t,r,n,a){for(var o,s,c=e.info,u=this.symbols,l=[],f=0,h=t.length;f<h;f++){var d=u[t[f]];d&&(l=l.concat(d))}var p=(0,i.log2)(l.length);e.huffman&&(s=new U(r,n,a),o=function(e,t,r,n,a){for(var i=[],o=0;o<=34;o++){var s=a.readBits(4);i.push(new M([o,s,0,0]))}var c=new B(i,!1);i.length=0;for(var u=0;u<n;){var l=c.decode(a);if(l>=32){var f=void 0,h=void 0,d=void 0;switch(l){case 32:if(0===u)throw new g("no previous value in symbol ID table");h=a.readBits(2)+3,f=i[u-1].prefixLength;break;case 33:h=a.readBits(3)+3,f=0;break;case 34:h=a.readBits(7)+11,f=0;break;default:throw new g("invalid code length in symbol ID table")}for(d=0;d<h;d++)i.push(new M([u,f,0,0])),u++}else i.push(new M([u,l,0,0])),u++}a.byteAlign();var p,m,v,y=new B(i,!1),b=0;switch(e.huffmanFS){case 0:case 1:p=L(e.huffmanFS+6);break;case 3:p=q(b,t,r),b++;break;default:throw new g("invalid Huffman FS selector")}switch(e.huffmanDS){case 0:case 1:case 2:m=L(e.huffmanDS+8);break;case 3:m=q(b,t,r),b++;break;default:throw new g("invalid Huffman DS selector")}switch(e.huffmanDT){case 0:case 1:case 2:v=L(e.huffmanDT+11);break;case 3:v=q(b,t,r),b++;break;default:throw new g("invalid Huffman DT selector")}if(e.refinement)throw new g("refinement with Huffman is not supported");return{symbolIDTable:y,tableFirstS:p,tableDeltaS:m,tableDeltaT:v}}(e,t,this.customTables,l.length,s));var m=new v(r,n,a),y=T(e.huffman,e.refinement,c.width,c.height,e.defaultPixelValue,e.numberOfSymbolInstances,e.stripSize,l,p,e.transposed,e.dsOffset,e.referenceCorner,e.combinationOperator,o,e.refinementTemplate,e.refinementAt,m,e.logStripSize,s);this.drawBitmap(c,y)}},{key:"onImmediateLosslessTextRegion",value:function(){this.onImmediateTextRegion.apply(this,arguments)}},{key:"onPatternDictionary",value:function(e,t,r,n,a){var i=this.patterns;i||(this.patterns=i={});var o=new v(r,n,a);i[t]=function(e,t,r,n,a,i){var o=[];e||(o.push({x:-t,y:0}),0===a&&o.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));for(var s=O(e,(n+1)*t,r,a,!1,null,o,i),c=[],u=0;u<=n;u++){for(var l=[],f=t*u,h=f+t,d=0;d<r;d++)l.push(s[d].subarray(f,h));c.push(l)}return c}(e.mmr,e.patternWidth,e.patternHeight,e.maxPatternIndex,e.template,o)}},{key:"onImmediateHalftoneRegion",value:function(e,t,r,n,a){var o=this.patterns[t[0]],s=e.info,c=new v(r,n,a),u=function(e,t,r,n,a,o,s,c,u,l,f,h,d,p,m){if(s)throw new g("skip is not supported");if(0!==c)throw new g('operator "'.concat(c,'" is not supported in halftone region'));var v,y,b,w=[];for(v=0;v<a;v++){if(b=new Uint8Array(n),o)for(y=0;y<n;y++)b[y]=o;w.push(b)}var k=t.length,S=t[0],x=S[0].length,A=S.length,C=(0,i.log2)(k),T=[];e||(T.push({x:r<=1?3:2,y:-1}),0===r&&T.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));var F,P,_,I,E,j,R,M,N,B,D,L=[];for(e&&(F=new U(m.data,m.start,m.end)),v=C-1;v>=0;v--)P=e?H(F,u,l,!0):O(!1,u,l,r,!1,null,T,m),L[v]=P;for(_=0;_<l;_++)for(I=0;I<u;I++){for(E=0,j=0,y=C-1;y>=0;y--)j|=(E=L[y][_][I]^E)<<y;if(R=t[j],N=h+_*d-I*p>>8,(M=f+_*p+I*d>>8)>=0&&M+x<=n&&N>=0&&N+A<=a)for(v=0;v<A;v++)for(D=w[N+v],B=R[v],y=0;y<x;y++)D[M+y]|=B[y];else{var q=void 0,X=void 0;for(v=0;v<A;v++)if(!((X=N+v)<0||X>=a))for(D=w[X],B=R[v],y=0;y<x;y++)(q=M+y)>=0&&q<n&&(D[q]|=B[y])}}return w}(e.mmr,o,e.template,s.width,s.height,e.defaultPixelValue,e.enableSkip,e.combinationOperator,e.gridWidth,e.gridHeight,e.gridOffsetX,e.gridOffsetY,e.gridVectorX,e.gridVectorY,c);this.drawBitmap(s,u)}},{key:"onImmediateLosslessHalftoneRegion",value:function(){this.onImmediateHalftoneRegion.apply(this,arguments)}},{key:"onTables",value:function(e,t,r,n){var a=this.customTables;a||(this.customTables=a={}),a[e]=function(e,t,r){var n,a,o=e[t],s=4294967295&(0,i.readUint32)(e,t+1),c=4294967295&(0,i.readUint32)(e,t+5),u=new U(e,t+9,r),l=1+(o>>1&7),f=1+(o>>4&7),h=[],d=s;do{n=u.readBits(l),a=u.readBits(f),h.push(new M([d,n,a,0])),d+=1<<a}while(d<c);return n=u.readBits(l),h.push(new M([s-1,n,32,0,"lower"])),n=u.readBits(l),h.push(new M([c,n,32,0])),1&o&&(n=u.readBits(l),h.push(new M([n,0]))),new B(h,!1)}(t,r,n)}}]),e}(),M=function e(t){l(this,e),2===t.length?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=t[0],this.rangeLength=0,this.prefixCode=t[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=t[0],this.prefixLength=t[1],this.rangeLength=t[2],this.prefixCode=t[3],this.isLowerRange="lower"===t[4])},N=function(){function e(t){l(this,e),this.children=[],t?(this.isLeaf=!0,this.rangeLength=t.rangeLength,this.rangeLow=t.rangeLow,this.isLowerRange=t.isLowerRange,this.isOOB=t.isOOB):this.isLeaf=!1}return u(e,[{key:"buildTree",value:function(t,r){var n=t.prefixCode>>r&1;if(r<=0)this.children[n]=new e(t);else{var a=this.children[n];a||(this.children[n]=a=new e(null)),a.buildTree(t,r-1)}}},{key:"decodeNode",value:function(e){if(this.isLeaf){if(this.isOOB)return null;var t=e.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-t:t)}var r=this.children[e.readBit()];if(!r)throw new g("invalid Huffman data");return r.decodeNode(e)}}]),e}(),B=function(){function e(t,r){l(this,e),r||this.assignPrefixCodes(t),this.rootNode=new N(null);for(var n=0,a=t.length;n<a;n++){var i=t[n];i.prefixLength>0&&this.rootNode.buildTree(i,i.prefixLength-1)}}return u(e,[{key:"decode",value:function(e){return this.rootNode.decodeNode(e)}},{key:"assignPrefixCodes",value:function(e){for(var t=e.length,r=0,n=0;n<t;n++)r=Math.max(r,e[n].prefixLength);for(var a=new Uint32Array(r+1),i=0;i<t;i++)a[e[i].prefixLength]++;var o,s,c,u=1,l=0;for(a[0]=0;u<=r;){for(o=l=l+a[u-1]<<1,s=0;s<t;)(c=e[s]).prefixLength===u&&(c.prefixCode=o,o++),s++;u++}}}]),e}(),D={};function L(e){var t,r=D[e];if(r)return r;switch(e){case 1:t=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:t=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:t=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:t=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:t=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:t=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:t=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:t=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:t=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:t=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:t=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:t=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:t=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:t=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:t=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new g("standard table B.".concat(e," does not exist"))}for(var n=0,a=t.length;n<a;n++)t[n]=new M(t[n]);return r=new B(t,!0),D[e]=r,r}var U=function(){function e(t,r,n){l(this,e),this.data=t,this.start=r,this.end=n,this.position=r,this.shift=-1,this.currentByte=0}return u(e,[{key:"readBit",value:function(){if(this.shift<0){if(this.position>=this.end)throw new g("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}var e=this.currentByte>>this.shift&1;return this.shift--,e}},{key:"readBits",value:function(e){var t,r=0;for(t=e-1;t>=0;t--)r|=this.readBit()<<t;return r}},{key:"byteAlign",value:function(){this.shift=-1}},{key:"next",value:function(){return this.position>=this.end?-1:this.data[this.position++]}}]),e}();function q(e,t,r){for(var n=0,a=0,i=t.length;a<i;a++){var o=r[t[a]];if(o){if(e===n)return o;n++}}throw new g("can't find custom Huffman table")}function X(e,t,r){for(var n=[],a=0;a<r;a++){var i=new Uint8Array(t);n.push(i);for(var o=0;o<t;o++)i[o]=e.readBit();e.byteAlign()}return n}function H(e,t,r,n){for(var a,i={K:-1,Columns:t,Rows:r,BlackIs1:!0,EndOfBlock:n},o=new s.CCITTFaxDecoder(e,i),c=[],u=!1,l=0;l<r;l++){var f=new Uint8Array(t);c.push(f);for(var h=-1,d=0;d<t;d++)h<0&&(-1===(a=o.readNextChar())&&(a=0,u=!0),h=7),f[d]=a>>h&1,h--}if(n&&!u)for(var p=0;p<5&&-1!==o.readNextChar();p++);return c}var $=function(){function e(){l(this,e)}return u(e,[{key:"parseChunks",value:function(e){return function(e){for(var t=new R,r=0,n=e.length;r<n;r++){var a=e[r];j(P({},a.data,a.start,a.end),t)}return t.buffer}(e)}},{key:"parse",value:function(e){var t=function(e){var t=e.length,r=0;if(151!==e[r]||74!==e[r+1]||66!==e[r+2]||50!==e[r+3]||13!==e[r+4]||10!==e[r+5]||26!==e[r+6]||10!==e[r+7])throw new g("parseJbig2 - invalid header.");var n=Object.create(null);r+=8;var a=e[r++];n.randomAccess=!(1&a),2&a||(n.numberOfPages=(0,i.readUint32)(e,r),r+=4);var o=P(n,e,r,t),s=new R;j(o,s);for(var c=s.currentPageInfo,u=c.width,l=c.height,f=s.buffer,h=new Uint8ClampedArray(u*l),d=0,p=0,m=0;m<l;m++)for(var v=0,y=void 0,b=0;b<u;b++)v||(v=128,y=f[p++]),h[d++]=y&v?0:255,v>>=1;return{imgData:h,width:u,height:l}}(e),r=t.imgData,n=t.width,a=t.height;return this.width=n,this.height=a,r}}]),e}();t.Jbig2Image=$},(e,t)=>{"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ArithmeticDecoder=void 0;var n=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}],a=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.bp=r,this.dataEnd=n,this.chigh=t[r],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}var t,a,i;return t=e,(a=[{key:"byteIn",value:function(){var e=this.data,t=this.bp;255===e[t]?e[t+1]>143?(this.clow+=65280,this.ct=8):(t++,this.clow+=e[t]<<9,this.ct=7,this.bp=t):(t++,this.clow+=t<this.dataEnd?e[t]<<8:65280,this.ct=8,this.bp=t),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}},{key:"readBit",value:function(e,t){var r,a=e[t]>>1,i=1&e[t],o=n[a],s=o.qe,c=this.a-s;if(this.chigh<s)c<s?(c=s,r=i,a=o.nmps):(c=s,r=1^i,1===o.switchFlag&&(i=r),a=o.nlps);else{if(this.chigh-=s,0!=(32768&c))return this.a=c,i;c<s?(r=1^i,1===o.switchFlag&&(i=r),a=o.nlps):(r=i,a=o.nmps)}do{0===this.ct&&this.byteIn(),c<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(0==(32768&c));return this.a=c,e[t]=a<<1|i,r}}])&&r(t.prototype,a),i&&r(t,i),e}();t.ArithmeticDecoder=a},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.JpegStream=void 0;var a=r(127),i=r(113),o=r(136),s=r(4);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(f,e);var t,r,n,a=l(f);function f(e,t,r){var n,i;for(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);-1!==(i=e.getByte());)if(255===i){e.skip(-1);break}return(n=a.call(this,t)).stream=e,n.dict=e.dict,n.maybeLength=t,n.params=r,n}return t=f,(r=[{key:"bytes",get:function(){return(0,s.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}},{key:"ensureBuffer",value:function(e){}},{key:"readBlock",value:function(){if(!this.eof){var e={decodeTransform:void 0,colorTransform:void 0},t=this.dict.getArray("Decode","D");if(this.forceRGB&&Array.isArray(t)){for(var r=this.dict.get("BitsPerComponent")||8,n=t.length,a=new Int32Array(n),s=!1,c=(1<<r)-1,u=0;u<n;u+=2)a[u]=256*(t[u+1]-t[u])|0,a[u+1]=t[u]*c|0,256===a[u]&&0===a[u+1]||(s=!0);s&&(e.decodeTransform=a)}if((0,i.isDict)(this.params)){var l=this.params.get("ColorTransform");Number.isInteger(l)&&(e.colorTransform=l)}var f=new o.JpegImage(e);f.parse(this.bytes);var h=f.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=h,this.bufferLength=h.length,this.eof=!0}}}])&&c(t.prototype,r),n&&c(t,n),f}(a.DecodeStream);t.JpegStream=d},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JpegImage=void 0;var n=r(4),a=r(117);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){c(r,e);var t=l(r);function r(e){return s(this,r),t.call(this,"JPEG error: ".concat(e))}return r}(n.BaseException),p=function(e){c(r,e);var t=l(r);function r(e,n){var a;return s(this,r),(a=t.call(this,e)).scanLines=n,a}return r}(n.BaseException),g=function(e){c(r,e);var t=l(r);function r(){return s(this,r),t.apply(this,arguments)}return r}(n.BaseException),m=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),v=4017,y=799,b=3406,w=2276,k=1567,S=3784,x=5793,A=2896;function O(e,t){for(var r,n,a=0,i=16;i>0&&!e[i-1];)i--;var o,s=[{children:[],index:0}],c=s[0];for(r=0;r<i;r++){for(n=0;n<e[r];n++){for((c=s.pop()).children[c.index]=t[a];c.index>0;)c=s.pop();for(c.index++,s.push(c);s.length<=r;)s.push(o={children:[],index:0}),c.children[c.index]=o.children,c=o;a++}r+1<i&&(s.push(o={children:[],index:0}),c.children[c.index]=o.children,c=o)}return s[0].children}function C(e,t,r){return 64*((e.blocksPerLine+1)*t+r)}function T(e,t,r,i,s,c,u,l,f){var h=arguments.length>9&&void 0!==arguments[9]&&arguments[9],v=r.mcusPerLine,y=r.progressive,b=t,w=0,k=0;function S(){if(k>0)return k--,w>>k&1;if(255===(w=e[t++])){var n=e[t++];if(n){if(220===n&&h){t+=2;var i=(0,a.readUint16)(e,t);if(t+=2,i>0&&i!==r.scanLines)throw new p("Found DNL marker (0xFFDC) while parsing scan data",i)}else if(217===n){if(h){var o=N*(8===r.precision?8:0);if(o>0&&Math.round(r.scanLines/o)>=10)throw new p("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect \`scanLines\` parameter",o)}throw new g("Found EOI marker (0xFFD9) while parsing scan data")}throw new d("unexpected marker ".concat((w<<8|n).toString(16)))}}return k=7,w>>>7}function x(e){for(var t=e;;){switch(o(t=t[S()])){case"number":return t;case"object":continue}throw new d("invalid huffman sequence")}}function A(e){for(var t=0;e>0;)t=t<<1|S(),e--;return t}function O(e){if(1===e)return 1===S()?1:-1;var t=A(e);return t>=1<<e-1?t:t+(-1<<e)+1}function T(e,t){var r=x(e.huffmanTableDC),n=0===r?0:O(r);e.blockData[t]=e.pred+=n;for(var a=1;a<64;){var i=x(e.huffmanTableAC),o=15&i,s=i>>4;if(0!==o){var c=m[a+=s];e.blockData[t+c]=O(o),a++}else{if(s<15)break;a+=16}}}function F(e,t){var r=x(e.huffmanTableDC),n=0===r?0:O(r)<<f;e.blockData[t]=e.pred+=n}function P(e,t){e.blockData[t]|=S()<<f}var I=0;function E(e,t){if(I>0)I--;else for(var r=c,n=u;r<=n;){var a=x(e.huffmanTableAC),i=15&a,o=a>>4;if(0!==i){var s=m[r+=o];e.blockData[t+s]=O(i)*(1<<f),r++}else{if(o<15){I=A(o)+(1<<o)-1;break}r+=16}}}var j,R=0;function M(e,t){for(var r,n,a=c,i=u,o=0;a<=i;){var s=t+m[a],l=e.blockData[s]<0?-1:1;switch(R){case 0:if(o=(n=x(e.huffmanTableAC))>>4,0==(r=15&n))o<15?(I=A(o)+(1<<o),R=4):(o=16,R=1);else{if(1!==r)throw new d("invalid ACn encoding");j=O(r),R=o?2:3}continue;case 1:case 2:e.blockData[s]?e.blockData[s]+=l*(S()<<f):0==--o&&(R=2===R?3:0);break;case 3:e.blockData[s]?e.blockData[s]+=l*(S()<<f):(e.blockData[s]=j<<f,R=0);break;case 4:e.blockData[s]&&(e.blockData[s]+=l*(S()<<f))}a++}4===R&&0==--I&&(R=0)}var N=0;function B(e,t,r,n,a){var i=r%v;N=(r/v|0)*e.v+n;var o=i*e.h+a;t(e,C(e,N,o))}function D(e,t,r){N=r/e.blocksPerLine|0;var n=r%e.blocksPerLine;t(e,C(e,N,n))}var L,U,q,X,H,$,z=i.length;$=y?0===c?0===l?F:P:0===l?E:M:T;var G,W,V,K,Y=0;for(W=1===z?i[0].blocksPerLine*i[0].blocksPerColumn:v*r.mcusPerColumn;Y<=W;){var J=s?Math.min(W-Y,s):W;if(J>0){for(U=0;U<z;U++)i[U].pred=0;if(I=0,1===z)for(L=i[0],H=0;H<J;H++)D(L,$,Y),Y++;else for(H=0;H<J;H++){for(U=0;U<z;U++)for(V=(L=i[U]).h,K=L.v,q=0;q<K;q++)for(X=0;X<V;X++)B(L,$,Y,q,X);Y++}}if(k=0,!(G=_(e,t)))break;if(G.invalid){var Z=J>0?"unexpected":"excessive";(0,n.warn)("decodeScan - ".concat(Z," MCU data, current marker is: ").concat(G.invalid)),t=G.offset}if(!(G.marker>=65488&&G.marker<=65495))break;t+=2}return t-b}function F(e,t,r){var n,a,i,o,s,c,u,l,f,h,p,g,m,O,C,T,F,P=e.quantizationTable,_=e.blockData;if(!P)throw new d("missing required Quantization Table.");for(var I=0;I<64;I+=8)f=_[t+I],h=_[t+I+1],p=_[t+I+2],g=_[t+I+3],m=_[t+I+4],O=_[t+I+5],C=_[t+I+6],T=_[t+I+7],f*=P[I],0!=(h|p|g|m|O|C|T)?(h*=P[I+1],p*=P[I+2],g*=P[I+3],m*=P[I+4],O*=P[I+5],C*=P[I+6],T*=P[I+7],a=(n=(n=x*f+128>>8)+(a=x*m+128>>8)+1>>1)-a,F=(i=p)*S+(o=C)*k+128>>8,i=i*k-o*S+128>>8,u=(s=(s=A*(h-T)+128>>8)+(u=O<<4)+1>>1)-u,c=(l=(l=A*(h+T)+128>>8)+(c=g<<4)+1>>1)-c,o=(n=n+(o=F)+1>>1)-o,i=(a=a+i+1>>1)-i,F=s*w+l*b+2048>>12,s=s*b-l*w+2048>>12,l=F,F=c*y+u*v+2048>>12,c=c*v-u*y+2048>>12,u=F,r[I]=n+l,r[I+7]=n-l,r[I+1]=a+u,r[I+6]=a-u,r[I+2]=i+c,r[I+5]=i-c,r[I+3]=o+s,r[I+4]=o-s):(F=x*f+512>>10,r[I]=F,r[I+1]=F,r[I+2]=F,r[I+3]=F,r[I+4]=F,r[I+5]=F,r[I+6]=F,r[I+7]=F);for(var E=0;E<8;++E)f=r[E],0!=((h=r[E+8])|(p=r[E+16])|(g=r[E+24])|(m=r[E+32])|(O=r[E+40])|(C=r[E+48])|(T=r[E+56]))?(a=(n=4112+((n=x*f+2048>>12)+(a=x*m+2048>>12)+1>>1))-a,F=(i=p)*S+(o=C)*k+2048>>12,i=i*k-o*S+2048>>12,o=F,u=(s=(s=A*(h-T)+2048>>12)+(u=O)+1>>1)-u,c=(l=(l=A*(h+T)+2048>>12)+(c=g)+1>>1)-c,F=s*w+l*b+2048>>12,s=s*b-l*w+2048>>12,l=F,F=c*y+u*v+2048>>12,c=c*v-u*y+2048>>12,(f=(n=n+o+1>>1)+l)<16?f=0:f>=4080?f=255:f>>=4,(h=(a=a+i+1>>1)+(u=F))<16?h=0:h>=4080?h=255:h>>=4,(p=(i=a-i)+c)<16?p=0:p>=4080?p=255:p>>=4,(g=(o=n-o)+s)<16?g=0:g>=4080?g=255:g>>=4,(m=o-s)<16?m=0:m>=4080?m=255:m>>=4,(O=i-c)<16?O=0:O>=4080?O=255:O>>=4,(C=a-u)<16?C=0:C>=4080?C=255:C>>=4,(T=n-l)<16?T=0:T>=4080?T=255:T>>=4,_[t+E]=f,_[t+E+8]=h,_[t+E+16]=p,_[t+E+24]=g,_[t+E+32]=m,_[t+E+40]=O,_[t+E+48]=C,_[t+E+56]=T):(F=(F=x*f+8192>>14)<-2040?0:F>=2024?255:F+2056>>4,_[t+E]=F,_[t+E+8]=F,_[t+E+16]=F,_[t+E+24]=F,_[t+E+32]=F,_[t+E+40]=F,_[t+E+48]=F,_[t+E+56]=F)}function P(e,t){for(var r=t.blocksPerLine,n=t.blocksPerColumn,a=new Int16Array(64),i=0;i<n;i++)for(var o=0;o<r;o++)F(t,C(t,i,o),a);return t.blockData}function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=e.length-1,i=r<t?r:t;if(t>=n)return null;var o=(0,a.readUint16)(e,t);if(o>=65472&&o<=65534)return{invalid:null,marker:o,offset:t};for(var s=(0,a.readUint16)(e,i);!(s>=65472&&s<=65534);){if(++i>=n)return null;s=(0,a.readUint16)(e,i)}return{invalid:o.toString(16),marker:s,offset:i}}var I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.decodeTransform,n=void 0===r?null:r,a=t.colorTransform,i=void 0===a?-1:a;s(this,e),this._decodeTransform=n,this._colorTransform=i}var t,r,o;return t=e,r=[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.dnlScanLines,i=void 0===r?null:r;function o(){var t=(0,a.readUint16)(e,l),r=(l+=2)+t-2,i=_(e,r,l);i&&i.invalid&&((0,n.warn)("readDataBlock - incorrect length, current marker is: "+i.invalid),r=i.offset);var o=e.subarray(l,r);return l+=o.length,o}function s(e){for(var t=Math.ceil(e.samplesPerLine/8/e.maxH),r=Math.ceil(e.scanLines/8/e.maxV),n=0,a=e.components.length;n<a;n++){var i=e.components[n],o=Math.ceil(Math.ceil(e.samplesPerLine/8)*i.h/e.maxH),s=Math.ceil(Math.ceil(e.scanLines/8)*i.v/e.maxV),c=t*i.h,u=r*i.v*64*(c+1);i.blockData=new Int16Array(u),i.blocksPerLine=o,i.blocksPerColumn=s}e.mcusPerLine=t,e.mcusPerColumn=r}var c,u,l=0,f=null,h=null,v=0,y=[],b=[],w=[],k=(0,a.readUint16)(e,l);if(l+=2,65496!==k)throw new d("SOI not found");k=(0,a.readUint16)(e,l),l+=2;e:for(;65497!==k;){var S=void 0,x=void 0,A=void 0;switch(k){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var C=o();65504===k&&74===C[0]&&70===C[1]&&73===C[2]&&70===C[3]&&0===C[4]&&(f={version:{major:C[5],minor:C[6]},densityUnits:C[7],xDensity:C[8]<<8|C[9],yDensity:C[10]<<8|C[11],thumbWidth:C[12],thumbHeight:C[13],thumbData:C.subarray(14,14+3*C[12]*C[13])}),65518===k&&65===C[0]&&100===C[1]&&111===C[2]&&98===C[3]&&101===C[4]&&(h={version:C[5]<<8|C[6],flags0:C[7]<<8|C[8],flags1:C[9]<<8|C[10],transformCode:C[11]});break;case 65499:for(var F=(0,a.readUint16)(e,l),I=F+(l+=2)-2;l<I;){var E=e[l++],j=new Uint16Array(64);if(E>>4==0)for(x=0;x<64;x++)j[m[x]]=e[l++];else{if(E>>4!=1)throw new d("DQT - invalid table spec");for(x=0;x<64;x++)j[m[x]]=(0,a.readUint16)(e,l),l+=2}y[15&E]=j}break;case 65472:case 65473:case 65474:if(c)throw new d("Only single frame JPEGs supported");l+=2,(c={}).extended=65473===k,c.progressive=65474===k,c.precision=e[l++];var R=(0,a.readUint16)(e,l);l+=2,c.scanLines=i||R,c.samplesPerLine=(0,a.readUint16)(e,l),l+=2,c.components=[],c.componentIds={};var M=e[l++],N=0,B=0;for(S=0;S<M;S++){var D=e[l],L=e[l+1]>>4,U=15&e[l+1];N<L&&(N=L),B<U&&(B=U);var q=e[l+2];A=c.components.push({h:L,v:U,quantizationId:q,quantizationTable:null}),c.componentIds[D]=A-1,l+=3}c.maxH=N,c.maxV=B,s(c);break;case 65476:var X=(0,a.readUint16)(e,l);for(l+=2,S=2;S<X;){var H=e[l++],$=new Uint8Array(16),z=0;for(x=0;x<16;x++,l++)z+=$[x]=e[l];var G=new Uint8Array(z);for(x=0;x<z;x++,l++)G[x]=e[l];S+=17+z,(H>>4==0?w:b)[15&H]=O($,G)}break;case 65501:l+=2,u=(0,a.readUint16)(e,l),l+=2;break;case 65498:var W=1==++v&&!i;l+=2;var V=e[l++],K=[];for(S=0;S<V;S++){var Y=e[l++],J=c.componentIds[Y],Z=c.components[J];Z.index=Y;var Q=e[l++];Z.huffmanTableDC=w[Q>>4],Z.huffmanTableAC=b[15&Q],K.push(Z)}var ee=e[l++],te=e[l++],re=e[l++];try{var ne=T(e,l,c,K,u,ee,te,re>>4,15&re,W);l+=ne}catch(t){if(t instanceof p)return(0,n.warn)("".concat(t.message," -- attempting to re-parse the JPEG image.")),this.parse(e,{dnlScanLines:t.scanLines});if(t instanceof g){(0,n.warn)("".concat(t.message," -- ignoring the rest of the image data."));break e}throw t}break;case 65500:l+=4;break;case 65535:255!==e[l]&&l--;break;default:var ae=_(e,l-2,l-3);if(ae&&ae.invalid){(0,n.warn)("JpegImage.parse - unexpected data, current marker is: "+ae.invalid),l=ae.offset;break}if(!ae||l>=e.length-1){(0,n.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new d("JpegImage.parse - unknown marker: "+k.toString(16))}k=(0,a.readUint16)(e,l),l+=2}this.width=c.samplesPerLine,this.height=c.scanLines,this.jfif=f,this.adobe=h,this.components=[];for(var ie=0,oe=c.components.length;ie<oe;ie++){var se=c.components[ie],ce=y[se.quantizationId];ce&&(se.quantizationTable=ce),this.components.push({index:se.index,output:P(0,se),scaleX:se.h/c.maxH,scaleY:se.v/c.maxV,blocksPerLine:se.blocksPerLine,blocksPerColumn:se.blocksPerColumn})}this.numComponents=this.components.length}},{key:"_getLinearizedBlockData",value:function(e,t){var r,n,a,i,o,s,c,u,l,f,h,d,p=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g=this.width/e,m=this.height/t,v=0,y=this.components.length,b=e*t*y,w=new Uint8ClampedArray(b),k=new Uint32Array(e),S=4294967288;for(c=0;c<y;c++){if(n=(r=this.components[c]).scaleX*g,a=r.scaleY*m,v=c,h=r.output,i=r.blocksPerLine+1<<3,n!==d){for(o=0;o<e;o++)u=0|o*n,k[o]=(u&S)<<3|7&u;d=n}for(s=0;s<t;s++)for(f=i*((u=0|s*a)&S)|(7&u)<<3,o=0;o<e;o++)w[v]=h[f+k[o]],v+=y}var x=this._decodeTransform;if(p||4!==y||x||(x=new Int32Array([-256,255,-256,255,-256,255,-256,255])),x)for(c=0;c<b;)for(u=0,l=0;u<y;u++,c++,l+=2)w[c]=(w[c]*x[l]>>8)+x[l+1];return w}},{key:"_isColorConversionNeeded",get:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform&&(82!==this.components[0].index||71!==this.components[1].index||66!==this.components[2].index):1===this._colorTransform}},{key:"_convertYccToRgb",value:function(e){for(var t,r,n,a=0,i=e.length;a<i;a+=3)t=e[a],r=e[a+1],n=e[a+2],e[a]=t-179.456+1.402*n,e[a+1]=t+135.459-.344*r-.714*n,e[a+2]=t-226.816+1.772*r;return e}},{key:"_convertYcckToRgb",value:function(e){for(var t,r,n,a,i=0,o=0,s=e.length;o<s;o+=4)t=e[o],r=e[o+1],n=e[o+2],a=e[o+3],e[i++]=r*(-660635669420364e-19*r+.000437130475926232*n-54080610064599e-18*t+.00048449797120281*a-.154362151871126)-122.67195406894+n*(-.000957964378445773*n+.000817076911346625*t-.00477271405408747*a+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*a+.48357088451265)+a*(-.000336197177618394*a+.484791561490776),e[i++]=107.268039397724+r*(219927104525741e-19*r-.000640992018297945*n+.000659397001245577*t+.000426105652938837*a-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*t+.000770482631801132*a-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*a+.25802910206845)+a*(-.000318913117588328*a-.213742400323665),e[i++]=r*(-.000570115196973677*r-263409051004589e-19*n+.0020741088115012*t-.00288260236853442*a+.814272968359295)-20.810012546947+n*(-153496057440975e-19*n-.000132689043961446*t+.000560833691242812*a-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*a+.116935020465145)+a*(-.000343531996510555*a+.24165260232407);return e.subarray(0,i)}},{key:"_convertYcckToCmyk",value:function(e){for(var t,r,n,a=0,i=e.length;a<i;a+=4)t=e[a],r=e[a+1],n=e[a+2],e[a]=434.456-t-1.402*n,e[a+1]=119.541-t+.344*r+.714*n,e[a+2]=481.816-t-1.772*r;return e}},{key:"_convertCmykToRgb",value:function(e){for(var t,r,n,a,i=0,o=0,s=e.length;o<s;o+=4)t=e[o],r=e[o+1],n=e[o+2],a=e[o+3],e[i++]=255+t*(-6747147073602441e-20*t+.0008379262121013727*r+.0002894718188643294*n+.003264231057537806*a-1.1185611867203937)+r*(26374107616089405e-21*r-8626949158638572e-20*n-.0002748769067499491*a-.02155688794978967)+n*(-3878099212869363e-20*n-.0003267808279485286*a+.0686742238595345)-a*(.0003361971776183937*a+.7430659151342254),e[i++]=255+t*(.00013596372813588848*t+.000924537132573585*r+.00010567359618683593*n+.0004791864687436512*a-.3109689587515875)+r*(-.00023545346108370344*r+.0002702845253534714*n+.0020200308977307156*a-.7488052167015494)+n*(6834815998235662e-20*n+.00015168452363460973*a-.09751927774728933)-a*(.0003189131175883281*a+.7364883807733168),e[i++]=255+t*(13598650411385307e-21*t+.00012423956175490851*r+.0004751985097583589*n-36729317476630422e-22*a-.05562186980264034)+r*(.00016141380598724676*r+.0009692239130725186*n+.0007782692450036253*a-.44015232367526463)+n*(5.068882914068769e-7*n+.0017778369011375071*a-.7591454649749609)-a*(.0003435319965105553*a+.7063770186160144);return e.subarray(0,i)}},{key:"getData",value:function(e){var t=e.width,r=e.height,n=e.forceRGB,a=void 0!==n&&n,i=e.isSourcePDF,o=void 0!==i&&i;if(this.numComponents>4)throw new d("Unsupported color mode");var s=this._getLinearizedBlockData(t,r,o);if(1===this.numComponents&&a){for(var c=s.length,u=new Uint8ClampedArray(3*c),l=0,f=0;f<c;f++){var h=s[f];u[l++]=h,u[l++]=h,u[l++]=h}return u}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb(s);if(4===this.numComponents){if(this._isColorConversionNeeded)return a?this._convertYcckToRgb(s):this._convertYcckToCmyk(s);if(a)return this._convertCmykToRgb(s)}return s}}],r&&i(t.prototype,r),o&&i(t,o),e}();t.JpegImage=I},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.JpxStream=void 0;var a=r(127),i=r(138),o=r(4);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,r,n,a=u(l);function l(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this,t)).stream=e,n.dict=e.dict,n.maybeLength=t,n.params=r,n}return t=l,(r=[{key:"bytes",get:function(){return(0,o.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}},{key:"ensureBuffer",value:function(e){}},{key:"readBlock",value:function(){if(!this.eof){var e=new i.JpxImage;e.parse(this.bytes);var t=e.width,r=e.height,n=e.componentsCount,a=e.tiles.length;if(1===a)this.buffer=e.tiles[0].items;else{for(var o=new Uint8ClampedArray(t*r*n),s=0;s<a;s++)for(var c=e.tiles[s],u=c.width,l=c.height,f=c.left,h=c.top,d=c.items,p=0,g=(t*h+f)*n,m=t*n,v=u*n,y=0;y<l;y++){var b=d.subarray(p,p+v);o.set(b,g),p+=v,g+=m}this.buffer=o}this.bufferLength=this.buffer.length,this.eof=!0}}}])&&s(t.prototype,r),n&&s(t,n),l}(a.DecodeStream);t.JpxStream=h},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.JpxImage=void 0;var a=r(4),i=r(117),o=r(134);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var a=p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var g=function(e){l(r,e);var t=h(r);function r(e){return u(this,r),t.call(this,"JPX error: ".concat(e))}return r}(a.BaseException),m={LL:0,LH:1,HL:1,HH:2},v=function(){function e(){u(this,e),this.failOnCorruptedImage=!1}return c(e,[{key:"parse",value:function(e){if(65359!==(0,i.readUint16)(e,0))for(var t=e.length,r=0;r<t;){var n=8,o=(0,i.readUint32)(e,r),s=(0,i.readUint32)(e,r+4);if(r+=n,1===o&&(o=4294967296*(0,i.readUint32)(e,r)+(0,i.readUint32)(e,r+4),r+=8,n+=8),0===o&&(o=t-r+n),o<n)throw new g("Invalid box field size");var c=o-n,u=!0;switch(s){case 1785737832:u=!1;break;case 1668246642:var l=e[r];if(1===l){var f=(0,i.readUint32)(e,r+3);switch(f){case 16:case 17:case 18:break;default:(0,a.warn)("Unknown colorspace "+f)}}else 2===l&&(0,a.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(e,r,r+c);break;case 1783636e3:218793738!==(0,i.readUint32)(e,r)&&(0,a.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:var h=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);(0,a.warn)("Unsupported header type ".concat(s," (").concat(h,")."))}u&&(r+=c)}else this.parseCodestream(e,0,e.length)}},{key:"parseImageProperties",value:function(e){for(var t=e.getByte();t>=0;)if(65361==(t<<8|(t=e.getByte()))){e.skip(4);var r=e.getInt32()>>>0,n=e.getInt32()>>>0,a=e.getInt32()>>>0,i=e.getInt32()>>>0;e.skip(16);var o=e.getUint16();return this.width=r-a,this.height=n-i,this.componentsCount=o,void(this.bitsPerComponent=8)}throw new g("No size marker found in JPX stream")}},{key:"parseCodestream",value:function(e,t,r){var n={},o=!1;try{for(var s=t;s+1<r;){var c=(0,i.readUint16)(e,s);s+=2;var u=0,l=void 0,f=void 0,h=void 0,d=void 0,p=void 0,m=void 0;switch(c){case 65359:n.mainHeader=!0;break;case 65497:break;case 65361:u=(0,i.readUint16)(e,s);var v={};v.Xsiz=(0,i.readUint32)(e,s+4),v.Ysiz=(0,i.readUint32)(e,s+8),v.XOsiz=(0,i.readUint32)(e,s+12),v.YOsiz=(0,i.readUint32)(e,s+16),v.XTsiz=(0,i.readUint32)(e,s+20),v.YTsiz=(0,i.readUint32)(e,s+24),v.XTOsiz=(0,i.readUint32)(e,s+28),v.YTOsiz=(0,i.readUint32)(e,s+32);var w=(0,i.readUint16)(e,s+36);v.Csiz=w;var k=[];l=s+38;for(var S=0;S<w;S++){var x={precision:1+(127&e[l]),isSigned:!!(128&e[l]),XRsiz:e[l+1],YRsiz:e[l+2]};l+=3,y(x,v),k.push(x)}n.SIZ=v,n.components=k,b(n,k),n.QCC=[],n.COC=[];break;case 65372:u=(0,i.readUint16)(e,s);var A={};switch(l=s+2,31&(f=e[l++])){case 0:d=8,p=!0;break;case 1:d=16,p=!1;break;case 2:d=16,p=!0;break;default:throw new Error("Invalid SQcd value "+f)}for(A.noQuantization=8===d,A.scalarExpounded=p,A.guardBits=f>>5,h=[];l<u+s;){var O={};8===d?(O.epsilon=e[l++]>>3,O.mu=0):(O.epsilon=e[l]>>3,O.mu=(7&e[l])<<8|e[l+1],l+=2),h.push(O)}A.SPqcds=h,n.mainHeader?n.QCD=A:(n.currentTile.QCD=A,n.currentTile.QCC=[]);break;case 65373:u=(0,i.readUint16)(e,s);var C={};l=s+2;var T=void 0;switch(n.SIZ.Csiz<257?T=e[l++]:(T=(0,i.readUint16)(e,l),l+=2),31&(f=e[l++])){case 0:d=8,p=!0;break;case 1:d=16,p=!1;break;case 2:d=16,p=!0;break;default:throw new Error("Invalid SQcd value "+f)}for(C.noQuantization=8===d,C.scalarExpounded=p,C.guardBits=f>>5,h=[];l<u+s;){var F={};8===d?(F.epsilon=e[l++]>>3,F.mu=0):(F.epsilon=e[l]>>3,F.mu=(7&e[l])<<8|e[l+1],l+=2),h.push(F)}C.SPqcds=h,n.mainHeader?n.QCC[T]=C:n.currentTile.QCC[T]=C;break;case 65362:u=(0,i.readUint16)(e,s);var P={};l=s+2;var _=e[l++];P.entropyCoderWithCustomPrecincts=!!(1&_),P.sopMarkerUsed=!!(2&_),P.ephMarkerUsed=!!(4&_),P.progressionOrder=e[l++],P.layersCount=(0,i.readUint16)(e,l),l+=2,P.multipleComponentTransform=e[l++],P.decompositionLevelsCount=e[l++],P.xcb=2+(15&e[l++]),P.ycb=2+(15&e[l++]);var j=e[l++];if(P.selectiveArithmeticCodingBypass=!!(1&j),P.resetContextProbabilities=!!(2&j),P.terminationOnEachCodingPass=!!(4&j),P.verticallyStripe=!!(8&j),P.predictableTermination=!!(16&j),P.segmentationSymbolUsed=!!(32&j),P.reversibleTransformation=e[l++],P.entropyCoderWithCustomPrecincts){for(var N=[];l<u+s;){var B=e[l++];N.push({PPx:15&B,PPy:B>>4})}P.precinctsSizes=N}var D=[];P.selectiveArithmeticCodingBypass&&D.push("selectiveArithmeticCodingBypass"),P.resetContextProbabilities&&D.push("resetContextProbabilities"),P.terminationOnEachCodingPass&&D.push("terminationOnEachCodingPass"),P.verticallyStripe&&D.push("verticallyStripe"),P.predictableTermination&&D.push("predictableTermination"),D.length>0&&(o=!0,(0,a.warn)("JPX: Unsupported COD options (".concat(D.join(", "),")."))),n.mainHeader?n.COD=P:(n.currentTile.COD=P,n.currentTile.COC=[]);break;case 65424:u=(0,i.readUint16)(e,s),(m={}).index=(0,i.readUint16)(e,s+2),m.length=(0,i.readUint32)(e,s+4),m.dataEnd=m.length+s-2,m.partIndex=e[s+8],m.partsCount=e[s+9],n.mainHeader=!1,0===m.partIndex&&(m.COD=n.COD,m.COC=n.COC.slice(0),m.QCD=n.QCD,m.QCC=n.QCC.slice(0)),n.currentTile=m;break;case 65427:0===(m=n.currentTile).partIndex&&(M(n,m.index),I(n)),E(n,e,s,u=m.dataEnd-s);break;case 65363:(0,a.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:u=(0,i.readUint16)(e,s);break;default:throw new Error("Unknown codestream code: "+c.toString(16))}s+=u}}catch(e){if(o||this.failOnCorruptedImage)throw new g(e.message);(0,a.warn)('JPX: Trying to recover from: "'.concat(e.message,'".'))}this.tiles=function(e){for(var t=e.SIZ,r=e.components,n=t.Csiz,a=[],i=0,o=e.tiles.length;i<o;i++){for(var s=e.tiles[i],c=[],u=0;u<n;u++)c[u]=R(e,s,u);var l=c[0],f=new Uint8ClampedArray(l.items.length*n),h={left:l.left,top:l.top,width:l.width,height:l.height,items:f},d=void 0,p=void 0,g=0,m=void 0,v=void 0,y=void 0,b=void 0,w=void 0;if(s.codingStyleDefaultParameters.multipleComponentTransform){var k=4===n,S=c[0].items,x=c[1].items,A=c[2].items,O=k?c[3].items:null;p=.5+(128<<(d=r[0].precision-8));var C=s.components[0],T=n-3;if(v=S.length,C.codingStyleParameters.reversibleTransformation)for(m=0;m<v;m++,g+=T){y=S[m]+p,b=x[m];var F=y-((w=A[m])+b>>2);f[g++]=F+w>>d,f[g++]=F>>d,f[g++]=F+b>>d}else for(m=0;m<v;m++,g+=T)y=S[m]+p,b=x[m],w=A[m],f[g++]=y+1.402*w>>d,f[g++]=y-.34413*b-.71414*w>>d,f[g++]=y+1.772*b>>d;if(k)for(m=0,g=3;m<v;m++,g+=4)f[g]=O[m]+p>>d}else for(var P=0;P<n;P++){var _=c[P].items;for(p=.5+(128<<(d=r[P].precision-8)),g=P,m=0,v=_.length;m<v;m++)f[g]=_[m]+p>>d,g+=n}a.push(h)}return a}(n),this.width=n.SIZ.Xsiz-n.SIZ.XOsiz,this.height=n.SIZ.Ysiz-n.SIZ.YOsiz,this.componentsCount=n.SIZ.Csiz}}]),e}();function y(e,t){e.x0=Math.ceil(t.XOsiz/e.XRsiz),e.x1=Math.ceil(t.Xsiz/e.XRsiz),e.y0=Math.ceil(t.YOsiz/e.YRsiz),e.y1=Math.ceil(t.Ysiz/e.YRsiz),e.width=e.x1-e.x0,e.height=e.y1-e.y0}function b(e,t){for(var r,n=e.SIZ,a=[],i=Math.ceil((n.Xsiz-n.XTOsiz)/n.XTsiz),o=Math.ceil((n.Ysiz-n.YTOsiz)/n.YTsiz),s=0;s<o;s++)for(var c=0;c<i;c++)(r={}).tx0=Math.max(n.XTOsiz+c*n.XTsiz,n.XOsiz),r.ty0=Math.max(n.YTOsiz+s*n.YTsiz,n.YOsiz),r.tx1=Math.min(n.XTOsiz+(c+1)*n.XTsiz,n.Xsiz),r.ty1=Math.min(n.YTOsiz+(s+1)*n.YTsiz,n.Ysiz),r.width=r.tx1-r.tx0,r.height=r.ty1-r.ty0,r.components=[],a.push(r);e.tiles=a;for(var u=0,l=n.Csiz;u<l;u++)for(var f=t[u],h=0,d=a.length;h<d;h++){var p={};r=a[h],p.tcx0=Math.ceil(r.tx0/f.XRsiz),p.tcy0=Math.ceil(r.ty0/f.YRsiz),p.tcx1=Math.ceil(r.tx1/f.XRsiz),p.tcy1=Math.ceil(r.ty1/f.YRsiz),p.width=p.tcx1-p.tcx0,p.height=p.tcy1-p.tcy0,r.components[u]=p}}function w(e,t,r){var n=t.codingStyleParameters,a={};return n.entropyCoderWithCustomPrecincts?(a.PPx=n.precinctsSizes[r].PPx,a.PPy=n.precinctsSizes[r].PPy):(a.PPx=15,a.PPy=15),a.xcb_=r>0?Math.min(n.xcb,a.PPx-1):Math.min(n.xcb,a.PPx),a.ycb_=r>0?Math.min(n.ycb,a.PPy-1):Math.min(n.ycb,a.PPy),a}function k(e,t,r){var n=1<<r.PPx,a=1<<r.PPy,i=0===t.resLevel,o=1<<r.PPx+(i?0:-1),s=1<<r.PPy+(i?0:-1),c=t.trx1>t.trx0?Math.ceil(t.trx1/n)-Math.floor(t.trx0/n):0,u=t.try1>t.try0?Math.ceil(t.try1/a)-Math.floor(t.try0/a):0,l=c*u;t.precinctParameters={precinctWidth:n,precinctHeight:a,numprecinctswide:c,numprecinctshigh:u,numprecincts:l,precinctWidthInSubband:o,precinctHeightInSubband:s}}function S(e,t,r){var n,a,i,o,s=r.xcb_,c=r.ycb_,u=1<<s,l=1<<c,f=t.tbx0>>s,h=t.tby0>>c,d=t.tbx1+u-1>>s,p=t.tby1+l-1>>c,g=t.resolution.precinctParameters,m=[],v=[];for(a=h;a<p;a++)for(n=f;n<d;n++)if((i={cbx:n,cby:a,tbx0:u*n,tby0:l*a,tbx1:u*(n+1),tby1:l*(a+1)}).tbx0_=Math.max(t.tbx0,i.tbx0),i.tby0_=Math.max(t.tby0,i.tby0),i.tbx1_=Math.min(t.tbx1,i.tbx1),i.tby1_=Math.min(t.tby1,i.tby1),o=Math.floor((i.tbx0_-t.tbx0)/g.precinctWidthInSubband)+Math.floor((i.tby0_-t.tby0)/g.precinctHeightInSubband)*g.numprecinctswide,i.precinctNumber=o,i.subbandType=t.type,i.Lblock=3,!(i.tbx1_<=i.tbx0_||i.tby1_<=i.tby0_)){m.push(i);var y=v[o];void 0!==y?(n<y.cbxMin?y.cbxMin=n:n>y.cbxMax&&(y.cbxMax=n),a<y.cbyMin?y.cbxMin=a:a>y.cbyMax&&(y.cbyMax=a)):v[o]=y={cbxMin:n,cbyMin:a,cbxMax:n,cbyMax:a},i.precinct=y}t.codeblockParameters={codeblockWidth:s,codeblockHeight:c,numcodeblockwide:d-f+1,numcodeblockhigh:p-h+1},t.codeblocks=m,t.precincts=v}function x(e,t,r){for(var n=[],a=e.subbands,i=0,o=a.length;i<o;i++)for(var s=a[i].codeblocks,c=0,u=s.length;c<u;c++){var l=s[c];l.precinctNumber===t&&n.push(l)}return{layerNumber:r,codeblocks:n}}function A(e){for(var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],a=n.codingStyleDefaultParameters.layersCount,i=t.Csiz,o=0,s=0;s<i;s++)o=Math.max(o,n.components[s].codingStyleParameters.decompositionLevelsCount);var c=0,u=0,l=0,f=0;this.nextPacket=function(){for(;c<a;c++){for(;u<=o;u++){for(;l<i;l++){var e=n.components[l];if(!(u>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[u],r=t.precinctParameters.numprecincts;f<r;){var s=x(t,f,c);return f++,s}f=0}}l=0}u=0}throw new g("Out of packets")}}function O(e){for(var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],a=n.codingStyleDefaultParameters.layersCount,i=t.Csiz,o=0,s=0;s<i;s++)o=Math.max(o,n.components[s].codingStyleParameters.decompositionLevelsCount);var c=0,u=0,l=0,f=0;this.nextPacket=function(){for(;c<=o;c++){for(;u<a;u++){for(;l<i;l++){var e=n.components[l];if(!(c>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[c],r=t.precinctParameters.numprecincts;f<r;){var s=x(t,f,u);return f++,s}f=0}}l=0}u=0}throw new g("Out of packets")}}function C(e){var t,r,n,a,i=e.SIZ,o=e.currentTile.index,s=e.tiles[o],c=s.codingStyleDefaultParameters.layersCount,u=i.Csiz,l=0;for(n=0;n<u;n++){var f=s.components[n];l=Math.max(l,f.codingStyleParameters.decompositionLevelsCount)}var h=new Int32Array(l+1);for(r=0;r<=l;++r){var d=0;for(n=0;n<u;++n){var p=s.components[n].resolutions;r<p.length&&(d=Math.max(d,p[r].precinctParameters.numprecincts))}h[r]=d}t=0,r=0,n=0,a=0,this.nextPacket=function(){for(;r<=l;r++){for(;a<h[r];a++){for(;n<u;n++){var e=s.components[n];if(!(r>e.codingStyleParameters.decompositionLevelsCount)){var i=e.resolutions[r],o=i.precinctParameters.numprecincts;if(!(a>=o)){for(;t<c;){var f=x(i,a,t);return t++,f}t=0}}}n=0}a=0}throw new g("Out of packets")}}function T(e){var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],a=n.codingStyleDefaultParameters.layersCount,i=t.Csiz,o=_(n),s=o,c=0,u=0,l=0,f=0,h=0;this.nextPacket=function(){for(;h<s.maxNumHigh;h++){for(;f<s.maxNumWide;f++){for(;l<i;l++){for(var e=n.components[l],t=e.codingStyleParameters.decompositionLevelsCount;u<=t;u++){var r=e.resolutions[u],d=o.components[l].resolutions[u],p=P(f,h,d,s,r);if(null!==p){for(;c<a;){var m=x(r,p,c);return c++,m}c=0}}u=0}l=0}f=0}throw new g("Out of packets")}}function F(e){var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],a=n.codingStyleDefaultParameters.layersCount,i=t.Csiz,o=_(n),s=0,c=0,u=0,l=0,f=0;this.nextPacket=function(){for(;u<i;++u){for(var e=n.components[u],t=o.components[u],r=e.codingStyleParameters.decompositionLevelsCount;f<t.maxNumHigh;f++){for(;l<t.maxNumWide;l++){for(;c<=r;c++){var h=e.resolutions[c],d=t.resolutions[c],p=P(l,f,d,t,h);if(null!==p){for(;s<a;){var m=x(h,p,s);return s++,m}s=0}}c=0}l=0}f=0}throw new g("Out of packets")}}function P(e,t,r,n,a){var i=e*n.minWidth,o=t*n.minHeight;if(i%r.width!=0||o%r.height!=0)return null;var s=o/r.width*a.precinctParameters.numprecinctswide;return i/r.height+s}function _(e){for(var t=e.components.length,r=Number.MAX_VALUE,n=Number.MAX_VALUE,a=0,i=0,o=new Array(t),s=0;s<t;s++){for(var c=e.components[s],u=c.codingStyleParameters.decompositionLevelsCount,l=new Array(u+1),f=Number.MAX_VALUE,h=Number.MAX_VALUE,d=0,p=0,g=1,m=u;m>=0;--m){var v=c.resolutions[m],y=g*v.precinctParameters.precinctWidth,b=g*v.precinctParameters.precinctHeight;f=Math.min(f,y),h=Math.min(h,b),d=Math.max(d,v.precinctParameters.numprecinctswide),p=Math.max(p,v.precinctParameters.numprecinctshigh),l[m]={width:y,height:b},g<<=1}r=Math.min(r,f),n=Math.min(n,h),a=Math.max(a,d),i=Math.max(i,p),o[s]={resolutions:l,minWidth:f,minHeight:h,maxNumWide:d,maxNumHigh:p}}return{components:o,minWidth:r,minHeight:n,maxNumWide:a,maxNumHigh:i}}function I(e){for(var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],a=t.Csiz,i=0;i<a;i++){for(var o=n.components[i],s=o.codingStyleParameters.decompositionLevelsCount,c=[],u=[],l=0;l<=s;l++){var f=w(0,o,l),h={},d=1<<s-l;h.trx0=Math.ceil(o.tcx0/d),h.try0=Math.ceil(o.tcy0/d),h.trx1=Math.ceil(o.tcx1/d),h.try1=Math.ceil(o.tcy1/d),h.resLevel=l,k(0,h,f),c.push(h);var p=void 0;if(0===l)(p={}).type="LL",p.tbx0=Math.ceil(o.tcx0/d),p.tby0=Math.ceil(o.tcy0/d),p.tbx1=Math.ceil(o.tcx1/d),p.tby1=Math.ceil(o.tcy1/d),p.resolution=h,S(0,p,f),u.push(p),h.subbands=[p];else{var m=1<<s-l+1,v=[];(p={}).type="HL",p.tbx0=Math.ceil(o.tcx0/m-.5),p.tby0=Math.ceil(o.tcy0/m),p.tbx1=Math.ceil(o.tcx1/m-.5),p.tby1=Math.ceil(o.tcy1/m),p.resolution=h,S(0,p,f),u.push(p),v.push(p),(p={}).type="LH",p.tbx0=Math.ceil(o.tcx0/m),p.tby0=Math.ceil(o.tcy0/m-.5),p.tbx1=Math.ceil(o.tcx1/m),p.tby1=Math.ceil(o.tcy1/m-.5),p.resolution=h,S(0,p,f),u.push(p),v.push(p),(p={}).type="HH",p.tbx0=Math.ceil(o.tcx0/m-.5),p.tby0=Math.ceil(o.tcy0/m-.5),p.tbx1=Math.ceil(o.tcx1/m-.5),p.tby1=Math.ceil(o.tcy1/m-.5),p.resolution=h,S(0,p,f),u.push(p),v.push(p),h.subbands=v}}o.resolutions=c,o.subbands=u}var y=n.codingStyleDefaultParameters.progressionOrder;switch(y){case 0:n.packetsIterator=new A(e);break;case 1:n.packetsIterator=new O(e);break;case 2:n.packetsIterator=new C(e);break;case 3:n.packetsIterator=new T(e);break;case 4:n.packetsIterator=new F(e);break;default:throw new g("Unsupported progression order ".concat(y))}}function E(e,t,r,n){var a,o=0,s=0,c=!1;function u(e){for(;s<e;){var n=t[r+o];o++,c?(a=a<<7|n,s+=7,c=!1):(a=a<<8|n,s+=8),255===n&&(c=!0)}return a>>>(s-=e)&(1<<e)-1}function l(e){return 255===t[r+o-1]&&t[r+o]===e?(f(1),!0):255===t[r+o]&&t[r+o+1]===e&&(f(2),!0)}function f(e){o+=e}function h(){s=0,c&&(o++,c=!1)}function d(){if(0===u(1))return 1;if(0===u(1))return 2;var e=u(2);return e<3?e+3:(e=u(5))<31?e+6:(e=u(7))+37}for(var p=e.currentTile.index,g=e.tiles[p],m=e.COD.sopMarkerUsed,v=e.COD.ephMarkerUsed,y=g.packetsIterator;o<n;){h(),m&&l(145)&&f(4);var b=y.nextPacket();if(u(1)){for(var w=b.layerNumber,k=[],S=void 0,x=0,A=b.codeblocks.length;x<A;x++){var O=(S=b.codeblocks[x]).precinct,C=S.cbx-O.cbxMin,T=S.cby-O.cbyMin,F=!1,P=!1,_=void 0;if(void 0!==S.included)F=!!u(1);else{var I=void 0;if(void 0!==(O=S.precinct).inclusionTree)I=O.inclusionTree;else{var E=O.cbxMax-O.cbxMin+1,j=O.cbyMax-O.cbyMin+1;I=new q(E,j,w),_=new U(E,j),O.inclusionTree=I,O.zeroBitPlanesTree=_}if(I.reset(C,T,w))for(;;){if(!u(1)){I.incrementValue(w);break}if(!I.nextLevel()){S.included=!0,F=P=!0;break}}}if(F){if(P){for((_=O.zeroBitPlanesTree).reset(C,T);;)if(u(1)){if(!_.nextLevel())break}else _.incrementValue();S.zeroBitPlanes=_.value}for(var R=d();u(1);)S.Lblock++;var M=(0,i.log2)(R),N=u((R<1<<M?M-1:M)+S.Lblock);k.push({codeblock:S,codingpasses:R,dataLength:N})}}for(h(),v&&l(146);k.length>0;){var B=k.shift();void 0===(S=B.codeblock).data&&(S.data=[]),S.data.push({data:t,start:r+o,end:r+o+B.dataLength,codingpasses:B.codingpasses}),o+=B.dataLength}}}return o}function j(e,t,r,n,a,i,s,c){for(var u=n.tbx0,l=n.tby0,f=n.tbx1-n.tbx0,h=n.codeblocks,d="H"===n.type.charAt(0)?1:0,p="H"===n.type.charAt(1)?t:0,g=0,m=h.length;g<m;++g){var v=h[g],y=v.tbx1_-v.tbx0_,b=v.tby1_-v.tby0_;if(0!==y&&0!==b&&void 0!==v.data){var w=new X(y,b,v.subbandType,v.zeroBitPlanes,i),k=2,S=v.data,x=0,A=0,O=void 0,C=void 0,T=void 0;for(O=0,C=S.length;O<C;O++)x+=(T=S[O]).end-T.start,A+=T.codingpasses;var F=new Uint8Array(x),P=0;for(O=0,C=S.length;O<C;O++){var _=(T=S[O]).data.subarray(T.start,T.end);F.set(_,P),P+=_.length}var I=new o.ArithmeticDecoder(F,0,x);for(w.setDecoder(I),O=0;O<A;O++){switch(k){case 0:w.runSignificancePropagationPass();break;case 1:w.runMagnitudeRefinementPass();break;case 2:w.runCleanupPass(),c&&w.checkSegmentationSymbol()}k=(k+1)%3}var E=v.tbx0_-u+(v.tby0_-l)*f,j=w.coefficentsSign,R=w.coefficentsMagnitude,M=w.bitsDecoded,N=s?0:.5,B=void 0,D=void 0,L=void 0;P=0;var U="LL"!==n.type;for(O=0;O<b;O++){var q=2*(E/f|0)*(t-f)+d+p;for(B=0;B<y;B++){if(0!==(D=R[P])){D=(D+N)*a,0!==j[P]&&(D=-D),L=M[P];var H=U?q+(E<<1):E;e[H]=s&&L>=i?D:D*(1<<i-L)}E++,P++}E+=f-y}}}}function R(e,t,r){for(var n=t.components[r],a=n.codingStyleParameters,i=n.quantizationParameters,o=a.decompositionLevelsCount,s=i.SPqcds,c=i.scalarExpounded,u=i.guardBits,l=a.segmentationSymbolUsed,f=e.components[r].precision,h=a.reversibleTransformation,d=h?new z:new $,p=[],g=0,v=0;v<=o;v++){for(var y=n.resolutions[v],b=y.trx1-y.trx0,w=y.try1-y.try0,k=new Float32Array(b*w),S=0,x=y.subbands.length;S<x;S++){var A=void 0,O=void 0;c?(A=s[g].mu,O=s[g].epsilon,g++):(A=s[0].mu,O=s[0].epsilon+(v>0?1-v:0));var C=y.subbands[S],T=m[C.type];j(k,b,0,C,h?1:Math.pow(2,f+T-O)*(1+A/2048),u+O-1,h,l)}p.push({width:b,height:w,items:k})}var F=d.calculate(p,n.tcx0,n.tcy0);return{left:n.tcx0,top:n.tcy0,width:F.width,height:F.height,items:F.items}}function M(e,t){for(var r=e.SIZ.Csiz,n=e.tiles[t],a=0;a<r;a++){var i=n.components[a],o=void 0!==e.currentTile.QCC[a]?e.currentTile.QCC[a]:e.currentTile.QCD;i.quantizationParameters=o;var s=void 0!==e.currentTile.COC[a]?e.currentTile.COC[a]:e.currentTile.COD;i.codingStyleParameters=s}n.codingStyleDefaultParameters=e.currentTile.COD}t.JpxImage=v;var N,B,D,L,U=function(){function e(t,r){u(this,e);var n=(0,i.log2)(Math.max(t,r))+1;this.levels=[];for(var a=0;a<n;a++){var o={width:t,height:r,items:[]};this.levels.push(o),t=Math.ceil(t/2),r=Math.ceil(r/2)}}return c(e,[{key:"reset",value:function(e,t){for(var r,n=0,a=0;n<this.levels.length;){var i=e+t*(r=this.levels[n]).width;if(void 0!==r.items[i]){a=r.items[i];break}r.index=i,e>>=1,t>>=1,n++}n--,(r=this.levels[n]).items[r.index]=a,this.currentLevel=n,delete this.value}},{key:"incrementValue",value:function(){var e=this.levels[this.currentLevel];e.items[e.index]++}},{key:"nextLevel",value:function(){var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];return--e<0?(this.value=r,!1):(this.currentLevel=e,(t=this.levels[e]).items[t.index]=r,!0)}}]),e}(),q=function(){function e(t,r,n){u(this,e);var a=(0,i.log2)(Math.max(t,r))+1;this.levels=[];for(var o=0;o<a;o++){for(var s=new Uint8Array(t*r),c=0,l=s.length;c<l;c++)s[c]=n;var f={width:t,height:r,items:s};this.levels.push(f),t=Math.ceil(t/2),r=Math.ceil(r/2)}}return c(e,[{key:"reset",value:function(e,t,r){for(var n=0;n<this.levels.length;){var a=this.levels[n],i=e+t*a.width;a.index=i;var o=a.items[i];if(255===o)break;if(o>r)return this.currentLevel=n,this.propagateValues(),!1;e>>=1,t>>=1,n++}return this.currentLevel=n-1,!0}},{key:"incrementValue",value:function(e){var t=this.levels[this.currentLevel];t.items[t.index]=e+1,this.propagateValues()}},{key:"propagateValues",value:function(){for(var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];--e>=0;)(t=this.levels[e]).items[t.index]=r}},{key:"nextLevel",value:function(){var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];return t.items[t.index]=255,!(--e<0||(this.currentLevel=e,(t=this.levels[e]).items[t.index]=r,0))}}]),e}(),X=(N=17,B=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),D=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),L=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]),function(){function e(t,r,n,a,i){var o;u(this,e),this.width=t,this.height=r,o="HH"===n?L:"HL"===n?D:B,this.contextLabelTable=o;var s,c=t*r;this.neighborsSignificance=new Uint8Array(c),this.coefficentsSign=new Uint8Array(c),s=i>14?new Uint32Array(c):i>6?new Uint16Array(c):new Uint8Array(c),this.coefficentsMagnitude=s,this.processingFlags=new Uint8Array(c);var l=new Uint8Array(c);if(0!==a)for(var f=0;f<c;f++)l[f]=a;this.bitsDecoded=l,this.reset()}return c(e,[{key:"setDecoder",value:function(e){this.decoder=e}},{key:"reset",value:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6}},{key:"setNeighborsSignificance",value:function(e,t,r){var n,a=this.neighborsSignificance,i=this.width,o=this.height,s=t>0,c=t+1<i;e>0&&(n=r-i,s&&(a[n-1]+=16),c&&(a[n+1]+=16),a[n]+=4),e+1<o&&(n=r+i,s&&(a[n-1]+=16),c&&(a[n+1]+=16),a[n]+=4),s&&(a[r-1]+=1),c&&(a[r+1]+=1),a[r]|=128}},{key:"runSignificancePropagationPass",value:function(){for(var e=this.decoder,t=this.width,r=this.height,n=this.coefficentsMagnitude,a=this.coefficentsSign,i=this.neighborsSignificance,o=this.processingFlags,s=this.contexts,c=this.contextLabelTable,u=this.bitsDecoded,l=0;l<r;l+=4)for(var f=0;f<t;f++)for(var h=l*t+f,d=0;d<4;d++,h+=t){var p=l+d;if(p>=r)break;if(o[h]&=-2,!n[h]&&i[h]){var g=c[i[h]];if(e.readBit(s,g)){var m=this.decodeSignBit(p,f,h);a[h]=m,n[h]=1,this.setNeighborsSignificance(p,f,h),o[h]|=2}u[h]++,o[h]|=1}}}},{key:"decodeSignBit",value:function(e,t,r){var n,a,i,o,s,c,u=this.width,l=this.height,f=this.coefficentsMagnitude,h=this.coefficentsSign;o=t>0&&0!==f[r-1],t+1<u&&0!==f[r+1]?(i=h[r+1],n=o?1-i-(a=h[r-1]):1-i-i):n=o?1-(a=h[r-1])-a:0;var d=3*n;return o=e>0&&0!==f[r-u],e+1<l&&0!==f[r+u]?(i=h[r+u],n=o?1-i-(a=h[r-u])+d:1-i-i+d):n=o?1-(a=h[r-u])-a+d:d,n>=0?(s=9+n,c=this.decoder.readBit(this.contexts,s)):(s=9-n,c=1^this.decoder.readBit(this.contexts,s)),c}},{key:"runMagnitudeRefinementPass",value:function(){for(var e,t=this.decoder,r=this.width,n=this.height,a=this.coefficentsMagnitude,i=this.neighborsSignificance,o=this.contexts,s=this.bitsDecoded,c=this.processingFlags,u=r*n,l=4*r,f=0;f<u;f=e){e=Math.min(u,f+l);for(var h=0;h<r;h++)for(var d=f+h;d<e;d+=r)if(a[d]&&0==(1&c[d])){var p=16;0!=(2&c[d])&&(c[d]^=2,p=0==(127&i[d])?15:14);var g=t.readBit(o,p);a[d]=a[d]<<1|g,s[d]++,c[d]|=1}}}},{key:"runCleanupPass",value:function(){for(var e,t=this.decoder,r=this.width,n=this.height,a=this.neighborsSignificance,i=this.coefficentsMagnitude,o=this.coefficentsSign,s=this.contexts,c=this.contextLabelTable,u=this.bitsDecoded,l=this.processingFlags,f=r,h=2*r,d=3*r,p=0;p<n;p=e){e=Math.min(p+4,n);for(var g=p*r,m=p+3<n,v=0;v<r;v++){var y=g+v,b=0,w=y,k=p,S=void 0;if(m&&0===l[y]&&0===l[y+f]&&0===l[y+h]&&0===l[y+d]&&0===a[y]&&0===a[y+f]&&0===a[y+h]&&0===a[y+d]){if(!t.readBit(s,18)){u[y]++,u[y+f]++,u[y+h]++,u[y+d]++;continue}0!=(b=t.readBit(s,N)<<1|t.readBit(s,N))&&(k=p+b,w+=b*r),S=this.decodeSignBit(k,v,w),o[w]=S,i[w]=1,this.setNeighborsSignificance(k,v,w),l[w]|=2,w=y;for(var x=p;x<=k;x++,w+=r)u[w]++;b++}for(k=p+b;k<e;k++,w+=r)if(!i[w]&&0==(1&l[w])){var A=c[a[w]];1===t.readBit(s,A)&&(S=this.decodeSignBit(k,v,w),o[w]=S,i[w]=1,this.setNeighborsSignificance(k,v,w),l[w]|=2),u[w]++}}}}},{key:"checkSegmentationSymbol",value:function(){var e=this.decoder,t=this.contexts;if(10!=(e.readBit(t,N)<<3|e.readBit(t,N)<<2|e.readBit(t,N)<<1|e.readBit(t,N)))throw new g("Invalid segmentation symbol")}}]),e}()),H=function(){function e(){u(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize Transform.")}return c(e,[{key:"calculate",value:function(e,t,r){for(var n=e[0],a=1,i=e.length;a<i;a++)n=this.iterate(n,e[a],t,r);return n}},{key:"extend",value:function(e,t,r){var n=t-1,a=t+1,i=t+r-2,o=t+r;e[n--]=e[a++],e[o++]=e[i--],e[n--]=e[a++],e[o++]=e[i--],e[n--]=e[a++],e[o++]=e[i--],e[n]=e[a],e[o]=e[i]}},{key:"filter",value:function(e,t,r){(0,a.unreachable)("Abstract method \`filter\` called")}},{key:"iterate",value:function(e,t,r,n){var a,i,o,s,c,u,l=e.width,f=e.height,h=e.items,d=t.width,p=t.height,g=t.items;for(o=0,a=0;a<f;a++)for(s=2*a*d,i=0;i<l;i++,o++,s+=2)g[s]=h[o];h=e.items=null;var m=new Float32Array(d+8);if(1===d){if(0!=(1&r))for(u=0,o=0;u<p;u++,o+=d)g[o]*=.5}else for(u=0,o=0;u<p;u++,o+=d)m.set(g.subarray(o,o+d),4),this.extend(m,4,d),this.filter(m,4,d),g.set(m.subarray(4,4+d),o);var v=16,y=[];for(a=0;a<v;a++)y.push(new Float32Array(p+8));var b,w=0;if(e=4+p,1===p){if(0!=(1&n))for(c=0;c<d;c++)g[c]*=.5}else for(c=0;c<d;c++){if(0===w){for(v=Math.min(d-c,v),o=c,s=4;s<e;o+=d,s++)for(b=0;b<v;b++)y[b][s]=g[o+b];w=v}var k=y[--w];if(this.extend(k,4,p),this.filter(k,4,p),0===w)for(o=c-v+1,s=4;s<e;o+=d,s++)for(b=0;b<v;b++)g[o+b]=y[b][s]}return{width:d,height:p,items:g}}}]),e}(),$=function(e){l(r,e);var t=h(r);function r(){return u(this,r),t.apply(this,arguments)}return c(r,[{key:"filter",value:function(e,t,r){var n,a,i,o,s=r>>1,c=-1.586134342059924,u=-.052980118572961,l=.882911075530934,f=.443506852043971,h=1.230174104914001;for(n=(t|=0)-3,a=s+4;a--;n+=2)e[n]*=.8128930661159609;for(i=f*e[(n=t-2)-1],a=s+3;a--&&(o=f*e[n+1],e[n]=h*e[n]-i-o,a--);n+=2)i=f*e[(n+=2)+1],e[n]=h*e[n]-i-o;for(i=l*e[(n=t-1)-1],a=s+2;a--&&(o=l*e[n+1],e[n]-=i+o,a--);n+=2)i=l*e[(n+=2)+1],e[n]-=i+o;for(i=u*e[(n=t)-1],a=s+1;a--&&(o=u*e[n+1],e[n]-=i+o,a--);n+=2)i=u*e[(n+=2)+1],e[n]-=i+o;if(0!==s)for(i=c*e[(n=t+1)-1],a=s;a--&&(o=c*e[n+1],e[n]-=i+o,a--);n+=2)i=c*e[(n+=2)+1],e[n]-=i+o}}]),r}(H),z=function(e){l(r,e);var t=h(r);function r(){return u(this,r),t.apply(this,arguments)}return c(r,[{key:"filter",value:function(e,t,r){var n,a,i=r>>1;for(n=t|=0,a=i+1;a--;n+=2)e[n]-=e[n-1]+e[n+1]+2>>2;for(n=t+1,a=i;a--;n+=2)e[n]+=e[n-1]+e[n+1]>>1}}]),r}(H)},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var a=c(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.LZWStream=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,s=o(c);function c(e,t,r){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this,t)).str=e,n.dict=e.dict,n.cachedData=0,n.bitsCached=0;for(var a=4096,i={earlyChange:r,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(a),dictionaryLengths:new Uint16Array(a),dictionaryPrevCodes:new Uint16Array(a),currentSequence:new Uint8Array(a),currentSequenceLength:0},o=0;o<256;++o)i.dictionaryValues[o]=o,i.dictionaryLengths[o]=1;return n.lzwState=i,n}return t=c,(r=[{key:"readBits",value:function(e){for(var t=this.bitsCached,r=this.cachedData;t<e;){var n=this.str.getByte();if(-1===n)return this.eof=!0,null;r=r<<8|n,t+=8}return this.bitsCached=t-=e,this.cachedData=r,this.lastCode=null,r>>>t&(1<<e)-1}},{key:"readBlock",value:function(){var e,t,r,n=1024,a=this.lzwState;if(a){var i=a.earlyChange,o=a.nextCode,s=a.dictionaryValues,c=a.dictionaryLengths,u=a.dictionaryPrevCodes,l=a.codeLength,f=a.prevCode,h=a.currentSequence,d=a.currentSequenceLength,p=0,g=this.bufferLength,m=this.ensureBuffer(this.bufferLength+n);for(e=0;e<512;e++){var v=this.readBits(l),y=d>0;if(v<256)h[0]=v,d=1;else{if(!(v>=258)){if(256===v){l=9,o=258,d=0;continue}this.eof=!0,delete this.lzwState;break}if(v<o)for(t=(d=c[v])-1,r=v;t>=0;t--)h[t]=s[r],r=u[r];else h[d++]=h[0]}if(y&&(u[o]=f,c[o]=c[f]+1,s[o]=h[0],l=++o+i&o+i-1?l:0|Math.min(Math.log(o+i)/.6931471805599453+1,12)),f=v,n<(p+=d)){do{n+=512}while(n<p);m=this.ensureBuffer(this.bufferLength+n)}for(t=0;t<d;t++)m[g++]=h[t]}a.nextCode=o,a.codeLength=l,a.prevCode=f,a.currentSequenceLength=d,this.bufferLength=g}}}])&&a(t.prototype,r),n&&a(t,n),c}(r(127).DecodeStream);t.LZWStream=u},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PredictorStream=void 0;var a=r(127),i=r(4),o=r(113);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(h,e);var t,r,n,a=u(h);function h(e,t,r){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),n=a.call(this,t),!(0,o.isDict)(r))return l(n,e);var s=n.predictor=r.get("Predictor")||1;if(s<=1)return l(n,e);if(2!==s&&(s<10||s>15))throw new i.FormatError("Unsupported predictor: ".concat(s));n.readBlock=2===s?n.readBlockTiff:n.readBlockPng,n.str=e,n.dict=e.dict;var c=n.colors=r.get("Colors")||1,u=n.bits=r.get("BitsPerComponent")||8,d=n.columns=r.get("Columns")||1;return n.pixBytes=c*u+7>>3,n.rowBytes=d*c*u+7>>3,l(n,f(n))}return t=h,(r=[{key:"readBlockTiff",value:function(){var e=this.rowBytes,t=this.bufferLength,r=this.ensureBuffer(t+e),n=this.bits,a=this.colors,i=this.str.getBytes(e);if(this.eof=!i.length,!this.eof){var o,s=0,c=0,u=0,l=0,f=t;if(1===n&&1===a)for(o=0;o<e;++o){var h=i[o]^s;h^=h>>1,h^=h>>2,s=(1&(h^=h>>4))<<7,r[f++]=h}else if(8===n){for(o=0;o<a;++o)r[f++]=i[o];for(;o<e;++o)r[f]=r[f-a]+i[o],f++}else if(16===n){var d=2*a;for(o=0;o<d;++o)r[f++]=i[o];for(;o<e;o+=2){var p=((255&i[o])<<8)+(255&i[o+1])+((255&r[f-d])<<8)+(255&r[f-d+1]);r[f++]=p>>8&255,r[f++]=255&p}}else{var g=new Uint8Array(a+1),m=(1<<n)-1,v=0,y=t,b=this.columns;for(o=0;o<b;++o)for(var w=0;w<a;++w)u<n&&(s=s<<8|255&i[v++],u+=8),g[w]=g[w]+(s>>u-n)&m,u-=n,c=c<<n|g[w],(l+=n)>=8&&(r[y++]=c>>l-8&255,l-=8);l>0&&(r[y++]=(c<<8-l)+(s&(1<<8-l)-1))}this.bufferLength+=e}}},{key:"readBlockPng",value:function(){var e=this.rowBytes,t=this.pixBytes,r=this.str.getByte(),n=this.str.getBytes(e);if(this.eof=!n.length,!this.eof){var a=this.bufferLength,o=this.ensureBuffer(a+e),s=o.subarray(a-e,a);0===s.length&&(s=new Uint8Array(e));var c,u,l,f=a;switch(r){case 0:for(c=0;c<e;++c)o[f++]=n[c];break;case 1:for(c=0;c<t;++c)o[f++]=n[c];for(;c<e;++c)o[f]=o[f-t]+n[c]&255,f++;break;case 2:for(c=0;c<e;++c)o[f++]=s[c]+n[c]&255;break;case 3:for(c=0;c<t;++c)o[f++]=(s[c]>>1)+n[c];for(;c<e;++c)o[f]=(s[c]+o[f-t]>>1)+n[c]&255,f++;break;case 4:for(c=0;c<t;++c)u=s[c],l=n[c],o[f++]=u+l;for(;c<e;++c){u=s[c];var h=s[c-t],d=o[f-t],p=d+u-h,g=p-d;g<0&&(g=-g);var m=p-u;m<0&&(m=-m);var v=p-h;v<0&&(v=-v),l=n[c],o[f++]=g<=m&&g<=v?d+l:m<=v?u+l:h+l}break;default:throw new i.FormatError("Unsupported predictor: ".concat(r))}this.bufferLength+=e}}}])&&s(t.prototype,r),n&&s(t,n),h}(a.DecodeStream);t.PredictorStream=d},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var a=c(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.RunLengthStream=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,s=o(c);function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=s.call(this,t)).str=e,r.dict=e.dict,r}return t=c,(r=[{key:"readBlock",value:function(){var e=this.str.getBytes(2);if(!e||e.length<2||128===e[0])this.eof=!0;else{var t,r=this.bufferLength,n=e[0];if(n<128){if((t=this.ensureBuffer(r+n+1))[r++]=e[1],n>0){var a=this.str.getBytes(n);t.set(a,r),r+=n}}else{n=257-n;var i=e[1];t=this.ensureBuffer(r+n+1);for(var o=0;o<n;o++)t[r++]=i}this.bufferLength=r}}}])&&a(t.prototype,r),n&&a(t,n),c}(r(127).DecodeStream);t.RunLengthStream=u},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Font=t.ErrorFont=void 0;var n=r(4),a=r(143),i=r(146),o=r(147),s=r(145),c=r(149),u=r(148),l=r(150),f=r(151),h=r(152),d=r(124),p=r(153),g=r(117),m=r(118),v=r(154);function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=w(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),e}var O=[[57344,63743],[1048576,1114109]],C=1e3,T=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isMonospace","isSerifFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],F=["cMap","defaultEncoding","differences","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function P(e){if(e.fontMatrix&&e.fontMatrix[0]!==n.FONT_IDENTITY_MATRIX[0]){var t=.001/e.fontMatrix[0],r=e.widths;for(var a in r)r[a]*=t;e.defaultWidth*=t}}var _=function(){function e(t,r,n,a,i,o,s,c){S(this,e),this.fontChar=t,this.unicode=r,this.accent=n,this.width=a,this.vmetric=i,this.operatorListId=o,this.isSpace=s,this.isInFont=c}return A(e,[{key:"matchesForCache",value:function(e,t,r,n,a,i,o,s){return this.fontChar===e&&this.unicode===t&&this.accent===r&&this.width===n&&this.vmetric===a&&this.operatorListId===i&&this.isSpace===o&&this.isInFont===s}}]),e}();function I(e,t){return(e<<8)+t}function E(e,t){var r=(e<<8)+t;return 32768&r?r-65536:r}function j(e){return String.fromCharCode(e>>8&255,255&e)}function R(e){return e>32767?e=32767:e<-32768&&(e=-32768),String.fromCharCode(e>>8&255,255&e)}function M(e){var t=e.peekBytes(4);return"ttcf"===(0,n.bytesToString)(t)}function N(e,t){var r,a,i=t.type,o=t.subtype,s=t.composite;return function(e){var t=e.peekBytes(4);return 65536===(0,g.readUint32)(t,0)||"true"===(0,n.bytesToString)(t)}(e)||M(e)?r=s?"CIDFontType2":"TrueType":function(e){var t=e.peekBytes(4);return"OTTO"===(0,n.bytesToString)(t)}(e)?r=s?"CIDFontType2":"OpenType":function(e){var t=e.peekBytes(2);return 37===t[0]&&33===t[1]||128===t[0]&&1===t[1]}(e)?r=s?"CIDFontType0":"MMType1"===i?"MMType1":"Type1":function(e){var t=e.peekBytes(4);return t[0]>=1&&t[3]>=1&&t[3]<=4}(e)?s?(r="CIDFontType0",a="CIDFontType0C"):(r="MMType1"===i?"MMType1":"Type1",a="Type1C"):((0,n.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),r=i,a=o),[r,a]}function B(e,t,r){for(var n,a=[],i=0,o=e.length;i<o;i++)-1!==(n=(0,u.getUnicodeForGlyph)(e[i],t))&&(a[i]=n);for(var s in r)-1!==(n=(0,u.getUnicodeForGlyph)(r[s],t))&&(a[+s]=n);return a}function D(e,t,r){var a=Object.create(null),i=[],o=0,s=O[o][0],c=O[o][1];for(var u in e){var l=e[u|=0];if(t(l)){if(s>c){if(++o>=O.length){(0,n.warn)("Ran out of space in font private use area.");break}s=O[o][0],c=O[o][1]}var f=s++;0===l&&(l=r),a[f]=l,i[u]=f}}return{toFontChar:i,charCodeToGlyphId:a,nextAvailableFontCharCode:s}}function L(e,t){var r,a,i,o,s=function(e,t){var r=[];for(var n in e)e[n]>=t||r.push({fontCharCode:0|n,glyphId:e[n]});0===r.length&&r.push({fontCharCode:0,glyphId:0}),r.sort((function(e,t){return e.fontCharCode-t.fontCharCode}));for(var a=[],i=r.length,o=0;o<i;){var s=r[o].fontCharCode,c=[r[o].glyphId];++o;for(var u=s;o<i&&u+1===r[o].fontCharCode&&(c.push(r[o].glyphId),++o,65535!=++u););a.push([s,u,c])}return a}(e,t),c=s[s.length-1][1]>65535?2:1,u="\\0\\0"+j(c)+"\\0\\0"+(0,n.string32)(4+8*c);for(r=s.length-1;r>=0&&!(s[r][0]<=65535);--r);var l=r+1;s[r][0]<65535&&65535===s[r][1]&&(s[r][1]=65534);var f,h,d,g,m=s[r][1]<65535?1:0,v=l+m,y=p.OpenTypeFileBuilder.getSearchParams(v,2),b="",w="",k="",S="",x="",A=0;for(r=0,a=l;r<a;r++){h=(f=s[r])[0],d=f[1],b+=j(h),w+=j(d);var O=!0;for(i=1,o=(g=f[2]).length;i<o;++i)if(g[i]!==g[i-1]+1){O=!1;break}if(O)k+=j(g[0]-h&65535),S+=j(0);else{var C=2*(v-r)+2*A;for(A+=d-h+1,k+=j(0),S+=j(C),i=0,o=g.length;i<o;++i)x+=j(g[i])}}m>0&&(w+="",b+="",k+="\\0",S+="\\0\\0");var T="\\0\\0"+j(2*v)+j(y.range)+j(y.entry)+j(y.rangeShift)+w+"\\0\\0"+b+k+S+x,F="",P="";if(c>1){for(u+="\\0\\0\\n"+(0,n.string32)(4+8*c+4+T.length),F="",r=0,a=s.length;r<a;r++){h=(f=s[r])[0];var _=(g=f[2])[0];for(i=1,o=g.length;i<o;++i)g[i]!==g[i-1]+1&&(d=f[0]+i-1,F+=(0,n.string32)(h)+(0,n.string32)(d)+(0,n.string32)(_),h=d+1,_=g[i]);F+=(0,n.string32)(h)+(0,n.string32)(f[1])+(0,n.string32)(_)}P="\\0\\f\\0\\0"+(0,n.string32)(F.length+16)+"\\0\\0\\0\\0"+(0,n.string32)(F.length/12)}return u+"\\0"+j(T.length+4)+T+P+F}function U(e,t,r){r=r||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};var a=0,i=0,o=0,s=0,c=null,l=0;if(t){for(var f in t){(c>(f|=0)||!c)&&(c=f),l<f&&(l=f);var h=(0,u.getUnicodeRangeFor)(f);if(h<32)a|=1<<h;else if(h<64)i|=1<<h-32;else if(h<96)o|=1<<h-64;else{if(!(h<123))throw new n.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");s|=1<<h-96}}l>65535&&(l=65535)}else c=0,l=255;var d=e.bbox||[0,0,0,0],p=r.unitsPerEm||1/(e.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],g=e.ascentScaled?1:p/C,m=r.ascent||Math.round(g*(e.ascent||d[3])),v=r.descent||Math.round(g*(e.descent||d[1]));v>0&&e.descent>0&&d[1]<0&&(v=-v);var y=r.yMax||m,b=-r.yMin||-v;return"\\0$\\0\\0\\0\\0\\0\\0\\0\\0\\x001\\0\\0\\0\\0"+String.fromCharCode(e.fixedPitch?9:0)+"\\0\\0\\0\\0\\0\\0"+(0,n.string32)(a)+(0,n.string32)(i)+(0,n.string32)(o)+(0,n.string32)(s)+"*21*"+j(e.italicAngle?1:0)+j(c||e.firstChar)+j(l||e.lastChar)+j(m)+j(v)+"\\0d"+j(y)+j(b)+"\\0\\0\\0\\0\\0\\0\\0\\0"+j(e.xHeight)+j(e.capHeight)+j(0)+j(c||e.firstChar)+"\\0"}function q(e){var t=Math.floor(e.italicAngle*Math.pow(2,16));return"\\0\\0\\0"+(0,n.string32)(t)+"\\0\\0\\0\\0"+(0,n.string32)(e.fixedPitch)+"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0"}function X(e){return e.replace(/[^\\x21-\\x7E]|[[\\](){}<>/%]/g,"").slice(0,63)}function H(e,t){t||(t=[[],[]]);var r,n,a,i,o,s=[t[0][0]||"Original licence",t[0][1]||e,t[0][2]||"Unknown",t[0][3]||"uniqueID",t[0][4]||e,t[0][5]||"Version 0.11",t[0][6]||X(e),t[0][7]||"Unknown",t[0][8]||"Unknown",t[0][9]||"Unknown"],c=[];for(r=0,n=s.length;r<n;r++){var u=[];for(a=0,i=(o=t[1][r]||s[r]).length;a<i;a++)u.push(j(o.charCodeAt(a)));c.push(u.join(""))}var l=[s,c],f=["\\0","\\0"],h=["\\0\\0","\\0"],d=["\\0\\0","\\t"],p=s.length*f.length,g="\\0\\0"+j(p)+j(12*p+6),m=0;for(r=0,n=f.length;r<n;r++){var v=l[r];for(a=0,i=v.length;a<i;a++)o=v[a],g+=f[r]+h[r]+d[r]+j(a)+j(o.length)+j(m),m+=o.length}return g+=s.join("")+c.join("")}var $=function(){function e(t,r,a){S(this,e),this.name=t,this.mimetype=null,this.disableFontFace=!1,this.loadedName=a.loadedName,this.isType3Font=a.isType3Font,this.missingFile=!1,this.cssFontInfo=a.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null),this.isSerifFont=!!(a.flags&i.FontFlags.Serif),this.isSymbolicFont=!!(a.flags&i.FontFlags.Symbolic),this.isMonospace=!!(a.flags&i.FontFlags.FixedPitch);var o=a.type,s=a.subtype;this.type=o,this.subtype=s;var c="sans-serif";if(this.isMonospace?c="monospace":this.isSerifFont&&(c="serif"),this.fallbackName=c,this.differences=a.differences,this.widths=a.widths,this.defaultWidth=a.defaultWidth,this.composite=a.composite,this.cMap=a.cMap,this.capHeight=a.capHeight/C,this.ascent=a.ascent/C,this.descent=a.descent/C,this.fontMatrix=a.fontMatrix,this.bbox=a.bbox,this.defaultEncoding=a.defaultEncoding,this.toUnicode=a.toUnicode,this.fallbackToUnicode=a.fallbackToUnicode||new l.ToUnicodeMap,this.toFontChar=[],"Type3"!==a.type){if(this.cidEncoding=a.cidEncoding,this.vertical=!!a.vertical,this.vertical&&(this.vmetrics=a.vmetrics,this.defaultVMetrics=a.defaultVMetrics),!r||r.isEmpty)return r&&(0,n.warn)('Font file is empty in "'+t+'" ('+this.loadedName+")"),void this.fallbackToSystemFont(a);var u,h=b(N(r,a),2);o=h[0],s=h[1],o===this.type&&s===this.subtype||(0,n.info)("Inconsistent font file Type/SubType, expected: "+"".concat(this.type,"/").concat(this.subtype," but found: ").concat(o,"/").concat(s,"."));try{switch(o){case"MMType1":(0,n.info)("MMType1 font ("+t+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";var d="Type1C"===s||"CIDFontType0C"===s?new f.CFFFont(r,a):new v.Type1Font(t,r,a);P(a),u=this.convert(t,d,a);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",u=this.checkAndRepair(t,r,a),this.isOpenType&&(P(a),o="OpenType");break;default:throw new n.FormatError("Font ".concat(o," is not supported"))}}catch(e){return(0,n.warn)(e),void this.fallbackToSystemFont(a)}this.data=u,this.fontType=(0,i.getFontType)(o,s),this.fontMatrix=a.fontMatrix,this.widths=a.widths,this.defaultWidth=a.defaultWidth,this.toUnicode=a.toUnicode,this.seacMap=a.seacMap}else{for(var p=0;p<256;p++)this.toFontChar[p]=this.differences[p]||a.defaultEncoding[p];this.fontType=n.FontType.TYPE3}}return A(e,[{key:"renderer",get:function(){var e=h.FontRendererFactory.create(this,i.SEAC_ANALYSIS_ENABLED);return(0,n.shadow)(this,"renderer",e)}},{key:"exportData",value:function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=n?[].concat(T,F):T,i=Object.create(null),o=y(a);try{for(o.s();!(r=o.n()).done;)void 0!==(t=this[e=r.value])&&(i[e]=t)}catch(e){o.e(e)}finally{o.f()}return i}},{key:"fallbackToSystemFont",value:function(e){var t=this;this.missingFile=!0;var r=this.name,a=this.type,f=this.subtype,h=r.replace(/[,_]/g,"-").replace(/\\s/g,""),d=(0,c.getStdFontMap)(),p=(0,c.getNonStdFontMap)(),g=!!d[h],m=!(!p[h]||!d[p[h]]);h=d[h]||p[h]||h,this.bold=-1!==h.search(/bold/gi),this.italic=-1!==h.search(/oblique/gi)||-1!==h.search(/italic/gi),this.black=-1!==r.search(/Black/g);var v=-1!==r.search(/Narrow/g);if(this.remeasure=(!g||v)&&Object.keys(this.widths).length>0,(g||m)&&"CIDFontType2"===a&&this.cidEncoding.startsWith("Identity-")){var y=(0,c.getGlyphMapForStandardFonts)(),b=e.cidToGidMap,w=[];for(var k in y)w[+k]=y[k];if(/Arial-?Black/i.test(r)){var S=(0,c.getSupplementalGlyphMapForArialBlack)();for(var x in S)w[+x]=S[x]}else if(/Calibri/i.test(r)){var A=(0,c.getSupplementalGlyphMapForCalibri)();for(var O in A)w[+O]=A[O]}if(b)for(var C in w){var T=w[C];void 0!==b[T]&&(w[+C]=b[T])}this.toUnicode instanceof l.IdentityToUnicodeMap||this.toUnicode.forEach((function(e,t){w[+e]=t})),this.toFontChar=w,this.toUnicode=new l.ToUnicodeMap(w)}else if(/Symbol/i.test(h))this.toFontChar=B(s.SymbolSetEncoding,(0,o.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(h))/Wingdings/i.test(r)&&(0,n.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=B(s.ZapfDingbatsEncoding,(0,o.getDingbatsGlyphsUnicode)(),this.differences);else if(g)this.toFontChar=B(this.defaultEncoding,(0,o.getGlyphsUnicode)(),this.differences);else{var F=(0,o.getGlyphsUnicode)(),P=[];if(this.toUnicode.forEach((function(e,r){if(!t.composite){var n=t.differences[e]||t.defaultEncoding[e],a=(0,u.getUnicodeForGlyph)(n,F);-1!==a&&(r=a)}P[+e]=r})),this.composite&&this.toUnicode instanceof l.IdentityToUnicodeMap&&/Verdana/i.test(r)){var _=(0,c.getGlyphMapForStandardFonts)();for(var I in _)P[+I]=_[I]}this.toFontChar=P}this.loadedName=h.split("-")[0],this.fontType=(0,i.getFontType)(a,f)}},{key:"checkAndRepair",value:function(e,t,r){var c=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function u(e,t){var r=Object.create(null);r["OS/2"]=null,r.cmap=null,r.head=null,r.hhea=null,r.hmtx=null,r.maxp=null,r.name=null,r.post=null;for(var n=0;n<t;n++){var a=l(e);c.includes(a.tag)&&0!==a.length&&(r[a.tag]=a)}return r}function l(e){var t=e.getString(4),r=e.getInt32()>>>0,n=e.getInt32()>>>0,a=e.getInt32()>>>0,i=e.pos;e.pos=e.start?e.start:0,e.skip(n);var o=e.getBytes(a);return e.pos=i,"head"===t&&(o[8]=o[9]=o[10]=o[11]=0,o[17]|=32),{tag:t,checksum:r,length:a,offset:n,data:o}}function h(e){return{version:e.getString(4),numTables:e.getUint16(),searchRange:e.getUint16(),entrySelector:e.getUint16(),rangeShift:e.getUint16()}}function g(e,t,r,n,a,i){var o={length:0,sizeOfInstructions:0};if(r-t<=12)return o;var s,c,u,l=e.subarray(t,r),f=E(l[0],l[1]);if(f<0)return u=f=-1,(s=l)[1+(c=0)]=u,s[c]=u>>>8,n.set(l,a),o.length=l.length,o;var h,d=10,p=0;for(h=0;h<f;h++)p=1+(l[d]<<8|l[d+1]),d+=2;var g=d,m=l[d]<<8|l[d+1];o.sizeOfInstructions=m;var v=d+=2+m,y=0;for(h=0;h<p;h++){var b=l[d++];192&b&&(l[d-1]=63&b);var w=2;2&b?w=1:16&b&&(w=0);var k=2;4&b?k=1:32&b&&(k=0);var S=w+k;if(y+=S,8&b){var x=l[d++];h+=x,y+=x*S}}if(0===y)return o;var A=d+y;return A>l.length?o:!i&&m>0?(n.set(l.subarray(0,g),a),n.set([0,0],a+g),n.set(l.subarray(v,A),a+g+2),A-=m,l.length-A>3&&(A=A+3&-4),o.length=A,o):l.length-A>3?(A=A+3&-4,n.set(l.subarray(0,A),a),o.length=A,o):(n.set(l,a),o.length=l.length,o)}function v(e){var r=(t.start?t.start:0)+e.offset;t.pos=r;var n=[[],[]],a=e.length,i=r+a;if(0!==t.getUint16()||a<6)return n;var o,s,c=t.getUint16(),u=t.getUint16(),l=[];for(o=0;o<c&&t.pos+12<=i;o++){var f={platform:t.getUint16(),encoding:t.getUint16(),language:t.getUint16(),name:t.getUint16(),length:t.getUint16(),offset:t.getUint16()};(1===f.platform&&0===f.encoding&&0===f.language||3===f.platform&&1===f.encoding&&1033===f.language)&&l.push(f)}for(o=0,s=l.length;o<s;o++){var h=l[o];if(!(h.length<=0)){var d=r+u+h.offset;if(!(d+h.length>i)){t.pos=d;var p=h.name;if(h.encoding){for(var g="",m=0,v=h.length;m<v;m+=2)g+=String.fromCharCode(t.getUint16());n[1][p]=g}else n[0][p]=t.getString(h.length)}}}return n}var b,w,k,S,x=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function A(e,t){for(var r,a,i,o,s,c=e.data,u=0,l=0,f=0,h=[],d=[],p=[],g=t.tooComplexToFollowFunctions,m=!1,v=0,y=0,b=c.length;u<b;){var w=c[u++];if(64===w)if(a=c[u++],m||y)u+=a;else for(r=0;r<a;r++)h.push(c[u++]);else if(65===w)if(a=c[u++],m||y)u+=2*a;else for(r=0;r<a;r++)i=c[u++],h.push(i<<8|c[u++]);else if(176==(248&w))if(a=w-176+1,m||y)u+=a;else for(r=0;r<a;r++)h.push(c[u++]);else if(184==(248&w))if(a=w-184+1,m||y)u+=2*a;else for(r=0;r<a;r++)i=c[u++],h.push(i<<8|c[u++]);else if(43!==w||g)if(44!==w||g){if(45===w)if(m)m=!1,l=u;else{if(!(s=d.pop()))return(0,n.warn)("TT: ENDF bad stack"),void(t.hintsValid=!1);o=p.pop(),c=s.data,u=s.i,t.functionsStackDeltas[o]=h.length-s.stackTop}else if(137===w)(m||y)&&((0,n.warn)("TT: nested IDEFs not allowed"),g=!0),m=!0,f=u;else if(88===w)++v;else if(27===w)y=v;else if(89===w)y===v&&(y=0),--v;else if(28===w&&!m&&!y){var k=h[h.length-1];k>0&&(u+=k-1)}}else(m||y)&&((0,n.warn)("TT: nested FDEFs not allowed"),g=!0),m=!0,f=u,o=h.pop(),t.functionsDefined[o]={data:c,i:u};else if(!m&&!y)if(o=h[h.length-1],isNaN(o))(0,n.info)("TT: CALL empty stack (or invalid entry).");else if(t.functionsUsed[o]=!0,o in t.functionsStackDeltas){var S=h.length+t.functionsStackDeltas[o];if(S<0)return(0,n.warn)("TT: CALL invalid functions stack delta."),void(t.hintsValid=!1);h.length=S}else if(o in t.functionsDefined&&!p.includes(o)){if(d.push({data:c,i:u,stackTop:h.length-1}),p.push(o),!(s=t.functionsDefined[o]))return(0,n.warn)("TT: CALL non-existent function"),void(t.hintsValid=!1);c=s.data,u=s.i}if(!m&&!y){var A=0;for(w<=142?A=x[w]:w>=192&&w<=223?A=-1:w>=224&&(A=-2),w>=113&&w<=117&&(a=h.pop(),isNaN(a)||(A=2*-a));A<0&&h.length>0;)h.pop(),A++;for(;A>0;)h.push(NaN),A--}}t.tooComplexToFollowFunctions=g;var O=[c];u>c.length&&O.push(new Uint8Array(u-c.length)),f>l&&((0,n.warn)("TT: complementing a missing function tail"),O.push(new Uint8Array([34,45]))),function(e,t){if(t.length>1){var r,n,a=0;for(r=0,n=t.length;r<n;r++)a+=t[r].length;a=a+3&-4;var i=new Uint8Array(a),o=0;for(r=0,n=t.length;r<n;r++)i.set(t[r],o),o+=t[r].length;e.data=i,e.length=a}}(e,O)}if(M(t=new m.Stream(new Uint8Array(t.getBytes())))){var O=function(e,t){for(var r,a=function(e){var t=e.getString(4);(0,n.assert)("ttcf"===t,"Must be a TrueType Collection font.");for(var r=e.getUint16(),a=e.getUint16(),i=e.getInt32()>>>0,o=[],s=0;s<i;s++)o.push(e.getInt32()>>>0);var c={ttcTag:t,majorVersion:r,minorVersion:a,numFonts:i,offsetTable:o};switch(r){case 1:return c;case 2:return c.dsigTag=e.getInt32()>>>0,c.dsigLength=e.getInt32()>>>0,c.dsigOffset=e.getInt32()>>>0,c}throw new n.FormatError("Invalid TrueType Collection majorVersion: ".concat(r,"."))}(e),i=a.numFonts,o=a.offsetTable,s=t.split("+"),c=0;c<i;c++){e.pos=(e.start||0)+o[c];var l=h(e),f=u(e,l.numTables);if(!f.name)throw new n.FormatError('TrueType Collection font must contain a "name" table.');for(var d=v(f.name),p=0,g=d.length;p<g;p++)for(var m=0,b=d[p].length;m<b;m++){var w=d[p][m]&&d[p][m].replace(/\\s/g,"");if(w){if(w===t)return{header:l,tables:f};if(!(s.length<2)){var k,S=y(s);try{for(S.s();!(k=S.n()).done;){var x=k.value;w===x&&(r={name:x,header:l,tables:f})}}catch(e){S.e(e)}finally{S.f()}}}}}if(r)return(0,n.warn)('TrueType Collection does not contain "'.concat(t,'" font, ')+'falling back to "'.concat(r.name,'" font instead.')),{header:r.header,tables:r.tables};throw new n.FormatError('TrueType Collection does not contain "'.concat(t,'" font.'))}(t,this.name);b=O.header,w=O.tables}else b=h(t),w=u(t,b.numTables);var C=!w["CFF "];if(C){if(!w.loca)throw new n.FormatError('Required "loca" table is not found');w.glyf||((0,n.warn)('Required "glyf" table is not found -- trying to recover.'),w.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{var T=r.composite&&((r.cidToGidMap||[]).length>0||!(r.cMap instanceof d.IdentityCMap));if("OTTO"===b.version&&!T||!w.head||!w.hhea||!w.maxp||!w.post)return S=new m.Stream(w["CFF "].data),k=new f.CFFFont(S,r),P(r),this.convert(e,k,r);delete w.glyf,delete w.loca,delete w.fpgm,delete w.prep,delete w["cvt "],this.isOpenType=!0}if(!w.maxp)throw new n.FormatError('Required "maxp" table is not found');t.pos=(t.start||0)+w.maxp.offset;var F=t.getInt32(),_=t.getUint16(),j=_+1,R=!0;j>65535&&(R=!1,j=_,(0,n.warn)("Not enough space in glyfs to duplicate first glyph."));var N=0,B=0;F>=65536&&w.maxp.length>=22&&(t.pos+=8,t.getUint16()>2&&(w.maxp.data[14]=0,w.maxp.data[15]=2),t.pos+=4,N=t.getUint16(),t.pos+=4,B=t.getUint16()),w.maxp.data[4]=j>>8,w.maxp.data[5]=255&j;var X=function(e,t,r,a){var i={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(e&&A(e,i),t&&A(t,i),e&&function(e,t){if(!e.tooComplexToFollowFunctions){if(e.functionsDefined.length>t)return(0,n.warn)("TT: more functions defined than expected"),void(e.hintsValid=!1);for(var r=0,a=e.functionsUsed.length;r<a;r++){if(r>t)return(0,n.warn)("TT: invalid function id: "+r),void(e.hintsValid=!1);if(e.functionsUsed[r]&&!e.functionsDefined[r])return(0,n.warn)("TT: undefined function: "+r),void(e.hintsValid=!1)}}}(i,a),r&&1&r.length){var o=new Uint8Array(r.length+1);o.set(r.data),r.data=o}return i.hintsValid}(w.fpgm,w.prep,w["cvt "],N);if(X||(delete w.fpgm,delete w.prep,delete w["cvt "]),function(e,t,r,a,i){if(t){e.pos=(e.start?e.start:0)+t.offset,e.pos+=4,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=8,e.pos+=2;var o=e.getUint16();o>a&&((0,n.info)("The numOfMetrics ("+o+") should not be greater than the numGlyphs ("+a+")"),o=a,t.data[34]=(65280&o)>>8,t.data[35]=255&o);var s=a-o-(r.length-4*o>>1);if(s>0){var c=new Uint8Array(r.length+2*s);c.set(r.data),i&&(c[r.length]=r.data[2],c[r.length+1]=r.data[3]),r.data=c}}else r&&(r.data=null)}(t,w.hhea,w.hmtx,j,R),!w.head)throw new n.FormatError('Required "head" table is not found');!function(e,t,r){var a,i,o,s,c=e.data,u=(a=c[0],i=c[1],o=c[2],s=c[3],(a<<24)+(i<<16)+(o<<8)+s);u>>16!=1&&((0,n.info)("Attempting to fix invalid version in head table: "+u),c[0]=0,c[1]=1,c[2]=0,c[3]=0);var l=I(c[50],c[51]);if(l<0||l>1){(0,n.info)("Attempting to fix invalid indexToLocFormat in head table: "+l);var f=t+1;if(r===f<<1)c[50]=0,c[51]=0;else{if(r!==f<<2)throw new n.FormatError("Could not fix indexToLocFormat: "+l);c[50]=0,c[51]=1}}}(w.head,_,C?w.loca.length:0);var $=Object.create(null);if(C){var z=I(w.head.data[50],w.head.data[51]),G=function(e,t,r,n,a,i,o){var s,c,u;n?(s=4,c=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]},u=function(e,t,r){e[t]=r>>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}):(s=2,c=function(e,t){return e[t]<<9|e[t+1]<<1},u=function(e,t,r){e[t]=r>>9&255,e[t+1]=r>>1&255});var l=i?r+1:r,f=s*(1+l),h=new Uint8Array(f);h.set(e.data.subarray(0,f)),e.data=h;var d,p,m=t.data,v=m.length,y=new Uint8Array(v),b=[];for(d=0,p=0;d<r+1;d++,p+=s){var w=c(h,p);w>v&&(w=v),b.push({index:d,offset:w,endOffset:0})}for(b.sort((function(e,t){return e.offset-t.offset})),d=0;d<r;d++)b[d].endOffset=b[d+1].offset;b.sort((function(e,t){return e.index-t.index}));var k=Object.create(null),S=0;for(u(h,0,S),d=0,p=s;d<r;d++,p+=s){var x=g(m,b[d].offset,b[d].endOffset,y,S,a),A=x.length;0===A&&(k[d]=!0),x.sizeOfInstructions>o&&(o=x.sizeOfInstructions),u(h,p,S+=A)}if(0===S){var O=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(d=0,p=s;d<l;d++,p+=s)u(h,p,O.length);t.data=O}else if(i){var C=c(h,s);y.length>C+S?t.data=y.subarray(0,C+S):(t.data=new Uint8Array(C+S),t.data.set(y.subarray(0,S))),t.data.set(y.subarray(0,C),S),u(e.data,h.length-s,S+C)}else t.data=y.subarray(0,S);return{missingGlyphs:k,maxSizeOfInstructions:o}}(w.loca,w.glyf,_,z,X,R,B);$=G.missingGlyphs,F>=65536&&w.maxp.length>=22&&(w.maxp.data[26]=G.maxSizeOfInstructions>>8,w.maxp.data[27]=255&G.maxSizeOfInstructions)}if(!w.hhea)throw new n.FormatError('Required "hhea" table is not found');0===w.hhea.data[10]&&0===w.hhea.data[11]&&(w.hhea.data[10]=255,w.hhea.data[11]=255);var W={unitsPerEm:I(w.head.data[18],w.head.data[19]),yMax:I(w.head.data[42],w.head.data[43]),yMin:E(w.head.data[38],w.head.data[39]),ascent:I(w.hhea.data[4],w.hhea.data[5]),descent:E(w.hhea.data[6],w.hhea.data[7])};this.ascent=W.ascent/W.unitsPerEm,this.descent=W.descent/W.unitsPerEm,w.post&&function(e,r,a){var o=(t.start?t.start:0)+e.offset;t.pos=o;var s,c=o+e.length,u=t.getInt32();t.skip(28);var l,f=!0;switch(u){case 65536:s=i.MacStandardGlyphOrdering;break;case 131072:var h=t.getUint16();if(h!==a){f=!1;break}var d=[];for(l=0;l<h;++l){var p=t.getUint16();if(p>=32768){f=!1;break}d.push(p)}if(!f)break;for(var g=[],m=[];t.pos<c;){var v=t.getByte();for(m.length=v,l=0;l<v;++l)m[l]=String.fromCharCode(t.getByte());g.push(m.join(""))}for(s=[],l=0;l<h;++l){var y=d[l];y<258?s.push(i.MacStandardGlyphOrdering[y]):s.push(g[y-258])}break;case 196608:break;default:(0,n.warn)("Unknown/unsupported post table version "+u),f=!1,r.defaultEncoding&&(s=r.defaultEncoding)}r.glyphNames=s}(w.post,r,_),w.post={tag:"post",data:q(r)};var V=[];function K(e){return!$[e]}if(r.composite){var Y=r.cidToGidMap||[],J=0===Y.length;r.cMap.forEach((function(e,t){if(t>65535)throw new n.FormatError("Max size of CID is 65,535");var r=-1;J?r=t:void 0!==Y[t]&&(r=Y[t]),r>=0&&r<_&&K(r)&&(V[e]=r)}))}else{var Z=function(e,t,r,a){if(!e)return(0,n.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var i,o=(t.start?t.start:0)+e.offset;t.pos=o,t.skip(2);for(var s,c=t.getUint16(),u=!1,l=0;l<c;l++){var f=t.getUint16(),h=t.getUint16(),d=t.getInt32()>>>0,p=!1;if((!s||s.platformId!==f||s.encodingId!==h)&&(0!==f||0!==h&&1!==h&&3!==h?1===f&&0===h?p=!0:3!==f||1!==h||!a&&s?r&&3===f&&0===h&&(p=!0,u=!0):(p=!0,r||(u=!0)):p=!0,p&&(s={platformId:f,encodingId:h,offset:d}),u))break}if(s&&(t.pos=o+s.offset),!s||-1===t.peekByte())return(0,n.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var g=t.getUint16();t.skip(4);var m,v,y=!1,b=[];if(0===g){for(m=0;m<256;m++){var w=t.getByte();w&&b.push({charCode:m,glyphId:w})}y=!0}else if(4===g){var k=t.getUint16()>>1;t.skip(6);var S,x=[];for(S=0;S<k;S++)x.push({end:t.getUint16()});for(t.skip(2),S=0;S<k;S++)x[S].start=t.getUint16();for(S=0;S<k;S++)x[S].delta=t.getUint16();var A,O=0;for(S=0;S<k;S++){i=x[S];var C=t.getUint16();C?(A=(C>>1)-(k-S),i.offsetIndex=A,O=Math.max(O,A+i.end-i.start+1)):i.offsetIndex=-1}var T=[];for(m=0;m<O;m++)T.push(t.getUint16());for(S=0;S<k;S++){o=(i=x[S]).start;var F=i.end,P=i.delta;for(A=i.offsetIndex,m=o;m<=F;m++)65535!==m&&(v=(v=A<0?m:T[A+m-o])+P&65535,b.push({charCode:m,glyphId:v}))}}else{if(6!==g)return(0,n.warn)("cmap table has unsupported format: "+g),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var _=t.getUint16(),I=t.getUint16();for(m=0;m<I;m++){v=t.getUint16();var E=_+m;b.push({charCode:E,glyphId:v})}}b.sort((function(e,t){return e.charCode-t.charCode}));for(var j=1;j<b.length;j++)b[j-1].charCode===b[j].charCode&&(b.splice(j,1),j--);return{platformId:s.platformId,encodingId:s.encodingId,mappings:b,hasShortCmap:y}}(w.cmap,t,this.isSymbolicFont,r.hasEncoding),Q=Z.platformId,ee=Z.encodingId,te=Z.mappings,re=te.length,ne=[];if(!r.hasEncoding||"MacRomanEncoding"!==r.baseEncodingName&&"WinAnsiEncoding"!==r.baseEncodingName||(ne=(0,s.getEncoding)(r.baseEncodingName)),r.hasEncoding&&!this.isSymbolicFont&&(3===Q&&1===ee||1===Q&&0===ee))for(var ae=(0,o.getGlyphsUnicode)(),ie=0;ie<256;ie++){var oe=void 0;if(oe=this.differences&&ie in this.differences?this.differences[ie]:ie in ne&&""!==ne[ie]?ne[ie]:s.StandardEncoding[ie]){var se=(0,i.recoverGlyphName)(oe,ae),ce=void 0;3===Q&&1===ee?ce=ae[se]:1===Q&&0===ee&&(ce=s.MacRomanEncoding.indexOf(se));for(var ue=0;ue<re;++ue)if(te[ue].charCode===ce){V[ie]=te[ue].glyphId;break}}}else if(0===Q)for(var le=0;le<re;++le)V[te[le].charCode]=te[le].glyphId;else for(var fe=0;fe<re;++fe){var he=te[fe].charCode;3===Q&&he>=61440&&he<=61695&&(he&=255),V[he]=te[fe].glyphId}if(r.glyphNames&&(ne.length||this.differences.length))for(var de=0;de<256;++de)if(void 0===V[de]){var pe=this.differences[de]||ne[de];if(pe){var ge=r.glyphNames.indexOf(pe);ge>0&&K(ge)&&(V[de]=ge)}}}0===V.length&&(V[0]=0);var me=j-1;if(R||(me=0),!r.cssFontInfo){var ve=D(V,K,me);this.toFontChar=ve.toFontChar,w.cmap={tag:"cmap",data:L(ve.charCodeToGlyphId,j)},w["OS/2"]&&function(e,t){t.pos=(t.start||0)+e.offset;var r=t.getUint16();t.skip(60);var n=t.getUint16();return!(r<4&&768&n||t.getUint16()>t.getUint16()||(t.skip(6),0===t.getUint16()||(e.data[8]=e.data[9]=0,0)))}(w["OS/2"],t)||(w["OS/2"]={tag:"OS/2",data:U(r,ve.charCodeToGlyphId,W)})}if(!C)try{S=new m.Stream(w["CFF "].data),(k=new a.CFFParser(S,r,i.SEAC_ANALYSIS_ENABLED).parse()).duplicateFirstGlyph();var ye=new a.CFFCompiler(k);w["CFF "].data=ye.compile()}catch(e){(0,n.warn)("Failed to compile font "+r.loadedName)}if(w.name){var be=v(w.name);w.name.data=H(e,be)}else w.name={tag:"name",data:H(this.name)};var we=new p.OpenTypeFileBuilder(b.version);for(var ke in w)we.addTable(ke,w[ke].data);return we.toArray()}},{key:"convert",value:function(e,t,r){r.fixedPitch=!1,r.builtInEncoding&&function(e,t){if(!(e.hasIncludedToUnicodeMap||t===e.defaultEncoding||e.toUnicode instanceof l.IdentityToUnicodeMap)){var r=[],n=(0,o.getGlyphsUnicode)();for(var a in t)if(!e.hasEncoding||void 0===e.differences[a]){var i=t[a],s=(0,u.getUnicodeForGlyph)(i,n);-1!==s&&(r[a]=String.fromCharCode(s))}e.toUnicode.amend(r)}}(r,r.builtInEncoding);var a=1;t instanceof f.CFFFont&&(a=t.numGlyphs-1);var c=t.getGlyphMapping(r),h=null,d=c;r.cssFontInfo||(h=D(c,t.hasGlyphId.bind(t),a),this.toFontChar=h.toFontChar,d=h.charCodeToGlyphId);var g=t.numGlyphs;function m(e,t){var r=null;for(var n in e)t===e[n]&&(r||(r=[]),r.push(0|n));return r}function v(e,t){for(var r in e)if(t===e[r])return 0|r;return h.charCodeToGlyphId[h.nextAvailableFontCharCode]=t,h.nextAvailableFontCharCode++}var y=t.seacs;if(h&&i.SEAC_ANALYSIS_ENABLED&&y&&y.length){var b=r.fontMatrix||n.FONT_IDENTITY_MATRIX,w=t.getCharset(),k=Object.create(null);for(var S in y){var x=y[S|=0],A=s.StandardEncoding[x[2]],O=s.StandardEncoding[x[3]],C=w.indexOf(A),T=w.indexOf(O);if(!(C<0||T<0)){var F={x:x[0]*b[0]+x[1]*b[2]+b[4],y:x[0]*b[1]+x[1]*b[3]+b[5]},P=m(c,S);if(P)for(var _=0,I=P.length;_<I;_++){var E=P[_],M=h.charCodeToGlyphId,N=v(M,C),B=v(M,T);k[E]={baseFontCharCode:N,accentFontCharCode:B,accentOffset:F}}}}r.seacMap=k}var X=1/(r.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],$=new p.OpenTypeFileBuilder("OTTO");return $.addTable("CFF ",t.data),$.addTable("OS/2",U(r,d)),$.addTable("cmap",L(d,g)),$.addTable("head","\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0_<\\0\\0"+R(X)+"\\0\\0\\0\\0\\v~'\\0\\0\\0\\0\\v~'\\0\\0"+R(r.descent)+""+R(r.ascent)+j(r.italicAngle?2:0)+"\\0\\0\\0\\0\\0\\0\\0"),$.addTable("hhea","\\0\\0\\0"+R(r.ascent)+R(r.descent)+"\\0\\0\\0\\0\\0\\0\\0\\0"+R(r.capHeight)+R(Math.tan(r.italicAngle)*r.xHeight)+"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0"+j(g)),$.addTable("hmtx",function(){for(var e=t.charstrings,r=t.cff?t.cff.widths:null,n="\\0\\0\\0\\0",a=1,i=g;a<i;a++){var o=0;if(e){var s=e[a-1];o="width"in s?s.width:0}else r&&(o=Math.ceil(r[a]||0));n+=j(o)+j(0)}return n}()),$.addTable("maxp","\\0\\0P\\0"+j(g)),$.addTable("name",H(e)),$.addTable("post",q(r)),$.toArray()}},{key:"spaceWidth",get:function(){for(var e,t=["space","minus","one","i","I"],r=0,a=t.length;r<a;r++){var i=t[r];if(i in this.widths){e=this.widths[i];break}var s=(0,o.getGlyphsUnicode)()[i],c=0;if(this.composite&&this.cMap.contains(s)&&(c=this.cMap.lookup(s)),!c&&this.toUnicode&&(c=this.toUnicode.charCodeOf(s)),c<=0&&(c=s),e=this.widths[c])break}return e=e||this.defaultWidth,(0,n.shadow)(this,"spaceWidth",e)}},{key:"_charToGlyph",value:function(e){var t,r,a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e;this.cMap&&this.cMap.contains(e)&&(o=this.cMap.lookup(e)),r=this.widths[o],r=(0,n.isNum)(r)?r:this.defaultWidth;var s=this.vmetrics&&this.vmetrics[o],c=this.toUnicode.get(e)||this.fallbackToUnicode.get(e)||e;"number"==typeof c&&(c=String.fromCharCode(c));var l=e in this.toFontChar;if(t=this.toFontChar[e]||e,this.missingFile){var f=this.differences[e]||this.defaultEncoding[e];".notdef"!==f&&""!==f||"Type1"!==this.type||(t=32),t=(0,u.mapSpecialUnicodeValues)(t)}this.isType3Font&&(a=t);var h=null;if(this.seacMap&&this.seacMap[e]){l=!0;var d=this.seacMap[e];t=d.baseFontCharCode,h={fontChar:String.fromCodePoint(d.accentFontCharCode),offset:d.accentOffset}}var p="";"number"==typeof t&&(t<=1114111?p=String.fromCodePoint(t):(0,n.warn)("charToGlyph - invalid fontCharCode: ".concat(t)));var g=this._glyphCache[e];return g&&g.matchesForCache(p,c,h,r,s,a,i,l)||(g=new _(p,c,h,r,s,a,i,l),this._glyphCache[e]=g),g}},{key:"charsToGlyphs",value:function(e){var t=this._charsCache[e];if(t)return t;if(t=[],this.cMap)for(var r=Object.create(null),n=e.length,a=0;a<n;){this.cMap.readCharCode(e,a,r);var i=r.charcode,o=r.length;a+=o;var s=this._charToGlyph(i,1===o&&32===e.charCodeAt(a-1));t.push(s)}else for(var c=0,u=e.length;c<u;++c){var l=e.charCodeAt(c),f=this._charToGlyph(l,32===l);t.push(f)}return this._charsCache[e]=t}},{key:"getCharPositions",value:function(e){var t=[];if(this.cMap)for(var r=Object.create(null),n=0;n<e.length;){this.cMap.readCharCode(e,n,r);var a=r.length;t.push([n,n+a]),n+=a}else for(var i=0,o=e.length;i<o;++i)t.push([i,i+1]);return t}},{key:"glyphCacheValues",get:function(){return Object.values(this._glyphCache)}},{key:"encodeString",value:function(e){for(var t=[],r=[],n=function(){return t.length%2==1},a=0,i=e.length;a<i;a++){var o=e.codePointAt(a);if(o>55295&&(o<57344||o>65533)&&a++,this.toUnicode){var s=String.fromCodePoint(o),c=this.toUnicode.charCodeOf(s);if(-1!==c){n()&&(t.push(r.join("")),r.length=0);for(var u=(this.cMap?this.cMap.getCharCodeLength(c):1)-1;u>=0;u--)r.push(String.fromCharCode(c>>8*u&255));continue}}n()||(t.push(r.join("")),r.length=0),r.push(String.fromCodePoint(o))}return t.push(r.join("")),t}}]),e}();t.Font=$;var z=function(){function e(t){S(this,e),this.error=t,this.loadedName="g_font_error",this.missingFile=!0}return A(e,[{key:"charsToGlyphs",value:function(){return[]}},{key:"encodeString",value:function(e){return[e]}},{key:"exportData",value:function(){return{error:this.error}}}]),e}();t.ErrorFont=z},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CFFTopDict=t.CFFStrings=t.CFFStandardStrings=t.CFFPrivateDict=t.CFFParser=t.CFFIndex=t.CFFHeader=t.CFFFDSelect=t.CFFCompiler=t.CFFCharset=t.CFF=void 0;var a=r(4),i=r(144),o=r(145);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}var g=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];t.CFFStandardStrings=g;var m,v,y=391,b=(m=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],v=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]+e[t-1]}},{id:"sub",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]-e[t-1]}},{id:"div",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]/e[t-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn:function(e,t){e[t-1]=-e[t-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]*e[t-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}],function(){function e(t,r,n){h(this,e),this.bytes=t.getBytes(),this.properties=r,this.seacAnalysisEnabled=!!n}return p(e,[{key:"parse",value:function(){var e=this.properties,t=new w;this.cff=t;var r=this.parseHeader(),n=this.parseIndex(r.endPos),a=this.parseIndex(n.endPos),i=this.parseIndex(a.endPos),o=this.parseIndex(i.endPos),s=this.parseDict(a.obj.get(0)),c=this.createDict(T,s,t.strings);t.header=r.obj,t.names=this.parseNameIndex(n.obj),t.strings=this.parseStringIndex(i.obj),t.topDict=c,t.globalSubrIndex=o.obj,this.parsePrivateDict(t.topDict),t.isCIDFont=c.hasName("ROS");var u=c.getByName("CharStrings"),l=this.parseIndex(u).obj,f=c.getByName("FontMatrix");f&&(e.fontMatrix=f);var h,d,p=c.getByName("FontBBox");if(p&&(e.ascent=Math.max(p[3],p[1]),e.descent=Math.min(p[1],p[3]),e.ascentScaled=!0),t.isCIDFont){for(var g=this.parseIndex(c.getByName("FDArray")).obj,m=0,v=g.count;m<v;++m){var y=g.get(m),b=this.createDict(T,this.parseDict(y),t.strings);this.parsePrivateDict(b),t.fdArray.push(b)}d=null,h=this.parseCharsets(c.getByName("charset"),l.count,t.strings,!0),t.fdSelect=this.parseFDSelect(c.getByName("FDSelect"),l.count)}else h=this.parseCharsets(c.getByName("charset"),l.count,t.strings,!1),d=this.parseEncoding(c.getByName("Encoding"),e,t.strings,h.charset);t.charset=h,t.encoding=d;var k=this.parseCharStrings({charStrings:l,localSubrIndex:c.privateDict.subrsIndex,globalSubrIndex:o.obj,fdSelect:t.fdSelect,fdArray:t.fdArray,privateDict:c.privateDict});return t.charStrings=k.charStrings,t.seacs=k.seacs,t.widths=k.widths,t}},{key:"parseHeader",value:function(){for(var e=this.bytes,t=e.length,r=0;r<t&&1!==e[r];)++r;if(r>=t)throw new a.FormatError("Invalid CFF header");0!==r&&((0,a.info)("cff data is shifted"),e=e.subarray(r),this.bytes=e);var n=e[0],i=e[1],o=e[2],s=e[3];return{obj:new k(n,i,o,s),endPos:o}}},{key:"parseDict",value:function(e){var t=0;function r(){var r=e[t++];return 30===r?function(){for(var r="",n=15,a=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],i=e.length;t<i;){var o=e[t++],s=o>>4,c=15&o;if(s===n)break;if(r+=a[s],c===n)break;r+=a[c]}return parseFloat(r)}():28===r?r=((r=e[t++])<<24|e[t++]<<16)>>16:29===r?r=(r=(r=(r=e[t++])<<8|e[t++])<<8|e[t++])<<8|e[t++]:r>=32&&r<=246?r-139:r>=247&&r<=250?256*(r-247)+e[t++]+108:r>=251&&r<=254?-256*(r-251)-e[t++]-108:((0,a.warn)('CFFParser_parseDict: "'+r+'" is a reserved command.'),NaN)}var n=[],i=[];t=0;for(var o=e.length;t<o;){var s=e[t];s<=21?(12===s&&(s=s<<8|e[++t]),i.push([s,n]),n=[],++t):n.push(r())}return i}},{key:"parseIndex",value:function(e){var t,r,n=new x,a=this.bytes,i=a[e++]<<8|a[e++],o=[],s=e;if(0!==i){var c=a[e++],u=e+(i+1)*c-1;for(t=0,r=i+1;t<r;++t){for(var l=0,f=0;f<c;++f)l<<=8,l+=a[e++];o.push(u+l)}s=o[i]}for(t=0,r=o.length-1;t<r;++t){var h=o[t],d=o[t+1];n.add(a.subarray(h,d))}return{obj:n,endPos:s}}},{key:"parseNameIndex",value:function(e){for(var t=[],r=0,n=e.count;r<n;++r){var i=e.get(r);t.push((0,a.bytesToString)(i))}return t}},{key:"parseStringIndex",value:function(e){for(var t=new S,r=0,n=e.count;r<n;++r){var i=e.get(r);t.add((0,a.bytesToString)(i))}return t}},{key:"createDict",value:function(e,t,r){for(var n=new e(r),a=0,i=t.length;a<i;++a){var o=t[a],s=o[0],c=o[1];n.setByKey(s,c)}return n}},{key:"parseCharString",value:function(e,t,r,n){if(!t||e.callDepth>10)return!1;for(var i=e.stackSize,o=e.stack,s=t.length,c=0;c<s;){var u=t[c++],l=null;if(12===u){var f=t[c++];0===f?(t[c-2]=139,t[c-1]=22,i=0):l=v[f]}else if(28===u)o[i]=(t[c]<<24|t[c+1]<<16)>>16,c+=2,i++;else if(14===u){if(i>=4&&(i-=4,this.seacAnalysisEnabled))return e.seac=o.slice(i,i+4),!1;l=m[u]}else if(u>=32&&u<=246)o[i]=u-139,i++;else if(u>=247&&u<=254)o[i]=u<251?(u-247<<8)+t[c]+108:-(u-251<<8)-t[c]-108,c++,i++;else if(255===u)o[i]=(t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3])/65536,c+=4,i++;else if(19===u||20===u)e.hints+=i>>1,c+=e.hints+7>>3,i%=2,l=m[u];else{if(10===u||29===u){var h=void 0;if(!(h=10===u?r:n))return l=m[u],(0,a.warn)("Missing subrsIndex for "+l.id),!1;var d=32768;h.count<1240?d=107:h.count<33900&&(d=1131);var p=o[--i]+d;if(p<0||p>=h.count||isNaN(p))return l=m[u],(0,a.warn)("Out of bounds subrIndex for "+l.id),!1;if(e.stackSize=i,e.callDepth++,!this.parseCharString(e,h.get(p),r,n))return!1;e.callDepth--,i=e.stackSize;continue}if(11===u)return e.stackSize=i,!0;l=m[u]}if(l){if(l.stem&&(e.hints+=i>>1,3===u||23===u?e.hasVStems=!0:!e.hasVStems||1!==u&&18!==u||((0,a.warn)("CFF stem hints are in wrong order"),t[c-1]=1===u?3:23)),"min"in l&&!e.undefStack&&i<l.min)return(0,a.warn)("Not enough parameters for "+l.id+"; actual: "+i+", expected: "+l.min),!1;e.firstStackClearing&&l.stackClearing&&(e.firstStackClearing=!1,(i-=l.min)>=2&&l.stem?i%=2:i>1&&(0,a.warn)("Found too many parameters for stack-clearing command"),i>0&&(e.width=o[i-1])),"stackDelta"in l?("stackFn"in l&&l.stackFn(o,i),i+=l.stackDelta):l.stackClearing?i=0:l.resetStack?(i=0,e.undefStack=!1):l.undefStack&&(i=0,e.undefStack=!0,e.firstStackClearing=!1)}}return e.stackSize=i,!0}},{key:"parseCharStrings",value:function(e){for(var t=e.charStrings,r=e.localSubrIndex,n=e.globalSubrIndex,i=e.fdSelect,o=e.fdArray,s=e.privateDict,c=[],u=[],l=t.count,f=0;f<l;f++){var h=t.get(f),d={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1},p=!0,g=null,m=s;if(i&&o.length){var v=i.getFDIndex(f);-1===v&&((0,a.warn)("Glyph index is not in fd select."),p=!1),v>=o.length&&((0,a.warn)("Invalid fd index for glyph index."),p=!1),p&&(g=(m=o[v].privateDict).subrsIndex)}else r&&(g=r);if(p&&(p=this.parseCharString(d,h,g,n)),null!==d.width){var y=m.getByName("nominalWidthX");u[f]=y+d.width}else{var b=m.getByName("defaultWidthX");u[f]=b}null!==d.seac&&(c[f]=d.seac),p||t.set(f,new Uint8Array([14]))}return{charStrings:t,seacs:c,widths:u}}},{key:"emptyPrivateDictionary",value:function(e){var t=this.createDict(F,[],e.strings);e.setByKey(18,[0,0]),e.privateDict=t}},{key:"parsePrivateDict",value:function(e){if(e.hasName("Private")){var t=e.getByName("Private");if(Array.isArray(t)&&2===t.length){var r=t[0],n=t[1];if(0===r||n>=this.bytes.length)this.emptyPrivateDictionary(e);else{var a=n+r,i=this.bytes.subarray(n,a),o=this.parseDict(i),s=this.createDict(F,o,e.strings);if(e.privateDict=s,s.getByName("Subrs")){var c=s.getByName("Subrs"),u=n+c;if(0===c||u>=this.bytes.length)this.emptyPrivateDictionary(e);else{var l=this.parseIndex(u);s.subrsIndex=l.obj}}}}else e.removeByName("Private")}else this.emptyPrivateDictionary(e)}},{key:"parseCharsets",value:function(e,t,r,n){if(0===e)return new _(!0,P.ISO_ADOBE,i.ISOAdobeCharset);if(1===e)return new _(!0,P.EXPERT,i.ExpertCharset);if(2===e)return new _(!0,P.EXPERT_SUBSET,i.ExpertSubsetCharset);var o,s,c,u=this.bytes,l=e,f=u[e++],h=[n?0:".notdef"];switch(t-=1,f){case 0:for(c=0;c<t;c++)o=u[e++]<<8|u[e++],h.push(n?o:r.get(o));break;case 1:for(;h.length<=t;)for(o=u[e++]<<8|u[e++],s=u[e++],c=0;c<=s;c++)h.push(n?o++:r.get(o++));break;case 2:for(;h.length<=t;)for(o=u[e++]<<8|u[e++],s=u[e++]<<8|u[e++],c=0;c<=s;c++)h.push(n?o++:r.get(o++));break;default:throw new a.FormatError("Unknown charset format")}var d=e,p=u.subarray(l,d);return new _(!1,f,h,p)}},{key:"parseEncoding",value:function(e,t,r,n){var i,s,c,u=Object.create(null),l=this.bytes,f=!1,h=null;if(0===e||1===e){f=!0,i=e;var d=e?o.ExpertEncoding:o.StandardEncoding;for(s=0,c=n.length;s<c;s++){var p=d.indexOf(n[s]);-1!==p&&(u[p]=s)}}else{var g=e;switch(127&(i=l[e++])){case 0:var m=l[e++];for(s=1;s<=m;s++)u[l[e++]]=s;break;case 1:var v=l[e++],y=1;for(s=0;s<v;s++)for(var b=l[e++],w=l[e++],k=b;k<=b+w;k++)u[k]=y++;break;default:throw new a.FormatError("Unknown encoding format: ".concat(i," in CFF"))}var S=e;128&i&&(l[g]&=127,function(){var t=l[e++];for(s=0;s<t;s++){var a=l[e++],i=(l[e++]<<8)+(255&l[e++]);u[a]=n.indexOf(r.get(i))}}()),h=l.subarray(g,S)}return new I(f,i&=127,u,h)}},{key:"parseFDSelect",value:function(e,t){var r,n=this.bytes,i=n[e++],o=[];switch(i){case 0:for(r=0;r<t;++r){var s=n[e++];o.push(s)}break;case 3:var c=n[e++]<<8|n[e++];for(r=0;r<c;++r){var u=n[e++]<<8|n[e++];0===r&&0!==u&&((0,a.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),u=0);for(var l=n[e++],f=n[e]<<8|n[e+1],h=u;h<f;++h)o.push(l)}e+=2;break;default:throw new a.FormatError('parseFDSelect: Unknown format "'.concat(i,'".'))}if(o.length!==t)throw new a.FormatError("parseFDSelect: Invalid font data.");return new E(i,o)}}]),e}());t.CFFParser=b;var w=function(){function e(){h(this,e),this.header=null,this.names=[],this.topDict=null,this.strings=new S,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}return p(e,[{key:"duplicateFirstGlyph",value:function(){if(this.charStrings.count>=65535)(0,a.warn)("Not enough space in charstrings to duplicate first glyph.");else{var e=this.charStrings.get(0);this.charStrings.add(e),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}}},{key:"hasGlyphId",value:function(e){return!(e<0||e>=this.charStrings.count)&&this.charStrings.get(e).length>0}}]),e}();t.CFF=w;var k=function e(t,r,n,a){h(this,e),this.major=t,this.minor=r,this.hdrSize=n,this.offSize=a};t.CFFHeader=k;var S=function(){function e(){h(this,e),this.strings=[]}return p(e,[{key:"get",value:function(e){return e>=0&&e<=390?g[e]:e-y<=this.strings.length?this.strings[e-y]:g[0]}},{key:"getSID",value:function(e){var t=g.indexOf(e);return-1!==t?t:-1!==(t=this.strings.indexOf(e))?t+y:-1}},{key:"add",value:function(e){this.strings.push(e)}},{key:"count",get:function(){return this.strings.length}}]),e}();t.CFFStrings=S;var x=function(){function e(){h(this,e),this.objects=[],this.length=0}return p(e,[{key:"add",value:function(e){this.length+=e.length,this.objects.push(e)}},{key:"set",value:function(e,t){this.length+=t.length-this.objects[e].length,this.objects[e]=t}},{key:"get",value:function(e){return this.objects[e]}},{key:"count",get:function(){return this.objects.length}}]),e}();t.CFFIndex=x;var A,O,C=function(){function e(t,r){h(this,e),this.keyToNameMap=t.keyToNameMap,this.nameToKeyMap=t.nameToKeyMap,this.defaults=t.defaults,this.types=t.types,this.opcodes=t.opcodes,this.order=t.order,this.strings=r,this.values=Object.create(null)}return p(e,[{key:"setByKey",value:function(e,t){if(!(e in this.keyToNameMap))return!1;var r=t.length;if(0===r)return!0;for(var n=0;n<r;n++)if(isNaN(t[n]))return(0,a.warn)('Invalid CFFDict value: "'+t+'" for key "'+e+'".'),!0;var i=this.types[e];return"num"!==i&&"sid"!==i&&"offset"!==i||(t=t[0]),this.values[e]=t,!0}},{key:"setByName",value:function(e,t){if(!(e in this.nameToKeyMap))throw new a.FormatError('Invalid dictionary name "'.concat(e,'"'));this.values[this.nameToKeyMap[e]]=t}},{key:"hasName",value:function(e){return this.nameToKeyMap[e]in this.values}},{key:"getByName",value:function(e){if(!(e in this.nameToKeyMap))throw new a.FormatError("Invalid dictionary name ".concat(e,'"'));var t=this.nameToKeyMap[e];return t in this.values?this.values[t]:this.defaults[t]}},{key:"removeByName",value:function(e){delete this.values[this.nameToKeyMap[e]]}}],[{key:"createTables",value:function(e){for(var t={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]},r=0,n=e.length;r<n;++r){var a=e[r],i=Array.isArray(a[0])?(a[0][0]<<8)+a[0][1]:a[0];t.keyToNameMap[i]=a[1],t.nameToKeyMap[a[1]]=i,t.types[i]=a[2],t.defaults[i]=a[3],t.opcodes[i]=Array.isArray(a[0])?a[0]:[a[0]],t.order.push(i)}return t}}]),e}(),T=(A=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]],O=null,function(e){s(r,e);var t=u(r);function r(e){var n;return h(this,r),null===O&&(O=C.createTables(A)),(n=t.call(this,O,e)).privateDict=null,n}return r}(C));t.CFFTopDict=T;var F=function(){var e=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]],t=null;return function(r){s(a,r);var n=u(a);function a(r){var i;return h(this,a),null===t&&(t=C.createTables(e)),(i=n.call(this,t,r)).subrsIndex=null,i}return a}(C)}();t.CFFPrivateDict=F;var P={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2},_=function e(t,r,n,a){h(this,e),this.predefined=t,this.format=r,this.charset=n,this.raw=a};t.CFFCharset=_;var I=function e(t,r,n,a){h(this,e),this.predefined=t,this.format=r,this.encoding=n,this.raw=a},E=function(){function e(t,r){h(this,e),this.format=t,this.fdSelect=r}return p(e,[{key:"getFDIndex",value:function(e){return e<0||e>=this.fdSelect.length?-1:this.fdSelect[e]}}]),e}();t.CFFFDSelect=E;var j=function(){function e(){h(this,e),this.offsets=Object.create(null)}return p(e,[{key:"isTracking",value:function(e){return e in this.offsets}},{key:"track",value:function(e,t){if(e in this.offsets)throw new a.FormatError("Already tracking location of ".concat(e));this.offsets[e]=t}},{key:"offset",value:function(e){for(var t in this.offsets)this.offsets[t]+=e}},{key:"setEntryLocation",value:function(e,t,r){if(!(e in this.offsets))throw new a.FormatError("Not tracking location of ".concat(e));for(var n=r.data,i=this.offsets[e],o=0,s=t.length;o<s;++o){var c=5*o+i,u=c+1,l=c+2,f=c+3,h=c+4;if(29!==n[c]||0!==n[u]||0!==n[l]||0!==n[f]||0!==n[h])throw new a.FormatError("writing to an offset that is not empty");var d=t[o];n[c]=29,n[u]=d>>24&255,n[l]=d>>16&255,n[f]=d>>8&255,n[h]=255&d}}}]),e}(),R=function(){function e(t){h(this,e),this.cff=t}return p(e,[{key:"compile",value:function(){var e=this.cff,t={data:[],length:0,add:function(e){this.data=this.data.concat(e),this.length=this.data.length}},r=this.compileHeader(e.header);t.add(r);var n=this.compileNameIndex(e.names);if(t.add(n),e.isCIDFont&&e.topDict.hasName("FontMatrix")){var i=e.topDict.getByName("FontMatrix");e.topDict.removeByName("FontMatrix");for(var o=0,s=e.fdArray.length;o<s;o++){var c=e.fdArray[o],u=i.slice(0);c.hasName("FontMatrix")&&(u=a.Util.transform(u,c.getByName("FontMatrix"))),c.setByName("FontMatrix",u)}}var l=e.topDict.getByName("XUID");l&&l.length>16&&e.topDict.removeByName("XUID"),e.topDict.setByName("charset",0);var f=this.compileTopDicts([e.topDict],t.length,e.isCIDFont);t.add(f.output);var h=f.trackers[0],d=this.compileStringIndex(e.strings.strings);t.add(d);var p=this.compileIndex(e.globalSubrIndex);if(t.add(p),e.encoding&&e.topDict.hasName("Encoding"))if(e.encoding.predefined)h.setEntryLocation("Encoding",[e.encoding.format],t);else{var g=this.compileEncoding(e.encoding);h.setEntryLocation("Encoding",[t.length],t),t.add(g)}var m=this.compileCharset(e.charset,e.charStrings.count,e.strings,e.isCIDFont);h.setEntryLocation("charset",[t.length],t),t.add(m);var v=this.compileCharStrings(e.charStrings);if(h.setEntryLocation("CharStrings",[t.length],t),t.add(v),e.isCIDFont){h.setEntryLocation("FDSelect",[t.length],t);var y=this.compileFDSelect(e.fdSelect);t.add(y),f=this.compileTopDicts(e.fdArray,t.length,!0),h.setEntryLocation("FDArray",[t.length],t),t.add(f.output);var b=f.trackers;this.compilePrivateDicts(e.fdArray,b,t)}return this.compilePrivateDicts([e.topDict],[h],t),t.add([0]),t.data}},{key:"encodeNumber",value:function(e){return Number.isInteger(e)?this.encodeInteger(e):this.encodeFloat(e)}},{key:"encodeFloat",value:function(t){var r=t.toString(),n=e.EncodeFloatRegExp.exec(r);if(n){var a=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));r=(Math.round(t*a)/a).toString()}var i,o,s="";for(i=0,o=r.length;i<o;++i){var c=r[i];s+="e"===c?"-"===r[++i]?"c":"b":"."===c?"a":"-"===c?"e":c}var u=[30];for(i=0,o=(s+=1&s.length?"f":"ff").length;i<o;i+=2)u.push(parseInt(s.substring(i,i+2),16));return u}},{key:"encodeInteger",value:function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[247+((e-=108)>>8),255&e]:e>=-1131&&e<=-108?[251+((e=-e-108)>>8),255&e]:e>=-32768&&e<=32767?[28,e>>8&255,255&e]:[29,e>>24&255,e>>16&255,e>>8&255,255&e]}},{key:"compileHeader",value:function(e){return[e.major,e.minor,4,e.offSize]}},{key:"compileNameIndex",value:function(e){for(var t=new x,r=0,n=e.length;r<n;++r){for(var i=e[r],o=Math.min(i.length,127),s=new Array(o),c=0;c<o;c++){var u=i[c];(u<"!"||u>"~"||"["===u||"]"===u||"("===u||")"===u||"{"===u||"}"===u||"<"===u||">"===u||"/"===u||"%"===u)&&(u="_"),s[c]=u}""===(s=s.join(""))&&(s="Bad_Font_Name"),t.add((0,a.stringToBytes)(s))}return this.compileIndex(t)}},{key:"compileTopDicts",value:function(e,t,r){for(var n=[],a=new x,i=0,o=e.length;i<o;++i){var s=e[i];r&&(s.removeByName("CIDFontVersion"),s.removeByName("CIDFontRevision"),s.removeByName("CIDFontType"),s.removeByName("CIDCount"),s.removeByName("UIDBase"));var c=new j,u=this.compileDict(s,c);n.push(c),a.add(u),c.offset(t)}return{trackers:n,output:a=this.compileIndex(a,n)}}},{key:"compilePrivateDicts",value:function(e,t,r){for(var n=0,i=e.length;n<i;++n){var o=e[n],s=o.privateDict;if(!s||!o.hasName("Private"))throw new a.FormatError("There must be a private dictionary.");var c=new j,u=this.compileDict(s,c),l=r.length;if(c.offset(l),u.length||(l=0),t[n].setEntryLocation("Private",[u.length,l],r),r.add(u),s.subrsIndex&&s.hasName("Subrs")){var f=this.compileIndex(s.subrsIndex);c.setEntryLocation("Subrs",[u.length],r),r.add(f)}}}},{key:"compileDict",value:function(e,t){for(var r=[],n=e.order,i=0;i<n.length;++i){var o=n[i];if(o in e.values){var s=e.values[o],c=e.types[o];if(Array.isArray(c)||(c=[c]),Array.isArray(s)||(s=[s]),0!==s.length){for(var u=0,l=c.length;u<l;++u){var f=c[u],h=s[u];switch(f){case"num":case"sid":r=r.concat(this.encodeNumber(h));break;case"offset":var d=e.keyToNameMap[o];t.isTracking(d)||t.track(d,r.length),r=r.concat([29,0,0,0,0]);break;case"array":case"delta":r=r.concat(this.encodeNumber(h));for(var p=1,g=s.length;p<g;++p)r=r.concat(this.encodeNumber(s[p]));break;default:throw new a.FormatError("Unknown data type of ".concat(f))}}r=r.concat(e.opcodes[o])}}}return r}},{key:"compileStringIndex",value:function(e){for(var t=new x,r=0,n=e.length;r<n;++r)t.add((0,a.stringToBytes)(e[r]));return this.compileIndex(t)}},{key:"compileGlobalSubrIndex",value:function(){var e=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(e))}},{key:"compileCharStrings",value:function(e){for(var t=new x,r=0;r<e.count;r++){var n=e.get(r);0!==n.length?t.add(n):t.add(new Uint8Array([139,14]))}return this.compileIndex(t)}},{key:"compileCharset",value:function(e,t,r,n){var i,o=t-1;if(n)i=new Uint8Array([2,0,0,o>>8&255,255&o]);else{(i=new Uint8Array(1+2*o))[0]=0;for(var s=0,c=e.charset.length,u=!1,l=1;l<i.length;l+=2){var f=0;if(s<c){var h=e.charset[s++];-1===(f=r.getSID(h))&&(f=0,u||(u=!0,(0,a.warn)("Couldn't find ".concat(h," in CFF strings"))))}i[l]=f>>8&255,i[l+1]=255&f}}return this.compileTypedArray(i)}},{key:"compileEncoding",value:function(e){return this.compileTypedArray(e.raw)}},{key:"compileFDSelect",value:function(e){var t,r,n=e.format;switch(n){case 0:for((t=new Uint8Array(1+e.fdSelect.length))[0]=n,r=0;r<e.fdSelect.length;r++)t[r+1]=e.fdSelect[r];break;case 3:var a=e.fdSelect[0],i=[n,0,0,0,0,a];for(r=1;r<e.fdSelect.length;r++){var o=e.fdSelect[r];o!==a&&(i.push(r>>8&255,255&r,o),a=o)}var s=(i.length-3)/3;i[1]=s>>8&255,i[2]=255&s,i.push(r>>8&255,255&r),t=new Uint8Array(i)}return this.compileTypedArray(t)}},{key:"compileTypedArray",value:function(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e[r];return t}},{key:"compileIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.objects,n=r.length;if(0===n)return[0,0,0];var a,i,o=[n>>8&255,255&n],s=1;for(a=0;a<n;++a)s+=r[a].length;i=s<256?1:s<65536?2:s<16777216?3:4,o.push(i);var c=1;for(a=0;a<n+1;a++)1===i?o.push(255&c):2===i?o.push(c>>8&255,255&c):3===i?o.push(c>>16&255,c>>8&255,255&c):o.push(c>>>24&255,c>>16&255,c>>8&255,255&c),r[a]&&(c+=r[a].length);for(a=0;a<n;a++){t[a]&&t[a].offset(o.length);for(var u=0,l=r[a].length;u<l;u++)o.push(r[a][u])}return o}}],[{key:"EncodeFloatRegExp",get:function(){return(0,a.shadow)(this,"EncodeFloatRegExp",/\\.(\\d*?)(?:9{5,20}|0{5,20})\\d{0,2}(?:e(.+)|$)/)}}]),e}();t.CFFCompiler=R},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISOAdobeCharset=t.ExpertSubsetCharset=t.ExpertCharset=void 0,t.ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],t.ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],t.ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"]},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEncoding=function(e){switch(e){case"WinAnsiEncoding":return o;case"StandardEncoding":return i;case"MacRomanEncoding":return a;case"SymbolSetEncoding":return s;case"ZapfDingbatsEncoding":return c;case"ExpertEncoding":return r;case"MacExpertEncoding":return n;default:return null}},t.ZapfDingbatsEncoding=t.WinAnsiEncoding=t.SymbolSetEncoding=t.StandardEncoding=t.MacRomanEncoding=t.ExpertEncoding=void 0;var r=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];t.ExpertEncoding=r;var n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],a=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];t.MacRomanEncoding=a;var i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];t.StandardEncoding=i;var o=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];t.WinAnsiEncoding=o;var s=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];t.SymbolSetEncoding=s;var c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];t.ZapfDingbatsEncoding=c},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFontType=function(e,t){switch(e){case"Type1":return"Type1C"===t?n.FontType.TYPE1C:n.FontType.TYPE1;case"CIDFontType0":return"CIDFontType0C"===t?n.FontType.CIDFONTTYPE0C:n.FontType.CIDFONTTYPE0;case"OpenType":return n.FontType.OPENTYPE;case"TrueType":return n.FontType.TRUETYPE;case"CIDFontType2":return n.FontType.CIDFONTTYPE2;case"MMType1":return n.FontType.MMTYPE1;case"Type0":return n.FontType.TYPE0;default:return n.FontType.UNKNOWN}},t.recoverGlyphName=c,t.type1FontGlyphMapping=function(e,t,r){var n,o,u,l=Object.create(null),f=!!(e.flags&s.Symbolic);if(e.baseEncodingName)for(u=(0,a.getEncoding)(e.baseEncodingName),o=0;o<u.length;o++)n=r.indexOf(u[o]),l[o]=n>=0?n:0;else if(f)for(o in t)l[o]=t[o];else for(u=a.StandardEncoding,o=0;o<u.length;o++)n=r.indexOf(u[o]),l[o]=n>=0?n:0;var h,d=e.differences;if(d)for(o in d){var p=d[o];if(-1===(n=r.indexOf(p))){h||(h=(0,i.getGlyphsUnicode)());var g=c(p,h);g!==p&&(n=r.indexOf(g))}l[o]=n>=0?n:0}return l},t.SEAC_ANALYSIS_ENABLED=t.MacStandardGlyphOrdering=t.FontFlags=void 0;var n=r(4),a=r(145),i=r(147),o=r(148);t.SEAC_ANALYSIS_ENABLED=!0;var s={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};function c(e,t){if(void 0!==t[e])return e;var r=(0,o.getUnicodeForGlyph)(e,t);if(-1!==r)for(var a in t)if(t[a]===r)return a;return(0,n.info)("Unable to recover a standard glyph name for: "+e),e}t.FontFlags=s,t.MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"]},(e,t,r)=>{"use strict";r.r(t),r.d(t,{getDingbatsGlyphsUnicode:()=>i,getGlyphsUnicode:()=>a});var n=r(117);const a=(0,n.getArrayLookupTableFactory)((function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]})),i=(0,n.getArrayLookupTableFactory)((function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]}))},(e,t,r)=>{"use strict";r.r(t),r.d(t,{getNormalizedUnicodes:()=>u,getUnicodeForGlyph:()=>o,getUnicodeRangeFor:()=>c,mapSpecialUnicodeValues:()=>i,reverseIfRtl:()=>l});var n=r(117);const a=(0,n.getLookupTableFactory)((function(e){e[63721]=169,e[63193]=169,e[63720]=174,e[63194]=174,e[63722]=8482,e[63195]=8482,e[63729]=9127,e[63730]=9128,e[63731]=9129,e[63740]=9131,e[63741]=9132,e[63742]=9133,e[63726]=9121,e[63727]=9122,e[63728]=9123,e[63737]=9124,e[63738]=9125,e[63739]=9126,e[63723]=9115,e[63724]=9116,e[63725]=9117,e[63734]=9118,e[63735]=9119,e[63736]=9120}));function i(e){return e>=65520&&e<=65535?0:e>=62976&&e<=63743?a()[e]||e:173===e?45:e}function o(e,t){let r=t[e];if(void 0!==r)return r;if(!e)return-1;if("u"===e[0]){const t=e.length;let n;if(7===t&&"n"===e[1]&&"i"===e[2])n=e.substring(3);else{if(!(t>=5&&t<=7))return-1;n=e.substring(1)}if(n===n.toUpperCase()&&(r=parseInt(n,16),r>=0))return r}return-1}const s=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function c(e){for(let t=0,r=s.length;t<r;t++){const r=s[t];if(e>=r.begin&&e<r.end)return t}return-1}const u=(0,n.getArrayLookupTableFactory)((function(){return[""," ",""," ",""," ","","",""," ","","IJ","","ij","","L","","l","","n","","s","","D","","D","","d","","LJ","","Lj","","lj","","NJ","","Nj","","nj","","DZ","","Dz","","dz",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","a",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ","",".","","..","","...","","","","","","","","","","!!",""," ","","??","","?!","","!?","","",""," ","","Rs","","a/c","","a/s","","C","","c/o","","c/u","","","","F","","No","","TEL","","","","","","","","","","FAX","","I","","II","","III","","IV","","V","","VI","","VII","","VIII","","IX","","X","","XI","","XII","","L","","C","","D","","M","","i","","ii","","iii","","iv","","v","","vi","","vii","","viii","","ix","","x","","xi","","xii","","l","","c","","d","","m","","","","","","","","","","(1)","","(2)","","(3)","","(4)","","(5)","","(6)","","(7)","","(8)","","(9)","","(10)","","(11)","","(12)","","(13)","","(14)","","(15)","","(16)","","(17)","","(18)","","(19)","","(20)","","1.","","2.","","3.","","4.","","5.","","6.","","7.","","8.","","9.","","10.","","11.","","12.","","13.","","14.","","15.","","16.","","17.","","18.","","19.","","20.","","(a)","","(b)","","(c)","","(d)","","(e)","","(f)","","(g)","","(h)","","(i)","","(j)","","(k)","","(l)","","(m)","","(n)","","(o)","","(p)","","(q)","","(r)","","(s)","","(t)","","(u)","","(v)","","(w)","","(x)","","(y)","","(z)","","","","::=","","==","","===","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","0","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","13","","14","","15","","16","","17","","18","","19","","20","","21","","22","","23","","24","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","13","","14","","15","","16","","17","","18","","19","","20","","21","","22","","23","","24","","25","","26","","27","","28","","29","","30","","31","","ff","","fi","","fl","","ffi","","ffl","","t","","st","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ",""," ",""," ",""," ",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","","_","","_","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}));function l(e){const t=e.length;if(t<=1||!function(e){let t=s[13];return e>=t.begin&&e<t.end||(t=s[11],e>=t.begin&&e<t.end)}(e.charCodeAt(0)))return e;const r=[];for(let n=t-1;n>=0;n--)r.push(e[n]);return r.join("")}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSymbolsFonts=t.getSupplementalGlyphMapForCalibri=t.getSupplementalGlyphMapForArialBlack=t.getStdFontMap=t.getSerifFonts=t.getNonStdFontMap=t.getGlyphMapForStandardFonts=void 0;var n=r(117),a=(0,n.getLookupTableFactory)((function(e){e.ArialNarrow="Helvetica",e["ArialNarrow-Bold"]="Helvetica-Bold",e["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",e["ArialNarrow-Italic"]="Helvetica-Oblique",e.ArialBlack="Helvetica",e["ArialBlack-Bold"]="Helvetica-Bold",e["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",e["ArialBlack-Italic"]="Helvetica-Oblique",e["Arial-Black"]="Helvetica",e["Arial-Black-Bold"]="Helvetica-Bold",e["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",e["Arial-Black-Italic"]="Helvetica-Oblique",e.Arial="Helvetica",e["Arial-Bold"]="Helvetica-Bold",e["Arial-BoldItalic"]="Helvetica-BoldOblique",e["Arial-Italic"]="Helvetica-Oblique",e["Arial-BoldItalicMT"]="Helvetica-BoldOblique",e["Arial-BoldMT"]="Helvetica-Bold",e["Arial-ItalicMT"]="Helvetica-Oblique",e.ArialMT="Helvetica",e["Courier-Bold"]="Courier-Bold",e["Courier-BoldItalic"]="Courier-BoldOblique",e["Courier-Italic"]="Courier-Oblique",e.CourierNew="Courier",e["CourierNew-Bold"]="Courier-Bold",e["CourierNew-BoldItalic"]="Courier-BoldOblique",e["CourierNew-Italic"]="Courier-Oblique",e["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",e["CourierNewPS-BoldMT"]="Courier-Bold",e["CourierNewPS-ItalicMT"]="Courier-Oblique",e.CourierNewPSMT="Courier",e.Helvetica="Helvetica",e["Helvetica-Bold"]="Helvetica-Bold",e["Helvetica-BoldItalic"]="Helvetica-BoldOblique",e["Helvetica-BoldOblique"]="Helvetica-BoldOblique",e["Helvetica-Italic"]="Helvetica-Oblique",e["Helvetica-Oblique"]="Helvetica-Oblique",e["Symbol-Bold"]="Symbol",e["Symbol-BoldItalic"]="Symbol",e["Symbol-Italic"]="Symbol",e.TimesNewRoman="Times-Roman",e["TimesNewRoman-Bold"]="Times-Bold",e["TimesNewRoman-BoldItalic"]="Times-BoldItalic",e["TimesNewRoman-Italic"]="Times-Italic",e.TimesNewRomanPS="Times-Roman",e["TimesNewRomanPS-Bold"]="Times-Bold",e["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",e["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",e["TimesNewRomanPS-BoldMT"]="Times-Bold",e["TimesNewRomanPS-Italic"]="Times-Italic",e["TimesNewRomanPS-ItalicMT"]="Times-Italic",e.TimesNewRomanPSMT="Times-Roman",e["TimesNewRomanPSMT-Bold"]="Times-Bold",e["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",e["TimesNewRomanPSMT-Italic"]="Times-Italic"}));t.getStdFontMap=a;var i=(0,n.getLookupTableFactory)((function(e){e.Calibri="Helvetica",e["Calibri-Bold"]="Helvetica-Bold",e["Calibri-BoldItalic"]="Helvetica-BoldOblique",e["Calibri-Italic"]="Helvetica-Oblique",e.CenturyGothic="Helvetica",e["CenturyGothic-Bold"]="Helvetica-Bold",e["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",e["CenturyGothic-Italic"]="Helvetica-Oblique",e.ComicSansMS="Comic Sans MS",e["ComicSansMS-Bold"]="Comic Sans MS-Bold",e["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",e["ComicSansMS-Italic"]="Comic Sans MS-Italic",e.LucidaConsole="Courier",e["LucidaConsole-Bold"]="Courier-Bold",e["LucidaConsole-BoldItalic"]="Courier-BoldOblique",e["LucidaConsole-Italic"]="Courier-Oblique",e["LucidaSans-Demi"]="Helvetica-Bold",e["MS-Gothic"]="MS Gothic",e["MS-Gothic-Bold"]="MS Gothic-Bold",e["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",e["MS-Gothic-Italic"]="MS Gothic-Italic",e["MS-Mincho"]="MS Mincho",e["MS-Mincho-Bold"]="MS Mincho-Bold",e["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",e["MS-Mincho-Italic"]="MS Mincho-Italic",e["MS-PGothic"]="MS PGothic",e["MS-PGothic-Bold"]="MS PGothic-Bold",e["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",e["MS-PGothic-Italic"]="MS PGothic-Italic",e["MS-PMincho"]="MS PMincho",e["MS-PMincho-Bold"]="MS PMincho-Bold",e["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",e["MS-PMincho-Italic"]="MS PMincho-Italic",e.NuptialScript="Times-Italic",e.SegoeUISymbol="Helvetica",e.Wingdings="ZapfDingbats",e["Wingdings-Regular"]="ZapfDingbats"}));t.getNonStdFontMap=i;var o=(0,n.getLookupTableFactory)((function(e){e["Adobe Jenson"]=!0,e["Adobe Text"]=!0,e.Albertus=!0,e.Aldus=!0,e.Alexandria=!0,e.Algerian=!0,e["American Typewriter"]=!0,e.Antiqua=!0,e.Apex=!0,e.Arno=!0,e.Aster=!0,e.Aurora=!0,e.Baskerville=!0,e.Bell=!0,e.Bembo=!0,e["Bembo Schoolbook"]=!0,e.Benguiat=!0,e["Berkeley Old Style"]=!0,e["Bernhard Modern"]=!0,e["Berthold City"]=!0,e.Bodoni=!0,e["Bauer Bodoni"]=!0,e["Book Antiqua"]=!0,e.Bookman=!0,e["Bordeaux Roman"]=!0,e["Californian FB"]=!0,e.Calisto=!0,e.Calvert=!0,e.Capitals=!0,e.Cambria=!0,e.Cartier=!0,e.Caslon=!0,e.Catull=!0,e.Centaur=!0,e["Century Old Style"]=!0,e["Century Schoolbook"]=!0,e.Chaparral=!0,e["Charis SIL"]=!0,e.Cheltenham=!0,e["Cholla Slab"]=!0,e.Clarendon=!0,e.Clearface=!0,e.Cochin=!0,e.Colonna=!0,e["Computer Modern"]=!0,e["Concrete Roman"]=!0,e.Constantia=!0,e["Cooper Black"]=!0,e.Corona=!0,e.Ecotype=!0,e.Egyptienne=!0,e.Elephant=!0,e.Excelsior=!0,e.Fairfield=!0,e["FF Scala"]=!0,e.Folkard=!0,e.Footlight=!0,e.FreeSerif=!0,e["Friz Quadrata"]=!0,e.Garamond=!0,e.Gentium=!0,e.Georgia=!0,e.Gloucester=!0,e["Goudy Old Style"]=!0,e["Goudy Schoolbook"]=!0,e["Goudy Pro Font"]=!0,e.Granjon=!0,e["Guardian Egyptian"]=!0,e.Heather=!0,e.Hercules=!0,e["High Tower Text"]=!0,e.Hiroshige=!0,e["Hoefler Text"]=!0,e["Humana Serif"]=!0,e.Imprint=!0,e["Ionic No. 5"]=!0,e.Janson=!0,e.Joanna=!0,e.Korinna=!0,e.Lexicon=!0,e["Liberation Serif"]=!0,e["Linux Libertine"]=!0,e.Literaturnaya=!0,e.Lucida=!0,e["Lucida Bright"]=!0,e.Melior=!0,e.Memphis=!0,e.Miller=!0,e.Minion=!0,e.Modern=!0,e["Mona Lisa"]=!0,e["Mrs Eaves"]=!0,e["MS Serif"]=!0,e["Museo Slab"]=!0,e["New York"]=!0,e["Nimbus Roman"]=!0,e["NPS Rawlinson Roadway"]=!0,e.NuptialScript=!0,e.Palatino=!0,e.Perpetua=!0,e.Plantin=!0,e["Plantin Schoolbook"]=!0,e.Playbill=!0,e["Poor Richard"]=!0,e["Rawlinson Roadway"]=!0,e.Renault=!0,e.Requiem=!0,e.Rockwell=!0,e.Roman=!0,e["Rotis Serif"]=!0,e.Sabon=!0,e.Scala=!0,e.Seagull=!0,e.Sistina=!0,e.Souvenir=!0,e.STIX=!0,e["Stone Informal"]=!0,e["Stone Serif"]=!0,e.Sylfaen=!0,e.Times=!0,e.Trajan=!0,e["Trinit"]=!0,e["Trump Mediaeval"]=!0,e.Utopia=!0,e["Vale Type"]=!0,e["Bitstream Vera"]=!0,e["Vera Serif"]=!0,e.Versailles=!0,e.Wanted=!0,e.Weiss=!0,e["Wide Latin"]=!0,e.Windsor=!0,e.XITS=!0}));t.getSerifFonts=o;var s=(0,n.getLookupTableFactory)((function(e){e.Dingbats=!0,e.Symbol=!0,e.ZapfDingbats=!0}));t.getSymbolsFonts=s;var c=(0,n.getLookupTableFactory)((function(e){e[2]=10,e[3]=32,e[4]=33,e[5]=34,e[6]=35,e[7]=36,e[8]=37,e[9]=38,e[10]=39,e[11]=40,e[12]=41,e[13]=42,e[14]=43,e[15]=44,e[16]=45,e[17]=46,e[18]=47,e[19]=48,e[20]=49,e[21]=50,e[22]=51,e[23]=52,e[24]=53,e[25]=54,e[26]=55,e[27]=56,e[28]=57,e[29]=58,e[30]=894,e[31]=60,e[32]=61,e[33]=62,e[34]=63,e[35]=64,e[36]=65,e[37]=66,e[38]=67,e[39]=68,e[40]=69,e[41]=70,e[42]=71,e[43]=72,e[44]=73,e[45]=74,e[46]=75,e[47]=76,e[48]=77,e[49]=78,e[50]=79,e[51]=80,e[52]=81,e[53]=82,e[54]=83,e[55]=84,e[56]=85,e[57]=86,e[58]=87,e[59]=88,e[60]=89,e[61]=90,e[62]=91,e[63]=92,e[64]=93,e[65]=94,e[66]=95,e[67]=96,e[68]=97,e[69]=98,e[70]=99,e[71]=100,e[72]=101,e[73]=102,e[74]=103,e[75]=104,e[76]=105,e[77]=106,e[78]=107,e[79]=108,e[80]=109,e[81]=110,e[82]=111,e[83]=112,e[84]=113,e[85]=114,e[86]=115,e[87]=116,e[88]=117,e[89]=118,e[90]=119,e[91]=120,e[92]=121,e[93]=122,e[94]=123,e[95]=124,e[96]=125,e[97]=126,e[98]=196,e[99]=197,e[100]=199,e[101]=201,e[102]=209,e[103]=214,e[104]=220,e[105]=225,e[106]=224,e[107]=226,e[108]=228,e[109]=227,e[110]=229,e[111]=231,e[112]=233,e[113]=232,e[114]=234,e[115]=235,e[116]=237,e[117]=236,e[118]=238,e[119]=239,e[120]=241,e[121]=243,e[122]=242,e[123]=244,e[124]=246,e[125]=245,e[126]=250,e[127]=249,e[128]=251,e[129]=252,e[130]=8224,e[131]=176,e[132]=162,e[133]=163,e[134]=167,e[135]=8226,e[136]=182,e[137]=223,e[138]=174,e[139]=169,e[140]=8482,e[141]=180,e[142]=168,e[143]=8800,e[144]=198,e[145]=216,e[146]=8734,e[147]=177,e[148]=8804,e[149]=8805,e[150]=165,e[151]=181,e[152]=8706,e[153]=8721,e[154]=8719,e[156]=8747,e[157]=170,e[158]=186,e[159]=8486,e[160]=230,e[161]=248,e[162]=191,e[163]=161,e[164]=172,e[165]=8730,e[166]=402,e[167]=8776,e[168]=8710,e[169]=171,e[170]=187,e[171]=8230,e[210]=218,e[223]=711,e[224]=321,e[225]=322,e[227]=353,e[229]=382,e[234]=253,e[252]=263,e[253]=268,e[254]=269,e[258]=258,e[260]=260,e[261]=261,e[265]=280,e[266]=281,e[268]=283,e[269]=313,e[275]=323,e[276]=324,e[278]=328,e[284]=345,e[285]=346,e[286]=347,e[292]=367,e[295]=377,e[296]=378,e[298]=380,e[305]=963,e[306]=964,e[307]=966,e[308]=8215,e[309]=8252,e[310]=8319,e[311]=8359,e[312]=8592,e[313]=8593,e[337]=9552,e[493]=1039,e[494]=1040,e[705]=1524,e[706]=8362,e[710]=64288,e[711]=64298,e[759]=1617,e[761]=1776,e[763]=1778,e[775]=1652,e[777]=1764,e[778]=1780,e[779]=1781,e[780]=1782,e[782]=771,e[783]=64726,e[786]=8363,e[788]=8532,e[790]=768,e[791]=769,e[792]=768,e[795]=803,e[797]=64336,e[798]=64337,e[799]=64342,e[800]=64343,e[801]=64344,e[802]=64345,e[803]=64362,e[804]=64363,e[805]=64364,e[2424]=7821,e[2425]=7822,e[2426]=7823,e[2427]=7824,e[2428]=7825,e[2429]=7826,e[2430]=7827,e[2433]=7682,e[2678]=8045,e[2679]=8046,e[2830]=1552,e[2838]=686,e[2840]=751,e[2842]=753,e[2843]=754,e[2844]=755,e[2846]=757,e[2856]=767,e[2857]=848,e[2858]=849,e[2862]=853,e[2863]=854,e[2864]=855,e[2865]=861,e[2866]=862,e[2906]=7460,e[2908]=7462,e[2909]=7463,e[2910]=7464,e[2912]=7466,e[2913]=7467,e[2914]=7468,e[2916]=7470,e[2917]=7471,e[2918]=7472,e[2920]=7474,e[2921]=7475,e[2922]=7476,e[2924]=7478,e[2925]=7479,e[2926]=7480,e[2928]=7482,e[2929]=7483,e[2930]=7484,e[2932]=7486,e[2933]=7487,e[2934]=7488,e[2936]=7490,e[2937]=7491,e[2938]=7492,e[2940]=7494,e[2941]=7495,e[2942]=7496,e[2944]=7498,e[2946]=7500,e[2948]=7502,e[2950]=7504,e[2951]=7505,e[2952]=7506,e[2954]=7508,e[2955]=7509,e[2956]=7510,e[2958]=7512,e[2959]=7513,e[2960]=7514,e[2962]=7516,e[2963]=7517,e[2964]=7518,e[2966]=7520,e[2967]=7521,e[2968]=7522,e[2970]=7524,e[2971]=7525,e[2972]=7526,e[2974]=7528,e[2975]=7529,e[2976]=7530,e[2978]=1537,e[2979]=1538,e[2980]=1539,e[2982]=1549,e[2983]=1551,e[2984]=1552,e[2986]=1554,e[2987]=1555,e[2988]=1556,e[2990]=1623,e[2991]=1624,e[2995]=1775,e[2999]=1791,e[3002]=64290,e[3003]=64291,e[3004]=64292,e[3006]=64294,e[3007]=64295,e[3008]=64296,e[3011]=1900,e[3014]=8223,e[3015]=8244,e[3017]=7532,e[3018]=7533,e[3019]=7534,e[3075]=7590,e[3076]=7591,e[3079]=7594,e[3080]=7595,e[3083]=7598,e[3084]=7599,e[3087]=7602,e[3088]=7603,e[3091]=7606,e[3092]=7607,e[3095]=7610,e[3096]=7611,e[3099]=7614,e[3100]=7615,e[3103]=7618,e[3104]=7619,e[3107]=8337,e[3108]=8338,e[3116]=1884,e[3119]=1885,e[3120]=1885,e[3123]=1886,e[3124]=1886,e[3127]=1887,e[3128]=1887,e[3131]=1888,e[3132]=1888,e[3135]=1889,e[3136]=1889,e[3139]=1890,e[3140]=1890,e[3143]=1891,e[3144]=1891,e[3147]=1892,e[3148]=1892,e[3153]=580,e[3154]=581,e[3157]=584,e[3158]=585,e[3161]=588,e[3162]=589,e[3165]=891,e[3166]=892,e[3169]=1274,e[3170]=1275,e[3173]=1278,e[3174]=1279,e[3181]=7622,e[3182]=7623,e[3282]=11799,e[3316]=578,e[3379]=42785,e[3393]=1159,e[3416]=8377}));t.getGlyphMapForStandardFonts=c;var u=(0,n.getLookupTableFactory)((function(e){e[227]=322,e[264]=261,e[291]=346}));t.getSupplementalGlyphMapForArialBlack=u;var l=(0,n.getLookupTableFactory)((function(e){e[1]=32,e[4]=65,e[17]=66,e[18]=67,e[24]=68,e[28]=69,e[38]=70,e[39]=71,e[44]=72,e[47]=73,e[58]=74,e[60]=75,e[62]=76,e[68]=77,e[69]=78,e[75]=79,e[87]=80,e[89]=81,e[90]=82,e[94]=83,e[100]=84,e[104]=85,e[115]=86,e[116]=87,e[121]=88,e[122]=89,e[127]=90,e[258]=97,e[268]=261,e[271]=98,e[272]=99,e[273]=263,e[282]=100,e[286]=101,e[295]=281,e[296]=102,e[336]=103,e[346]=104,e[349]=105,e[361]=106,e[364]=107,e[367]=108,e[371]=322,e[373]=109,e[374]=110,e[381]=111,e[383]=243,e[393]=112,e[395]=113,e[396]=114,e[400]=115,e[401]=347,e[410]=116,e[437]=117,e[448]=118,e[449]=119,e[454]=120,e[455]=121,e[460]=122,e[463]=380,e[853]=44,e[855]=58,e[856]=46,e[876]=47,e[878]=45,e[882]=45,e[894]=40,e[895]=41,e[896]=91,e[897]=93,e[923]=64,e[1004]=48,e[1005]=49,e[1006]=50,e[1007]=51,e[1008]=52,e[1009]=53,e[1010]=54,e[1011]=55,e[1012]=56,e[1013]=57,e[1081]=37,e[1085]=43,e[1086]=45}));t.getSupplementalGlyphMapForCalibri=l},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToUnicodeMap=t.IdentityToUnicodeMap=void 0;var n=r(4);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,e),this._map=t}return o(e,[{key:"length",get:function(){return this._map.length}},{key:"forEach",value:function(e){for(var t in this._map)e(t,this._map[t].charCodeAt(0))}},{key:"has",value:function(e){return void 0!==this._map[e]}},{key:"get",value:function(e){return this._map[e]}},{key:"charCodeOf",value:function(e){var t=this._map;if(t.length<=65536)return t.indexOf(e);for(var r in t)if(t[r]===e)return 0|r;return-1}},{key:"amend",value:function(e){for(var t in e)this._map[t]=e[t]}}]),e}();t.ToUnicodeMap=s;var c=function(){function e(t,r){a(this,e),this.firstChar=t,this.lastChar=r}return o(e,[{key:"length",get:function(){return this.lastChar+1-this.firstChar}},{key:"forEach",value:function(e){for(var t=this.firstChar,r=this.lastChar;t<=r;t++)e(t,t)}},{key:"has",value:function(e){return this.firstChar<=e&&e<=this.lastChar}},{key:"get",value:function(e){if(this.firstChar<=e&&e<=this.lastChar)return String.fromCharCode(e)}},{key:"charCodeOf",value:function(e){return Number.isInteger(e)&&e>=this.firstChar&&e<=this.lastChar?e:-1}},{key:"amend",value:function(e){(0,n.unreachable)("Should not call amend()")}}]),e}();t.IdentityToUnicodeMap=c},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CFFFont=void 0;var n=r(143),a=r(146),i=r(4);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.properties=r;var o=new n.CFFParser(t,r,a.SEAC_ANALYSIS_ENABLED);this.cff=o.parse(),this.cff.duplicateFirstGlyph();var s=new n.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=s.compile()}catch(e){(0,i.warn)("Failed to compile font "+r.loadedName),this.data=t}this._createBuiltInEncoding()}var t,r,s;return t=e,(r=[{key:"numGlyphs",get:function(){return this.cff.charStrings.count}},{key:"getCharset",value:function(){return this.cff.charset.charset}},{key:"getGlyphMapping",value:function(){var e,t,r=this.cff,n=this.properties,i=r.charset.charset;if(n.composite){if(e=Object.create(null),r.isCIDFont)for(t=0;t<i.length;t++){var o=i[t];e[n.cMap.charCodeOf(o)]=t}else for(t=0;t<r.charStrings.count;t++)e[n.cMap.charCodeOf(t)]=t;return e}var s=r.encoding?r.encoding.encoding:null;return e=(0,a.type1FontGlyphMapping)(n,s,i)}},{key:"hasGlyphId",value:function(e){return this.cff.hasGlyphId(e)}},{key:"_createBuiltInEncoding",value:function(){var e=this.cff,t=e.charset,r=e.encoding;if(t&&r){var n=t.charset,a=r.encoding,i=[];for(var o in a){var s=a[o];if(s>=0){var c=n[s];c&&(i[o]=c)}}i.length>0&&(this.properties.builtInEncoding=i)}}}])&&o(t.prototype,r),s&&o(t,s),e}();t.CFFFont=s},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.FontRendererFactory=void 0;var a=r(4),i=r(143),o=r(147),s=r(145),c=r(118);function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}function v(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function y(e,t){return e[t]<<8|e[t+1]}function b(e){var t=e.length,r=32768;return t<1240?r=107:t<33900&&(r=1131),r}function w(e,t,r){var n,i,o,s=1===y(e,t+2)?v(e,t+8):v(e,t+16),c=y(e,t+s);if(4===c){y(e,t+s+2);var u=y(e,t+s+6)>>1;for(i=t+s+14,n=[],o=0;o<u;o++,i+=2)n[o]={end:y(e,i)};for(i+=2,o=0;o<u;o++,i+=2)n[o].start=y(e,i);for(o=0;o<u;o++,i+=2)n[o].idDelta=y(e,i);for(o=0;o<u;o++,i+=2){var l=y(e,i);if(0!==l){n[o].ids=[];for(var f=0,h=n[o].end-n[o].start+1;f<h;f++)n[o].ids[f]=y(e,i+l),l+=2}}return n}if(12===c){v(e,t+s+4);var d=v(e,t+s+12);for(i=t+s+16,n=[],o=0;o<d;o++)n.push({start:v(e,i),end:v(e,i+4),idDelta:v(e,i+8)-v(e,i)}),i+=12;return n}throw new a.FormatError("unsupported cmap: ".concat(c))}function k(e,t,r,n){var a=new i.CFFParser(new c.Stream(e,t,r-t),{},n).parse();return{glyphs:a.charStrings.objects,subrs:a.topDict.privateDict&&a.topDict.privateDict.subrsIndex&&a.topDict.privateDict.subrsIndex.objects,gsubrs:a.globalSubrIndex&&a.globalSubrIndex.objects,isCFFCIDFont:a.isCIDFont,fdSelect:a.fdSelect,fdArray:a.fdArray}}function S(e,t){for(var r=t.codePointAt(0),n=0,a=0,i=e.length-1;a<i;){var o=a+i+1>>1;r<e[o].start?i=o-1:a=o}return e[a].start<=r&&r<=e[a].end&&(n=e[a].idDelta+(e[a].ids?e[a].ids[r-e[a].start]:r)&65535),{charCode:r,glyphId:n}}function x(e,t,r){function n(e,r){t.push({cmd:"moveTo",args:[e,r]})}function a(e,r){t.push({cmd:"lineTo",args:[e,r]})}function i(e,r,n,a){t.push({cmd:"quadraticCurveTo",args:[e,r,n,a]})}var o,s=0,c=(e[s]<<24|e[s+1]<<16)>>16,u=0,l=0;if(s+=10,c<0)do{o=e[s]<<8|e[s+1];var f=e[s+2]<<8|e[s+3];s+=4;var h=void 0,d=void 0;1&o?(h=(e[s]<<24|e[s+1]<<16)>>16,d=(e[s+2]<<24|e[s+3]<<16)>>16,s+=4):(h=e[s++],d=e[s++]),2&o?(u=h,l=d):(u=0,l=0);var p=1,g=1,m=0,v=0;8&o?(p=g=(e[s]<<24|e[s+1]<<16)/1073741824,s+=2):64&o?(p=(e[s]<<24|e[s+1]<<16)/1073741824,g=(e[s+2]<<24|e[s+3]<<16)/1073741824,s+=4):128&o&&(p=(e[s]<<24|e[s+1]<<16)/1073741824,m=(e[s+2]<<24|e[s+3]<<16)/1073741824,v=(e[s+4]<<24|e[s+5]<<16)/1073741824,g=(e[s+6]<<24|e[s+7]<<16)/1073741824,s+=8);var y=r.glyphs[f];y&&(t.push({cmd:"save"},{cmd:"transform",args:[p,m,v,g,u,l]}),x(y,t,r),t.push({cmd:"restore"}))}while(32&o);else{var b,w,k=[];for(b=0;b<c;b++)k.push(e[s]<<8|e[s+1]),s+=2;s+=2+(e[s]<<8|e[s+1]);for(var S=k[k.length-1]+1,A=[];A.length<S;){var O=1;for(8&(o=e[s++])&&(O+=e[s++]);O-- >0;)A.push({flags:o})}for(b=0;b<S;b++){switch(18&A[b].flags){case 0:u+=(e[s]<<24|e[s+1]<<16)>>16,s+=2;break;case 2:u-=e[s++];break;case 18:u+=e[s++]}A[b].x=u}for(b=0;b<S;b++){switch(36&A[b].flags){case 0:l+=(e[s]<<24|e[s+1]<<16)>>16,s+=2;break;case 4:l-=e[s++];break;case 36:l+=e[s++]}A[b].y=l}var C=0;for(s=0;s<c;s++){var T=k[s],F=A.slice(C,T+1);if(1&F[0].flags)F.push(F[0]);else if(1&F[F.length-1].flags)F.unshift(F[F.length-1]);else{var P={flags:1,x:(F[0].x+F[F.length-1].x)/2,y:(F[0].y+F[F.length-1].y)/2};F.unshift(P),F.push(P)}for(n(F[0].x,F[0].y),b=1,w=F.length;b<w;b++)1&F[b].flags?a(F[b].x,F[b].y):1&F[b+1].flags?(i(F[b].x,F[b].y,F[b+1].x,F[b+1].y),b++):i(F[b].x,F[b].y,(F[b].x+F[b+1].x)/2,(F[b].y+F[b+1].y)/2);C=T+1}}}function A(e,t,r,n){function i(e,r){t.push({cmd:"moveTo",args:[e,r]})}function o(e,r){t.push({cmd:"lineTo",args:[e,r]})}function c(e,r,n,a,i,o){t.push({cmd:"bezierCurveTo",args:[e,r,n,a,i,o]})}var u=[],l=0,f=0,h=0;!function e(d){for(var p=0;p<d.length;){var g=!1,m=d[p++],v=void 0,y=void 0,w=void 0,k=void 0,x=void 0,O=void 0,C=void 0,T=void 0;switch(m){case 1:case 3:case 18:case 23:h+=u.length>>1,g=!0;break;case 4:f+=u.pop(),i(l,f),g=!0;break;case 5:for(;u.length>0;)l+=u.shift(),f+=u.shift(),o(l,f);break;case 6:for(;u.length>0&&(o(l+=u.shift(),f),0!==u.length);)f+=u.shift(),o(l,f);break;case 7:for(;u.length>0&&(f+=u.shift(),o(l,f),0!==u.length);)o(l+=u.shift(),f);break;case 8:for(;u.length>0;)v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+u.shift(),c(v,w,y,k,l,f);break;case 10:if(C=u.pop(),T=null,r.isCFFCIDFont){var F=r.fdSelect.getFDIndex(n);if(F>=0&&F<r.fdArray.length){var P=r.fdArray[F],_=void 0;P.privateDict&&P.privateDict.subrsIndex&&(_=P.privateDict.subrsIndex.objects),_&&(T=_[C+=b(_)])}else(0,a.warn)("Invalid fd index for glyph index.")}else T=r.subrs[C+r.subrsBias];T&&e(T);break;case 11:return;case 12:switch(m=d[p++]){case 34:y=(v=l+u.shift())+u.shift(),x=f+u.shift(),l=y+u.shift(),c(v,f,y,x,l,x),y=(v=l+u.shift())+u.shift(),l=y+u.shift(),c(v,x,y,f,l,f);break;case 35:v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+u.shift(),c(v,w,y,k,l,f),v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+u.shift(),c(v,w,y,k,l,f),u.pop();break;case 36:c(v=l+u.shift(),x=f+u.shift(),y=v+u.shift(),O=x+u.shift(),l=y+u.shift(),O),c(v=l+u.shift(),O,y=v+u.shift(),O+u.shift(),l=y+u.shift(),f);break;case 37:var I=l,E=f;v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+u.shift(),c(v,w,y,k,l,f),v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y,f=k,Math.abs(l-I)>Math.abs(f-E)?l+=u.shift():f+=u.shift(),c(v,w,y,k,l,f);break;default:throw new a.FormatError("unknown operator: 12 ".concat(m))}break;case 14:if(u.length>=4){var j=u.pop(),R=u.pop();f=u.pop(),l=u.pop(),t.push({cmd:"save"},{cmd:"translate",args:[l,f]});var M=S(r.cmap,String.fromCharCode(r.glyphNameMap[s.StandardEncoding[j]]));A(r.glyphs[M.glyphId],t,r,M.glyphId),t.push({cmd:"restore"}),M=S(r.cmap,String.fromCharCode(r.glyphNameMap[s.StandardEncoding[R]])),A(r.glyphs[M.glyphId],t,r,M.glyphId)}return;case 19:case 20:p+=(h+=u.length>>1)+7>>3,g=!0;break;case 21:f+=u.pop(),i(l+=u.pop(),f),g=!0;break;case 22:i(l+=u.pop(),f),g=!0;break;case 24:for(;u.length>2;)v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+u.shift(),c(v,w,y,k,l,f);l+=u.shift(),f+=u.shift(),o(l,f);break;case 25:for(;u.length>6;)l+=u.shift(),f+=u.shift(),o(l,f);v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+u.shift(),c(v,w,y,k,l,f);break;case 26:for(u.length%2&&(l+=u.shift());u.length>0;)v=l,w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y,f=k+u.shift(),c(v,w,y,k,l,f);break;case 27:for(u.length%2&&(f+=u.shift());u.length>0;)c(v=l+u.shift(),w=f,y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k);break;case 28:u.push((d[p]<<24|d[p+1]<<16)>>16),p+=2;break;case 29:C=u.pop()+r.gsubrsBias,(T=r.gsubrs[C])&&e(T);break;case 30:for(;u.length>0&&(v=l,w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+(1===u.length?u.shift():0),c(v,w,y,k,l,f),0!==u.length);)v=l+u.shift(),w=f,y=v+u.shift(),k=w+u.shift(),f=k+u.shift(),c(v,w,y,k,l=y+(1===u.length?u.shift():0),f);break;case 31:for(;u.length>0&&(v=l+u.shift(),w=f,y=v+u.shift(),k=w+u.shift(),f=k+u.shift(),c(v,w,y,k,l=y+(1===u.length?u.shift():0),f),0!==u.length);)v=l,w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+(1===u.length?u.shift():0),c(v,w,y,k,l,f);break;default:if(m<32)throw new a.FormatError("unknown operator: ".concat(m));m<247?u.push(m-139):m<251?u.push(256*(m-247)+d[p++]+108):m<255?u.push(256*-(m-251)-d[p++]-108):(u.push((d[p]<<24|d[p+1]<<16|d[p+2]<<8|d[p+3])/65536),p+=4)}g&&(u.length=0)}}(e)}var O=[],C=function(){function e(t){p(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=t,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}return m(e,[{key:"getPathJs",value:function(e){var t=S(this.cmap,e),r=t.charCode,n=t.glyphId,a=this.compiledGlyphs[n];if(!a)try{a=this.compileGlyph(this.glyphs[n],n),this.compiledGlyphs[n]=a}catch(e){throw this.compiledGlyphs[n]=O,void 0===this.compiledCharCodeToGlyphId[r]&&(this.compiledCharCodeToGlyphId[r]=n),e}return void 0===this.compiledCharCodeToGlyphId[r]&&(this.compiledCharCodeToGlyphId[r]=n),a}},{key:"compileGlyph",value:function(e,t){if(!e||0===e.length||14===e[0])return O;var r=this.fontMatrix;if(this.isCFFCIDFont){var n=this.fdSelect.getFDIndex(t);n>=0&&n<this.fdArray.length?r=this.fdArray[n].getByName("FontMatrix")||a.FONT_IDENTITY_MATRIX:(0,a.warn)("Invalid fd index for glyph index.")}var i=[{cmd:"save"},{cmd:"transform",args:r.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(e,i,t),i.push({cmd:"restore"}),i}},{key:"compileGlyphImpl",value:function(){(0,a.unreachable)("Children classes should implement this.")}},{key:"hasBuiltPath",value:function(e){var t=S(this.cmap,e),r=t.charCode,n=t.glyphId;return void 0!==this.compiledGlyphs[n]&&void 0!==this.compiledCharCodeToGlyphId[r]}}]),e}(),T=function(e){u(r,e);var t=f(r);function r(e,n,a){var i;return p(this,r),(i=t.call(this,a||[488e-6,0,0,488e-6,0,0])).glyphs=e,i.cmap=n,i}return m(r,[{key:"compileGlyphImpl",value:function(e,t){x(e,t,this)}}]),r}(C),F=function(e){u(r,e);var t=f(r);function r(e,n,a,i){var s;return p(this,r),(s=t.call(this,a||[.001,0,0,.001,0,0])).glyphs=e.glyphs,s.gsubrs=e.gsubrs||[],s.subrs=e.subrs||[],s.cmap=n,s.glyphNameMap=i||(0,o.getGlyphsUnicode)(),s.gsubrsBias=b(s.gsubrs),s.subrsBias=b(s.subrs),s.isCFFCIDFont=e.isCFFCIDFont,s.fdSelect=e.fdSelect,s.fdArray=e.fdArray,s}return m(r,[{key:"compileGlyphImpl",value:function(e,t,r){A(e,t,this,r)}}]),r}(C),P=function(){function e(){p(this,e)}return m(e,null,[{key:"create",value:function(e,t){for(var r,n,i,o,s,c,u=new Uint8Array(e.data),l=y(u,4),f=0,h=12;f<l;f++,h+=16){var d=(0,a.bytesToString)(u.subarray(h,h+4)),p=v(u,h+8),g=v(u,h+12);switch(d){case"cmap":r=w(u,p);break;case"glyf":n=u.subarray(p,p+g);break;case"loca":i=u.subarray(p,p+g);break;case"head":c=y(u,p+18),s=y(u,p+50);break;case"CFF ":o=k(u,p,p+g,t)}}if(n){var m=c?[1/c,0,0,1/c,0,0]:e.fontMatrix;return new T(function(e,t,r){var n,a;r?(n=4,a=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}):(n=2,a=function(e,t){return e[t]<<9|e[t+1]<<1});for(var i=[],o=a(t,0),s=n;s<t.length;s+=n){var c=a(t,s);i.push(e.subarray(o,c)),o=c}return i}(n,i,s),r,m)}return new F(o,r,e.fontMatrix,e.glyphNameMap)}}]),e}();t.FontRendererFactory=P},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenTypeFileBuilder=void 0;var n=r(117),a=r(4);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){e[t]=r>>8&255,e[t+1]=255&r}function s(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function c(e,t,r){if(r instanceof Uint8Array)e.set(r,t);else if("string"==typeof r)for(var n=0,a=r.length;n<a;n++)e[t++]=255&r.charCodeAt(n);else for(var i=0,o=r.length;i<o;i++)e[t++]=255&r[i]}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sfnt=t,this.tables=Object.create(null)}var t,r,u;return t=e,u=[{key:"getSearchParams",value:function(e,t){for(var r=1,n=0;(r^e)>r;)r<<=1,n++;var a=r*t;return{range:a,entry:n,rangeShift:t*e-a}}}],(r=[{key:"toArray",value:function(){var t=this.sfnt,r=this.tables,i=Object.keys(r);i.sort();var u,l,f,h,d,p=i.length,g=12+16*p,m=[g];for(u=0;u<p;u++)g+=((h=r[i[u]]).length+3&-4)>>>0,m.push(g);var v=new Uint8Array(g);for(u=0;u<p;u++)h=r[i[u]],c(v,m[u],h);"true"===t&&(t=(0,a.string32)(65536)),v[0]=255&t.charCodeAt(0),v[1]=255&t.charCodeAt(1),v[2]=255&t.charCodeAt(2),v[3]=255&t.charCodeAt(3),o(v,4,p);var y=e.getSearchParams(p,16);for(o(v,6,y.range),o(v,8,y.entry),o(v,10,y.rangeShift),g=12,u=0;u<p;u++){d=i[u],v[g]=255&d.charCodeAt(0),v[g+1]=255&d.charCodeAt(1),v[g+2]=255&d.charCodeAt(2),v[g+3]=255&d.charCodeAt(3);var b=0;for(l=m[u],f=m[u+1];l<f;l+=4)b=b+(0,n.readUint32)(v,l)>>>0;s(v,g+4,b),s(v,g+8,m[u]),s(v,g+12,r[d].length),g+=16}return v}},{key:"addTable",value:function(e,t){if(e in this.tables)throw new Error("Table "+e+" already exists");this.tables[e]=t}}])&&i(t.prototype,r),u&&i(t,u),e}();t.OpenTypeFileBuilder=u},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type1Font=void 0;var n=r(143),a=r(146),i=r(117),o=r(118),s=r(155),c=r(4);function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){for(var n=e.length,a=t.length,o=n-a,s=r,c=!1;s<o;){for(var u=0;u<a&&e[s+u]===t[u];)u++;if(u>=a){for(s+=u;s<n&&(0,i.isWhiteSpace)(e[s]);)s++;c=!0;break}s++}return{found:c,length:s}}var f=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n.length1,u=(n.length2,r.peekBytes(6)),f=128===u[0]&&1===u[1];f&&(r.skip(6),i=u[5]<<24|u[4]<<16|u[3]<<8|u[2]);var h=function(e,t){var r,n,a,i,s=[101,101,120,101,99],u=e.pos;try{n=(r=e.getBytes(t)).length}catch(e){}if(n===t&&(a=l(r,s,t-2*s.length)).found&&a.length===t)return{stream:new o.Stream(r),length:t};for((0,c.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),e.pos=u;0!==(a=l(e.peekBytes(2048),s,0)).length;)if(e.pos+=a.length,a.found){i=e.pos-u;break}return e.pos=u,i?{stream:new o.Stream(e.getBytes(i)),length:i}:((0,c.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new o.Stream(e.getBytes(t)),length:t})}(r,i);new s.Type1Parser(h.stream,!1,a.SEAC_ANALYSIS_ENABLED).extractFontHeader(n),f&&((u=r.getBytes(6))[5],u[4],u[3],u[2]);var d,p=(d=r.getBytes(),{stream:new o.Stream(d),length:d.length}),g=new s.Type1Parser(p.stream,!0,a.SEAC_ANALYSIS_ENABLED).extractFontProgram(n);for(var m in g.properties)n[m]=g.properties[m];var v=g.charstrings,y=this.getType2Charstrings(v),b=this.getType2Subrs(g.subrs);this.charstrings=v,this.data=this.wrap(t,y,this.charstrings,b,n),this.seacs=this.getSeacs(g.charstrings)}var t,r,i;return t=e,(r=[{key:"numGlyphs",get:function(){return this.charstrings.length+1}},{key:"getCharset",value:function(){for(var e=[".notdef"],t=this.charstrings,r=0;r<t.length;r++)e.push(t[r].glyphName);return e}},{key:"getGlyphMapping",value:function(e){var t=this.charstrings;if(e.composite){for(var r=Object.create(null),n=0,i=t.length;n<i;n++)r[e.cMap.charCodeOf(n)]=n+1;return r}var o,s,c=[".notdef"];for(s=0;s<t.length;s++)c.push(t[s].glyphName);var u=e.builtInEncoding;if(u)for(var l in o=Object.create(null),u)(s=c.indexOf(u[l]))>=0&&(o[l]=s);return(0,a.type1FontGlyphMapping)(e,o,c)}},{key:"hasGlyphId",value:function(e){return!(e<0||e>=this.numGlyphs)&&(0===e||this.charstrings[e-1].charstring.length>0)}},{key:"getSeacs",value:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var a=e[r];a.seac&&(t[r+1]=a.seac)}return t}},{key:"getType2Charstrings",value:function(e){for(var t=[],r=0,n=e.length;r<n;r++)t.push(e[r].charstring);return t}},{key:"getType2Subrs",value:function(e){var t=0,r=e.length;t=r<1133?107:r<33769?1131:32768;var n,a=[];for(n=0;n<t;n++)a.push([11]);for(n=0;n<r;n++)a.push(e[n]);return a}},{key:"wrap",value:function(e,t,r,a,i){var o=new n.CFF;o.header=new n.CFFHeader(1,0,4,4),o.names=[e];var s=new n.CFFTopDict;s.setByName("version",391),s.setByName("Notice",392),s.setByName("FullName",393),s.setByName("FamilyName",394),s.setByName("Weight",395),s.setByName("Encoding",null),s.setByName("FontMatrix",i.fontMatrix),s.setByName("FontBBox",i.bbox),s.setByName("charset",null),s.setByName("CharStrings",null),s.setByName("Private",null),o.topDict=s;var c=new n.CFFStrings;c.add("Version 0.11"),c.add("See original notice"),c.add(e),c.add(e),c.add("Medium"),o.strings=c,o.globalSubrIndex=new n.CFFIndex;var u,l,f=t.length,h=[".notdef"];for(u=0;u<f;u++){var d=r[u].glyphName;-1===n.CFFStandardStrings.indexOf(d)&&c.add(d),h.push(d)}o.charset=new n.CFFCharset(!1,0,h);var p=new n.CFFIndex;for(p.add([139,14]),u=0;u<f;u++)p.add(t[u]);o.charStrings=p;var g=new n.CFFPrivateDict;g.setByName("Subrs",null);var m=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(u=0,l=m.length;u<l;u++){var v=m[u];if(v in i.privateData){var y=i.privateData[v];if(Array.isArray(y))for(var b=y.length-1;b>0;b--)y[b]-=y[b-1];g.setByName(v,y)}}o.topDict.privateDict=g;var w=new n.CFFIndex;for(u=0,l=a.length;u<l;u++)w.add(a[u]);return g.subrsIndex=w,new n.CFFCompiler(o).compile()}}])&&u(t.prototype,r),i&&u(t,i),e}();t.Type1Font=f},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type1Parser=void 0;var n=r(145),a=r(117),i=r(118),o=r(4);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}var l,f,h,d,p,g,m,v,y,b,w,k=(l=[4],f=[5],h=[6],d=[7],p=[8],g=[12,35],m=[14],v=[21],y=[22],b=[30],w=[31],function(){function e(){s(this,e),this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}return u(e,[{key:"convert",value:function(e,t,r){for(var n,a,i,s=e.length,c=!1,u=0;u<s;u++){var k=e[u];if(k<32){switch(12===k&&(k=(k<<8)+e[++u]),k){case 1:case 3:case 9:case 3072:case 3073:case 3074:case 3105:this.stack=[];break;case 4:if(this.flexing){if(this.stack.length<1){c=!0;break}var S=this.stack.pop();this.stack.push(0,S);break}c=this.executeCommand(1,l);break;case 5:c=this.executeCommand(2,f);break;case 6:c=this.executeCommand(1,h);break;case 7:c=this.executeCommand(1,d);break;case 8:c=this.executeCommand(6,p);break;case 10:if(this.stack.length<1){c=!0;break}if(!t[i=this.stack.pop()]){c=!0;break}c=this.convert(t[i],t,r);break;case 11:return c;case 13:if(this.stack.length<2){c=!0;break}n=this.stack.pop(),a=this.stack.pop(),this.lsb=a,this.width=n,this.stack.push(n,a),c=this.executeCommand(2,y);break;case 14:this.output.push(m[0]);break;case 21:if(this.flexing)break;c=this.executeCommand(2,v);break;case 22:if(this.flexing){this.stack.push(0);break}c=this.executeCommand(1,y);break;case 30:c=this.executeCommand(4,b);break;case 31:c=this.executeCommand(4,w);break;case 3078:if(r){var x=this.stack[this.stack.length-5];this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-x,c=this.executeCommand(0,m)}else c=this.executeCommand(4,m);break;case 3079:if(this.stack.length<4){c=!0;break}this.stack.pop(),n=this.stack.pop();var A=this.stack.pop();a=this.stack.pop(),this.lsb=a,this.width=n,this.stack.push(n,a,A),c=this.executeCommand(3,v);break;case 3084:if(this.stack.length<2){c=!0;break}var O=this.stack.pop(),C=this.stack.pop();this.stack.push(C/O);break;case 3088:if(this.stack.length<2){c=!0;break}i=this.stack.pop();var T=this.stack.pop();if(0===i&&3===T){var F=this.stack.splice(this.stack.length-17,17);this.stack.push(F[2]+F[0],F[3]+F[1],F[4],F[5],F[6],F[7],F[8],F[9],F[10],F[11],F[12],F[13],F[14]),c=this.executeCommand(13,g,!0),this.flexing=!1,this.stack.push(F[15],F[16])}else 1===i&&0===T&&(this.flexing=!0);break;case 3089:break;default:(0,o.warn)('Unknown type 1 charstring command of "'+k+'"')}if(c)break}else k<=246?k-=139:k=k<=250?256*(k-247)+e[++u]+108:k<=254?-256*(k-251)-e[++u]-108:(255&e[++u])<<24|(255&e[++u])<<16|(255&e[++u])<<8|(255&e[++u])<<0,this.stack.push(k)}return c}},{key:"executeCommand",value:function(e,t,r){var n=this.stack.length;if(e>n)return!0;for(var a=n-e,i=a;i<n;i++){var o=this.stack[i];Number.isInteger(o)?this.output.push(28,o>>8&255,255&o):(o=65536*o|0,this.output.push(255,o>>24&255,o>>16&255,o>>8&255,255&o))}return this.output.push.apply(this.output,t),r?this.stack.splice(a,e):this.stack.length=0,!1}}]),e}()),S=function(){function e(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function t(e,t,r){if(r>=e.length)return new Uint8Array(0);var n,a,i=0|t;for(n=0;n<r;n++)i=52845*(e[n]+i)+22719&65535;var o=e.length-r,s=new Uint8Array(o);for(n=r,a=0;a<o;n++,a++){var c=e[n];s[a]=c^i>>8,i=52845*(c+i)+22719&65535}return s}function r(e){return 47===e||91===e||93===e||123===e||125===e||40===e||41===e}return function(){function o(r,n,c){if(s(this,o),n){var u=r.getBytes(),l=!((e(u[0])||(0,a.isWhiteSpace)(u[0]))&&e(u[1])&&e(u[2])&&e(u[3])&&e(u[4])&&e(u[5])&&e(u[6])&&e(u[7]));r=new i.Stream(l?t(u,55665,4):function(t,r,n){var a,i,o=0|r,s=t.length,c=new Uint8Array(s>>>1);for(a=0,i=0;a<s;a++){var u=t[a];if(e(u)){a++;for(var l=void 0;a<s&&!e(l=t[a]);)a++;if(a<s){var f=parseInt(String.fromCharCode(u,l),16);c[i++]=f^o>>8,o=52845*(f+o)+22719&65535}}}return c.slice(n,i)}(u,55665,4))}this.seacAnalysisEnabled=!!c,this.stream=r,this.nextChar()}return u(o,[{key:"readNumberArray",value:function(){this.getToken();for(var e=[];;){var t=this.getToken();if(null===t||"]"===t||"}"===t)break;e.push(parseFloat(t||0))}return e}},{key:"readNumber",value:function(){var e=this.getToken();return parseFloat(e||0)}},{key:"readInt",value:function(){var e=this.getToken();return 0|parseInt(e||0,10)}},{key:"readBoolean",value:function(){return"true"===this.getToken()?1:0}},{key:"nextChar",value:function(){return this.currentChar=this.stream.getByte()}},{key:"getToken",value:function(){for(var e=!1,t=this.currentChar;;){if(-1===t)return null;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(!(0,a.isWhiteSpace)(t))break;t=this.nextChar()}if(r(t))return this.nextChar(),String.fromCharCode(t);var n="";do{n+=String.fromCharCode(t),t=this.nextChar()}while(t>=0&&!(0,a.isWhiteSpace)(t)&&!r(t));return n}},{key:"readCharStrings",value:function(e,r){return-1===r?e:t(e,4330,r)}},{key:"extractFontProgram",value:function(e){var t=this.stream,r=[],n=[],a=Object.create(null);a.lenIV=4;for(var i,o,s,c,u,l={subrs:[],charstrings:[],properties:{privateData:a}};null!==(i=this.getToken());)if("/"===i)switch(i=this.getToken()){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();null!==(i=this.getToken())&&"end"!==i;)if("/"===i){var f=this.getToken();o=this.readInt(),this.getToken(),s=o>0?t.getBytes(o):new Uint8Array(0),c=l.properties.privateData.lenIV,u=this.readCharStrings(s,c),this.nextChar(),"noaccess"===(i=this.getToken())&&this.getToken(),n.push({glyph:f,encoded:u})}break;case"Subrs":for(this.readInt(),this.getToken();"dup"===this.getToken();){var h=this.readInt();o=this.readInt(),this.getToken(),s=o>0?t.getBytes(o):new Uint8Array(0),c=l.properties.privateData.lenIV,u=this.readCharStrings(s,c),this.nextChar(),"noaccess"===(i=this.getToken())&&this.getToken(),r[h]=u}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":var d=this.readNumberArray();d.length>0&&d.length;break;case"StemSnapH":case"StemSnapV":l.properties.privateData[i]=this.readNumberArray();break;case"StdHW":case"StdVW":l.properties.privateData[i]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":l.properties.privateData[i]=this.readNumber();break;case"ForceBold":l.properties.privateData[i]=this.readBoolean()}for(var p=0;p<n.length;p++){var g=n[p].glyph;u=n[p].encoded;var m=new k,v=m.convert(u,r,this.seacAnalysisEnabled),y=m.output;v&&(y=[14]);var b={glyphName:g,charstring:y,width:m.width,lsb:m.lsb,seac:m.seac};if(".notdef"===g?l.charstrings.unshift(b):l.charstrings.push(b),e.builtInEncoding){var w=e.builtInEncoding.indexOf(g);w>-1&&void 0===e.widths[w]&&w>=e.firstChar&&w<=e.lastChar&&(e.widths[w]=m.width)}}return l}},{key:"extractFontHeader",value:function(e){for(var t;null!==(t=this.getToken());)if("/"===t)switch(t=this.getToken()){case"FontMatrix":var r=this.readNumberArray();e.fontMatrix=r;break;case"Encoding":var a=this.getToken(),i=void 0;if(/^\\d+$/.test(a)){i=[];var o=0|parseInt(a,10);this.getToken();for(var s=0;s<o;s++){for(t=this.getToken();"dup"!==t&&"def"!==t;)if(null===(t=this.getToken()))return;if("def"===t)break;var c=this.readInt();this.getToken();var u=this.getToken();i[c]=u,this.getToken()}}else i=(0,n.getEncoding)(a);e.builtInEncoding=i;break;case"FontBBox":var l=this.readNumberArray();e.ascent=Math.max(l[3],l[1]),e.descent=Math.min(l[1],l[3]),e.ascentScaled=!0}}}]),o}()}();t.Type1Parser=S},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getTilingPatternIR=function(e,t,r){var n=t.getArray("Matrix"),i=a.Util.normalizeRect(t.getArray("BBox")),o=t.get("XStep"),s=t.get("YStep"),c=t.get("PaintType"),u=t.get("TilingType");if(i[2]-i[0]==0||i[3]-i[1]==0)throw new a.FormatError("Invalid getTilingPatternIR /BBox array: [".concat(i,"]."));return["TilingPattern",r,e,n,i,o,s,c,u]},t.Pattern=void 0;var a=r(4),i=r(122),o=r(113),s=r(117);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var a=p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}var y=2,b=3,w=4,k=5,S=6,x=7,A=function(){function e(){g(this,e),(0,a.unreachable)("Cannot initialize Pattern.")}return v(e,null,[{key:"parseShading",value:function(e,t,r,n,i,c,u){var l=(0,o.isStream)(e)?e.dict:e,f=l.get("ShadingType");try{switch(f){case y:case b:return new T(l,t,r,n,c,u);case w:case k:case S:case x:return new _(e,t,r,n,c,u);default:throw new a.FormatError("Unsupported ShadingType: "+f)}}catch(e){if(e instanceof s.MissingDataException)throw e;return i.send("UnsupportedFeature",{featureId:a.UNSUPPORTED_FEATURES.shadingPattern}),(0,a.warn)(e),new I}}}]),e}();t.Pattern=A;var O,C=function(){function e(){g(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize BaseShading.")}return v(e,[{key:"getIR",value:function(){(0,a.unreachable)("Abstract method \`getIR\` called.")}}],[{key:"SMALL_NUMBER",get:function(){return(0,a.shadow)(this,"SMALL_NUMBER",1e-6)}}]),e}(),T=function(e){l(r,e);var t=h(r);function r(e,n,o,s,u,l){var f;g(this,r),(f=t.call(this)).matrix=n,f.coordsArr=e.getArray("Coords"),f.shadingType=e.get("ShadingType");var h=i.ColorSpace.parse({cs:e.getRaw("ColorSpace")||e.getRaw("CS"),xref:o,resources:s,pdfFunctionFactory:u,localColorSpaceCache:l}),p=e.getArray("BBox");Array.isArray(p)&&4===p.length?f.bbox=a.Util.normalizeRect(p):f.bbox=null;var m=0,v=1;if(e.has("Domain")){var y=e.getArray("Domain");m=y[0],v=y[1]}var w=!1,k=!1;if(e.has("Extend")){var S=e.getArray("Extend");w=S[0],k=S[1]}if(!(f.shadingType!==b||w&&k)){var x=c(f.coordsArr,6),A=x[0],O=x[1],T=x[2],F=x[3],P=x[4],_=x[5],I=Math.hypot(A-F,O-P);T<=_+I&&_<=T+I&&(0,a.warn)("Unsupported radial gradient.")}f.extendStart=w,f.extendEnd=k;var E=e.getRaw("Function"),j=u.createFromArray(E),R=(v-m)/10,M=f.colorStops=[];if(m>=v||R<=0)return(0,a.info)("Bad shading domain."),d(f);for(var N,B=new Float32Array(h.numComps),D=new Float32Array(1),L=0;L<=10;L++){D[0]=m+L*R,j(D,0,B,0),N=h.getRgb(B,0);var U=a.Util.makeHexColor(N[0],N[1],N[2]);M.push([L/10,U])}var q="transparent";return e.has("Background")&&(N=h.getRgb(e.get("Background"),0),q=a.Util.makeHexColor(N[0],N[1],N[2])),w||(M.unshift([0,q]),M[1][0]+=C.SMALL_NUMBER),k||(M[M.length-1][0]-=C.SMALL_NUMBER,M.push([1,q])),f.colorStops=M,f}return v(r,[{key:"getIR",value:function(){var e,t,r,n,i,o=this.coordsArr,s=this.shadingType;return s===y?(t=[o[0],o[1]],r=[o[2],o[3]],n=null,i=null,e="axial"):s===b?(t=[o[0],o[1]],r=[o[3],o[4]],n=o[2],i=o[5],e="radial"):(0,a.unreachable)("getPattern type unknown: ".concat(s)),["RadialAxial",e,this.bbox,this.colorStops,t,r,n,i,this.matrix]}}]),r}(C),F=function(){function e(t,r){g(this,e),this.stream=t,this.context=r,this.buffer=0,this.bufferLength=0;var n=r.numComps;this.tmpCompsBuf=new Float32Array(n);var a=r.colorSpace.numComps;this.tmpCsCompsBuf=r.colorFn?new Float32Array(a):this.tmpCompsBuf}return v(e,[{key:"hasData",get:function(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;var e=this.stream.getByte();return!(e<0||(this.buffer=e,this.bufferLength=8,0))}},{key:"readBits",value:function(e){var t=this.buffer,r=this.bufferLength;if(32===e){if(0===r)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;t=t<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();var n=this.stream.getByte();return this.buffer=n&(1<<r)-1,(t<<8-r|(255&n)>>r)>>>0}if(8===e&&0===r)return this.stream.getByte();for(;r<e;)t=t<<8|this.stream.getByte(),r+=8;return r-=e,this.bufferLength=r,this.buffer=t&(1<<r)-1,t>>r}},{key:"align",value:function(){this.buffer=0,this.bufferLength=0}},{key:"readFlag",value:function(){return this.readBits(this.context.bitsPerFlag)}},{key:"readCoordinate",value:function(){var e=this.context.bitsPerCoordinate,t=this.readBits(e),r=this.readBits(e),n=this.context.decode,a=e<32?1/((1<<e)-1):2.3283064365386963e-10;return[t*a*(n[1]-n[0])+n[0],r*a*(n[3]-n[2])+n[2]]}},{key:"readComponents",value:function(){for(var e=this.context.numComps,t=this.context.bitsPerComponent,r=t<32?1/((1<<t)-1):2.3283064365386963e-10,n=this.context.decode,a=this.tmpCompsBuf,i=0,o=4;i<e;i++,o+=2){var s=this.readBits(t);a[i]=s*r*(n[o+1]-n[o])+n[o]}var c=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(a,0,c,0),this.context.colorSpace.getRgb(c,0)}}]),e}(),P=(O=[],function(e){return O[e]||(O[e]=function(e){for(var t=[],r=0;r<=e;r++){var n=r/e,a=1-n;t.push(new Float32Array([a*a*a,3*n*a*a,3*n*n*a,n*n*n]))}return t}(e)),O[e]}),_=function(e){l(r,e);var t=h(r);function r(e,n,s,c,u,l){var f;if(g(this,r),f=t.call(this),!(0,o.isStream)(e))throw new a.FormatError("Mesh data is not a stream");var h=e.dict;f.matrix=n,f.shadingType=h.get("ShadingType");var d=h.getArray("BBox");Array.isArray(d)&&4===d.length?f.bbox=a.Util.normalizeRect(d):f.bbox=null;var p=i.ColorSpace.parse({cs:h.getRaw("ColorSpace")||h.getRaw("CS"),xref:s,resources:c,pdfFunctionFactory:u,localColorSpaceCache:l});f.background=h.has("Background")?p.getRgb(h.get("Background"),0):null;var m=h.getRaw("Function"),v=m?u.createFromArray(m):null;f.coords=[],f.colors=[],f.figures=[];var y={bitsPerCoordinate:h.get("BitsPerCoordinate"),bitsPerComponent:h.get("BitsPerComponent"),bitsPerFlag:h.get("BitsPerFlag"),decode:h.getArray("Decode"),colorFn:v,colorSpace:p,numComps:v?1:p.numComps},b=new F(e,y),A=!1;switch(f.shadingType){case w:f._decodeType4Shading(b);break;case k:var O=0|h.get("VerticesPerRow");if(O<2)throw new a.FormatError("Invalid VerticesPerRow");f._decodeType5Shading(b,O);break;case S:f._decodeType6Shading(b),A=!0;break;case x:f._decodeType7Shading(b),A=!0;break;default:(0,a.unreachable)("Unsupported mesh type.")}if(A){f._updateBounds();for(var C=0,T=f.figures.length;C<T;C++)f._buildFigureFromPatch(C)}return f._updateBounds(),f._packData(),f}return v(r,[{key:"_decodeType4Shading",value:function(e){for(var t=this.coords,r=this.colors,n=[],i=[],o=0;e.hasData;){var s=e.readFlag(),c=e.readCoordinate(),u=e.readComponents();if(0===o){if(!(0<=s&&s<=2))throw new a.FormatError("Unknown type4 flag");switch(s){case 0:o=3;break;case 1:i.push(i[i.length-2],i[i.length-1]),o=1;break;case 2:i.push(i[i.length-3],i[i.length-1]),o=1}n.push(s)}i.push(t.length),t.push(c),r.push(u),o--,e.align()}this.figures.push({type:"triangles",coords:new Int32Array(i),colors:new Int32Array(i)})}},{key:"_decodeType5Shading",value:function(e,t){for(var r=this.coords,n=this.colors,a=[];e.hasData;){var i=e.readCoordinate(),o=e.readComponents();a.push(r.length),r.push(i),n.push(o)}this.figures.push({type:"lattice",coords:new Int32Array(a),colors:new Int32Array(a),verticesPerRow:t})}},{key:"_decodeType6Shading",value:function(e){for(var t=this.coords,r=this.colors,n=new Int32Array(16),i=new Int32Array(4);e.hasData;){var o=e.readFlag();if(!(0<=o&&o<=3))throw new a.FormatError("Unknown type6 flag");for(var s=t.length,c=0,u=0!==o?8:12;c<u;c++)t.push(e.readCoordinate());for(var l=r.length,f=0,h=0!==o?2:4;f<h;f++)r.push(e.readComponents());var d=void 0,p=void 0,g=void 0,m=void 0;switch(o){case 0:n[12]=s+3,n[13]=s+4,n[14]=s+5,n[15]=s+6,n[8]=s+2,n[11]=s+7,n[4]=s+1,n[7]=s+8,n[0]=s,n[1]=s+11,n[2]=s+10,n[3]=s+9,i[2]=l+1,i[3]=l+2,i[0]=l,i[1]=l+3;break;case 1:d=n[12],p=n[13],g=n[14],m=n[15],n[12]=m,n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=g,n[11]=s+3,n[4]=p,n[7]=s+4,n[0]=d,n[1]=s+7,n[2]=s+6,n[3]=s+5,d=i[2],p=i[3],i[2]=p,i[3]=l,i[0]=d,i[1]=l+1;break;case 2:d=n[15],p=n[11],n[12]=n[3],n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=n[7],n[11]=s+3,n[4]=p,n[7]=s+4,n[0]=d,n[1]=s+7,n[2]=s+6,n[3]=s+5,d=i[3],i[2]=i[1],i[3]=l,i[0]=d,i[1]=l+1;break;case 3:n[12]=n[0],n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=n[1],n[11]=s+3,n[4]=n[2],n[7]=s+4,n[0]=n[3],n[1]=s+7,n[2]=s+6,n[3]=s+5,i[2]=i[0],i[3]=l,i[0]=i[1],i[1]=l+1}n[5]=t.length,t.push([(-4*t[n[0]][0]-t[n[15]][0]+6*(t[n[4]][0]+t[n[1]][0])-2*(t[n[12]][0]+t[n[3]][0])+3*(t[n[13]][0]+t[n[7]][0]))/9,(-4*t[n[0]][1]-t[n[15]][1]+6*(t[n[4]][1]+t[n[1]][1])-2*(t[n[12]][1]+t[n[3]][1])+3*(t[n[13]][1]+t[n[7]][1]))/9]),n[6]=t.length,t.push([(-4*t[n[3]][0]-t[n[12]][0]+6*(t[n[2]][0]+t[n[7]][0])-2*(t[n[0]][0]+t[n[15]][0])+3*(t[n[4]][0]+t[n[14]][0]))/9,(-4*t[n[3]][1]-t[n[12]][1]+6*(t[n[2]][1]+t[n[7]][1])-2*(t[n[0]][1]+t[n[15]][1])+3*(t[n[4]][1]+t[n[14]][1]))/9]),n[9]=t.length,t.push([(-4*t[n[12]][0]-t[n[3]][0]+6*(t[n[8]][0]+t[n[13]][0])-2*(t[n[0]][0]+t[n[15]][0])+3*(t[n[11]][0]+t[n[1]][0]))/9,(-4*t[n[12]][1]-t[n[3]][1]+6*(t[n[8]][1]+t[n[13]][1])-2*(t[n[0]][1]+t[n[15]][1])+3*(t[n[11]][1]+t[n[1]][1]))/9]),n[10]=t.length,t.push([(-4*t[n[15]][0]-t[n[0]][0]+6*(t[n[11]][0]+t[n[14]][0])-2*(t[n[12]][0]+t[n[3]][0])+3*(t[n[2]][0]+t[n[8]][0]))/9,(-4*t[n[15]][1]-t[n[0]][1]+6*(t[n[11]][1]+t[n[14]][1])-2*(t[n[12]][1]+t[n[3]][1])+3*(t[n[2]][1]+t[n[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(n),colors:new Int32Array(i)})}}},{key:"_decodeType7Shading",value:function(e){for(var t=this.coords,r=this.colors,n=new Int32Array(16),i=new Int32Array(4);e.hasData;){var o=e.readFlag();if(!(0<=o&&o<=3))throw new a.FormatError("Unknown type7 flag");for(var s=t.length,c=0,u=0!==o?12:16;c<u;c++)t.push(e.readCoordinate());for(var l=r.length,f=0,h=0!==o?2:4;f<h;f++)r.push(e.readComponents());var d=void 0,p=void 0,g=void 0,m=void 0;switch(o){case 0:n[12]=s+3,n[13]=s+4,n[14]=s+5,n[15]=s+6,n[8]=s+2,n[9]=s+13,n[10]=s+14,n[11]=s+7,n[4]=s+1,n[5]=s+12,n[6]=s+15,n[7]=s+8,n[0]=s,n[1]=s+11,n[2]=s+10,n[3]=s+9,i[2]=l+1,i[3]=l+2,i[0]=l,i[1]=l+3;break;case 1:d=n[12],p=n[13],g=n[14],m=n[15],n[12]=m,n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=g,n[9]=s+9,n[10]=s+10,n[11]=s+3,n[4]=p,n[5]=s+8,n[6]=s+11,n[7]=s+4,n[0]=d,n[1]=s+7,n[2]=s+6,n[3]=s+5,d=i[2],p=i[3],i[2]=p,i[3]=l,i[0]=d,i[1]=l+1;break;case 2:d=n[15],p=n[11],n[12]=n[3],n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=n[7],n[9]=s+9,n[10]=s+10,n[11]=s+3,n[4]=p,n[5]=s+8,n[6]=s+11,n[7]=s+4,n[0]=d,n[1]=s+7,n[2]=s+6,n[3]=s+5,d=i[3],i[2]=i[1],i[3]=l,i[0]=d,i[1]=l+1;break;case 3:n[12]=n[0],n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=n[1],n[9]=s+9,n[10]=s+10,n[11]=s+3,n[4]=n[2],n[5]=s+8,n[6]=s+11,n[7]=s+4,n[0]=n[3],n[1]=s+7,n[2]=s+6,n[3]=s+5,i[2]=i[0],i[3]=l,i[0]=i[1],i[1]=l+1}this.figures.push({type:"patch",coords:new Int32Array(n),colors:new Int32Array(i)})}}},{key:"_buildFigureFromPatch",value:function(e){var t=this.figures[e];(0,a.assert)("patch"===t.type,"Unexpected patch mesh figure");var n=this.coords,i=this.colors,o=t.coords,s=t.colors,c=Math.min(n[o[0]][0],n[o[3]][0],n[o[12]][0],n[o[15]][0]),u=Math.min(n[o[0]][1],n[o[3]][1],n[o[12]][1],n[o[15]][1]),l=Math.max(n[o[0]][0],n[o[3]][0],n[o[12]][0],n[o[15]][0]),f=Math.max(n[o[0]][1],n[o[3]][1],n[o[12]][1],n[o[15]][1]),h=Math.ceil((l-c)*r.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));h=Math.max(r.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(r.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,h));var d=Math.ceil((f-u)*r.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));d=Math.max(r.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(r.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,d));for(var p=h+1,g=new Int32Array((d+1)*p),m=new Int32Array((d+1)*p),v=0,y=new Uint8Array(3),b=new Uint8Array(3),w=i[s[0]],k=i[s[1]],S=i[s[2]],x=i[s[3]],A=P(d),O=P(h),C=0;C<=d;C++){y[0]=(w[0]*(d-C)+S[0]*C)/d|0,y[1]=(w[1]*(d-C)+S[1]*C)/d|0,y[2]=(w[2]*(d-C)+S[2]*C)/d|0,b[0]=(k[0]*(d-C)+x[0]*C)/d|0,b[1]=(k[1]*(d-C)+x[1]*C)/d|0,b[2]=(k[2]*(d-C)+x[2]*C)/d|0;for(var T=0;T<=h;T++,v++)if(0!==C&&C!==d||0!==T&&T!==h){for(var F=0,_=0,I=0,E=0;E<=3;E++)for(var j=0;j<=3;j++,I++){var R=A[C][E]*O[T][j];F+=n[o[I]][0]*R,_+=n[o[I]][1]*R}g[v]=n.length,n.push([F,_]),m[v]=i.length;var M=new Uint8Array(3);M[0]=(y[0]*(h-T)+b[0]*T)/h|0,M[1]=(y[1]*(h-T)+b[1]*T)/h|0,M[2]=(y[2]*(h-T)+b[2]*T)/h|0,i.push(M)}}g[0]=o[0],m[0]=s[0],g[h]=o[3],m[h]=s[1],g[p*d]=o[12],m[p*d]=s[2],g[p*d+h]=o[15],m[p*d+h]=s[3],this.figures[e]={type:"lattice",coords:g,colors:m,verticesPerRow:p}}},{key:"_updateBounds",value:function(){for(var e=this.coords[0][0],t=this.coords[0][1],r=e,n=t,a=1,i=this.coords.length;a<i;a++){var o=this.coords[a][0],s=this.coords[a][1];e=e>o?o:e,t=t>s?s:t,r=r<o?o:r,n=n<s?s:n}this.bounds=[e,t,r,n]}},{key:"_packData",value:function(){var e,t,r,n,a=this.coords,i=new Float32Array(2*a.length);for(e=0,r=0,t=a.length;e<t;e++){var o=a[e];i[r++]=o[0],i[r++]=o[1]}this.coords=i;var s=this.colors,c=new Uint8Array(3*s.length);for(e=0,r=0,t=s.length;e<t;e++){var u=s[e];c[r++]=u[0],c[r++]=u[1],c[r++]=u[2]}this.colors=c;var l=this.figures;for(e=0,t=l.length;e<t;e++){var f=l[e],h=f.coords,d=f.colors;for(r=0,n=h.length;r<n;r++)h[r]*=2,d[r]*=3}}},{key:"getIR",value:function(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.matrix,this.bbox,this.background]}}],[{key:"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",get:function(){return(0,a.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}},{key:"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",get:function(){return(0,a.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}},{key:"TRIANGLE_DENSITY",get:function(){return(0,a.shadow)(this,"TRIANGLE_DENSITY",20)}}]),r}(C),I=function(e){l(r,e);var t=h(r);function r(){return g(this,r),t.apply(this,arguments)}return v(r,[{key:"getIR",value:function(){return["Dummy"]}}]),r}(C)},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPDFFunction=function(e){var t;if("object"!==h(e))return!1;if((0,n.isDict)(e))t=e;else{if(!(0,n.isStream)(e))return!1;t=e.dict}return t.has("FunctionType")},t.PostScriptEvaluator=t.PostScriptCompiler=t.PDFFunctionFactory=void 0;var n=r(113),a=r(4),i=r(158),o=r(159);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}var m=function(){function e(t){var r=t.xref,n=t.isEvalSupported,a=void 0===n||n;d(this,e),this.xref=r,this.isEvalSupported=!1!==a}return g(e,[{key:"create",value:function(e){var t=this.getCached(e);if(t)return t;var r=y.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:e instanceof n.Ref?this.xref.fetch(e):e});return this._cache(e,r),r}},{key:"createFromArray",value:function(e){var t=this.getCached(e);if(t)return t;var r=y.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:e instanceof n.Ref?this.xref.fetch(e):e});return this._cache(e,r),r}},{key:"getCached",value:function(e){var t;if(e instanceof n.Ref?t=e:e instanceof n.Dict?t=e.objId:(0,n.isStream)(e)&&(t=e.dict&&e.dict.objId),t){var r=this._localFunctionCache.getByRef(t);if(r)return r}return null}},{key:"_cache",value:function(e,t){if(!t)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');var r;e instanceof n.Ref?r=e:e instanceof n.Dict?r=e.objId:(0,n.isStream)(e)&&(r=e.dict&&e.dict.objId),r&&this._localFunctionCache.set(null,r,t)}},{key:"_localFunctionCache",get:function(){return(0,a.shadow)(this,"_localFunctionCache",new o.LocalFunctionCache)}}]),e}();function v(e){if(!Array.isArray(e))return null;for(var t=e.length,r=0;r<t;r++)if("number"!=typeof e[r]){for(var n=new Array(t),a=0;a<t;a++)n[a]=+e[a];return n}return e}t.PDFFunctionFactory=m;var y={getSampleArray:function(e,t,r,n){var a,i,o=1;for(a=0,i=e.length;a<i;a++)o*=e[a];o*=t;var s=new Array(o),c=0,u=0,l=1/(Math.pow(2,r)-1),f=n.getBytes((o*r+7)/8),h=0;for(a=0;a<o;a++){for(;c<r;)u<<=8,u|=f[h++],c+=8;c-=r,s[a]=(u>>c)*l,u&=(1<<c)-1}return s},getIR:function(e){var t=e.xref,r=e.isEvalSupported,n=e.fn,i=n.dict;i||(i=n);var o=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript][i.get("FunctionType")];if(!o)throw new a.FormatError("Unknown type of function");return o.call(this,{xref:t,isEvalSupported:r,fn:n,dict:i})},fromIR:function(e){var t=e.xref,r=e.isEvalSupported,n=e.IR;switch(n[0]){case 0:return this.constructSampledFromIR({xref:t,isEvalSupported:r,IR:n});case 2:return this.constructInterpolatedFromIR({xref:t,isEvalSupported:r,IR:n});case 3:return this.constructStichedFromIR({xref:t,isEvalSupported:r,IR:n});default:return this.constructPostScriptFromIR({xref:t,isEvalSupported:r,IR:n})}},parse:function(e){var t=e.xref,r=e.isEvalSupported,n=e.fn,a=this.getIR({xref:t,isEvalSupported:r,fn:n});return this.fromIR({xref:t,isEvalSupported:r,IR:a})},parseArray:function(e){var t=e.xref,r=e.isEvalSupported,n=e.fnObj;if(!Array.isArray(n))return this.parse({xref:t,isEvalSupported:r,fn:n});for(var a=[],i=0,o=n.length;i<o;i++)a.push(this.parse({xref:t,isEvalSupported:r,fn:t.fetchIfRef(n[i])}));return function(e,t,r,n){for(var i=0,o=a.length;i<o;i++)a[i](e,t,r,n+i)}},constructSampled:function(e){e.xref,e.isEvalSupported;var t=e.fn,r=e.dict;function n(e){for(var t=e.length,r=[],n=0,a=0;a<t;a+=2)r[n]=[e[a],e[a+1]],++n;return r}var i=v(r.getArray("Domain")),o=v(r.getArray("Range"));if(!i||!o)throw new a.FormatError("No domain or range");var s=i.length/2,c=o.length/2;i=n(i),o=n(o);var u=v(r.getArray("Size")),l=r.get("BitsPerSample"),f=r.get("Order")||1;1!==f&&(0,a.info)("No support for cubic spline interpolation: "+f);var h=v(r.getArray("Encode"));if(h)h=n(h);else{h=[];for(var d=0;d<s;++d)h.push([0,u[d]-1])}var p=v(r.getArray("Decode"));return[0,s,i,h,p=p?n(p):o,this.getSampleArray(u,c,l,t),u,c,Math.pow(2,l)-1,o]},constructSampledFromIR:function(e){e.xref,e.isEvalSupported;var t=e.IR;function r(e,t,r,n,a){return n+(a-n)/(r-t)*(e-t)}return function(e,n,a,i){var o,s,c=t[1],u=t[2],l=t[3],f=t[4],h=t[5],d=t[6],p=t[7],g=t[9],m=1<<c,v=new Float64Array(m),y=new Uint32Array(m);for(s=0;s<m;s++)v[s]=1;var b=p,w=1;for(o=0;o<c;++o){var k=u[o][0],S=u[o][1],x=r(Math.min(Math.max(e[n+o],k),S),k,S,l[o][0],l[o][1]),A=d[o],O=(x=Math.min(Math.max(x,0),A-1))<A-1?Math.floor(x):x-1,C=O+1-x,T=x-O,F=O*b,P=F+b;for(s=0;s<m;s++)s&w?(v[s]*=T,y[s]+=P):(v[s]*=C,y[s]+=F);b*=A,w<<=1}for(s=0;s<p;++s){var _=0;for(o=0;o<m;o++)_+=h[y[o]+s]*v[o];_=r(_,0,1,f[s][0],f[s][1]),a[i+s]=Math.min(Math.max(_,g[s][0]),g[s][1])}}},constructInterpolated:function(e){e.xref,e.isEvalSupported,e.fn;for(var t=e.dict,r=v(t.getArray("C0"))||[0],n=v(t.getArray("C1"))||[1],a=t.get("N"),i=r.length,o=[],s=0;s<i;++s)o.push(n[s]-r[s]);return[2,r,o,a]},constructInterpolatedFromIR:function(e){e.xref,e.isEvalSupported;var t=e.IR,r=t[1],n=t[2],a=t[3],i=n.length;return function(e,t,o,s){for(var c=1===a?e[t]:Math.pow(e[t],a),u=0;u<i;++u)o[s+u]=r[u]+c*n[u]}},constructStiched:function(e){var t=e.xref,r=e.isEvalSupported,n=(e.fn,e.dict),i=v(n.getArray("Domain"));if(!i)throw new a.FormatError("No domain");if(1!=i.length/2)throw new a.FormatError("Bad domain for stiched function");for(var o=n.get("Functions"),s=[],c=0,u=o.length;c<u;++c)s.push(this.parse({xref:t,isEvalSupported:r,fn:t.fetchIfRef(o[c])}));return[3,i,v(n.getArray("Bounds")),v(n.getArray("Encode")),s]},constructStichedFromIR:function(e){e.xref,e.isEvalSupported;var t=e.IR,r=t[1],n=t[2],a=t[3],i=t[4],o=new Float32Array(1);return function(e,t,s,c){var u,l=function(e,t,r){return e>r?e=r:e<t&&(e=t),e}(e[t],r[0],r[1]),f=n.length;for(u=0;u<f&&!(l<n[u]);++u);var h=r[0];u>0&&(h=n[u-1]);var d=r[1];u<n.length&&(d=n[u]);var p=a[2*u],g=a[2*u+1];o[0]=h===d?p:p+(l-h)*(g-p)/(d-h),i[u](o,0,s,c)}},constructPostScript:function(e){e.xref,e.isEvalSupported;var t=e.fn,r=e.dict,n=v(r.getArray("Domain")),o=v(r.getArray("Range"));if(!n)throw new a.FormatError("No domain.");if(!o)throw new a.FormatError("No range.");var s=new i.PostScriptLexer(t);return[4,n,o,new i.PostScriptParser(s).parse()]},constructPostScriptFromIR:function(e){e.xref;var t=e.isEvalSupported,r=e.IR,n=r[1],i=r[2],o=r[3];if(t&&a.IsEvalSupportedCached.value){var s=(new k).compile(o,n,i);if(s)return new Function("src","srcOffset","dest","destOffset",s)}(0,a.info)("Unable to compile PS function");var c=i.length>>1,u=n.length>>1,l=new w(o),f=Object.create(null),h=8192,d=new Float32Array(u);return function(e,t,r,n){var a,o,s="",p=d;for(a=0;a<u;a++)o=e[t+a],p[a]=o,s+=o+"_";var g=f[s];if(void 0===g){var m=new Float32Array(c),v=l.execute(p),y=v.length-c;for(a=0;a<c;a++){o=v[y+a];var b=i[2*a];(o<b||o>(b=i[2*a+1]))&&(o=b),m[a]=o}h>0&&(h--,f[s]=m),r.set(m,n)}else r.set(g,n)}}},b=function(){function e(t){d(this,e),this.stack=t?Array.prototype.slice.call(t,0):[]}return g(e,[{key:"push",value:function(e){if(this.stack.length>=100)throw new Error("PostScript function stack overflow.");this.stack.push(e)}},{key:"pop",value:function(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}},{key:"copy",value:function(e){if(this.stack.length+e>=100)throw new Error("PostScript function stack overflow.");for(var t=this.stack,r=t.length-e,n=e-1;n>=0;n--,r++)t.push(t[r])}},{key:"index",value:function(e){this.push(this.stack[this.stack.length-e-1])}},{key:"roll",value:function(e,t){for(var r=this.stack,n=r.length-e,a=r.length-1,i=n+(t-Math.floor(t/e)*e),o=n,s=a;o<s;o++,s--){var c=r[o];r[o]=r[s],r[s]=c}for(var u=n,l=i-1;u<l;u++,l--){var f=r[u];r[u]=r[l],r[l]=f}for(var h=i,d=a;h<d;h++,d--){var p=r[h];r[h]=r[d],r[d]=p}}}]),e}(),w=function(){function e(t){d(this,e),this.operators=t}return g(e,[{key:"execute",value:function(e){for(var t,r,n,i=new b(e),o=0,s=this.operators,c=s.length;o<c;)if("number"!=typeof(t=s[o++]))switch(t){case"jz":n=i.pop(),(r=i.pop())||(o=n);break;case"j":o=r=i.pop();break;case"abs":r=i.pop(),i.push(Math.abs(r));break;case"add":n=i.pop(),r=i.pop(),i.push(r+n);break;case"and":n=i.pop(),r=i.pop(),(0,a.isBool)(r)&&(0,a.isBool)(n)?i.push(r&&n):i.push(r&n);break;case"atan":r=i.pop(),i.push(Math.atan(r));break;case"bitshift":n=i.pop(),(r=i.pop())>0?i.push(r<<n):i.push(r>>n);break;case"ceiling":r=i.pop(),i.push(Math.ceil(r));break;case"copy":r=i.pop(),i.copy(r);break;case"cos":r=i.pop(),i.push(Math.cos(r));break;case"cvi":r=0|i.pop(),i.push(r);break;case"cvr":break;case"div":n=i.pop(),r=i.pop(),i.push(r/n);break;case"dup":i.copy(1);break;case"eq":n=i.pop(),r=i.pop(),i.push(r===n);break;case"exch":i.roll(2,1);break;case"exp":n=i.pop(),r=i.pop(),i.push(Math.pow(r,n));break;case"false":i.push(!1);break;case"floor":r=i.pop(),i.push(Math.floor(r));break;case"ge":n=i.pop(),r=i.pop(),i.push(r>=n);break;case"gt":n=i.pop(),r=i.pop(),i.push(r>n);break;case"idiv":n=i.pop(),r=i.pop(),i.push(r/n|0);break;case"index":r=i.pop(),i.index(r);break;case"le":n=i.pop(),r=i.pop(),i.push(r<=n);break;case"ln":r=i.pop(),i.push(Math.log(r));break;case"log":r=i.pop(),i.push(Math.log(r)/Math.LN10);break;case"lt":n=i.pop(),r=i.pop(),i.push(r<n);break;case"mod":n=i.pop(),r=i.pop(),i.push(r%n);break;case"mul":n=i.pop(),r=i.pop(),i.push(r*n);break;case"ne":n=i.pop(),r=i.pop(),i.push(r!==n);break;case"neg":r=i.pop(),i.push(-r);break;case"not":r=i.pop(),(0,a.isBool)(r)?i.push(!r):i.push(~r);break;case"or":n=i.pop(),r=i.pop(),(0,a.isBool)(r)&&(0,a.isBool)(n)?i.push(r||n):i.push(r|n);break;case"pop":i.pop();break;case"roll":n=i.pop(),r=i.pop(),i.roll(r,n);break;case"round":r=i.pop(),i.push(Math.round(r));break;case"sin":r=i.pop(),i.push(Math.sin(r));break;case"sqrt":r=i.pop(),i.push(Math.sqrt(r));break;case"sub":n=i.pop(),r=i.pop(),i.push(r-n);break;case"true":i.push(!0);break;case"truncate":r=(r=i.pop())<0?Math.ceil(r):Math.floor(r),i.push(r);break;case"xor":n=i.pop(),r=i.pop(),(0,a.isBool)(r)&&(0,a.isBool)(n)?i.push(r!==n):i.push(r^n);break;default:throw new a.FormatError("Unknown operator ".concat(t))}else i.push(t);return i.stack}}]),e}();t.PostScriptEvaluator=w;var k=function(){var e=function(){function e(t){d(this,e),this.type=t}return g(e,[{key:"visit",value:function(e){(0,a.unreachable)("abstract method")}}]),e}(),t=function(e){s(r,e);var t=u(r);function r(e,n,a){var i;return d(this,r),(i=t.call(this,"args")).index=e,i.min=n,i.max=a,i}return g(r,[{key:"visit",value:function(e){e.visitArgument(this)}}]),r}(e),r=function(e){s(r,e);var t=u(r);function r(e){var n;return d(this,r),(n=t.call(this,"literal")).number=e,n.min=e,n.max=e,n}return g(r,[{key:"visit",value:function(e){e.visitLiteral(this)}}]),r}(e),n=function(e){s(r,e);var t=u(r);function r(e,n,a,i,o){var s;return d(this,r),(s=t.call(this,"binary")).op=e,s.arg1=n,s.arg2=a,s.min=i,s.max=o,s}return g(r,[{key:"visit",value:function(e){e.visitBinaryOperation(this)}}]),r}(e),i=function(e){s(r,e);var t=u(r);function r(e,n){var a;return d(this,r),(a=t.call(this,"max")).arg=e,a.min=e.min,a.max=n,a}return g(r,[{key:"visit",value:function(e){e.visitMin(this)}}]),r}(e),o=function(e){s(r,e);var t=u(r);function r(e,n,a){var i;return d(this,r),(i=t.call(this,"var")).index=e,i.min=n,i.max=a,i}return g(r,[{key:"visit",value:function(e){e.visitVariable(this)}}]),r}(e),c=function(e){s(r,e);var t=u(r);function r(e,n){var a;return d(this,r),(a=t.call(this,"definition")).variable=e,a.arg=n,a}return g(r,[{key:"visit",value:function(e){e.visitVariableDefinition(this)}}]),r}(e),l=function(){function e(){d(this,e),this.parts=[]}return g(e,[{key:"visitArgument",value:function(e){this.parts.push("Math.max(",e.min,", Math.min(",e.max,", src[srcOffset + ",e.index,"]))")}},{key:"visitVariable",value:function(e){this.parts.push("v",e.index)}},{key:"visitLiteral",value:function(e){this.parts.push(e.number)}},{key:"visitBinaryOperation",value:function(e){this.parts.push("("),e.arg1.visit(this),this.parts.push(" ",e.op," "),e.arg2.visit(this),this.parts.push(")")}},{key:"visitVariableDefinition",value:function(e){this.parts.push("var "),e.variable.visit(this),this.parts.push(" = "),e.arg.visit(this),this.parts.push(";")}},{key:"visitMin",value:function(e){this.parts.push("Math.min("),e.arg.visit(this),this.parts.push(", ",e.max,")")}},{key:"toString",value:function(){return this.parts.join("")}}]),e}();function f(e,t){return"literal"===t.type&&0===t.number?e:"literal"===e.type&&0===e.number?t:"literal"===t.type&&"literal"===e.type?new r(e.number+t.number):new n("+",e,t,e.min+t.min,e.max+t.max)}function h(e,t){if("literal"===t.type){if(0===t.number)return new r(0);if(1===t.number)return e;if("literal"===e.type)return new r(e.number*t.number)}if("literal"===e.type){if(0===e.number)return new r(0);if(1===e.number)return t}var a=Math.min(e.min*t.min,e.min*t.max,e.max*t.min,e.max*t.max),i=Math.max(e.min*t.min,e.min*t.max,e.max*t.min,e.max*t.max);return new n("*",e,t,a,i)}function p(e,t){if("literal"===t.type){if(0===t.number)return e;if("literal"===e.type)return new r(e.number-t.number)}return"binary"===t.type&&"-"===t.op&&"literal"===e.type&&1===e.number&&"literal"===t.arg1.type&&1===t.arg1.number?t.arg2:new n("-",e,t,e.min-t.max,e.max-t.min)}function m(e,t){return e.min>=t?new r(t):e.max<=t?e:new i(e,t)}return function(){function e(){d(this,e)}return g(e,[{key:"compile",value:function(e,n,a){for(var i,s,u,d,g,v,y,b,w=[],k=[],S=n.length>>1,x=a.length>>1,A=0,O=0;O<S;O++)w.push(new t(O,n[2*O],n[2*O+1]));for(var C=0,T=e.length;C<T;C++)if("number"!=typeof(b=e[C]))switch(b){case"add":if(w.length<2)return null;d=w.pop(),u=w.pop(),w.push(f(u,d));break;case"cvr":if(w.length<1)return null;break;case"mul":if(w.length<2)return null;d=w.pop(),u=w.pop(),w.push(h(u,d));break;case"sub":if(w.length<2)return null;d=w.pop(),u=w.pop(),w.push(p(u,d));break;case"exch":if(w.length<2)return null;g=w.pop(),v=w.pop(),w.push(g,v);break;case"pop":if(w.length<1)return null;w.pop();break;case"index":if(w.length<1)return null;if("literal"!==(u=w.pop()).type)return null;if((i=u.number)<0||!Number.isInteger(i)||w.length<i)return null;if("literal"===(g=w[w.length-i-1]).type||"var"===g.type){w.push(g);break}y=new o(A++,g.min,g.max),w[w.length-i-1]=y,w.push(y),k.push(new c(y,g));break;case"dup":if(w.length<1)return null;if("number"==typeof e[C+1]&&"gt"===e[C+2]&&e[C+3]===C+7&&"jz"===e[C+4]&&"pop"===e[C+5]&&e[C+6]===e[C+1]){u=w.pop(),w.push(m(u,e[C+1])),C+=6;break}if("literal"===(g=w[w.length-1]).type||"var"===g.type){w.push(g);break}y=new o(A++,g.min,g.max),w[w.length-1]=y,w.push(y),k.push(new c(y,g));break;case"roll":if(w.length<2)return null;if(d=w.pop(),u=w.pop(),"literal"!==d.type||"literal"!==u.type)return null;if(s=d.number,(i=u.number)<=0||!Number.isInteger(i)||!Number.isInteger(s)||w.length<i)return null;if(0==(s=(s%i+i)%i))break;Array.prototype.push.apply(w,w.splice(w.length-i,i-s));break;default:return null}else w.push(new r(b));if(w.length!==x)return null;for(var F=[],P=0,_=k;P<_.length;P++){var I=_[P],E=new l;I.visit(E),F.push(E.toString())}for(var j=0,R=w.length;j<R;j++){var M=w[j],N=new l;M.visit(N);var B=a[2*j],D=a[2*j+1],L=[N.toString()];B>M.min&&(L.unshift("Math.max(",B,", "),L.push(")")),D<M.max&&(L.unshift("Math.min(",D,", "),L.push(")")),L.unshift("dest[destOffset + ",j,"] = "),L.push(";"),F.push(L.join(""))}return F.join("\\n")}}]),e}()}();t.PostScriptCompiler=k},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostScriptParser=t.PostScriptLexer=void 0;var n=r(4),a=r(113),i=r(117);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var u=function(){function e(t){o(this,e),this.lexer=t,this.operators=[],this.token=null,this.prev=null}return c(e,[{key:"nextToken",value:function(){this.prev=this.token,this.token=this.lexer.getToken()}},{key:"accept",value:function(e){return this.token.type===e&&(this.nextToken(),!0)}},{key:"expect",value:function(e){if(this.accept(e))return!0;throw new n.FormatError("Unexpected symbol: found ".concat(this.token.type," expected ").concat(e,"."))}},{key:"parse",value:function(){return this.nextToken(),this.expect(f.LBRACE),this.parseBlock(),this.expect(f.RBRACE),this.operators}},{key:"parseBlock",value:function(){for(;;)if(this.accept(f.NUMBER))this.operators.push(this.prev.value);else if(this.accept(f.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(f.LBRACE))return;this.parseCondition()}}},{key:"parseCondition",value:function(){var e=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(f.RBRACE),this.accept(f.IF))this.operators[e]=this.operators.length,this.operators[e+1]="jz";else{if(!this.accept(f.LBRACE))throw new n.FormatError("PS Function: error parsing conditional.");var t=this.operators.length;this.operators.push(null,null);var r=this.operators.length;this.parseBlock(),this.expect(f.RBRACE),this.expect(f.IFELSE),this.operators[t]=this.operators.length,this.operators[t+1]="j",this.operators[e]=r,this.operators[e+1]="jz"}}}]),e}();t.PostScriptParser=u;var l,f={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5},h=(l=Object.create(null),function(){function e(t,r){o(this,e),this.type=t,this.value=r}return c(e,null,[{key:"getOperator",value:function(t){var r=l[t];return r||(l[t]=new e(f.OPERATOR,t))}},{key:"LBRACE",get:function(){return(0,n.shadow)(this,"LBRACE",new e(f.LBRACE,"{"))}},{key:"RBRACE",get:function(){return(0,n.shadow)(this,"RBRACE",new e(f.RBRACE,"}"))}},{key:"IF",get:function(){return(0,n.shadow)(this,"IF",new e(f.IF,"IF"))}},{key:"IFELSE",get:function(){return(0,n.shadow)(this,"IFELSE",new e(f.IFELSE,"IFELSE"))}}]),e}()),d=function(){function e(t){o(this,e),this.stream=t,this.nextChar(),this.strBuf=[]}return c(e,[{key:"nextChar",value:function(){return this.currentChar=this.stream.getByte()}},{key:"getToken",value:function(){for(var e=!1,t=this.currentChar;;){if(t<0)return a.EOF;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(!(0,i.isWhiteSpace)(t))break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new h(f.NUMBER,this.getNumber());case 123:return this.nextChar(),h.LBRACE;case 125:return this.nextChar(),h.RBRACE}var r=this.strBuf;for(r.length=0,r[0]=String.fromCharCode(t);(t=this.nextChar())>=0&&(t>=65&&t<=90||t>=97&&t<=122);)r.push(String.fromCharCode(t));var n=r.join("");switch(n.toLowerCase()){case"if":return h.IF;case"ifelse":return h.IFELSE;default:return h.getOperator(n)}}},{key:"getNumber",value:function(){var e=this.currentChar,t=this.strBuf;for(t.length=0,t[0]=String.fromCharCode(e);(e=this.nextChar())>=0&&(e>=48&&e<=57||45===e||46===e);)t.push(String.fromCharCode(e));var r=parseFloat(t.join(""));if(isNaN(r))throw new n.FormatError("Invalid floating point number: ".concat(r));return r}}]),e}();t.PostScriptLexer=d},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.LocalTilingPatternCache=t.LocalImageCache=t.LocalGStateCache=t.LocalFunctionCache=t.LocalColorSpaceCache=t.GlobalImageCache=void 0;var a=r(4),i=r(113);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}var p=function(){function e(t){f(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize BaseLocalCache."),t&&t.onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new i.RefSetCache}return d(e,[{key:"getByName",value:function(e){var t=this._nameRefMap.get(e);return t?this.getByRef(t):this._imageMap.get(e)||null}},{key:"getByRef",value:function(e){return this._imageCache.get(e)||null}},{key:"set",value:function(e,t,r){(0,a.unreachable)("Abstract method \`set\` called.")}}]),e}(),g=function(e){o(r,e);var t=c(r);function r(){return f(this,r),t.apply(this,arguments)}return d(r,[{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;if(!e)throw new Error('LocalImageCache.set - expected "name" argument.');if(t){if(this._imageCache.has(t))return;return this._nameRefMap.set(e,t),void this._imageCache.put(t,r)}this._imageMap.has(e)||this._imageMap.set(e,r)}}]),r}(p);t.LocalImageCache=g;var m=function(e){o(r,e);var t=c(r);function r(){return f(this,r),t.apply(this,arguments)}return d(r,[{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;if(!e&&!t)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(t){if(this._imageCache.has(t))return;return e&&this._nameRefMap.set(e,t),void this._imageCache.put(t,r)}this._imageMap.has(e)||this._imageMap.set(e,r)}}]),r}(p);t.LocalColorSpaceCache=m;var v=function(e){o(r,e);var t=c(r);function r(e){return f(this,r),t.call(this,{onlyRefs:!0})}return d(r,[{key:"getByName",value:function(e){(0,a.unreachable)("Should not call \`getByName\` method.")}},{key:"set",value:function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;if(!e)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(e)||this._imageCache.put(e,t)}}]),r}(p);t.LocalFunctionCache=v;var y=function(e){o(r,e);var t=c(r);function r(){return f(this,r),t.apply(this,arguments)}return d(r,[{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;if(!e)throw new Error('LocalGStateCache.set - expected "name" argument.');if(t){if(this._imageCache.has(t))return;return this._nameRefMap.set(e,t),void this._imageCache.put(t,r)}this._imageMap.has(e)||this._imageMap.set(e,r)}}]),r}(p);t.LocalGStateCache=y;var b=function(e){o(r,e);var t=c(r);function r(){return f(this,r),t.apply(this,arguments)}return d(r,[{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;if(!e)throw new Error('LocalTilingPatternCache.set - expected "name" argument.');if(t){if(this._imageCache.has(t))return;return this._nameRefMap.set(e,t),void this._imageCache.put(t,r)}this._imageMap.has(e)||this._imageMap.set(e,r)}}]),r}(p);t.LocalTilingPatternCache=b;var w=function(){function e(){f(this,e),this._refCache=new i.RefSetCache,this._imageCache=new i.RefSetCache}return d(e,[{key:"_byteSize",get:function(){var e=0;return this._imageCache.forEach((function(t){e+=t.byteSize})),e}},{key:"_cacheLimitReached",get:function(){return!(this._imageCache.size<e.MIN_IMAGES_TO_CACHE||this._byteSize<e.MAX_BYTE_SIZE)}},{key:"shouldCache",value:function(t,r){var n=this._refCache.get(t);return!((n?n.size+(n.has(r)?0:1):1)<e.NUM_PAGES_THRESHOLD||!this._imageCache.has(t)&&this._cacheLimitReached)}},{key:"addPageIndex",value:function(e,t){var r=this._refCache.get(e);r||(r=new Set,this._refCache.put(e,r)),r.add(t)}},{key:"addByteSize",value:function(e,t){var r=this._imageCache.get(e);r&&(r.byteSize||(r.byteSize=t))}},{key:"getData",value:function(t,r){var n=this._refCache.get(t);if(!n)return null;if(n.size<e.NUM_PAGES_THRESHOLD)return null;var a=this._imageCache.get(t);return a?(n.add(r),a):null}},{key:"setData",value:function(e,t){if(!this._refCache.has(e))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');this._imageCache.has(e)||(this._cacheLimitReached?(0,a.warn)("GlobalImageCache.setData - cache limit reached."):this._imageCache.put(e,t))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||this._refCache.clear(),this._imageCache.clear()}}],[{key:"NUM_PAGES_THRESHOLD",get:function(){return(0,a.shadow)(this,"NUM_PAGES_THRESHOLD",2)}},{key:"MIN_IMAGES_TO_CACHE",get:function(){return(0,a.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}},{key:"MAX_BYTE_SIZE",get:function(){return(0,a.shadow)(this,"MAX_BYTE_SIZE",4e7)}}]),e}();t.GlobalImageCache=w},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bidi=function(e,t,r){var p=!0,g=e.length;if(0===g||r)return f(e,p,r);h.length=g,d.length=g;var m,v,y=0;for(m=0;m<g;++m){h[m]=e.charAt(m);var b=e.charCodeAt(m),w="L";b<=255?w=a[b]:1424<=b&&b<=1524?w="R":1536<=b&&b<=1791?(w=i[255&b])||(0,n.warn)("Bidi: invalid Unicode character "+b.toString(16)):1792<=b&&b<=2220&&(w="AL"),"R"!==w&&"AL"!==w&&"AN"!==w||y++,d[m]=w}if(0===y)return f(e,p=!0);-1===t&&(y/g<.3?(p=!0,t=0):(p=!1,t=1));var k=[];for(m=0;m<g;++m)k[m]=t;var S,x=o(t)?"R":"L",A=x,O=A,C=A;for(m=0;m<g;++m)"NSM"===d[m]?d[m]=C:C=d[m];for(C=A,m=0;m<g;++m)"EN"===(S=d[m])?d[m]="AL"===C?"AN":"EN":"R"!==S&&"L"!==S&&"AL"!==S||(C=S);for(m=0;m<g;++m)"AL"===(S=d[m])&&(d[m]="R");for(m=1;m<g-1;++m)"ES"===d[m]&&"EN"===d[m-1]&&"EN"===d[m+1]&&(d[m]="EN"),"CS"!==d[m]||"EN"!==d[m-1]&&"AN"!==d[m-1]||d[m+1]!==d[m-1]||(d[m]=d[m-1]);for(m=0;m<g;++m)if("EN"===d[m]){for(var T=m-1;T>=0&&"ET"===d[T];--T)d[T]="EN";for(var F=m+1;F<g&&"ET"===d[F];++F)d[F]="EN"}for(m=0;m<g;++m)"WS"!==(S=d[m])&&"ES"!==S&&"ET"!==S&&"CS"!==S||(d[m]="ON");for(C=A,m=0;m<g;++m)"EN"===(S=d[m])?d[m]="L"===C?"L":"EN":"R"!==S&&"L"!==S||(C=S);for(m=0;m<g;++m)if("ON"===d[m]){var P=c(d,m+1,"ON"),_=A;m>0&&(_=d[m-1]);var I=O;P+1<g&&(I=d[P+1]),"L"!==_&&(_="R"),"L"!==I&&(I="R"),_===I&&u(d,m,P,_),m=P-1}for(m=0;m<g;++m)"ON"===d[m]&&(d[m]=x);for(m=0;m<g;++m)S=d[m],s(k[m])?"R"===S?k[m]+=1:"AN"!==S&&"EN"!==S||(k[m]+=2):"L"!==S&&"AN"!==S&&"EN"!==S||(k[m]+=1);var E,j=-1,R=99;for(m=0,v=k.length;m<v;++m)E=k[m],j<E&&(j=E),R>E&&o(E)&&(R=E);for(E=j;E>=R;--E){var M=-1;for(m=0,v=k.length;m<v;++m)k[m]<E?M>=0&&(l(h,M,m),M=-1):M<0&&(M=m);M>=0&&l(h,M,k.length)}for(m=0,v=h.length;m<v;++m){var N=h[m];"<"!==N&&">"!==N||(h[m]="")}return f(h.join(""),p)};var n=r(4),a=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],i=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function o(e){return 0!=(1&e)}function s(e){return 0==(1&e)}function c(e,t,r){var n,a;for(n=t,a=e.length;n<a;++n)if(e[n]!==r)return n;return n}function u(e,t,r,n){for(var a=t;a<r;++a)e[a]=n}function l(e,t,r){for(var n=t,a=r-1;n<a;++n,--a){var i=e[n];e[n]=e[a],e[a]=i}}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="ltr";return r?n="ttb":t||(n="rtl"),{str:e,dir:n}}var h=[],d=[]},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetrics=void 0;var n=r(117),a=(0,n.getLookupTableFactory)((function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,n.getLookupTableFactory)((function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556})),e["Helvetica-Bold"]=(0,n.getLookupTableFactory)((function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556})),e["Helvetica-BoldOblique"]=(0,n.getLookupTableFactory)((function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556})),e["Helvetica-Oblique"]=(0,n.getLookupTableFactory)((function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556})),e.Symbol=(0,n.getLookupTableFactory)((function(e){e.space=250,e.exclam=333,e.universal=713,e.numbersign=500,e.existential=549,e.percent=833,e.ampersand=778,e.suchthat=439,e.parenleft=333,e.parenright=333,e.asteriskmath=500,e.plus=549,e.comma=250,e.minus=549,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=549,e.equal=549,e.greater=549,e.question=444,e.congruent=549,e.Alpha=722,e.Beta=667,e.Chi=722,e.Delta=612,e.Epsilon=611,e.Phi=763,e.Gamma=603,e.Eta=722,e.Iota=333,e.theta1=631,e.Kappa=722,e.Lambda=686,e.Mu=889,e.Nu=722,e.Omicron=722,e.Pi=768,e.Theta=741,e.Rho=556,e.Sigma=592,e.Tau=611,e.Upsilon=690,e.sigma1=439,e.Omega=768,e.Xi=645,e.Psi=795,e.Zeta=611,e.bracketleft=333,e.therefore=863,e.bracketright=333,e.perpendicular=658,e.underscore=500,e.radicalex=500,e.alpha=631,e.beta=549,e.chi=549,e.delta=494,e.epsilon=439,e.phi=521,e.gamma=411,e.eta=603,e.iota=329,e.phi1=603,e.kappa=549,e.lambda=549,e.mu=576,e.nu=521,e.omicron=549,e.pi=549,e.theta=521,e.rho=549,e.sigma=603,e.tau=439,e.upsilon=576,e.omega1=713,e.omega=686,e.xi=493,e.psi=686,e.zeta=494,e.braceleft=480,e.bar=200,e.braceright=480,e.similar=549,e.Euro=750,e.Upsilon1=620,e.minute=247,e.lessequal=549,e.fraction=167,e.infinity=713,e.florin=500,e.club=753,e.diamond=753,e.heart=753,e.spade=753,e.arrowboth=1042,e.arrowleft=987,e.arrowup=603,e.arrowright=987,e.arrowdown=603,e.degree=400,e.plusminus=549,e.second=411,e.greaterequal=549,e.multiply=549,e.proportional=713,e.partialdiff=494,e.bullet=460,e.divide=549,e.notequal=549,e.equivalence=549,e.approxequal=549,e.ellipsis=1e3,e.arrowvertex=603,e.arrowhorizex=1e3,e.carriagereturn=658,e.aleph=823,e.Ifraktur=686,e.Rfraktur=795,e.weierstrass=987,e.circlemultiply=768,e.circleplus=768,e.emptyset=823,e.intersection=768,e.union=768,e.propersuperset=713,e.reflexsuperset=713,e.notsubset=713,e.propersubset=713,e.reflexsubset=713,e.element=713,e.notelement=713,e.angle=768,e.gradient=713,e.registerserif=790,e.copyrightserif=790,e.trademarkserif=890,e.product=823,e.radical=549,e.dotmath=250,e.logicalnot=713,e.logicaland=603,e.logicalor=603,e.arrowdblboth=1042,e.arrowdblleft=987,e.arrowdblup=603,e.arrowdblright=987,e.arrowdbldown=603,e.lozenge=494,e.angleleft=329,e.registersans=790,e.copyrightsans=790,e.trademarksans=786,e.summation=713,e.parenlefttp=384,e.parenleftex=384,e.parenleftbt=384,e.bracketlefttp=384,e.bracketleftex=384,e.bracketleftbt=384,e.bracelefttp=494,e.braceleftmid=494,e.braceleftbt=494,e.braceex=494,e.angleright=329,e.integral=274,e.integraltp=686,e.integralex=686,e.integralbt=686,e.parenrighttp=384,e.parenrightex=384,e.parenrightbt=384,e.bracketrighttp=384,e.bracketrightex=384,e.bracketrightbt=384,e.bracerighttp=494,e.bracerightmid=494,e.bracerightbt=494,e.apple=790})),e["Times-Roman"]=(0,n.getLookupTableFactory)((function(e){e.space=250,e.exclam=333,e.quotedbl=408,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=564,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=564,e.equal=564,e.greater=564,e.question=444,e.at=921,e.A=722,e.B=667,e.C=667,e.D=722,e.E=611,e.F=556,e.G=722,e.H=722,e.I=333,e.J=389,e.K=722,e.L=611,e.M=889,e.N=722,e.O=722,e.P=556,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=722,e.W=944,e.X=722,e.Y=722,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=469,e.underscore=500,e.quoteleft=333,e.a=444,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=500,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=500,e.o=500,e.p=500,e.q=500,e.r=333,e.s=389,e.t=278,e.u=500,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=480,e.bar=200,e.braceright=480,e.asciitilde=541,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=180,e.quotedblleft=444,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=453,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=444,e.quotedblright=444,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=444,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=889,e.ordfeminine=276,e.Lslash=611,e.Oslash=722,e.OE=889,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=444,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=722,e.divide=564,e.Yacute=722,e.Acircumflex=722,e.aacute=444,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=444,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=444,e.Ncommaaccent=722,e.lacute=278,e.agrave=444,e.Tcommaaccent=611,e.Cacute=667,e.atilde=444,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=444,e.Amacron=722,e.rcaron=333,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=556,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=588,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=722,e.Abreve=722,e.multiply=564,e.uacute=500,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=444,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=722,e.Iacute=333,e.plusminus=564,e.brokenbar=200,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=333,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=326,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=444,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=344,e.Kcommaaccent=722,e.Lacute=611,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=722,e.zdotaccent=444,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=500,e.minus=564,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=564,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500})),e["Times-Bold"]=(0,n.getLookupTableFactory)((function(e){e.space=250,e.exclam=333,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=1e3,e.ampersand=833,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=930,e.A=722,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=778,e.I=389,e.J=500,e.K=778,e.L=667,e.M=944,e.N=722,e.O=778,e.P=611,e.Q=778,e.R=722,e.S=556,e.T=667,e.U=722,e.V=722,e.W=1e3,e.X=722,e.Y=722,e.Z=667,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=581,e.underscore=500,e.quoteleft=333,e.a=500,e.b=556,e.c=444,e.d=556,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=333,e.k=556,e.l=278,e.m=833,e.n=556,e.o=500,e.p=556,e.q=556,e.r=444,e.s=389,e.t=333,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=394,e.bar=220,e.braceright=394,e.asciitilde=520,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=540,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=300,e.Lslash=667,e.Oslash=778,e.OE=1e3,e.ordmasculine=330,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=556,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=722,e.divide=570,e.Yacute=722,e.Acircumflex=722,e.aacute=500,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=667,e.Cacute=722,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=500,e.Amacron=722,e.rcaron=444,e.ccedilla=444,e.Zdotaccent=667,e.Thorn=611,e.Omacron=778,e.Racute=722,e.Sacute=556,e.dcaron=672,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=570,e.uacute=556,e.Tcaron=667,e.partialdiff=494,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=778,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=444,e.omacron=500,e.Zacute=667,e.Zcaron=667,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=416,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=778,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=300,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=556,e.threequarters=750,e.Scedilla=556,e.lcaron=394,e.Kcommaaccent=778,e.Lacute=667,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=667,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=778,e.degree=400,e.ograve=500,e.Ccaron=722,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=444,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=722,e.Lcommaaccent=667,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=444,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=556,e.minus=570,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=333,e.logicalnot=570,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500})),e["Times-BoldItalic"]=(0,n.getLookupTableFactory)((function(e){e.space=250,e.exclam=389,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=832,e.A=667,e.B=667,e.C=667,e.D=722,e.E=667,e.F=667,e.G=722,e.H=778,e.I=389,e.J=500,e.K=667,e.L=611,e.M=889,e.N=722,e.O=722,e.P=611,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=667,e.W=889,e.X=667,e.Y=611,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=570,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=556,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=556,e.v=444,e.w=667,e.x=500,e.y=444,e.z=389,e.braceleft=348,e.bar=220,e.braceright=348,e.asciitilde=570,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=500,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=944,e.ordfeminine=266,e.Lslash=611,e.Oslash=722,e.OE=944,e.ordmasculine=300,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=611,e.divide=570,e.Yacute=611,e.Acircumflex=667,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=611,e.Cacute=667,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=556,e.acircumflex=500,e.Amacron=667,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=611,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=608,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=722,e.Agrave=667,e.Abreve=667,e.multiply=570,e.uacute=556,e.Tcaron=611,e.partialdiff=494,e.ydieresis=444,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=722,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=366,e.eogonek=444,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=576,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=382,e.Kcommaaccent=667,e.Lacute=611,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=722,e.zdotaccent=389,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=500,e.minus=606,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=606,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500})),e["Times-Italic"]=(0,n.getLookupTableFactory)((function(e){e.space=250,e.exclam=333,e.quotedbl=420,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=675,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=675,e.equal=675,e.greater=675,e.question=500,e.at=920,e.A=611,e.B=611,e.C=667,e.D=722,e.E=611,e.F=611,e.G=722,e.H=722,e.I=333,e.J=444,e.K=667,e.L=556,e.M=833,e.N=667,e.O=722,e.P=611,e.Q=722,e.R=611,e.S=500,e.T=556,e.U=722,e.V=611,e.W=833,e.X=611,e.Y=556,e.Z=556,e.bracketleft=389,e.backslash=278,e.bracketright=389,e.asciicircum=422,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=278,e.g=500,e.h=500,e.i=278,e.j=278,e.k=444,e.l=278,e.m=722,e.n=500,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=500,e.v=444,e.w=667,e.x=444,e.y=444,e.z=389,e.braceleft=400,e.bar=275,e.braceright=400,e.asciitilde=541,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=214,e.quotedblleft=556,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=523,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=556,e.quotedblright=556,e.guillemotright=500,e.ellipsis=889,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=889,e.AE=889,e.ordfeminine=276,e.Lslash=556,e.Oslash=722,e.OE=944,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=667,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=500,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=556,e.divide=675,e.Yacute=556,e.Acircumflex=611,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=500,e.Ncommaaccent=667,e.lacute=278,e.agrave=500,e.Tcommaaccent=556,e.Cacute=667,e.atilde=500,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=611,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=500,e.Amacron=611,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=556,e.Thorn=611,e.Omacron=722,e.Racute=611,e.Sacute=500,e.dcaron=544,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=611,e.Abreve=611,e.multiply=675,e.uacute=500,e.Tcaron=556,e.partialdiff=476,e.ydieresis=444,e.Nacute=667,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=667,e.Iacute=333,e.plusminus=675,e.brokenbar=275,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=389,e.omacron=500,e.Zacute=556,e.Zcaron=556,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=300,e.eogonek=444,e.Uogonek=722,e.Aacute=611,e.Adieresis=611,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=500,e.lcaron=300,e.Kcommaaccent=667,e.Lacute=556,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=500,e.Scommaaccent=500,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=667,e.otilde=500,e.Rcommaaccent=611,e.Lcommaaccent=556,e.Atilde=611,e.Aogonek=611,e.Aring=611,e.Otilde=722,e.zdotaccent=389,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=444,e.minus=675,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=675,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500})),e.ZapfDingbats=(0,n.getLookupTableFactory)((function(e){e.space=278,e.a1=974,e.a2=961,e.a202=974,e.a3=980,e.a4=719,e.a5=789,e.a119=790,e.a118=791,e.a117=690,e.a11=960,e.a12=939,e.a13=549,e.a14=855,e.a15=911,e.a16=933,e.a105=911,e.a17=945,e.a18=974,e.a19=755,e.a20=846,e.a21=762,e.a22=761,e.a23=571,e.a24=677,e.a25=763,e.a26=760,e.a27=759,e.a28=754,e.a6=494,e.a7=552,e.a8=537,e.a9=577,e.a10=692,e.a29=786,e.a30=788,e.a31=788,e.a32=790,e.a33=793,e.a34=794,e.a35=816,e.a36=823,e.a37=789,e.a38=841,e.a39=823,e.a40=833,e.a41=816,e.a42=831,e.a43=923,e.a44=744,e.a45=723,e.a46=749,e.a47=790,e.a48=792,e.a49=695,e.a50=776,e.a51=768,e.a52=792,e.a53=759,e.a54=707,e.a55=708,e.a56=682,e.a57=701,e.a58=826,e.a59=815,e.a60=789,e.a61=789,e.a62=707,e.a63=687,e.a64=696,e.a65=689,e.a66=786,e.a67=787,e.a68=713,e.a69=791,e.a70=785,e.a71=791,e.a72=873,e.a73=761,e.a74=762,e.a203=762,e.a75=759,e.a204=759,e.a76=892,e.a77=892,e.a78=788,e.a79=784,e.a81=438,e.a82=138,e.a83=277,e.a84=415,e.a97=392,e.a98=392,e.a99=668,e.a100=668,e.a89=390,e.a90=390,e.a93=317,e.a94=317,e.a91=276,e.a92=276,e.a205=509,e.a85=509,e.a206=410,e.a86=410,e.a87=234,e.a88=234,e.a95=334,e.a96=334,e.a101=732,e.a102=544,e.a103=544,e.a104=910,e.a106=667,e.a107=760,e.a108=760,e.a112=776,e.a111=595,e.a110=694,e.a109=626,e.a120=788,e.a121=788,e.a122=788,e.a123=788,e.a124=788,e.a125=788,e.a126=788,e.a127=788,e.a128=788,e.a129=788,e.a130=788,e.a131=788,e.a132=788,e.a133=788,e.a134=788,e.a135=788,e.a136=788,e.a137=788,e.a138=788,e.a139=788,e.a140=788,e.a141=788,e.a142=788,e.a143=788,e.a144=788,e.a145=788,e.a146=788,e.a147=788,e.a148=788,e.a149=788,e.a150=788,e.a151=788,e.a152=788,e.a153=788,e.a154=788,e.a155=788,e.a156=788,e.a157=788,e.a158=788,e.a159=788,e.a160=894,e.a161=838,e.a163=1016,e.a164=458,e.a196=748,e.a165=924,e.a192=748,e.a166=918,e.a167=927,e.a168=928,e.a169=928,e.a170=834,e.a171=873,e.a172=828,e.a173=924,e.a162=924,e.a174=917,e.a175=930,e.a176=931,e.a177=463,e.a178=883,e.a179=836,e.a193=836,e.a180=867,e.a199=867,e.a181=696,e.a200=696,e.a182=874,e.a201=874,e.a183=760,e.a184=946,e.a197=771,e.a185=865,e.a194=771,e.a198=888,e.a186=967,e.a195=888,e.a187=831,e.a188=873,e.a189=927,e.a190=970,e.a191=918}))}));t.getMetrics=a},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var n=r(4);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=3285377520,o=4294901760,s=65535,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.h1=t?4294967295&t:i,this.h2=t?4294967295&t:i}var t,r,c;return t=e,(r=[{key:"update",value:function(e){var t,r;if((0,n.isString)(e)){t=new Uint8Array(2*e.length),r=0;for(var a=0,i=e.length;a<i;a++){var c=e.charCodeAt(a);c<=255?t[r++]=c:(t[r++]=c>>>8,t[r++]=255&c)}}else{if(!(0,n.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");r=(t=e.slice()).byteLength}for(var u=r>>2,l=r-4*u,f=new Uint32Array(t.buffer,0,u),h=0,d=0,p=this.h1,g=this.h2,m=3432918353,v=461845907,y=11601,b=13715,w=0;w<u;w++)1&w?p=5*(p=(p^=h=(h=(h=(h=f[w])*m&o|h*y&s)<<15|h>>>17)*v&o|h*b&s)<<13|p>>>19)+3864292196:g=5*(g=(g^=d=(d=(d=(d=f[w])*m&o|d*y&s)<<15|d>>>17)*v&o|d*b&s)<<13|g>>>19)+3864292196;switch(h=0,l){case 3:h^=t[4*u+2]<<16;case 2:h^=t[4*u+1]<<8;case 1:h=(h=(h=(h^=t[4*u])*m&o|h*y&s)<<15|h>>>17)*v&o|h*b&s,1&u?p^=h:g^=h}this.h1=p,this.h2=g}},{key:"hexdigest",value:function(){var e=this.h1,t=this.h2;e=3981806797*(e^=t>>>1)&o|36045*e&s,e=444984403*(e^=(t=4283543511*t&o|(2950163797*(t<<16|e>>>16)&o)>>>16)>>>1)&o|60499*e&s;var r=((e^=(t=3301882366*t&o|(3120437893*(t<<16|e>>>16)&o)>>>16)>>>1)>>>0).toString(16),n=(t>>>0).toString(16);return r.padStart(8,"0")+n.padStart(8,"0")}}])&&a(t.prototype,r),c&&a(t,c),e}();t.MurmurHash3_64=c},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorList=void 0;var a=r(4);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}function p(e,t,r,n,a){for(var i=e,o=0,s=t.length-1;o<s;o++){var c=t[o];i=i[c]||(i[c]=[])}i[t[t.length-1]]={checkFn:r,iterateFn:n,processFn:a}}var g=[];p(g,[a.OPS.save,a.OPS.transform,a.OPS.paintInlineImageXObject,a.OPS.restore],null,(function(e,t){var r=e.fnArray,n=(t-(e.iCurr-3))%4;switch(n){case 0:return r[t]===a.OPS.save;case 1:return r[t]===a.OPS.transform;case 2:return r[t]===a.OPS.paintInlineImageXObject;case 3:return r[t]===a.OPS.restore}throw new Error("iterateInlineImageGroup - invalid pos: ".concat(n))}),(function(e,t){var r=e.fnArray,n=e.argsArray,i=e.iCurr,o=i-3,s=i-2,c=i-1,u=Math.min(Math.floor((t-o)/4),200);if(u<10)return t-(t-o)%4;for(var l=0,f=[],h=0,d=1,p=1,g=0;g<u;g++){var m=n[s+(g<<2)],v=n[c+(g<<2)][0];d+v.width>1e3&&(l=Math.max(l,d),p+=h+2,d=0,h=0),f.push({transform:m,x:d,y:p,w:v.width,h:v.height}),d+=v.width+2,h=Math.max(h,v.height)}for(var y=Math.max(l,d)+1,b=p+h+1,w=new Uint8ClampedArray(y*b*4),k=y<<2,S=0;S<u;S++){var x=n[c+(S<<2)][0].data,A=f[S].w<<2,O=0,C=f[S].x+f[S].y*y<<2;w.set(x.subarray(0,A),C-k);for(var T=0,F=f[S].h;T<F;T++)w.set(x.subarray(O,O+A),C),O+=A,C+=k;for(w.set(x.subarray(O-A,O),C);C>=0;)x[C-4]=x[C],x[C-3]=x[C+1],x[C-2]=x[C+2],x[C-1]=x[C+3],x[C+A]=x[C+A-4],x[C+A+1]=x[C+A-3],x[C+A+2]=x[C+A-2],x[C+A+3]=x[C+A-1],C-=k}return r.splice(o,4*u,a.OPS.paintInlineImageXObjectGroup),n.splice(o,4*u,[{width:y,height:b,kind:a.ImageKind.RGBA_32BPP,data:w},f]),o+1})),p(g,[a.OPS.save,a.OPS.transform,a.OPS.paintImageMaskXObject,a.OPS.restore],null,(function(e,t){var r=e.fnArray,n=(t-(e.iCurr-3))%4;switch(n){case 0:return r[t]===a.OPS.save;case 1:return r[t]===a.OPS.transform;case 2:return r[t]===a.OPS.paintImageMaskXObject;case 3:return r[t]===a.OPS.restore}throw new Error("iterateImageMaskGroup - invalid pos: ".concat(n))}),(function(e,t){var r=e.fnArray,n=e.argsArray,i=e.iCurr,o=i-3,s=i-2,c=i-1,u=Math.floor((t-o)/4);if(u=function(e,t,r,n){var i,o=e+2;for(i=0;i<t;i++){var s=n[o+4*i],c=1===s.length&&s[0];if(!c||1!==c.width||1!==c.height||c.data.length&&(1!==c.data.length||0!==c.data[0]))break;r[o+4*i]=a.OPS.paintSolidColorImageMask}return t-i}(o,u,r,n),u<10)return t-(t-o)%4;var l,f,h=!1,d=n[c][0],p=n[s][0],g=n[s][1],m=n[s][2],v=n[s][3];if(g===m){h=!0,l=s+4;for(var y=c+4,b=1;b<u;b++,l+=4,y+=4)if(f=n[l],n[y][0]!==d||f[0]!==p||f[1]!==g||f[2]!==m||f[3]!==v){b<10?h=!1:u=b;break}}if(h){u=Math.min(u,1e3);var w=new Float32Array(2*u);l=s;for(var k=0;k<u;k++,l+=4)f=n[l],w[k<<1]=f[4],w[1+(k<<1)]=f[5];r.splice(o,4*u,a.OPS.paintImageMaskXObjectRepeat),n.splice(o,4*u,[d,p,g,m,v,w])}else{u=Math.min(u,100);for(var S=[],x=0;x<u;x++){f=n[s+(x<<2)];var A=n[c+(x<<2)][0];S.push({data:A.data,width:A.width,height:A.height,transform:f})}r.splice(o,4*u,a.OPS.paintImageMaskXObjectGroup),n.splice(o,4*u,[S])}return o+1})),p(g,[a.OPS.save,a.OPS.transform,a.OPS.paintImageXObject,a.OPS.restore],(function(e){var t=e.argsArray,r=e.iCurr-2;return 0===t[r][1]&&0===t[r][2]}),(function(e,t){var r=e.fnArray,n=e.argsArray,i=(t-(e.iCurr-3))%4;switch(i){case 0:return r[t]===a.OPS.save;case 1:if(r[t]!==a.OPS.transform)return!1;var o=e.iCurr-2,s=n[o][0],c=n[o][3];return n[t][0]===s&&0===n[t][1]&&0===n[t][2]&&n[t][3]===c;case 2:if(r[t]!==a.OPS.paintImageXObject)return!1;var u=n[e.iCurr-1][0];return n[t][0]===u;case 3:return r[t]===a.OPS.restore}throw new Error("iterateImageGroup - invalid pos: ".concat(i))}),(function(e,t){var r=e.fnArray,n=e.argsArray,i=e.iCurr,o=i-3,s=i-2,c=n[i-1][0],u=n[s][0],l=n[s][3],f=Math.min(Math.floor((t-o)/4),1e3);if(f<3)return t-(t-o)%4;for(var h=new Float32Array(2*f),d=s,p=0;p<f;p++,d+=4){var g=n[d];h[p<<1]=g[4],h[1+(p<<1)]=g[5]}var m=[c,u,l,h];return r.splice(o,4*f,a.OPS.paintImageXObjectRepeat),n.splice(o,4*f,m),o+1})),p(g,[a.OPS.beginText,a.OPS.setFont,a.OPS.setTextMatrix,a.OPS.showText,a.OPS.endText],null,(function(e,t){var r=e.fnArray,n=e.argsArray,i=(t-(e.iCurr-4))%5;switch(i){case 0:return r[t]===a.OPS.beginText;case 1:return r[t]===a.OPS.setFont;case 2:return r[t]===a.OPS.setTextMatrix;case 3:if(r[t]!==a.OPS.showText)return!1;var o=e.iCurr-3,s=n[o][0],c=n[o][1];return n[t][0]===s&&n[t][1]===c;case 4:return r[t]===a.OPS.endText}throw new Error("iterateShowTextGroup - invalid pos: ".concat(i))}),(function(e,t){var r=e.fnArray,n=e.argsArray,a=e.iCurr,i=a-4,o=a-3,s=a-2,c=a-1,u=a,l=n[o][0],f=n[o][1],h=Math.min(Math.floor((t-i)/5),1e3);if(h<3)return t-(t-i)%5;var d=i;i>=4&&r[i-4]===r[o]&&r[i-3]===r[s]&&r[i-2]===r[c]&&r[i-1]===r[u]&&n[i-4][0]===l&&n[i-4][1]===f&&(h++,d-=5);for(var p=d+4,g=1;g<h;g++)r.splice(p,3),n.splice(p,3),p+=2;return p+1}));var m=function(){function e(t){f(this,e),this.queue=t}return d(e,[{key:"_optimize",value:function(){}},{key:"push",value:function(e,t){this.queue.fnArray.push(e),this.queue.argsArray.push(t),this._optimize()}},{key:"flush",value:function(){}},{key:"reset",value:function(){}}]),e}(),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,e);var t=c(r);function r(e){var n;return f(this,r),(n=t.call(this,e)).state=null,n.context={iCurr:0,fnArray:e.fnArray,argsArray:e.argsArray},n.match=null,n.lastProcessed=0,n}return d(r,[{key:"_optimize",value:function(){var e=this.queue.fnArray,t=this.lastProcessed,r=e.length,n=this.state,a=this.match;if(n||a||t+1!==r||g[e[t]]){for(var i=this.context;t<r;){if(a){if((0,a.iterateFn)(i,t)){t++;continue}if(t=(0,a.processFn)(i,t+1),a=null,n=null,t>=(r=e.length))break}(n=(n||g)[e[t]])&&!Array.isArray(n)?(i.iCurr=t,t++,!n.checkFn||(0,n.checkFn)(i)?(a=n,n=null):n=null):t++}this.state=n,this.match=a,this.lastProcessed=t}else this.lastProcessed=r}},{key:"flush",value:function(){for(;this.match;){var e=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,e),this.match=null,this.state=null,this._optimize()}}},{key:"reset",value:function(){this.state=null,this.match=null,this.lastProcessed=0}}]),r}(m),y=function(){function e(t,r){f(this,e),this._streamSink=r,this.fnArray=[],this.argsArray=[],this.optimizer=r&&"oplist"!==t?new v(this):new m(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=r?null:Promise.resolve()}return d(e,[{key:"length",get:function(){return this.argsArray.length}},{key:"ready",get:function(){return this._resolved||this._streamSink.ready}},{key:"totalLength",get:function(){return this._totalLength+this.length}},{key:"addOp",value:function(t,r){this.optimizer.push(t,r),this.weight++,this._streamSink&&(this.weight>=e.CHUNK_SIZE||this.weight>=e.CHUNK_SIZE_ABOUT&&(t===a.OPS.restore||t===a.OPS.endText))&&this.flush()}},{key:"addDependency",value:function(e){this.dependencies.has(e)||(this.dependencies.add(e),this.addOp(a.OPS.dependency,[e]))}},{key:"addDependencies",value:function(e){var t,r=i(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.addDependency(n)}}catch(e){r.e(e)}finally{r.f()}}},{key:"addOpList",value:function(t){if(t instanceof e){var r,n=i(t.dependencies);try{for(n.s();!(r=n.n()).done;){var o=r.value;this.dependencies.add(o)}}catch(e){n.e(e)}finally{n.f()}for(var s=0,c=t.length;s<c;s++)this.addOp(t.fnArray[s],t.argsArray[s])}else(0,a.warn)('addOpList - ignoring invalid "opList" parameter.')}},{key:"getIR",value:function(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}},{key:"_transfers",get:function(){for(var e=[],t=this.fnArray,r=this.argsArray,n=this.length,i=0;i<n;i++)switch(t[i]){case a.OPS.paintInlineImageXObject:case a.OPS.paintInlineImageXObjectGroup:case a.OPS.paintImageMaskXObject:var o=r[i][0];o.cached||e.push(o.data.buffer)}return e}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.optimizer.flush();var t=this.length;this._totalLength+=t,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:e,length:t},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}],[{key:"CHUNK_SIZE",get:function(){return(0,a.shadow)(this,"CHUNK_SIZE",1e3)}},{key:"CHUNK_SIZE_ABOUT",get:function(){return(0,a.shadow)(this,"CHUNK_SIZE_ABOUT",e.CHUNK_SIZE-5)}}]),e}();t.OperatorList=y},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFImage=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4),o=r(113),s=r(122),c=r(127),u=r(135),l=r(138);function f(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r,n){return(e=t+e*r)<0?e=0:e>n&&(e=n),e}function p(e,t,r,n,a,i){var o,s=a*i;o=t<=8?new Uint8Array(s):t<=16?new Uint16Array(s):new Uint32Array(s);var c,u,l,f,h=r/a,d=n/i,p=0,g=new Uint16Array(a),m=r;for(c=0;c<a;c++)g[c]=Math.floor(c*h);for(c=0;c<i;c++)for(l=Math.floor(c*d)*m,u=0;u<a;u++)f=l+g[u],o[p++]=e[f];return o}var g=function(){function e(t){var r=t.xref,n=t.res,a=t.image,c=t.isInline,u=void 0!==c&&c,f=t.smask,h=void 0===f?null:f,d=t.mask,p=void 0===d?null:d,g=t.isMask,m=void 0!==g&&g,v=t.pdfFunctionFactory,y=t.localColorSpaceCache;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.image=a;var b=a.dict,w=b.get("Filter");if((0,o.isName)(w))switch(w.name){case"JPXDecode":var k=new l.JpxImage;k.parseImageProperties(a.stream),a.stream.reset(),a.width=k.width,a.height=k.height,a.bitsPerComponent=k.bitsPerComponent,a.numComps=k.componentsCount;break;case"JBIG2Decode":a.bitsPerComponent=1,a.numComps=1}var S=b.get("Width","W"),x=b.get("Height","H");if(Number.isInteger(a.width)&&a.width>0&&Number.isInteger(a.height)&&a.height>0&&(a.width!==S||a.height!==x)&&((0,i.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),S=a.width,x=a.height),S<1||x<1)throw new i.FormatError("Invalid image width: ".concat(S," or height: ").concat(x));this.width=S,this.height=x,this.interpolate=b.get("Interpolate","I")||!1,this.imageMask=b.get("ImageMask","IM")||!1,this.matte=b.get("Matte")||!1;var A=a.bitsPerComponent;if(!A&&!(A=b.get("BitsPerComponent","BPC"))){if(!this.imageMask)throw new i.FormatError("Bits per component missing in image: ".concat(this.imageMask));A=1}if(this.bpc=A,!this.imageMask){var O=b.getRaw("ColorSpace")||b.getRaw("CS");if(!O)switch((0,i.info)("JPX images (which do not require color spaces)"),a.numComps){case 1:O=o.Name.get("DeviceGray");break;case 3:O=o.Name.get("DeviceRGB");break;case 4:O=o.Name.get("DeviceCMYK");break;default:throw new Error("JPX images with ".concat(a.numComps," ")+"color components not supported.")}this.colorSpace=s.ColorSpace.parse({cs:O,xref:r,resources:u?n:null,pdfFunctionFactory:v,localColorSpaceCache:y}),this.numComps=this.colorSpace.numComps}if(this.decode=b.getArray("Decode","D"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,A)||m&&!s.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;var C=(1<<A)-1;this.decodeCoefficients=[],this.decodeAddends=[];for(var T=this.colorSpace&&"Indexed"===this.colorSpace.name,F=0,P=0;F<this.decode.length;F+=2,++P){var _=this.decode[F],I=this.decode[F+1];this.decodeCoefficients[P]=T?(I-_)/C:I-_,this.decodeAddends[P]=T?_:C*_}}h?this.smask=new e({xref:r,res:n,image:h,isInline:u,pdfFunctionFactory:v,localColorSpaceCache:y}):p&&((0,o.isStream)(p)?p.dict.get("ImageMask","IM")?this.mask=new e({xref:r,res:n,image:p,isInline:u,isMask:!0,pdfFunctionFactory:v,localColorSpaceCache:y}):(0,i.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=p)}var t,r,n,g,m;return t=e,r=[{key:"drawWidth",get:function(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}},{key:"drawHeight",get:function(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}},{key:"decodeBuffer",value:function(e){var t,r,n=this.bpc,a=this.numComps,i=this.decodeAddends,o=this.decodeCoefficients,s=(1<<n)-1;if(1!==n){var c=0;for(t=0,r=this.width*this.height;t<r;t++)for(var u=0;u<a;u++)e[c]=d(e[c],i[u],o[u],s),c++}else for(t=0,r=e.length;t<r;t++)e[t]=+!e[t]}},{key:"getComponents",value:function(e){var t=this.bpc;if(8===t)return e;var r,n=this.width,a=this.height,i=this.numComps,o=n*a*i,s=0;r=t<=8?new Uint8Array(o):t<=16?new Uint16Array(o):new Uint32Array(o);var c,u,l=n*i,f=(1<<t)-1,h=0;if(1===t)for(var d,p,g,m=0;m<a;m++){for(p=h+(-8&l),g=h+l;h<p;)u=e[s++],r[h]=u>>7&1,r[h+1]=u>>6&1,r[h+2]=u>>5&1,r[h+3]=u>>4&1,r[h+4]=u>>3&1,r[h+5]=u>>2&1,r[h+6]=u>>1&1,r[h+7]=1&u,h+=8;if(h<g)for(u=e[s++],d=128;h<g;)r[h++]=+!!(u&d),d>>=1}else{var v=0;for(u=0,h=0,c=o;h<c;++h){for(h%l==0&&(u=0,v=0);v<t;)u=u<<8|e[s++],v+=8;var y=v-t,b=u>>y;b<0?b=0:b>f&&(b=f),r[h]=b,u&=(1<<y)-1,v=y}}return r}},{key:"fillOpacity",value:function(t,r,n,a,o){var s,c,u,l,f,h,d=this.smask,g=this.mask;if(d)c=d.width,u=d.height,s=new Uint8ClampedArray(c*u),d.fillGrayBuffer(s),c===r&&u===n||(s=p(s,d.bpc,c,u,r,n));else if(g)if(g instanceof e){for(c=g.width,u=g.height,s=new Uint8ClampedArray(c*u),g.numComps=1,g.fillGrayBuffer(s),l=0,f=c*u;l<f;++l)s[l]=255-s[l];c===r&&u===n||(s=p(s,g.bpc,c,u,r,n))}else{if(!Array.isArray(g))throw new i.FormatError("Unknown mask format.");s=new Uint8ClampedArray(r*n);var m=this.numComps;for(l=0,f=r*n;l<f;++l){var v=0,y=l*m;for(h=0;h<m;++h){var b=o[y+h],w=2*h;if(b<g[w]||b>g[w+1]){v=255;break}}s[l]=v}}if(s)for(l=0,h=3,f=r*a;l<f;++l,h+=4)t[h]=s[l];else for(l=0,h=3,f=r*a;l<f;++l,h+=4)t[h]=255}},{key:"undoPreblend",value:function(e,t,r){var n=this.smask&&this.smask.matte;if(n)for(var a=this.colorSpace.getRgb(n,0),i=a[0],o=a[1],s=a[2],c=t*r*4,u=0;u<c;u+=4){var l=e[u+3];if(0!==l){var f=255/l;e[u]=(e[u]-i)*f+i,e[u+1]=(e[u+1]-o)*f+o,e[u+2]=(e[u+2]-s)*f+s}else e[u]=255,e[u+1]=255,e[u+2]=255}}},{key:"createImageData",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.drawWidth,n=this.drawHeight,a={width:r,height:n,kind:0,data:null},o=this.numComps,s=this.width,l=this.height,f=this.bpc,h=s*o*f+7>>3;if(!t){var d;if("DeviceGray"===this.colorSpace.name&&1===f?d=i.ImageKind.GRAYSCALE_1BPP:"DeviceRGB"!==this.colorSpace.name||8!==f||this.needsDecode||(d=i.ImageKind.RGB_24BPP),d&&!this.smask&&!this.mask&&r===s&&n===l){if(a.kind=d,e=this.getImageBytes(l*h),this.image instanceof c.DecodeStream)a.data=e;else{var p=new Uint8ClampedArray(e.length);p.set(e),a.data=p}if(this.needsDecode){(0,i.assert)(d===i.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");for(var g=a.data,m=0,v=g.length;m<v;m++)g[m]^=255}return a}if(this.image instanceof u.JpegStream&&!this.smask&&!this.mask){var y=l*h;switch(this.colorSpace.name){case"DeviceGray":y*=3;case"DeviceRGB":case"DeviceCMYK":return a.kind=i.ImageKind.RGB_24BPP,a.data=this.getImageBytes(y,r,n,!0),a}}}var b,w,k=0|(e=this.getImageBytes(l*h)).length/h*n/l,S=this.getComponents(e);return t||this.smask||this.mask?(a.kind=i.ImageKind.RGBA_32BPP,a.data=new Uint8ClampedArray(r*n*4),b=1,w=!0,this.fillOpacity(a.data,r,n,k,S)):(a.kind=i.ImageKind.RGB_24BPP,a.data=new Uint8ClampedArray(r*n*3),b=0,w=!1),this.needsDecode&&this.decodeBuffer(S),this.colorSpace.fillRgb(a.data,s,l,r,n,k,f,S,b),w&&this.undoPreblend(a.data,r,k),a}},{key:"fillGrayBuffer",value:function(e){var t=this.numComps;if(1!==t)throw new i.FormatError("Reading gray scale from a color image: ".concat(t));var r,n,a=this.width,o=this.height,s=this.bpc,c=a*t*s+7>>3,u=this.getImageBytes(o*c),l=this.getComponents(u);if(1!==s){this.needsDecode&&this.decodeBuffer(l),n=a*o;var f=255/((1<<s)-1);for(r=0;r<n;++r)e[r]=f*l[r]}else if(n=a*o,this.needsDecode)for(r=0;r<n;++r)e[r]=l[r]-1&255;else for(r=0;r<n;++r)e[r]=255&-l[r]}},{key:"getImageBytes",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.image.reset(),this.image.drawWidth=t||this.width,this.image.drawHeight=r||this.height,this.image.forceRGB=!!n,this.image.getBytes(e,!0)}}],n=[{key:"buildImage",value:(g=a.default.mark((function t(r){var n,s,c,u,l,f,h,d,p,g,m,v;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.xref,s=r.res,c=r.image,u=r.isInline,l=void 0!==u&&u,f=r.pdfFunctionFactory,h=r.localColorSpaceCache,d=c,p=null,g=null,m=c.dict.get("SMask"),v=c.dict.get("Mask"),m?p=m:v&&((0,o.isStream)(v)||Array.isArray(v)?g=v:(0,i.warn)("Unsupported mask format.")),t.abrupt("return",new e({xref:n,res:s,image:d,isInline:l,smask:p,mask:g,pdfFunctionFactory:f,localColorSpaceCache:h}));case 8:case"end":return t.stop()}}),t)})),m=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=g.apply(e,t);function i(e){f(a,r,n,i,o,"next",e)}function o(e){f(a,r,n,i,o,"throw",e)}i(void 0)}))},function(e){return m.apply(this,arguments)})},{key:"createMask",value:function(e){var t,r,n=e.imgArray,a=e.width,i=e.height,o=e.imageIsFromDecodeStream,s=e.inverseDecode,c=(a+7>>3)*i,u=n.byteLength;if(!o||s&&c!==u)if(s)for((t=new Uint8ClampedArray(c)).set(n),r=u;r<c;r++)t[r]=255;else(t=new Uint8ClampedArray(u)).set(n);else t=n;if(s)for(r=0;r<u;r++)t[r]^=255;return{data:t,width:a,height:i}}}],r&&h(t.prototype,r),n&&h(t,n),e}();t.PDFImage=g},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Catalog=void 0;var n=r(113),a=r(117),i=r(4),o=r(166),s=r(122),c=r(167),u=r(159),l=r(168),f=r(170);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return e instanceof n.Dict&&(e=e.get("D")),Array.isArray(e)?e:null}var w=function(){function e(t,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfManager=t,this.xref=r,this._catDict=r.getCatalogObj(),!(0,n.isDict)(this._catDict))throw new i.FormatError("Catalog object is not a dictionary.");this.fontCache=new n.RefSetCache,this.builtInCMapCache=new Map,this.globalImageCache=new u.GlobalImageCache,this.pageKidsCountCache=new n.RefSetCache,this.pageIndexCache=new n.RefSetCache,this.nonBlendModesSet=new n.RefSet}var t,r,m;return t=e,r=[{key:"version",get:function(){var e=this._catDict.get("Version");return(0,n.isName)(e)?(0,i.shadow)(this,"version",e.name):(0,i.shadow)(this,"version",null)}},{key:"collection",get:function(){var e=null;try{var t=this._catDict.get("Collection");(0,n.isDict)(t)&&t.size>0&&(e=t)}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,i.shadow)(this,"collection",e)}},{key:"acroForm",get:function(){var e=null;try{var t=this._catDict.get("AcroForm");(0,n.isDict)(t)&&t.size>0&&(e=t)}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,i.shadow)(this,"acroForm",e)}},{key:"metadata",get:function(){var e=this._catDict.getRaw("Metadata");if(!(0,n.isRef)(e))return(0,i.shadow)(this,"metadata",null);var t=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),r=this.xref.fetch(e,t),o=null;if((0,n.isStream)(r)&&(0,n.isDict)(r.dict)){var s=r.dict.get("Type"),c=r.dict.get("Subtype");if((0,n.isName)(s,"Metadata")&&(0,n.isName)(c,"XML"))try{var u=(0,i.stringToUTF8String)(r.getString());u&&(o=new l.MetadataParser(u).serializable)}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.info)("Skipping invalid metadata.")}}return(0,i.shadow)(this,"metadata",o)}},{key:"markInfo",get:function(){var e=null;try{e=this._readMarkInfo()}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.warn)("Unable to read mark info.")}return(0,i.shadow)(this,"markInfo",e)}},{key:"_readMarkInfo",value:function(){var e=this._catDict.get("MarkInfo");if(!(0,n.isDict)(e))return null;var t=Object.assign(Object.create(null),{Marked:!1,UserProperties:!1,Suspects:!1});for(var r in t)if(e.has(r)){var a=e.get(r);(0,i.isBool)(a)&&(t[r]=a)}return t}},{key:"structTreeRoot",get:function(){var e=null;try{e=this._readStructTreeRoot()}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.warn)("Unable read to structTreeRoot info.")}return(0,i.shadow)(this,"structTreeRoot",e)}},{key:"_readStructTreeRoot",value:function(){var e=this._catDict.get("StructTreeRoot");if(!(0,n.isDict)(e))return null;var t=new f.StructTreeRoot(e);return t.init(),t}},{key:"toplevelPagesDict",get:function(){var e=this._catDict.get("Pages");if(!(0,n.isDict)(e))throw new i.FormatError("Invalid top-level pages dictionary.");return(0,i.shadow)(this,"toplevelPagesDict",e)}},{key:"documentOutline",get:function(){var e=null;try{e=this._readDocumentOutline()}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.warn)("Unable to read document outline.")}return(0,i.shadow)(this,"documentOutline",e)}},{key:"_readDocumentOutline",value:function(){var t=this._catDict.get("Outlines");if(!(0,n.isDict)(t))return null;if(t=t.getRaw("First"),!(0,n.isRef)(t))return null;var r={items:[]},a=[{obj:t,parent:r}],o=new n.RefSet;o.put(t);for(var c=this.xref,u=new Uint8ClampedArray(3);a.length>0;){var l=a.shift(),f=c.fetchIfRef(l.obj);if(null!==f){if(!f.has("Title"))throw new i.FormatError("Invalid outline item encountered.");var h={url:null,dest:null};e.parseDestDictionary({destDict:f,resultObj:h,docBaseUrl:this.pdfManager.docBaseUrl});var d=f.get("Title"),p=f.get("F")||0,g=f.getArray("C"),m=f.get("Count"),v=u;!Array.isArray(g)||3!==g.length||0===g[0]&&0===g[1]&&0===g[2]||(v=s.ColorSpace.singletons.rgb.getRgb(g,0));var y={dest:h.dest,url:h.url,unsafeUrl:h.unsafeUrl,newWindow:h.newWindow,title:(0,i.stringToPDFString)(d),color:v,count:Number.isInteger(m)?m:void 0,bold:!!(2&p),italic:!!(1&p),items:[]};l.parent.items.push(y),t=f.getRaw("First"),(0,n.isRef)(t)&&!o.has(t)&&(a.push({obj:t,parent:y}),o.put(t)),t=f.getRaw("Next"),(0,n.isRef)(t)&&!o.has(t)&&(a.push({obj:t,parent:l.parent}),o.put(t))}}return r.items.length>0?r.items:null}},{key:"permissions",get:function(){var e=null;try{e=this._readPermissions()}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.warn)("Unable to read permissions.")}return(0,i.shadow)(this,"permissions",e)}},{key:"_readPermissions",value:function(){var e=this.xref.trailer.get("Encrypt");if(!(0,n.isDict)(e))return null;var t=e.get("P");if(!(0,i.isNum)(t))return null;t+=Math.pow(2,32);var r=[];for(var a in i.PermissionFlag){var o=i.PermissionFlag[a];t&o&&r.push(o)}return r}},{key:"optionalContentConfig",get:function(){var e=null;try{var t=this._catDict.get("OCProperties");if(!t)return(0,i.shadow)(this,"optionalContentConfig",null);var r=t.get("D");if(!r)return(0,i.shadow)(this,"optionalContentConfig",null);var o=t.get("OCGs");if(!Array.isArray(o))return(0,i.shadow)(this,"optionalContentConfig",null);var s,c=[],u=[],l=g(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;if((0,n.isRef)(f)){u.push(f);var h=this.xref.fetchIfRef(f);c.push({id:f.toString(),name:(0,i.isString)(h.get("Name"))?(0,i.stringToPDFString)(h.get("Name")):null,intent:(0,i.isString)(h.get("Intent"))?(0,i.stringToPDFString)(h.get("Intent")):null})}}}catch(e){l.e(e)}finally{l.f()}(e=this._readOptionalContentConfig(r,u)).groups=c}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.warn)("Unable to read optional content config: ".concat(e))}return(0,i.shadow)(this,"optionalContentConfig",e)}},{key:"_readOptionalContentConfig",value:function(e,t){function r(e){var r=[];if(Array.isArray(e)){var a,i=g(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;(0,n.isRef)(o)&&t.includes(o)&&r.push(o.toString())}}catch(e){i.e(e)}finally{i.f()}}return r}function a(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Array.isArray(e))return null;var a,i=[],s=g(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;if((0,n.isRef)(u)&&t.includes(u))c.put(u),i.push(u.toString());else{var l=o(u,r);l&&i.push(l)}}}catch(e){s.e(e)}finally{s.f()}if(r>0)return i;var f,h=[],d=g(t);try{for(d.s();!(f=d.n()).done;){var p=f.value;c.has(p)||h.push(p.toString())}}catch(e){d.e(e)}finally{d.f()}return h.length&&i.push({name:null,order:h}),i}function o(e,t){if(++t>u)return(0,i.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;var r=s.fetchIfRef(e);if(!Array.isArray(r))return null;var n=s.fetchIfRef(r[0]);if("string"!=typeof n)return null;var o=a(r.slice(1),t);return o&&o.length?{name:(0,i.stringToPDFString)(n),order:o}:null}var s=this.xref,c=new n.RefSet,u=10;return{name:(0,i.isString)(e.get("Name"))?(0,i.stringToPDFString)(e.get("Name")):null,creator:(0,i.isString)(e.get("Creator"))?(0,i.stringToPDFString)(e.get("Creator")):null,baseState:(0,n.isName)(e.get("BaseState"))?e.get("BaseState").name:null,on:r(e.get("ON")),off:r(e.get("OFF")),order:a(e.get("Order")),groups:null}}},{key:"numPages",get:function(){var e=this.toplevelPagesDict.get("Count");if(!Number.isInteger(e))throw new i.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,i.shadow)(this,"numPages",e)}},{key:"destinations",get:function(){var e=this._readDests(),t=Object.create(null);if(e instanceof o.NameTree){var r,a=g(e.getAll());try{for(a.s();!(r=a.n()).done;){var s=p(r.value,2),c=s[0],u=b(s[1]);u&&(t[c]=u)}}catch(e){a.e(e)}finally{a.f()}}else e instanceof n.Dict&&e.forEach((function(e,r){var n=b(r);n&&(t[e]=n)}));return(0,i.shadow)(this,"destinations",t)}},{key:"getDestination",value:function(e){var t=this._readDests();if(t instanceof o.NameTree){var r=b(t.get(e));if(r)return r;var a=this.destinations[e];if(a)return(0,i.warn)('Found "'.concat(e,'" at an incorrect position in the NameTree.')),a}else if(t instanceof n.Dict){var s=b(t.get(e));if(s)return s}return null}},{key:"_readDests",value:function(){var e=this._catDict.get("Names");return e&&e.has("Dests")?new o.NameTree(e.getRaw("Dests"),this.xref):this._catDict.has("Dests")?this._catDict.get("Dests"):void 0}},{key:"pageLabels",get:function(){var e=null;try{e=this._readPageLabels()}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.warn)("Unable to read page labels.")}return(0,i.shadow)(this,"pageLabels",e)}},{key:"_readPageLabels",value:function(){var e=this._catDict.getRaw("PageLabels");if(!e)return null;for(var t=new Array(this.numPages),r=null,s="",c=new o.NumberTree(e,this.xref).getAll(),u="",l=1,f=0,h=this.numPages;f<h;f++){var d=c.get(f);if(void 0!==d){if(!(0,n.isDict)(d))throw new i.FormatError("PageLabel is not a dictionary.");if(d.has("Type")&&!(0,n.isName)(d.get("Type"),"PageLabel"))throw new i.FormatError("Invalid type in PageLabel dictionary.");if(d.has("S")){var p=d.get("S");if(!(0,n.isName)(p))throw new i.FormatError("Invalid style in PageLabel dictionary.");r=p.name}else r=null;if(d.has("P")){var g=d.get("P");if(!(0,i.isString)(g))throw new i.FormatError("Invalid prefix in PageLabel dictionary.");s=(0,i.stringToPDFString)(g)}else s="";if(d.has("St")){var m=d.get("St");if(!(Number.isInteger(m)&&m>=1))throw new i.FormatError("Invalid start in PageLabel dictionary.");l=m}else l=1}switch(r){case"D":u=l;break;case"R":case"r":u=(0,a.toRomanNumerals)(l,"r"===r);break;case"A":case"a":for(var v="a"===r?97:65,y=l-1,b=String.fromCharCode(v+y%26),w=[],k=0,S=y/26|0;k<=S;k++)w.push(b);u=w.join("");break;default:if(r)throw new i.FormatError('Invalid style "'.concat(r,'" in PageLabel dictionary.'));u=""}t[f]=s+u,l++}return t}},{key:"pageLayout",get:function(){var e=this._catDict.get("PageLayout"),t="";if((0,n.isName)(e))switch(e.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":t=e.name}return(0,i.shadow)(this,"pageLayout",t)}},{key:"pageMode",get:function(){var e=this._catDict.get("PageMode"),t="UseNone";if((0,n.isName)(e))switch(e.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":t=e.name}return(0,i.shadow)(this,"pageMode",t)}},{key:"viewerPreferences",get:function(){var e=this,t={HideToolbar:i.isBool,HideMenubar:i.isBool,HideWindowUI:i.isBool,FitWindow:i.isBool,CenterWindow:i.isBool,DisplayDocTitle:i.isBool,NonFullScreenPageMode:n.isName,Direction:n.isName,ViewArea:n.isName,ViewClip:n.isName,PrintArea:n.isName,PrintClip:n.isName,PrintScaling:n.isName,Duplex:n.isName,PickTrayByPDFSize:i.isBool,PrintPageRange:Array.isArray,NumCopies:Number.isInteger},r=this._catDict.get("ViewerPreferences"),a=null;if((0,n.isDict)(r))for(var o in t)if(r.has(o)){var s=r.get(o);if(t[o](s)){var c=void 0;switch(o){case"NonFullScreenPageMode":switch(s.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":c=s.name;break;default:c="UseNone"}break;case"Direction":switch(s.name){case"L2R":case"R2L":c=s.name;break;default:c="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":switch(s.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":c=s.name;break;default:c="CropBox"}break;case"PrintScaling":switch(s.name){case"None":case"AppDefault":c=s.name;break;default:c="AppDefault"}break;case"Duplex":switch(s.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":c=s.name;break;default:c="None"}break;case"PrintPageRange":if(s.length%2!=0)break;s.every((function(t,r,n){return Number.isInteger(t)&&t>0&&(0===r||t>=n[r-1])&&t<=e.numPages}))&&(c=s);break;case"NumCopies":s>0&&(c=s);break;default:if("boolean"!=typeof s)throw new i.FormatError("viewerPreferences - expected a boolean value for: ".concat(o));c=s}void 0!==c?(a||(a=Object.create(null)),a[o]=c):(0,i.info)('Bad value in ViewerPreferences for "'.concat(o,'".'))}else(0,i.info)('Bad value in ViewerPreferences for "'.concat(o,'".'))}return(0,i.shadow)(this,"viewerPreferences",a)}},{key:"openAction",get:function(){var t=this._catDict.get("OpenAction"),r=Object.create(null);if((0,n.isDict)(t)){var a=new n.Dict(this.xref);a.set("A",t);var o={url:null,dest:null,action:null};e.parseDestDictionary({destDict:a,resultObj:o}),Array.isArray(o.dest)?r.dest=o.dest:o.action&&(r.action=o.action)}else Array.isArray(t)&&(r.dest=t);return(0,i.shadow)(this,"openAction",(0,i.objectSize)(r)>0?r:null)}},{key:"attachments",get:function(){var e=this._catDict.get("Names"),t=null;if(e instanceof n.Dict&&e.has("EmbeddedFiles")){var r,a=g(new o.NameTree(e.getRaw("EmbeddedFiles"),this.xref).getAll());try{for(a.s();!(r=a.n()).done;){var s=p(r.value,2),u=s[0],l=s[1],f=new c.FileSpec(l,this.xref);t||(t=Object.create(null)),t[(0,i.stringToPDFString)(u)]=f.serializable}}catch(e){a.e(e)}finally{a.f()}}return(0,i.shadow)(this,"attachments",t)}},{key:"_collectJavaScript",value:function(){var e=this._catDict.get("Names"),t=null;function r(e,r){if(r instanceof n.Dict&&(0,n.isName)(r.get("S"),"JavaScript")){var a=r.get("JS");if((0,n.isStream)(a))a=a.getString();else if("string"!=typeof a)return;null===t&&(t=new Map),t.set(e,(0,i.stringToPDFString)(a))}}if(e instanceof n.Dict&&e.has("JavaScript")){var a,s=g(new o.NameTree(e.getRaw("JavaScript"),this.xref).getAll());try{for(s.s();!(a=s.n()).done;){var c=p(a.value,2);r(c[0],c[1])}}catch(e){s.e(e)}finally{s.f()}}var u=this._catDict.get("OpenAction");return u&&r("OpenAction",u),t}},{key:"javaScript",get:function(){var e=this._collectJavaScript();return(0,i.shadow)(this,"javaScript",e?d(e.values()):null)}},{key:"jsActions",get:function(){var e=this._collectJavaScript(),t=(0,a.collectActions)(this.xref,this._catDict,i.DocumentActionEventType);if(e){t||(t=Object.create(null));var r,n=g(e);try{for(n.s();!(r=n.n()).done;){var o=p(r.value,2),s=o[0],c=o[1];s in t?t[s].push(c):t[s]=[c]}}catch(e){n.e(e)}finally{n.f()}}return(0,i.shadow)(this,"jsActions",t)}},{key:"fontFallback",value:function(e,t){var r=[];return this.fontCache.forEach((function(e){r.push(e)})),Promise.all(r).then((function(r){var n,a=g(r);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.loadedName===e)return void i.fallback(t)}}catch(e){a.e(e)}finally{a.f()}}))}},{key:"cleanup",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,n.clearPrimitiveCaches)(),this.globalImageCache.clear(t),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();var r=[];return this.fontCache.forEach((function(e){r.push(e)})),Promise.all(r).then((function(t){var r,n=g(t);try{for(n.s();!(r=n.n()).done;)delete r.value.dict.cacheKey}catch(e){n.e(e)}finally{n.f()}e.fontCache.clear(),e.builtInCMapCache.clear()}))}},{key:"getPageDict",value:function(e){var t,r=(0,i.createPromiseCapability)(),a=[this._catDict.getRaw("Pages")],o=new n.RefSet,s=this.xref,c=this.pageKidsCountCache,u=0;return function l(){for(var f=function(){var f=a.pop();if((0,n.isRef)(f))return(t=c.get(f))>0&&u+t<e?(u+=t,"continue"):o.has(f)?(r.reject(new i.FormatError("Pages tree contains circular reference.")),{v:void 0}):(o.put(f),s.fetchAsync(f).then((function(t){(0,n.isDict)(t,"Page")||(0,n.isDict)(t)&&!t.has("Kids")?e===u?(f&&!c.has(f)&&c.put(f,1),r.resolve([t,f])):(u++,l()):(a.push(t),l())}),r.reject),{v:void 0});if(!(0,n.isDict)(f))return r.reject(new i.FormatError("Page dictionary kid reference points to wrong type of object.")),{v:void 0};if(t=f.get("Count"),Number.isInteger(t)&&t>=0){var h=f.objId;if(h&&!c.has(h)&&c.put(h,t),u+t<=e)return u+=t,"continue"}var d=f.get("Kids");if(!Array.isArray(d))return(0,n.isName)(f.get("Type"),"Page")||!f.has("Type")&&f.has("Contents")?u===e?(r.resolve([f,null]),{v:void 0}):(u++,"continue"):(r.reject(new i.FormatError("Page dictionary kids object is not an array.")),{v:void 0});for(var p=d.length-1;p>=0;p--)a.push(d[p])};a.length;){var d=f();if("continue"!==d&&"object"===h(d))return d.v}r.reject(new Error("Page index ".concat(e," not found.")))}(),r.promise}},{key:"getPageIndex",value:function(e){var t=this,r=this.pageIndexCache.get(e);if(void 0!==r)return Promise.resolve(r);var a=this.xref,o=0;return function r(s){return function(t){var r,o=0;return a.fetchAsync(t).then((function(a){if((0,n.isRefsEqual)(t,e)&&!(0,n.isDict)(a,"Page")&&(!(0,n.isDict)(a)||a.has("Type")||!a.has("Contents")))throw new i.FormatError("The reference does not point to a /Page dictionary.");if(!a)return null;if(!(0,n.isDict)(a))throw new i.FormatError("Node must be a dictionary.");return r=a.getRaw("Parent"),a.getAsync("Parent")})).then((function(e){if(!e)return null;if(!(0,n.isDict)(e))throw new i.FormatError("Parent must be a dictionary.");return e.getAsync("Kids")})).then((function(e){if(!e)return null;for(var s=[],c=!1,u=0,l=e.length;u<l;u++){var f=e[u];if(!(0,n.isRef)(f))throw new i.FormatError("Kid must be a reference.");if((0,n.isRefsEqual)(f,t)){c=!0;break}s.push(a.fetchAsync(f).then((function(e){if(!(0,n.isDict)(e))throw new i.FormatError("Kid node must be a dictionary.");e.has("Count")?o+=e.get("Count"):o++})))}if(!c)throw new i.FormatError("Kid reference not found in parent's kids.");return Promise.all(s).then((function(){return[o,r]}))}))}(s).then((function(n){if(!n)return t.pageIndexCache.put(e,o),o;var a=p(n,2),i=a[0],s=a[1];return o+=i,r(s)}))}(e)}}],m=[{key:"parseDestDictionary",value:function(e){var t=e.destDict;if((0,n.isDict)(t)){var r=e.resultObj;if("object"===h(r)){var a,o,s=e.docBaseUrl||null,c=t.get("A");if((0,n.isDict)(c)||(t.has("Dest")?c=t.get("Dest"):(c=t.get("AA"),(0,n.isDict)(c)&&(c.has("D")?c=c.get("D"):c.has("U")&&(c=c.get("U"))))),(0,n.isDict)(c)){var u=c.get("S");if(!(0,n.isName)(u))return void(0,i.warn)("parseDestDictionary: Invalid type in Action dictionary.");var l=u.name;switch(l){case"URI":a=c.get("URI"),(0,n.isName)(a)?a="/"+a.name:(0,i.isString)(a)&&(a=function(e){return e.startsWith("www.")?"http://".concat(e):e}(a));break;case"GoTo":o=c.get("D");break;case"Launch":case"GoToR":var f=c.get("F");(0,n.isDict)(f)?a=f.get("F")||null:(0,i.isString)(f)&&(a=f);var d=c.get("D");if(d&&((0,n.isName)(d)&&(d=d.name),(0,i.isString)(a))){var p=a.split("#")[0];(0,i.isString)(d)?a=p+"#"+d:Array.isArray(d)&&(a=p+"#"+JSON.stringify(d))}var g=c.get("NewWindow");(0,i.isBool)(g)&&(r.newWindow=g);break;case"Named":var m=c.get("N");(0,n.isName)(m)&&(r.action=m.name);break;case"JavaScript":var v,y=c.get("JS");if((0,n.isStream)(y)?v=y.getString():(0,i.isString)(y)&&(v=y),v){var b=new RegExp("^\\\\s*("+["app.launchURL","window.open"].join("|").split(".").join("\\\\.")+")\\\\((?:'|\\")([^'\\"]*)(?:'|\\")(?:,\\\\s*(\\\\w+)\\\\)|\\\\))","i").exec((0,i.stringToPDFString)(v));if(b&&b[2]){a=b[2],"true"===b[3]&&"app.launchURL"===b[1]&&(r.newWindow=!0);break}}default:if("JavaScript"===l||"ResetForm"===l||"SubmitForm"===l)break;(0,i.warn)('parseDestDictionary - unsupported action: "'.concat(l,'".'))}}else t.has("Dest")&&(o=t.get("Dest"));if((0,i.isString)(a)){a=function(e){try{return(0,i.stringToUTF8String)(e)}catch(t){return e}}(a);var w=(0,i.createValidAbsoluteUrl)(a,s);w&&(r.url=w.href),r.unsafeUrl=a}o&&((0,n.isName)(o)&&(o=o.name),((0,i.isString)(o)||Array.isArray(o))&&(r.dest=o))}else(0,i.warn)("parseDestDictionary: \`resultObj\` must be an object.")}else(0,i.warn)("parseDestDictionary: \`destDict\` must be a dictionary.")}}],r&&y(t.prototype,r),m&&y(t,m),e}();t.Catalog=w},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NumberTree=t.NameTree=void 0;var a=r(4),i=r(113);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(t,r,n){f(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize NameOrNumberTree."),this.root=t,this.xref=r,this._type=n}var t,r,n;return t=e,(r=[{key:"getAll",value:function(){var e=new Map;if(!this.root)return e;var t=this.xref,r=new i.RefSet;r.put(this.root);for(var n=[this.root];n.length>0;){var o=t.fetchIfRef(n.shift());if((0,i.isDict)(o))if(o.has("Kids"))for(var s=o.get("Kids"),c=0,u=s.length;c<u;c++){var l=s[c];if(r.has(l))throw new a.FormatError('Duplicate entry in "'.concat(this._type,'" tree.'));n.push(l),r.put(l)}else{var f=o.get(this._type);if(Array.isArray(f))for(var h=0,d=f.length;h<d;h+=2)e.set(t.fetchIfRef(f[h]),t.fetchIfRef(f[h+1]))}}return e}},{key:"get",value:function(e){if(!this.root)return null;for(var t=this.xref,r=t.fetchIfRef(this.root),n=0;r.has("Kids");){if(++n>10)return(0,a.warn)('Search depth limit reached for "'.concat(this._type,'" tree.')),null;var i=r.get("Kids");if(!Array.isArray(i))return null;for(var o=0,s=i.length-1;o<=s;){var c=o+s>>1,u=t.fetchIfRef(i[c]).get("Limits");if(e<t.fetchIfRef(u[0]))s=c-1;else{if(!(e>t.fetchIfRef(u[1]))){r=t.fetchIfRef(i[c]);break}o=c+1}}if(o>s)return null}var l=r.get(this._type);if(Array.isArray(l))for(var f=0,h=l.length-2;f<=h;){var d=f+h>>1,p=d+(1&d),g=t.fetchIfRef(l[p]);if(e<g)h=p-2;else{if(!(e>g))return t.fetchIfRef(l[p+1]);f=p+2}}return null}}])&&h(t.prototype,r),n&&h(t,n),e}(),p=function(e){o(r,e);var t=c(r);function r(e,n){return f(this,r),t.call(this,e,n,"Names")}return r}(d);t.NameTree=p;var g=function(e){o(r,e);var t=c(r);function r(e,n){return f(this,r),t.call(this,e,n,"Nums")}return r}(d);t.NumberTree=g},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSpec=void 0;var n=r(113),a=r(4);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return e.has("UF")?e.get("UF"):e.has("F")?e.get("F"):e.has("Unix")?e.get("Unix"):e.has("Mac")?e.get("Mac"):e.has("DOS")?e.get("DOS"):null}var s=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(0,n.isDict)(t)&&(this.xref=r,this.root=t,t.has("FS")&&(this.fs=t.get("FS")),this.description=t.has("Desc")?(0,a.stringToPDFString)(t.get("Desc")):"",t.has("RF")&&(0,a.warn)("Related file specifications are not supported"),this.contentAvailable=!0,t.has("EF")||(this.contentAvailable=!1,(0,a.warn)("Non-embedded file specifications are not supported")))}var t,r,s;return t=e,(r=[{key:"filename",get:function(){if(!this._filename&&this.root){var e=o(this.root)||"unnamed";this._filename=(0,a.stringToPDFString)(e).replace(/\\\\\\\\/g,"\\\\").replace(/\\\\\\//g,"/").replace(/\\\\/g,"/")}return this._filename}},{key:"content",get:function(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=o(this.root.get("EF")));var e=null;if(this.contentRef){var t=this.xref.fetchIfRef(this.contentRef);t&&(0,n.isStream)(t)?e=t.getBytes():(0,a.warn)("Embedded file specification points to non-existing/invalid content")}else(0,a.warn)("Embedded file specification does not have a content");return e}},{key:"serializable",get:function(){return{filename:this.filename,content:this.content}}}])&&i(t.prototype,r),s&&i(t,s),e}();t.FileSpec=s},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataParser=void 0;var n=r(169);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this._repair(t);var r=new n.SimpleXMLParser({lowerCaseName:!0}).parseFromString(t);this._metadataMap=new Map,this._data=t,r&&this._parse(r)}var t,r,o;return t=e,(r=[{key:"_repair",value:function(e){return e.replace(/^[^<]+/,"").replace(/>\\\\376\\\\377([^<]+)/g,(function(e,t){for(var r=t.replace(/\\\\([0-3])([0-7])([0-7])/g,(function(e,t,r,n){return String.fromCharCode(64*t+8*r+1*n)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(t," isn't defined."))})),n=[],a=0,i=r.length;a<i;a+=2){var o=256*r.charCodeAt(a)+r.charCodeAt(a+1);o>=32&&o<127&&60!==o&&62!==o&&38!==o?n.push(String.fromCharCode(o)):n.push("&#x"+(65536+o).toString(16).substring(1)+";")}return">"+n.join("")}))}},{key:"_getSequence",value:function(e){var t=e.nodeName;return"rdf:bag"!==t&&"rdf:seq"!==t&&"rdf:alt"!==t?null:e.childNodes.filter((function(e){return"rdf:li"===e.nodeName}))}},{key:"_parseArray",value:function(e){if(e.hasChildNodes()){var t=i(e.childNodes,1)[0],r=this._getSequence(t)||[];this._metadataMap.set(e.nodeName,r.map((function(e){return e.textContent.trim()})))}}},{key:"_parse",value:function(e){var t=e.documentElement;if("rdf:rdf"!==t.nodeName)for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName;)t=t.nextSibling;if(t&&"rdf:rdf"===t.nodeName&&t.hasChildNodes()){var r,n=a(t.childNodes);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("rdf:description"===i.nodeName){var o,s=a(i.childNodes);try{for(s.s();!(o=s.n()).done;){var c=o.value,u=c.nodeName;switch(u){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(c);continue}this._metadataMap.set(u,c.textContent.trim())}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){n.e(e)}finally{n.f()}}}},{key:"serializable",get:function(){return{parsedData:this._metadataMap,rawData:this._data}}}])&&c(t.prototype,r),o&&c(t,o),e}();t.MetadataParser=u},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XMLParserErrorCode=t.XMLParserBase=t.SimpleXMLParser=t.SimpleDOMNode=void 0;var a=r(117);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var a=c(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}var m={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function v(e,t){var r=e[t];return" "===r||"\\n"===r||"\\r"===r||"\\t"===r}t.XMLParserErrorCode=m;var y=function(){function e(){d(this,e)}return g(e,[{key:"_resolveEntities",value:function(e){var t=this;return e.replace(/&([^;]+);/g,(function(e,r){if("#x"===r.substring(0,2))return String.fromCodePoint(parseInt(r.substring(2),16));if("#"===r.substring(0,1))return String.fromCodePoint(parseInt(r.substring(1),10));switch(r){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return t.onResolveEntity(r)}))}},{key:"_parseContent",value:function(e,t){var r=[],n=t;function a(){for(;n<e.length&&v(e,n);)++n}for(;n<e.length&&!v(e,n)&&">"!==e[n]&&"/"!==e[n];)++n;var i=e.substring(t,n);for(a();n<e.length&&">"!==e[n]&&"/"!==e[n]&&"?"!==e[n];){a();for(var o,s="";n<e.length&&!v(e,n)&&"="!==e[n];)s+=e[n],++n;if(a(),"="!==e[n])return null;++n,a();var c=e[n];if('"'!==c&&"'"!==c)return null;var u=e.indexOf(c,++n);if(u<0)return null;o=e.substring(n,u),r.push({name:s,value:this._resolveEntities(o)}),n=u+1,a()}return{name:i,attributes:r,parsed:n-t}}},{key:"_parseProcessingInstruction",value:function(e,t){for(var r=t;r<e.length&&!v(e,r)&&">"!==e[r]&&"?"!==e[r]&&"/"!==e[r];)++r;var n=e.substring(t,r);!function(){for(;r<e.length&&v(e,r);)++r}();for(var a=r;r<e.length&&("?"!==e[r]||">"!==e[r+1]);)++r;return{name:n,value:e.substring(a,r),parsed:r-t}}},{key:"parseXml",value:function(e){for(var t=0;t<e.length;){var r=t;if("<"===e[t]){var n=void 0;switch(e[++r]){case"/":if(++r,(n=e.indexOf(">",r))<0)return void this.onError(m.UnterminatedElement);this.onEndElement(e.substring(r,n)),r=n+1;break;case"?":++r;var a=this._parseProcessingInstruction(e,r);if("?>"!==e.substring(r+a.parsed,r+a.parsed+2))return void this.onError(m.UnterminatedXmlDeclaration);this.onPi(a.name,a.value),r+=a.parsed+2;break;case"!":if("--"===e.substring(r+1,r+3)){if((n=e.indexOf("--\\x3e",r+3))<0)return void this.onError(m.UnterminatedComment);this.onComment(e.substring(r+3,n)),r=n+3}else if("[CDATA["===e.substring(r+1,r+8)){if((n=e.indexOf("]]>",r+8))<0)return void this.onError(m.UnterminatedCdat);this.onCdata(e.substring(r+8,n)),r=n+3}else{if("DOCTYPE"!==e.substring(r+1,r+8))return void this.onError(m.MalformedElement);var i=e.indexOf("[",r+8),o=!1;if((n=e.indexOf(">",r+8))<0)return void this.onError(m.UnterminatedDoctypeDeclaration);if(i>0&&n>i){if((n=e.indexOf("]>",r+8))<0)return void this.onError(m.UnterminatedDoctypeDeclaration);o=!0}var s=e.substring(r+8,n+(o?1:0));this.onDoctype(s),r=n+(o?2:1)}break;default:var c=this._parseContent(e,r);if(null===c)return void this.onError(m.MalformedElement);var u=!1;if("/>"===e.substring(r+c.parsed,r+c.parsed+2))u=!0;else if(">"!==e.substring(r+c.parsed,r+c.parsed+1))return void this.onError(m.UnterminatedElement);this.onBeginElement(c.name,c.attributes,u),r+=c.parsed+(u?2:1)}}else{for(;r<e.length&&"<"!==e[r];)r++;var l=e.substring(t,r);this.onText(this._resolveEntities(l))}t=r}}},{key:"onResolveEntity",value:function(e){return"&".concat(e,";")}},{key:"onPi",value:function(e,t){}},{key:"onComment",value:function(e){}},{key:"onCdata",value:function(e){}},{key:"onDoctype",value:function(e){}},{key:"onText",value:function(e){}},{key:"onBeginElement",value:function(e,t,r){}},{key:"onEndElement",value:function(e){}},{key:"onError",value:function(e){}}]),e}();t.XMLParserBase=y;var b=function(){function e(t,r){d(this,e),this.nodeName=t,this.nodeValue=r,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return g(e,[{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var e=this.parentNode.childNodes;if(e){var t=e.indexOf(this);if(-1!==t)return e[t+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map((function(e){return e.textContent})).join(""):this.nodeValue||""}},{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"searchNode",value:function(e,t){if(t>=e.length)return this;for(var r=e[t],n=[],a=this;;){if(r.name===a.nodeName){if(0!==r.pos){if(0===n.length)return null;var i,o=0,s=u(l(n.pop(),1)[0].childNodes);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(r.name===c.nodeName){if(o===r.pos)return c.searchNode(e,t+1);o++}}}catch(e){s.e(e)}finally{s.f()}return a.searchNode(e,t+1)}var f=a.searchNode(e,t+1);if(null!==f)return f}if(a.childNodes&&0!==a.childNodes.length)n.push([a,0]),a=a.childNodes[0];else{if(0===n.length)return null;for(;0!==n.length;){var h=l(n.pop(),2),d=h[0],p=h[1]+1;if(p<d.childNodes.length){n.push([d,p]),a=d.childNodes[p];break}}if(0===n.length)return null}}}},{key:"dump",value:function(e){if("#text"!==this.nodeName){if(e.push("<".concat(this.nodeName)),this.attributes){var t,r=u(this.attributes);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(" ".concat(n.name,'="').concat((0,a.encodeToXmlString)(n.value),'"'))}}catch(e){r.e(e)}finally{r.f()}}if(this.hasChildNodes()){e.push(">");var i,o=u(this.childNodes);try{for(o.s();!(i=o.n()).done;)i.value.dump(e)}catch(e){o.e(e)}finally{o.f()}e.push("</".concat(this.nodeName,">"))}else this.nodeValue?e.push(">".concat((0,a.encodeToXmlString)(this.nodeValue),"</").concat(this.nodeName,">")):e.push("/>")}else e.push((0,a.encodeToXmlString)(this.nodeValue))}}]),e}();t.SimpleDOMNode=b;var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(r,e);var t=o(r);function r(e){var n,a=e.hasAttributes,i=void 0!==a&&a,o=e.lowerCaseName,s=void 0!==o&&o;return d(this,r),(n=t.call(this))._currentFragment=null,n._stack=null,n._errorCode=m.NoError,n._hasAttributes=i,n._lowerCaseName=s,n}return g(r,[{key:"parseFromString",value:function(e){if(this._currentFragment=[],this._stack=[],this._errorCode=m.NoError,this.parseXml(e),this._errorCode===m.NoError){var t=l(this._currentFragment,1)[0];if(t)return{documentElement:t}}}},{key:"onText",value:function(e){if(!function(e){for(var t=0,r=e.length;t<r;t++)if(!v(e,t))return!1;return!0}(e)){var t=new b("#text",e);this._currentFragment.push(t)}}},{key:"onCdata",value:function(e){var t=new b("#text",e);this._currentFragment.push(t)}},{key:"onBeginElement",value:function(e,t,r){this._lowerCaseName&&(e=e.toLowerCase());var n=new b(e);n.childNodes=[],this._hasAttributes&&(n.attributes=t),this._currentFragment.push(n),r||(this._stack.push(this._currentFragment),this._currentFragment=n.childNodes)}},{key:"onEndElement",value:function(e){this._currentFragment=this._stack.pop()||[];var t=this._currentFragment[this._currentFragment.length-1];if(t)for(var r=0,n=t.childNodes.length;r<n;r++)t.childNodes[r].parentNode=t}},{key:"onError",value:function(e){this._errorCode=e}}]),r}(y);t.SimpleXMLParser=w},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StructTreeRoot=t.StructTreePage=void 0;var n=r(113),a=r(4),i=r(166);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}var f="PAGE_CONTENT",h="STREAM_CONTENT",d="OBJECT",p="ELEMENT",g=function(){function e(t){c(this,e),this.dict=t,this.roleMap=new Map}return l(e,[{key:"init",value:function(){this.readRoleMap()}},{key:"readRoleMap",value:function(){var e=this,t=this.dict.get("RoleMap");(0,n.isDict)(t)&&t.forEach((function(t,r){(0,n.isName)(r)&&e.roleMap.set(t,r.name)}))}}]),e}();t.StructTreeRoot=g;var m=function(){function e(t,r){c(this,e),this.tree=t,this.dict=r,this.kids=[],this.parseKids()}return l(e,[{key:"role",get:function(){var e=this.dict.get("S"),t=(0,n.isName)(e)?e.name:"",r=this.tree.root;return r.roleMap.has(t)?r.roleMap.get(t):t}},{key:"parseKids",value:function(){var e=null,t=this.dict.getRaw("Pg");(0,n.isRef)(t)&&(e=t.toString());var r=this.dict.get("K");if(Array.isArray(r)){var a,i=o(r);try{for(i.s();!(a=i.n()).done;){var s=a.value,c=this.parseKid(e,s);c&&this.kids.push(c)}}catch(e){i.e(e)}finally{i.f()}}else{var u=this.parseKid(e,r);u&&this.kids.push(u)}}},{key:"parseKid",value:function(e,t){if(Number.isInteger(t))return this.tree.pageDict.objId!==e?null:new v({type:f,mcid:t,pageObjId:e});var r=null;if((0,n.isRef)(t)?r=this.dict.xref.fetch(t):(0,n.isDict)(t)&&(r=t),!r)return null;var a=r.getRaw("Pg");(0,n.isRef)(a)&&(e=a.toString());var i=(0,n.isName)(r.get("Type"))?r.get("Type").name:null;return"MCR"===i?this.tree.pageDict.objId!==e?null:new v({type:h,refObjId:(0,n.isRef)(r.getRaw("Stm"))?r.getRaw("Stm").toString():null,pageObjId:e,mcid:r.get("MCID")}):"OBJR"===i?this.tree.pageDict.objId!==e?null:new v({type:d,refObjId:(0,n.isRef)(r.getRaw("Obj"))?r.getRaw("Obj").toString():null,pageObjId:e}):new v({type:p,dict:r})}}]),e}(),v=function e(t){var r=t.type,n=t.dict,a=void 0===n?null:n,i=t.mcid,o=void 0===i?null:i,s=t.pageObjId,u=void 0===s?null:s,l=t.refObjId,f=void 0===l?null:l;c(this,e),this.type=r,this.dict=a,this.mcid=o,this.pageObjId=u,this.refObjId=f,this.parentNode=null},y=function(){function e(t,r){c(this,e),this.root=t,this.rootDict=t?t.dict:null,this.pageDict=r,this.nodes=[]}return l(e,[{key:"parse",value:function(){if(this.root&&this.rootDict){var e=this.rootDict.get("ParentTree");if(e){var t=this.pageDict.get("StructParents");if(Number.isInteger(t)){var r=new i.NumberTree(e,this.rootDict.xref).get(t);if(Array.isArray(r)){var a,s=new Map,c=o(r);try{for(c.s();!(a=c.n()).done;){var u=a.value;(0,n.isRef)(u)&&this.addNode(this.rootDict.xref.fetch(u),s)}}catch(e){c.e(e)}finally{c.f()}}}}}}},{key:"addNode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r>40)return(0,a.warn)("StructTree MAX_DEPTH reached."),null;if(t.has(e))return t.get(e);var i=new m(this,e);t.set(e,i);var s=e.get("P");if(!s||(0,n.isName)(s.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(e,i)||t.delete(e),i;var c=this.addNode(s,t,r+1);if(!c)return i;var u,l=!1,f=o(c.kids);try{for(f.s();!(u=f.n()).done;){var h=u.value;h.type===p&&h.dict===e&&(h.parentNode=i,l=!0)}}catch(e){f.e(e)}finally{f.f()}return l||t.delete(e),i}},{key:"addTopLevelNode",value:function(e,t){var r=this.rootDict.get("K");if(!r)return!1;if((0,n.isDict)(r))return r.objId===e.objId&&(this.nodes[0]=t,!0);if(!Array.isArray(r))return!0;for(var a=!1,i=0;i<r.length;i++){var o=r[i];o&&o.toString()===e.objId&&(this.nodes[i]=t,a=!0)}return a}},{key:"serializable",get:function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>40)(0,a.warn)("StructTree too deep to be fully serialized.");else{var i=Object.create(null);i.role=t.role,i.children=[],r.children.push(i);var s=t.dict.get("Alt");(0,a.isString)(s)&&(i.alt=(0,a.stringToPDFString)(s));var c,u=o(t.kids);try{for(u.s();!(c=u.n()).done;){var l=c.value,g=l.type===p?l.parentNode:null;g?e(g,i,n+1):l.type===f||l.type===h?i.children.push({type:"content",id:"page".concat(l.pageObjId,"_mcid").concat(l.mcid)}):l.type===d&&i.children.push({type:"object",id:l.refObjId})}}catch(e){u.e(e)}finally{u.f()}}}var t=Object.create(null);t.children=[],t.role="Root";var r,n=o(this.nodes);try{for(n.s();!(r=n.n()).done;){var i=r.value;i&&e(i,t)}}catch(e){n.e(e)}finally{n.f()}return t}}]),e}();t.StructTreePage=y},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectLoader=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(113),o=r(117),s=r(4);function c(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){c(i,n,a,o,s,"next",e)}function s(e){c(i,n,a,o,s,"throw",e)}o(void 0)}))}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(e instanceof i.Dict)e=e.getRawValues();else if((0,i.isStream)(e))e=e.dict.getRawValues();else if(!Array.isArray(e))return;var r,n,a=f(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;((n=o)instanceof i.Ref||n instanceof i.Dict||Array.isArray(n)||(0,i.isStream)(n))&&t.push(o)}}catch(e){a.e(e)}finally{a.f()}}var p=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dict=t,this.keys=r,this.xref=n,this.refSet=null}var t,r,n,c,h;return t=e,r=[{key:"load",value:(h=u(a.default.mark((function e(){var t,r,n,o,s,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xref.stream.isDataLoaded){e.next=2;break}return e.abrupt("return",void 0);case 2:for(t=this.keys,r=this.dict,this.refSet=new i.RefSet,n=[],o=0,s=t.length;o<s;o++)void 0!==(c=r.getRaw(t[o]))&&n.push(c);return e.abrupt("return",this._walk(n));case 7:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"_walk",value:(c=u(a.default.mark((function e(t){var r,n,c,u,l,h,p,g,m,v,y,b;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=[];case 2:if(!t.length){e.next=48;break}if(!((c=t.pop())instanceof i.Ref)){e.next=21;break}if(!this.refSet.has(c)){e.next=7;break}return e.abrupt("continue",2);case 7:e.prev=7,this.refSet.put(c),c=this.xref.fetch(c),e.next=21;break;case 12:if(e.prev=12,e.t0=e.catch(7),e.t0 instanceof o.MissingDataException){e.next=19;break}return(0,s.warn)('ObjectLoader._walk - requesting all data: "'.concat(e.t0,'".')),this.refSet=null,u=this.xref.stream.manager,e.abrupt("return",u.requestAllChunks());case 19:r.push(c),n.push({begin:e.t0.begin,end:e.t0.end});case 21:if(!(0,i.isStream)(c)){e.next=45;break}if(!(l=c.getBaseStreams())){e.next=45;break}h=!1,p=f(l),e.prev=26,p.s();case 28:if((g=p.n()).done){e.next=36;break}if(!(m=g.value).isDataLoaded){e.next=32;break}return e.abrupt("continue",34);case 32:h=!0,n.push({begin:m.start,end:m.end});case 34:e.next=28;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(26),p.e(e.t1);case 41:return e.prev=41,p.f(),e.finish(41);case 44:h&&r.push(c);case 45:d(c,t),e.next=2;break;case 48:if(!n.length){e.next=54;break}return e.next=51,this.xref.stream.manager.requestRanges(n);case 51:v=f(r);try{for(v.s();!(y=v.n()).done;)(b=y.value)instanceof i.Ref&&this.refSet.remove(b)}catch(e){v.e(e)}finally{v.f()}return e.abrupt("return",this._walk(r));case 54:return this.refSet=null,e.abrupt("return",void 0);case 56:case"end":return e.stop()}}),e,this,[[7,12],[26,38,41,44]])}))),function(e){return c.apply(this,arguments)})}],r&&l(t.prototype,r),n&&l(t,n),e}();t.ObjectLoader=p},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.incrementalUpdate=function(e){var t=e.originalData,r=e.xrefInfo,l=e.newRefs,h=e.xref,g=void 0===h?null:h,m=e.datasetsRef;!function(e,t,r){if(null!==e&&null!==r){var a,s=r.fetchIfRef(e).getString(),u=new o.SimpleXMLParser({hasAttributes:!0}).parseFromString(s),l=c(t);try{for(l.s();!(a=l.n()).done;){var f=a.value.xfa;if(f){var h=f.path,d=f.value;if(h){var p=u.documentElement.searchNode((0,i.parseXFAPath)(h),0);p?p.childNodes=[new o.SimpleDOMNode("#text",d)]:(0,n.warn)("Node not found for path: ".concat(h))}}}}catch(e){l.e(e)}finally{l.f()}var g=[];u.documentElement.dump(g);var m=g.join(""),v=r.encrypt;v&&(m=v.createCipherTransform(e.num,e.gen).encryptString(m));var y="".concat(e.num," ").concat(e.gen," obj\\n")+"<< /Type /EmbeddedFile /Length ".concat(m.length,">>\\nstream\\n")+m+"\\nendstream\\nendobj\\n";t.push({ref:e,data:y})}}(void 0===m?null:m,l,g);var v,y,b=new a.Dict(null),w=r.newRef,k=t[t.length-1];10===k||13===k?(v=[],y=t.length):(v=["\\n"],y=t.length+1),b.set("Size",w.num+1),b.set("Prev",r.startXRef),b.set("Type",a.Name.get("XRef")),null!==r.rootRef&&b.set("Root",r.rootRef),null!==r.infoRef&&b.set("Info",r.infoRef),null!==r.encryptRef&&b.set("Encrypt",r.encryptRef),l.push({ref:w,data:""}),l=l.sort((function(e,t){return e.ref.num-t.ref.num}));var S,x=[[0,1,65535]],A=[0,1],O=0,C=c(l);try{for(C.s();!(S=C.n()).done;){var T=S.value,F=T.ref,P=T.data;O=Math.max(O,y),x.push([1,y,Math.min(F.gen,65535)]),y+=P.length,A.push(F.num,1),v.push(P)}}catch(e){C.e(e)}finally{C.f()}if(b.set("Index",A),Array.isArray(r.fileIds)&&r.fileIds.length>0){var _=function(e,t){for(var r=Math.floor(Date.now()/1e3),a=t.filename||"",i=[r.toString(),a,e.toString()],o=i.reduce((function(e,t){return e+t.length}),0),c=0,u=Object.values(t.info);c<u.length;c++){var l=u[c];i.push(l),o+=l.length}for(var f=new Uint8Array(o),h=0,d=0,g=i;d<g.length;d++){var m=g[d];p(m,h,f),h+=m.length}return(0,n.bytesToString)((0,s.calculateMD5)(f))}(y,r);b.set("ID",[r.fileIds[0],_])}var I=[1,Math.ceil(Math.log2(O)/8),2],E=(I[0]+I[1]+I[2])*x.length;b.set("W",I),b.set("Length",E),v.push("".concat(w.num," ").concat(w.gen," obj\\n")),f(b,v,null),v.push(" stream\\n");var j=v.reduce((function(e,t){return e+t.length}),0),R="\\nendstream\\nendobj\\nstartxref\\n".concat(y,"\\n%%EOF\\n"),M=new Uint8Array(t.length+j+E+R.length);M.set(t);var N,B,D,L=t.length,U=c(v);try{for(U.s();!(N=U.n()).done;){var q=N.value;p(q,L,M),L+=q.length}}catch(e){U.e(e)}finally{U.f()}for(var X=0,H=x;X<H.length;X++){var $=(B=H[X],D=3,function(e){if(Array.isArray(e))return e}(B)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(B,D)||u(B,D)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),z=$[0],G=$[1],W=$[2];L=d(z,I[0],L,M),L=d(G,I[1],L,M),L=d(W,I[2],L,M)}return p(R,L,M),M},t.writeDict=f;var n=r(4),a=r(113),i=r(117),o=r(169),s=r(173);function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r){t.push("<<");var n,a=c(e.getKeys());try{for(a.s();!(n=a.n()).done;){var o=n.value;t.push(" /".concat((0,i.escapePDFName)(o)," ")),h(e.getRaw(o),t,r)}}catch(e){a.e(e)}finally{a.f()}t.push(">>")}function h(e,t,r){(0,a.isName)(e)?t.push("/".concat((0,i.escapePDFName)(e.name))):(0,a.isRef)(e)?t.push("".concat(e.num," ").concat(e.gen," R")):Array.isArray(e)?function(e,t,r){t.push("[");var n,a=!0,i=c(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;a?a=!1:t.push(" "),h(o,t,r)}}catch(e){i.e(e)}finally{i.f()}t.push("]")}(e,t,r):"string"==typeof e?(null!==r&&(e=r.encryptString(e)),t.push("(".concat((0,n.escapeString)(e),")"))):"number"==typeof e?t.push(function(e){if(Number.isInteger(e))return e.toString();var t=Math.round(100*e);return t%100==0?(t/100).toString():t%10==0?e.toFixed(1):e.toFixed(2)}(e)):(0,a.isDict)(e)?f(e,t,r):(0,a.isStream)(e)&&function(e,t,r){f(e.dict,t,r),t.push(" stream\\n");var n=e.getString();null!==r&&(n=r.encryptString(n)),t.push(n,"\\nendstream\\n")}(e,t,r)}function d(e,t,r,n){for(var a=t+r-1;a>r-1;a--)n[a]=255&e,e>>=8;return r+t}function p(e,t,r){for(var n=0,a=e.length;n<a;n++)r[t+n]=255&e.charCodeAt(n)}},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateSHA384=S,t.PDF20=t.PDF17=t.CipherTransformFactory=t.calculateSHA512=t.calculateSHA256=t.calculateMD5=t.ARCFourCipher=t.AES256Cipher=t.AES128Cipher=void 0;var a=r(4),i=r(113),o=r(174);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}var g=function(){function e(t){h(this,e),this.a=0,this.b=0;for(var r=new Uint8Array(256),n=t.length,a=0;a<256;++a)r[a]=a;for(var i=0,o=0;i<256;++i){var s=r[i];o=o+s+t[i%n]&255,r[i]=r[o],r[o]=s}this.s=r}return p(e,[{key:"encryptBlock",value:function(e){for(var t=this.a,r=this.b,n=this.s,a=e.length,i=new Uint8Array(a),o=0;o<a;++o){var s=n[t=t+1&255],c=n[r=r+s&255];n[t]=c,n[r]=s,i[o]=e[o]^n[s+c&255]}return this.a=t,this.b=r,i}},{key:"decryptBlock",value:function(e){return this.encryptBlock(e)}},{key:"encrypt",value:function(e){return this.encryptBlock(e)}}]),e}();t.ARCFourCipher=g;var m,v,y=(m=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),v=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]),function(e,t,r){var n,a,i=1732584193,o=-271733879,s=-1732584194,c=271733878,u=r+72&-64,l=new Uint8Array(u);for(n=0;n<r;++n)l[n]=e[t++];l[n++]=128;for(var f=u-8;n<f;)l[n++]=0;l[n++]=r<<3&255,l[n++]=r>>5&255,l[n++]=r>>13&255,l[n++]=r>>21&255,l[n++]=r>>>29&255,l[n++]=0,l[n++]=0,l[n++]=0;var h=new Int32Array(16);for(n=0;n<u;){for(a=0;a<16;++a,n+=4)h[a]=l[n]|l[n+1]<<8|l[n+2]<<16|l[n+3]<<24;var d=i,p=o,g=s,y=c,b=void 0,w=void 0;for(a=0;a<64;++a){a<16?(b=p&g|~p&y,w=a):a<32?(b=y&p|~y&g,w=5*a+1&15):a<48?(b=p^g^y,w=3*a+5&15):(b=g^(p|~y),w=7*a&15);var k=y,S=d+b+v[a]+h[w]|0,x=m[a];y=g,g=p,p=p+(S<<x|S>>>32-x)|0,d=k}i=i+d|0,o=o+p|0,s=s+g|0,c=c+y|0}return new Uint8Array([255&i,i>>8&255,i>>16&255,i>>>24&255,255&o,o>>8&255,o>>16&255,o>>>24&255,255&s,s>>8&255,s>>16&255,s>>>24&255,255&c,c>>8&255,c>>16&255,c>>>24&255])});t.calculateMD5=y;var b=function(){function e(t,r){h(this,e),this.high=0|t,this.low=0|r}return p(e,[{key:"and",value:function(e){this.high&=e.high,this.low&=e.low}},{key:"xor",value:function(e){this.high^=e.high,this.low^=e.low}},{key:"or",value:function(e){this.high|=e.high,this.low|=e.low}},{key:"shiftRight",value:function(e){e>=32?(this.low=this.high>>>e-32|0,this.high=0):(this.low=this.low>>>e|this.high<<32-e,this.high=this.high>>>e|0)}},{key:"shiftLeft",value:function(e){e>=32?(this.high=this.low<<e-32,this.low=0):(this.high=this.high<<e|this.low>>>32-e,this.low=this.low<<e)}},{key:"rotateRight",value:function(e){var t,r;32&e?(r=this.low,t=this.high):(t=this.low,r=this.high),e&=31,this.low=t>>>e|r<<32-e,this.high=r>>>e|t<<32-e}},{key:"not",value:function(){this.high=~this.high,this.low=~this.low}},{key:"add",value:function(e){var t=(this.low>>>0)+(e.low>>>0),r=(this.high>>>0)+(e.high>>>0);t>4294967295&&(r+=1),this.low=0|t,this.high=0|r}},{key:"copyTo",value:function(e,t){e[t]=this.high>>>24&255,e[t+1]=this.high>>16&255,e[t+2]=this.high>>8&255,e[t+3]=255&this.high,e[t+4]=this.low>>>24&255,e[t+5]=this.low>>16&255,e[t+6]=this.low>>8&255,e[t+7]=255&this.low}},{key:"assign",value:function(e){this.high=e.high,this.low=e.low}}]),e}(),w=function(){function e(e,t){return e>>>t|e<<32-t}function t(e,t,r){return e&t^~e&r}function r(e,t,r){return e&t^e&r^t&r}function n(t){return e(t,2)^e(t,13)^e(t,22)}function a(t){return e(t,6)^e(t,11)^e(t,25)}function i(t){return e(t,7)^e(t,18)^t>>>3}var o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return function(s,c,u){var l,f,h=1779033703,d=3144134277,p=1013904242,g=2773480762,m=1359893119,v=2600822924,y=528734635,b=1541459225,w=64*Math.ceil((u+9)/64),k=new Uint8Array(w);for(l=0;l<u;++l)k[l]=s[c++];k[l++]=128;for(var S=w-8;l<S;)k[l++]=0;k[l++]=0,k[l++]=0,k[l++]=0,k[l++]=u>>>29&255,k[l++]=u>>21&255,k[l++]=u>>13&255,k[l++]=u>>5&255,k[l++]=u<<3&255;var x,A=new Uint32Array(64);for(l=0;l<w;){for(f=0;f<16;++f)A[f]=k[l]<<24|k[l+1]<<16|k[l+2]<<8|k[l+3],l+=4;for(f=16;f<64;++f)A[f]=0|(e(x=A[f-2],17)^e(x,19)^x>>>10)+A[f-7]+i(A[f-15])+A[f-16];var O=h,C=d,T=p,F=g,P=m,_=v,I=y,E=b,j=void 0,R=void 0;for(f=0;f<64;++f)j=E+a(P)+t(P,_,I)+o[f]+A[f],R=n(O)+r(O,C,T),E=I,I=_,_=P,P=F+j|0,F=T,T=C,C=O,O=j+R|0;h=h+O|0,d=d+C|0,p=p+T|0,g=g+F|0,m=m+P|0,v=v+_|0,y=y+I|0,b=b+E|0}return new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,d>>24&255,d>>16&255,d>>8&255,255&d,p>>24&255,p>>16&255,p>>8&255,255&p,g>>24&255,g>>16&255,g>>8&255,255&g,m>>24&255,m>>16&255,m>>8&255,255&m,v>>24&255,v>>16&255,v>>8&255,255&v,y>>24&255,y>>16&255,y>>8&255,255&y,b>>24&255,b>>16&255,b>>8&255,255&b])}}();t.calculateSHA256=w;var k=function(){function e(e,t,r,n,a){e.assign(t),e.and(r),a.assign(t),a.not(),a.and(n),e.xor(a)}function t(e,t,r,n,a){e.assign(t),e.and(r),a.assign(t),a.and(n),e.xor(a),a.assign(r),a.and(n),e.xor(a)}function r(e,t,r){e.assign(t),e.rotateRight(28),r.assign(t),r.rotateRight(34),e.xor(r),r.assign(t),r.rotateRight(39),e.xor(r)}function n(e,t,r){e.assign(t),e.rotateRight(14),r.assign(t),r.rotateRight(18),e.xor(r),r.assign(t),r.rotateRight(41),e.xor(r)}function a(e,t,r){e.assign(t),e.rotateRight(1),r.assign(t),r.rotateRight(8),e.xor(r),r.assign(t),r.shiftRight(7),e.xor(r)}function i(e,t,r){e.assign(t),e.rotateRight(19),r.assign(t),r.rotateRight(61),e.xor(r),r.assign(t),r.shiftRight(6),e.xor(r)}var o=[new b(1116352408,3609767458),new b(1899447441,602891725),new b(3049323471,3964484399),new b(3921009573,2173295548),new b(961987163,4081628472),new b(1508970993,3053834265),new b(2453635748,2937671579),new b(2870763221,3664609560),new b(3624381080,2734883394),new b(310598401,1164996542),new b(607225278,1323610764),new b(1426881987,3590304994),new b(1925078388,4068182383),new b(2162078206,991336113),new b(2614888103,633803317),new b(3248222580,3479774868),new b(3835390401,2666613458),new b(4022224774,944711139),new b(264347078,2341262773),new b(604807628,2007800933),new b(770255983,1495990901),new b(1249150122,1856431235),new b(1555081692,3175218132),new b(1996064986,2198950837),new b(2554220882,3999719339),new b(2821834349,766784016),new b(2952996808,2566594879),new b(3210313671,3203337956),new b(3336571891,1034457026),new b(3584528711,2466948901),new b(113926993,3758326383),new b(338241895,168717936),new b(666307205,1188179964),new b(773529912,1546045734),new b(1294757372,1522805485),new b(1396182291,2643833823),new b(1695183700,2343527390),new b(1986661051,1014477480),new b(2177026350,1206759142),new b(2456956037,344077627),new b(2730485921,1290863460),new b(2820302411,3158454273),new b(3259730800,3505952657),new b(3345764771,106217008),new b(3516065817,3606008344),new b(3600352804,1432725776),new b(4094571909,1467031594),new b(275423344,851169720),new b(430227734,3100823752),new b(506948616,1363258195),new b(659060556,3750685593),new b(883997877,3785050280),new b(958139571,3318307427),new b(1322822218,3812723403),new b(1537002063,2003034995),new b(1747873779,3602036899),new b(1955562222,1575990012),new b(2024104815,1125592928),new b(2227730452,2716904306),new b(2361852424,442776044),new b(2428436474,593698344),new b(2756734187,3733110249),new b(3204031479,2999351573),new b(3329325298,3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];return function(s,c,u){var l,f,h,d,p,g,m,v,y=arguments.length>3&&void 0!==arguments[3]&&arguments[3];y?(l=new b(3418070365,3238371032),f=new b(1654270250,914150663),h=new b(2438529370,812702999),d=new b(355462360,4144912697),p=new b(1731405415,4290775857),g=new b(2394180231,1750603025),m=new b(3675008525,1694076839),v=new b(1203062813,3204075428)):(l=new b(1779033703,4089235720),f=new b(3144134277,2227873595),h=new b(1013904242,4271175723),d=new b(2773480762,1595750129),p=new b(1359893119,2917565137),g=new b(2600822924,725511199),m=new b(528734635,4215389547),v=new b(1541459225,327033209));var w,k,S=128*Math.ceil((u+17)/128),x=new Uint8Array(S);for(w=0;w<u;++w)x[w]=s[c++];x[w++]=128;for(var A=S-16;w<A;)x[w++]=0;x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=u>>>29&255,x[w++]=u>>21&255,x[w++]=u>>13&255,x[w++]=u>>5&255,x[w++]=u<<3&255;var O=new Array(80);for(w=0;w<80;w++)O[w]=new b(0,0);var C,T,F=new b(0,0),P=new b(0,0),_=new b(0,0),I=new b(0,0),E=new b(0,0),j=new b(0,0),R=new b(0,0),M=new b(0,0),N=new b(0,0),B=new b(0,0),D=new b(0,0),L=new b(0,0);for(w=0;w<S;){for(k=0;k<16;++k)O[k].high=x[w]<<24|x[w+1]<<16|x[w+2]<<8|x[w+3],O[k].low=x[w+4]<<24|x[w+5]<<16|x[w+6]<<8|x[w+7],w+=8;for(k=16;k<80;++k)i(C=O[k],O[k-2],L),C.add(O[k-7]),a(D,O[k-15],L),C.add(D),C.add(O[k-16]);for(F.assign(l),P.assign(f),_.assign(h),I.assign(d),E.assign(p),j.assign(g),R.assign(m),M.assign(v),k=0;k<80;++k)N.assign(M),n(D,E,L),N.add(D),e(D,E,j,R,L),N.add(D),N.add(o[k]),N.add(O[k]),r(B,F,L),t(D,F,P,_,L),B.add(D),C=M,M=R,R=j,j=E,I.add(N),E=I,I=_,_=P,P=F,C.assign(N),C.add(B),F=C;l.add(F),f.add(P),h.add(_),d.add(I),p.add(E),g.add(j),m.add(R),v.add(M)}return y?(T=new Uint8Array(48),l.copyTo(T,0),f.copyTo(T,8),h.copyTo(T,16),d.copyTo(T,24),p.copyTo(T,32),g.copyTo(T,40)):(T=new Uint8Array(64),l.copyTo(T,0),f.copyTo(T,8),h.copyTo(T,16),d.copyTo(T,24),p.copyTo(T,32),g.copyTo(T,40),m.copyTo(T,48),v.copyTo(T,56)),T}}();function S(e,t,r){return k(e,t,r,!0)}t.calculateSHA512=k;var x=function(){function e(){h(this,e)}return p(e,[{key:"decryptBlock",value:function(e){return e}},{key:"encrypt",value:function(e){return e}}]),e}(),A=function(){function e(){h(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(var t=0;t<256;t++)this._mixCol[t]=t<128?t<<1:t<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}return p(e,[{key:"_expandKey",value:function(e){(0,a.unreachable)("Cannot call \`_expandKey\` on the base class")}},{key:"_decrypt",value:function(e,t){var r,n,a,i=new Uint8Array(16);i.set(e);for(var o=0,s=this._keySize;o<16;++o,++s)i[o]^=t[s];for(var c=this._cyclesOfRepetition-1;c>=1;--c){r=i[13],i[13]=i[9],i[9]=i[5],i[5]=i[1],i[1]=r,r=i[14],n=i[10],i[14]=i[6],i[10]=i[2],i[6]=r,i[2]=n,r=i[15],n=i[11],a=i[7],i[15]=i[3],i[11]=r,i[7]=n,i[3]=a;for(var u=0;u<16;++u)i[u]=this._inv_s[i[u]];for(var l=0,f=16*c;l<16;++l,++f)i[l]^=t[f];for(var h=0;h<16;h+=4){var d=this._mix[i[h]],p=this._mix[i[h+1]],g=this._mix[i[h+2]],m=this._mix[i[h+3]];r=d^p>>>8^p<<24^g>>>16^g<<16^m>>>24^m<<8,i[h]=r>>>24&255,i[h+1]=r>>16&255,i[h+2]=r>>8&255,i[h+3]=255&r}}r=i[13],i[13]=i[9],i[9]=i[5],i[5]=i[1],i[1]=r,r=i[14],n=i[10],i[14]=i[6],i[10]=i[2],i[6]=r,i[2]=n,r=i[15],n=i[11],a=i[7],i[15]=i[3],i[11]=r,i[7]=n,i[3]=a;for(var v=0;v<16;++v)i[v]=this._inv_s[i[v]],i[v]^=t[v];return i}},{key:"_encrypt",value:function(e,t){var r,n,a,i=this._s,o=new Uint8Array(16);o.set(e);for(var s=0;s<16;++s)o[s]^=t[s];for(var c=1;c<this._cyclesOfRepetition;c++){for(var u=0;u<16;++u)o[u]=i[o[u]];a=o[1],o[1]=o[5],o[5]=o[9],o[9]=o[13],o[13]=a,a=o[2],n=o[6],o[2]=o[10],o[6]=o[14],o[10]=a,o[14]=n,a=o[3],n=o[7],r=o[11],o[3]=o[15],o[7]=a,o[11]=n,o[15]=r;for(var l=0;l<16;l+=4){var f=o[l+0],h=o[l+1],d=o[l+2],p=o[l+3];r=f^h^d^p,o[l+0]^=r^this._mixCol[f^h],o[l+1]^=r^this._mixCol[h^d],o[l+2]^=r^this._mixCol[d^p],o[l+3]^=r^this._mixCol[p^f]}for(var g=0,m=16*c;g<16;++g,++m)o[g]^=t[m]}for(var v=0;v<16;++v)o[v]=i[o[v]];a=o[1],o[1]=o[5],o[5]=o[9],o[9]=o[13],o[13]=a,a=o[2],n=o[6],o[2]=o[10],o[6]=o[14],o[10]=a,o[14]=n,a=o[3],n=o[7],r=o[11],o[3]=o[15],o[7]=a,o[11]=n,o[15]=r;for(var y=0,b=this._keySize;y<16;++y,++b)o[y]^=t[b];return o}},{key:"_decryptBlock2",value:function(e,t){for(var r=e.length,n=this.buffer,a=this.bufferPosition,i=[],o=this.iv,s=0;s<r;++s)if(n[a]=e[s],!(++a<16)){for(var c=this._decrypt(n,this._key),u=0;u<16;++u)c[u]^=o[u];o=n,i.push(c),n=new Uint8Array(16),a=0}if(this.buffer=n,this.bufferLength=a,this.iv=o,0===i.length)return new Uint8Array(0);var l=16*i.length;if(t){var f=i[i.length-1],h=f[15];if(h<=16){for(var d=15,p=16-h;d>=p;--d)if(f[d]!==h){h=0;break}l-=h,i[i.length-1]=f.subarray(0,16-h)}}for(var g=new Uint8Array(l),m=0,v=0,y=i.length;m<y;++m,v+=16)g.set(i[m],v);return g}},{key:"decryptBlock",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.length,a=this.buffer,i=this.bufferPosition;if(r)this.iv=r;else{for(var o=0;i<16&&o<n;++o,++i)a[i]=e[o];if(i<16)return this.bufferLength=i,new Uint8Array(0);this.iv=a,e=e.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(e,t)}},{key:"encrypt",value:function(e,t){var r=e.length,n=this.buffer,a=this.bufferPosition,i=[];t||(t=new Uint8Array(16));for(var o=0;o<r;++o)if(n[a]=e[o],!(++a<16)){for(var s=0;s<16;++s)n[s]^=t[s];var c=this._encrypt(n,this._key);t=c,i.push(c),n=new Uint8Array(16),a=0}if(this.buffer=n,this.bufferLength=a,this.iv=t,0===i.length)return new Uint8Array(0);for(var u=16*i.length,l=new Uint8Array(u),f=0,h=0,d=i.length;f<d;++f,h+=16)l.set(i[f],h);return l}}]),e}(),O=function(e){s(r,e);var t=u(r);function r(e){var n;return h(this,r),(n=t.call(this))._cyclesOfRepetition=10,n._keySize=160,n._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),n._key=n._expandKey(e),n}return p(r,[{key:"_expandKey",value:function(e){var t=this._s,r=this._rcon,n=new Uint8Array(176);n.set(e);for(var a=16,i=1;a<176;++i){var o=n[a-3],s=n[a-2],c=n[a-1],u=n[a-4];o=t[o],s=t[s],c=t[c],u=t[u],o^=r[i];for(var l=0;l<4;++l)n[a]=o^=n[a-16],n[++a]=s^=n[a-16],n[++a]=c^=n[a-16],n[++a]=u^=n[a-16],a++}return n}}]),r}(A);t.AES128Cipher=O;var C=function(e){s(r,e);var t=u(r);function r(e){var n;return h(this,r),(n=t.call(this))._cyclesOfRepetition=14,n._keySize=224,n._key=n._expandKey(e),n}return p(r,[{key:"_expandKey",value:function(e){var t=this._s,r=new Uint8Array(240);r.set(e);for(var n,a,i,o,s=1,c=32,u=1;c<240;++u){c%32==16?(n=t[n],a=t[a],i=t[i],o=t[o]):c%32==0&&(n=r[c-3],a=r[c-2],i=r[c-1],o=r[c-4],n=t[n],a=t[a],i=t[i],o=t[o],n^=s,(s<<=1)>=256&&(s=255&(27^s)));for(var l=0;l<4;++l)r[c]=n^=r[c-32],r[++c]=a^=r[c-32],r[++c]=i^=r[c-32],r[++c]=o^=r[c-32],c++}return r}}]),r}(A);t.AES256Cipher=C;var T=function(){function e(){h(this,e)}return p(e,[{key:"checkOwnerPassword",value:function(e,t,r,n){var i=new Uint8Array(e.length+56);i.set(e,0),i.set(t,e.length),i.set(r,e.length+t.length);var o=w(i,0,i.length);return(0,a.isArrayEqual)(o,n)}},{key:"checkUserPassword",value:function(e,t,r){var n=new Uint8Array(e.length+8);n.set(e,0),n.set(t,e.length);var i=w(n,0,n.length);return(0,a.isArrayEqual)(i,r)}},{key:"getOwnerKey",value:function(e,t,r,n){var a=new Uint8Array(e.length+56);a.set(e,0),a.set(t,e.length),a.set(r,e.length+t.length);var i=w(a,0,a.length);return new C(i).decryptBlock(n,!1,new Uint8Array(16))}},{key:"getUserKey",value:function(e,t,r){var n=new Uint8Array(e.length+8);n.set(e,0),n.set(t,e.length);var a=w(n,0,n.length);return new C(a).decryptBlock(r,!1,new Uint8Array(16))}}]),e}();t.PDF17=T;var F=function(){function e(e,t,r){for(var n=w(t,0,t.length).subarray(0,32),a=[0],i=0;i<64||a[a.length-1]>i-32;){var o=e.length+n.length+r.length,s=new Uint8Array(o),c=0;s.set(e,c),c+=e.length,s.set(n,c),c+=n.length,s.set(r,c);for(var u=new Uint8Array(64*o),l=0,f=0;l<64;l++,f+=o)u.set(s,f);a=new O(n.subarray(0,16)).encrypt(u,n.subarray(16,32));for(var h=0,d=0;d<16;d++)h*=1,h%=3,h+=(a[d]>>>0)%3,h%=3;0===h?n=w(a,0,a.length):1===h?n=S(a,0,a.length):2===h&&(n=k(a,0,a.length)),i++}return n.subarray(0,32)}return function(){function t(){h(this,t)}return p(t,[{key:"hash",value:function(t,r,n){return e(t,r,n)}},{key:"checkOwnerPassword",value:function(t,r,n,i){var o=new Uint8Array(t.length+56);o.set(t,0),o.set(r,t.length),o.set(n,t.length+r.length);var s=e(t,o,n);return(0,a.isArrayEqual)(s,i)}},{key:"checkUserPassword",value:function(t,r,n){var i=new Uint8Array(t.length+8);i.set(t,0),i.set(r,t.length);var o=e(t,i,[]);return(0,a.isArrayEqual)(o,n)}},{key:"getOwnerKey",value:function(t,r,n,a){var i=new Uint8Array(t.length+56);i.set(t,0),i.set(r,t.length),i.set(n,t.length+r.length);var o=e(t,i,n);return new C(o).decryptBlock(a,!1,new Uint8Array(16))}},{key:"getUserKey",value:function(t,r,n){var a=new Uint8Array(t.length+8);a.set(t,0),a.set(r,t.length);var i=e(t,a,[]);return new C(i).decryptBlock(n,!1,new Uint8Array(16))}}]),t}()}();t.PDF20=F;var P=function(){function e(t,r){h(this,e),this.StringCipherConstructor=t,this.StreamCipherConstructor=r}return p(e,[{key:"createStream",value:function(e,t){var r=new this.StreamCipherConstructor;return new o.DecryptStream(e,t,(function(e,t){return r.decryptBlock(e,t)}))}},{key:"decryptString",value:function(e){var t=new this.StringCipherConstructor,r=(0,a.stringToBytes)(e);return r=t.decryptBlock(r,!0),(0,a.bytesToString)(r)}},{key:"encryptString",value:function(e){var t=new this.StringCipherConstructor;if(t instanceof A){var r=e.length,n=16-r%16;16!==n&&(e=e.padEnd(16*Math.ceil(r/16),String.fromCharCode(n)));var i=new Uint8Array(16);if("undefined"!=typeof crypto)crypto.getRandomValues(i);else for(var o=0;o<16;o++)i[o]=Math.floor(256*Math.random());var s=(0,a.stringToBytes)(e);s=t.encrypt(s,i);var c=new Uint8Array(16+s.length);return c.set(i),c.set(s,16),(0,a.bytesToString)(c)}var u=(0,a.stringToBytes)(e);return u=t.encrypt(u),(0,a.bytesToString)(u)}}]),e}(),_=function(){var e=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function t(t,r,n,a,i,o,s,c){var u,l,f=40+n.length+t.length,h=new Uint8Array(f),d=0;if(r)for(l=Math.min(32,r.length);d<l;++d)h[d]=r[d];for(u=0;d<32;)h[d++]=e[u++];for(u=0,l=n.length;u<l;++u)h[d++]=n[u];for(h[d++]=255&i,h[d++]=i>>8&255,h[d++]=i>>16&255,h[d++]=i>>>24&255,u=0,l=t.length;u<l;++u)h[d++]=t[u];o>=4&&!c&&(h[d++]=255,h[d++]=255,h[d++]=255,h[d++]=255);var p=y(h,0,d),m=s>>3;if(o>=3)for(u=0;u<50;++u)p=y(p,0,m);var v,b=p.subarray(0,m);if(o>=3){for(d=0;d<32;++d)h[d]=e[d];for(u=0,l=t.length;u<l;++u)h[d++]=t[u];v=new g(b).encryptBlock(y(h,0,d)),l=b.length;var w=new Uint8Array(l);for(u=1;u<=19;++u){for(var k=0;k<l;++k)w[k]=b[k]^u;v=new g(w).encryptBlock(v)}for(u=0,l=v.length;u<l;++u)if(a[u]!==v[u])return null}else for(u=0,l=(v=new g(b).encryptBlock(e)).length;u<l;++u)if(a[u]!==v[u])return null;return b}var r=i.Name.get("Identity");function n(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Uint8Array(r.length+9),o=r.length;for(n=0;n<o;++n)i[n]=r[n];i[n++]=255&e,i[n++]=e>>8&255,i[n++]=e>>16&255,i[n++]=255&t,i[n++]=t>>8&255,a&&(i[n++]=115,i[n++]=65,i[n++]=108,i[n++]=84);var s=y(i,0,n);return s.subarray(0,Math.min(r.length+5,16))}function o(e,t,r,o,s){if(!(0,i.isName)(t))throw new a.FormatError("Invalid crypt filter name.");var c,u=e.get(t.name);if(null!=u&&(c=u.get("CFM")),!c||"None"===c.name)return function(){return new x};if("V2"===c.name)return function(){return new g(n(r,o,s,!1))};if("AESV2"===c.name)return function(){return new O(n(r,o,s,!0))};if("AESV3"===c.name)return function(){return new C(s)};throw new a.FormatError("Unknown crypto method")}var s=function(){function s(n,o,c){h(this,s);var u=n.get("Filter");if(!(0,i.isName)(u,"Standard"))throw new a.FormatError("unknown encryption method");this.dict=n;var l=n.get("V");if(!Number.isInteger(l)||1!==l&&2!==l&&4!==l&&5!==l)throw new a.FormatError("unsupported encryption algorithm");this.algorithm=l;var f=n.get("Length");if(!f)if(l<=3)f=40;else{var d=n.get("CF"),p=n.get("StmF");if((0,i.isDict)(d)&&(0,i.isName)(p)){d.suppressEncryption=!0;var m=d.get(p.name);(f=m&&m.get("Length")||128)<40&&(f<<=3)}}if(!Number.isInteger(f)||f<40||f%8!=0)throw new a.FormatError("invalid key length");var v=(0,a.stringToBytes)(n.get("O")).subarray(0,32),b=(0,a.stringToBytes)(n.get("U")).subarray(0,32),w=n.get("P"),k=n.get("R"),S=(4===l||5===l)&&!1!==n.get("EncryptMetadata");this.encryptMetadata=S;var x,A,O=(0,a.stringToBytes)(o);if(c){if(6===k)try{c=(0,a.utf8StringToString)(c)}catch(e){(0,a.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}x=(0,a.stringToBytes)(c)}if(5!==l)A=t(O,x,v,b,w,k,f,S);else{var C=(0,a.stringToBytes)(n.get("O")).subarray(32,40),P=(0,a.stringToBytes)(n.get("O")).subarray(40,48),_=(0,a.stringToBytes)(n.get("U")).subarray(0,48),I=(0,a.stringToBytes)(n.get("U")).subarray(32,40),E=(0,a.stringToBytes)(n.get("U")).subarray(40,48),j=(0,a.stringToBytes)(n.get("OE")),R=(0,a.stringToBytes)(n.get("UE"));(0,a.stringToBytes)(n.get("Perms")),A=function(e,t,r,n,a,i,o,s,c,u,l,f){if(t){var h=Math.min(127,t.length);t=t.subarray(0,h)}else t=[];var d;return(d=6===e?new F:new T).checkUserPassword(t,s,o)?d.getUserKey(t,c,l):t.length&&d.checkOwnerPassword(t,n,i,r)?d.getOwnerKey(t,a,i,u):null}(k,x,v,C,P,_,b,I,E,j,R)}if(!A&&!c)throw new a.PasswordException("No password given",a.PasswordResponses.NEED_PASSWORD);if(!A&&c){var M=function(t,r,n,a){for(var i=new Uint8Array(32),o=0,s=Math.min(32,t.length);o<s;++o)i[o]=t[o];for(var c=0;o<32;)i[o++]=e[c++];var u,l=y(i,0,o),f=a>>3;if(n>=3)for(c=0;c<50;++c)l=y(l,0,l.length);if(n>=3){u=r;var h=new Uint8Array(f);for(c=19;c>=0;c--){for(var d=0;d<f;++d)h[d]=l[d]^c;u=new g(h).encryptBlock(u)}}else u=new g(l.subarray(0,f)).encryptBlock(r);return u}(x,v,k,f);A=t(O,M,v,b,w,k,f,S)}if(!A)throw new a.PasswordException("Incorrect Password",a.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=A,l>=4){var N=n.get("CF");(0,i.isDict)(N)&&(N.suppressEncryption=!0),this.cf=N,this.stmf=n.get("StmF")||r,this.strf=n.get("StrF")||r,this.eff=n.get("EFF")||this.stmf}}return p(s,[{key:"createCipherTransform",value:function(e,t){if(4===this.algorithm||5===this.algorithm)return new P(o(this.cf,this.stmf,e,t,this.encryptionKey),o(this.cf,this.strf,e,t,this.encryptionKey));var r=n(e,t,this.encryptionKey,!1),a=function(){return new g(r)};return new P(a,a)}}]),s}();return s}();t.CipherTransformFactory=_},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DecryptStream=void 0;var a=r(127);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,r,n,a=s(c);function c(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=a.call(this,t)).str=e,n.dict=e.dict,n.decrypt=r,n.nextChunk=null,n.initialized=!1,n}return t=c,(r=[{key:"readBlock",value:function(){var e;if(this.initialized?e=this.nextChunk:(e=this.str.getBytes(512),this.initialized=!0),e&&0!==e.length){this.nextChunk=this.str.getBytes(512);var t=this.nextChunk&&this.nextChunk.length>0;e=(0,this.decrypt)(e,!t);for(var r=this.bufferLength,n=e.length,a=this.ensureBuffer(r+n),i=0;i<n;i++)a[r++]=e[i];this.bufferLength=r}else this.eof=!0}}])&&i(t.prototype,r),n&&i(t,n),c}(a.DecodeStream);t.DecryptStream=l},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XFAFactory=void 0;var n=r(176),a=r(179),i=r(184);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);try{this.root=(new i.XFAParser).parse(e._createDocument(t)),this.form=new a.Binder(this.root).bind(),this.pages=this.form[n.$toHTML]()}catch(e){console.log(e)}}var t,r,s;return t=e,s=[{key:"_createDocument",value:function(e){return e["/xdp:xdp"]?Object.values(e).join(""):e["xdp:xdp"]}}],(r=[{key:"getPage",value:function(e){return this.pages.children[e]}},{key:"numberPages",get:function(){return this.pages.children.length}}])&&o(t.prototype,r),s&&o(t,s),e}();t.XFAFactory=s},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XmlObject=t.XFAObjectArray=t.XFAObject=t.XFAAttribute=t.StringObject=t.OptionObject=t.Option10=t.Option01=t.IntegerObject=t.ContentObject=t.$uid=t.$toStyle=t.$toHTML=t.$text=t.$setValue=t.$setSetAttributes=t.$setId=t.$searchNode=t.$resolvePrototypes=t.$removeChild=t.$onText=t.$onChildCheck=t.$onChild=t.$nsAttributes=t.$nodeName=t.$namespaceId=t.$isTransparent=t.$isDescendent=t.$isDataValue=t.$insertAt=t.$indexOf=t.$ids=t.$hasSettableValue=t.$hasItem=t.$global=t.$getRealChildrenByNameIt=t.$getParent=t.$getNextPage=t.$getDataValue=t.$getChildrenByNameIt=t.$getChildrenByName=t.$getChildrenByClass=t.$getChildren=t.$getAvailableSpace=t.$getAttributeIt=t.$flushHTML=t.$finalize=t.$extra=t.$dump=t.$data=t.$content=t.$consumed=t.$clone=t.$cleanup=t.$clean=t.$childrenToHTML=t.$break=t.$appendChild=t.$addHTML=t.$acceptWhitespace=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},o=r(177),s=r(4),c=r(178);function u(e,t,r){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}},u(e,t,r||e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=b(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function b(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),e}var A=Symbol();t.$acceptWhitespace=A;var O=Symbol();t.$addHTML=O;var C=Symbol();t.$appendChild=C;var T=Symbol();t.$break=T;var F=Symbol();t.$childrenToHTML=F;var P=Symbol();t.$clean=P;var _=Symbol();t.$cleanup=_;var I=Symbol();t.$clone=I;var E=Symbol();t.$consumed=E;var j=Symbol("content");t.$content=j;var R=Symbol("data");t.$data=R;var M=Symbol();t.$dump=M;var N=Symbol("extra");t.$extra=N;var B=Symbol();t.$finalize=B;var D=Symbol();t.$flushHTML=D;var L=Symbol();t.$getAttributeIt=L;var U=Symbol();t.$getAvailableSpace=U;var q=Symbol();t.$getChildrenByClass=q;var X=Symbol();t.$getChildrenByName=X;var H=Symbol();t.$getChildrenByNameIt=H;var $=Symbol();t.$getDataValue=$;var z=Symbol();t.$getRealChildrenByNameIt=z;var G=Symbol();t.$getChildren=G;var W=Symbol();t.$getNextPage=W;var V=Symbol();t.$getParent=V;var K=Symbol();t.$global=K;var Y=Symbol();t.$hasItem=Y;var J=Symbol();t.$hasSettableValue=J;var Z=Symbol();t.$ids=Z;var Q=Symbol();t.$indexOf=Q;var ee=Symbol();t.$insertAt=ee;var te=Symbol();t.$isDataValue=te;var re=Symbol();t.$isDescendent=re;var ne=Symbol();t.$isTransparent=ne;var ae=Symbol(),ie=Symbol("namespaceId");t.$namespaceId=ie;var oe=Symbol("nodeName");t.$nodeName=oe;var se=Symbol();t.$nsAttributes=se;var ce=Symbol();t.$onChild=ce;var ue=Symbol();t.$onChildCheck=ue;var le=Symbol();t.$onText=le;var fe=Symbol();t.$removeChild=fe;var he=Symbol();t.$resolvePrototypes=he;var de=Symbol();t.$searchNode=de;var pe=Symbol();t.$setId=pe;var ge=Symbol();t.$setSetAttributes=ge;var me=Symbol();t.$setValue=me;var ve=Symbol();t.$text=ve;var ye=Symbol();t.$toHTML=ye;var be=Symbol();t.$toStyle=be;var we=Symbol("uid");t.$uid=we;var ke=Symbol(),Se=Symbol(),xe=Symbol(),Ae=Symbol("_children"),Oe=Symbol(),Ce=Symbol(),Te=Symbol(),Fe=Symbol(),Pe=Symbol(),_e=Symbol(),Ie=Symbol(),Ee=Symbol(),je=Symbol(),Re=Symbol("parent"),Me=Symbol(),Ne=Symbol(),Be=0,De=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];k(this,e),this[ie]=t,this[oe]=r,this[Ie]=n,this[Re]=null,this[Ae]=[],this[we]="".concat(r).concat(Be++)}return x(e,[{key:ce,value:function(e){if(!this[Ie]||!this[ue](e))return!1;var t=e[oe],r=this[t];if(!(r instanceof Le))return null!==r&&this[fe](r),this[t]=e,this[C](e),!0;if(r.push(e))return this[C](e),!0;var n="";return this.id?n=" (id: ".concat(this.id,")"):this.name&&(n=" (name: ".concat(this.name," ").concat(this.h.value,")")),(0,s.warn)('XFA - node "'.concat(this[oe],'"').concat(n,' has already enough "').concat(t,'"!')),!1}},{key:ue,value:function(e){return this.hasOwnProperty(e[oe])&&e[ie]===this[ie]}},{key:A,value:function(){return!1}},{key:pe,value:function(e){this.id&&this[ie]===c.NamespaceIds.template.id&&e.set(this.id,this)}},{key:C,value:function(e){e[Re]=this,this[Ae].push(e)}},{key:fe,value:function(e){var t=this[Ae].indexOf(e);this[Ae].splice(t,1)}},{key:J,value:function(){return this.hasOwnProperty("value")}},{key:me,value:function(e){}},{key:le,value:function(e){}},{key:B,value:function(){}},{key:P,value:function(e){delete this[Ie],this[_]&&(e.clean(this[_]),delete this[_])}},{key:Y,value:function(){return!1}},{key:Q,value:function(e){return this[Ae].indexOf(e)}},{key:ee,value:function(e,t){t[Re]=this,this[Ae].splice(e,0,t)}},{key:ne,value:function(){return""===this.name}},{key:ae,value:function(){return""}},{key:ve,value:function(){return 0===this[Ae].length?this[j]:this[Ae].map((function(e){return e[ve]()})).join("")}},{key:xe,get:function(){var t=Object.getPrototypeOf(this);if(!t._attributes){var r,n=t._attributes=new Set,a=y(Object.getOwnPropertyNames(this));try{for(a.s();!(r=a.n()).done;){var i=r.value;if(null===this[i]||this[i]instanceof e||this[i]instanceof Le)break;n.add(i)}}catch(e){a.e(e)}finally{a.f()}}return(0,s.shadow)(this,xe,t._attributes)}},{key:re,value:function(e){for(var t=this;t;){if(t===e)return!0;t=t[V]()}return!1}},{key:V,value:function(){return this[Re]}},{key:G,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this[e]:this[Ae]}},{key:M,value:function(){var t=Object.create(null);this[j]&&(t.$content=this[j]);var r,n=y(Object.getOwnPropertyNames(this));try{for(n.s();!(r=n.n()).done;){var a=r.value,i=this[a];null!==i&&(i instanceof e?t[a]=i[M]():i instanceof Le?i.isEmpty()||(t[a]=i.dump()):t[a]=i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:be,value:function(){return null}},{key:ye,value:function(){return o.HTMLResult.EMPTY}},{key:Fe,value:i.default.mark((function e(t,r){var n,a,o,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=y(this[G]()),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=13;break}if(o=a.value,t&&r!==t.has(o[oe])){e.next=11;break}return s=this[U](),(c=o[ye](s)).success||(this[N].failingNode=o),e.next=11,c;case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[1,15,18,21]])}))},{key:D,value:function(){return null}},{key:O,value:function(e,t){this[N].children.push(e)}},{key:U,value:function(){}},{key:F,value:function(e){var t=e.filter,r=void 0===t?null:t,n=e.include,a=void 0===n||n;if(this[N].generator){var i=this[U](),o=this[N].failingNode[ye](i);if(!o.success)return!1;o.html&&this[O](o.html,o.bbox),delete this[N].failingNode}else this[N].generator=this[Fe](r,a);for(;;){var s=this[N].generator.next();if(s.done)break;var c=s.value;if(!c.success)return!1;c.html&&this[O](c.html,c.bbox)}return this[N].generator=null,!0}},{key:ge,value:function(e){(e.use||e.id)&&(this[Me]=new Set(Object.keys(e)))}},{key:_e,value:function(e){var t=this[xe],r=this[Me];return v(e).filter((function(e){return t.has(e)&&!r.has(e)}))}},{key:he,value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=y(this[Ae]);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=a[Pe](e,r);i?a[ke](i,e,r):a[he](e,r)}}catch(e){n.e(e)}finally{n.f()}}},{key:Pe,value:function(e,t){var r=this.use;if(r&&r.startsWith("#")){var n=r.slice(1),a=e.get(n);if(this.use="",!a)return(0,s.warn)("XFA - Invalid prototype id: ".concat(n,".")),null;if(a[oe]!==this[oe])return(0,s.warn)("XFA - Incompatible prototype: ".concat(a[oe]," !== ").concat(this[oe],".")),null;if(t.has(a))return(0,s.warn)("XFA - Cycle detected in prototypes use."),null;t.add(a);var i=a[Pe](e,t);return i?(a[ke](i,e,t),t.delete(a),a):(t.delete(a),a)}return null}},{key:ke,value:function(e,t,r){if(r.has(e))(0,s.warn)("XFA - Cycle detected in prototypes use.");else{!this[j]&&e[j]&&(this[j]=e[j]);var n=new Set(r);n.add(e);var a,i=y(this[_e](e[Me]));try{for(i.s();!(a=i.n()).done;){var o=a.value;this[o]=e[o],this[Me]&&this[Me].add(o)}}catch(e){i.e(e)}finally{i.f()}var c,u=y(Object.getOwnPropertyNames(this));try{for(u.s();!(c=u.n()).done;){var l=c.value;if(!this[xe].has(l)){var f=this[l],h=e[l];if(f instanceof Le){var d,p=y(f[Ae]);try{for(p.s();!(d=p.n()).done;)d.value[he](t,r)}catch(e){p.e(e)}finally{p.f()}for(var g=f[Ae].length,m=h[Ae].length;g<m;g++){var v=e[Ae][g][I]();if(!f.push(v))break;v[Re]=this,this[Ae].push(v),v[he](t,n)}}else if(null===f){if(null!==h){var b=h[I]();b[Re]=this,this[l]=b,this[Ae].push(b),b[he](t,n)}}else f[he](t,r)}}}catch(e){u.e(e)}finally{u.f()}}}},{key:I,value:function(){var t,r=Object.create(Object.getPrototypeOf(this)),n=y(Object.getOwnPropertySymbols(this));try{for(n.s();!(t=n.n()).done;){var a=t.value;try{r[a]=this[a]}catch(e){(0,s.shadow)(r,a,this[a])}}}catch(e){n.e(e)}finally{n.f()}r[Ae]=[];var i,o=y(Object.getOwnPropertyNames(this));try{for(o.s();!(i=o.n()).done;){var c=i.value;if(this[xe].has(c))r[c]=e[Oe](this[c]);else{var u=this[c];r[c]=u instanceof Le?new Le(u[Ee]):null}}}catch(e){o.e(e)}finally{o.f()}var l,f=y(this[Ae]);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=h[oe],p=h[I]();r[Ae].push(p),p[Re]=r,null===r[d]?r[d]=p:r[d][Ae].push(p)}}catch(e){f.e(e)}finally{f.f()}return r}},{key:G,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this[Ae].filter((function(t){return t[oe]===e})):this[Ae]}},{key:q,value:function(e){return this[e]}},{key:X,value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Array.from(this[H](e,t,r))}},{key:H,value:i.default.mark((function e(t,r){var n,a,o,s,c=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(c.length>2&&void 0!==c[2])||c[2],"parent"!==t){e.next=5;break}return e.next=4,this[Re];case 4:return e.abrupt("return");case 5:a=y(this[Ae]),e.prev=6,a.s();case 8:if((o=a.n()).done){e.next=20;break}if((s=o.value)[oe]!==t){e.next=13;break}return e.next=13,s;case 13:if(s.name!==t){e.next=16;break}return e.next=16,s;case 16:if(!r&&!s[ne]()){e.next=18;break}return e.delegateYield(s[H](t,r,!1),"t0",18);case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(6),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:if(!n||!this[xe].has(t)){e.next=31;break}return e.next=31,new Ue(this,t,this[t]);case 31:case"end":return e.stop()}}),e,this,[[6,22,25,28]])}))}],[{key:Oe,value:function(t){return Array.isArray(t)?t.map((function(t){return e[Oe](t)})):t instanceof Object?Object.assign({},t):t}}]),e}();t.XFAObject=De;var Le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;k(this,e),this[Ee]=t,this[Ae]=[]}return x(e,[{key:"push",value:function(e){return this[Ae].length<=this[Ee]?(this[Ae].push(e),!0):((0,s.warn)('XFA - node "'.concat(e[oe],'" accepts no more than ').concat(this[Ee]," children")),!1)}},{key:"isEmpty",value:function(){return 0===this[Ae].length}},{key:"dump",value:function(){return 1===this[Ae].length?this[Ae][0][M]():this[Ae].map((function(e){return e[M]()}))}},{key:I,value:function(){var t=new e(this[Ee]);return t[Ae]=this[Ae].map((function(e){return e[I]()})),t}},{key:"children",get:function(){return this[Ae]}},{key:"clear",value:function(){this[Ae].length=0}}]),e}();t.XFAObjectArray=Le;var Ue=function(){function e(t,r,n){k(this,e),this[Re]=t,this[oe]=r,this[j]=n,this[E]=!1}return x(e,[{key:V,value:function(){return this[Re]}},{key:te,value:function(){return!0}},{key:ve,value:function(){return this[j]}},{key:re,value:function(e){return this[Re]===e||this[Re][re](e)}}]),e}();t.XFAAttribute=Ue;var qe=function(e){f(r,e);var t=d(r);function r(e,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(k(this,r),(a=t.call(this,e,n))[j]="",a[Ce]=null,"#text"!==n){var o=new Map;a[Se]=o;for(var s=0,c=Object.entries(i);s<c.length;s++){var u=l(c[s],2),f=u[0],h=u[1];o.set(f,new Ue(g(a),f,h))}if(i.hasOwnProperty(se)){var d=i[se].xfa.dataNode;void 0!==d&&("dataGroup"===d?a[Ce]=!1:"dataValue"===d&&(a[Ce]=!0))}}return a[E]=!1,a}return x(r,[{key:ce,value:function(e){if(this[j]){var t=new r(this[ie],"#text");this[C](t),t[j]=this[j],this[j]=""}return this[C](e),!0}},{key:le,value:function(e){this[j]+=e}},{key:B,value:function(){if(this[j]&&this[Ae].length>0){var e=new r(this[ie],"#text");this[C](e),e[j]=this[j],delete this[j]}}},{key:ye,value:function(){return"#text"===this[oe]?o.HTMLResult.success({name:"#text",value:this[j]}):o.HTMLResult.EMPTY}},{key:G,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this[Ae].filter((function(t){return t[oe]===e})):this[Ae]}},{key:q,value:function(e){var t=this[Se].get(e);return void 0!==t?t:this[G](e)}},{key:H,value:i.default.mark((function(e,t){var r,n,a,o;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=this[Se].get(e),!r){i.next=4;break}return i.next=4,r;case 4:n=y(this[Ae]),i.prev=5,n.s();case 7:if((a=n.n()).done){i.next=16;break}if((o=a.value)[oe]!==e){i.next=12;break}return i.next=12,o;case 12:if(!t){i.next=14;break}return i.delegateYield(o[H](e,t),"t0",14);case 14:i.next=7;break;case 16:i.next=21;break;case 18:i.prev=18,i.t1=i.catch(5),n.e(i.t1);case 21:return i.prev=21,n.f(),i.finish(21);case 24:case"end":return i.stop()}}),r,this,[[5,18,21,24]])}))},{key:L,value:i.default.mark((function(e,t){var r,n,a,o;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=this[Se].get(e),!r||t&&r[E]){i.next=4;break}return i.next=4,r;case 4:n=y(this[Ae]),i.prev=5,n.s();case 7:if((a=n.n()).done){i.next=12;break}return o=a.value,i.delegateYield(o[L](e,t),"t0",10);case 10:i.next=7;break;case 12:i.next=17;break;case 14:i.prev=14,i.t1=i.catch(5),n.e(i.t1);case 17:return i.prev=17,n.f(),i.finish(17);case 20:case"end":return i.stop()}}),r,this,[[5,14,17,20]])}))},{key:z,value:i.default.mark((function e(t,r,n){var a,o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=y(this[Ae]),e.prev=1,a.s();case 3:if((o=a.n()).done){e.next=12;break}if((s=o.value)[oe]!==t||n&&s[E]){e.next=8;break}return e.next=8,s;case 8:if(!r){e.next=10;break}return e.delegateYield(s[z](t,r,n),"t0",10);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(1),a.e(e.t1);case 17:return e.prev=17,a.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))},{key:te,value:function(){return null===this[Ce]?0===this[Ae].length||this[Ae][0][ie]===c.NamespaceIds.xhtml.id:this[Ce]}},{key:$,value:function(){return null===this[Ce]?0===this[Ae].length?this[j].trim():this[Ae][0][ie]===c.NamespaceIds.xhtml.id?this[Ae][0][ve]().trim():null:this[j].trim()}},{key:M,value:function(){var e=Object.create(null);this[j]&&(e.$content=this[j]),e.$name=this[oe],e.children=[];var t,r=y(this[Ae]);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.children.push(n[M]())}}catch(e){r.e(e)}finally{r.f()}e.attributes=Object.create(null);var a,i=y(this[Se]);try{for(i.s();!(a=i.n()).done;){var o=l(a.value,2),s=o[0],c=o[1];e.attributes[s]=c[j]}}catch(e){i.e(e)}finally{i.f()}return e}}]),r}(De);t.XmlObject=qe;var Xe=function(e){f(r,e);var t=d(r);function r(e,n){var a;return k(this,r),(a=t.call(this,e,n))[j]="",a}return x(r,[{key:le,value:function(e){this[j]+=e}},{key:B,value:function(){}}]),r}(De);t.ContentObject=Xe;var He=function(e){f(r,e);var t=d(r);function r(e,n,a){var i;return k(this,r),(i=t.call(this,e,n))[je]=a,i}return x(r,[{key:B,value:function(){var e=this;this[j]=(0,o.getKeyword)({data:this[j],defaultValue:this[je][0],validate:function(t){return e[je].includes(t)}})}},{key:P,value:function(e){u(m(r.prototype),P,this).call(this,e),delete this[je]}}]),r}(Xe);t.OptionObject=He;var $e=function(e){f(r,e);var t=d(r);function r(){return k(this,r),t.apply(this,arguments)}return x(r,[{key:B,value:function(){this[j]=this[j].trim()}}]),r}(Xe);t.StringObject=$e;var ze=function(e){f(r,e);var t=d(r);function r(e,n,a,i){var o;return k(this,r),(o=t.call(this,e,n))[Te]=a,o[Ne]=i,o}return x(r,[{key:B,value:function(){this[j]=(0,o.getInteger)({data:this[j],defaultValue:this[Te],validate:this[Ne]})}},{key:P,value:function(e){u(m(r.prototype),P,this).call(this,e),delete this[Te],delete this[Ne]}}]),r}(Xe);t.IntegerObject=ze;var Ge=function(e){f(r,e);var t=d(r);function r(e,n){return k(this,r),t.call(this,e,n,0,(function(e){return 1===e}))}return r}(ze);t.Option01=Ge;var We=function(e){f(r,e);var t=d(r);function r(e,n){return k(this,r),t.call(this,e,n,1,(function(e){return 0===e}))}return r}(ze);t.Option10=We},(e,t)=>{"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.getBBox=function(e){var t=-1;if(!e)return{x:t,y:t,width:t,height:t};var r=e.trim().split(/\\s*,\\s*/).map((function(e){return c(e,"-1")}));if(r.length<4||r[2]<0||r[3]<0)return{x:t,y:t,width:t,height:t};var a=n(r,4),i=a[0],o=a[1],s=a[2],u=a[3];return{x:i,y:o,width:s,height:u}},t.getColor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=n(t,3),a=r[0],i=r[1],o=r[2];if(!e)return{r:a,g:i,b:o};var s=e.trim().split(/\\s*,\\s*/).map((function(e){return Math.min(Math.max(0,parseInt(e.trim(),10)),255)})).map((function(e){return isNaN(e)?0:e}));if(s.length<3)return{r:a,g:i,b:o};var c=n(s,3);return a=c[0],i=c[1],o=c[2],{r:a,g:i,b:o}},t.getFloat=function(e){var t=e.data,r=e.defaultValue,n=e.validate;if(!t)return r;t=t.trim();var a=parseFloat(t);return!isNaN(a)&&n(a)?a:r},t.getInteger=function(e){var t=e.data,r=e.defaultValue,n=e.validate;if(!t)return r;t=t.trim();var a=parseInt(t,10);return!isNaN(a)&&n(a)?a:r},t.getKeyword=s,t.getMeasurement=c,t.getRatio=function(e){if(!e)return{num:1,den:1};var t=e.trim().split(/\\s*:\\s*/).map((function(e){return parseFloat(e)})).filter((function(e){return!isNaN(e)}));if(1===t.length&&t.push(1),0===t.length)return{num:1,den:1};var r=n(t,2),a=r[0],i=r[1];return{num:a,den:i}},t.getRelevant=function(e){return e?e.trim().split(/\\s+/).map((function(e){return{excluded:"-"===e[0],viewname:e.substring(1)}})):[]},t.getStringOption=function(e,t){return s({data:e,defaultValue:t[0],validate:function(e){return t.includes(e)}})},t.HTMLResult=void 0;var i={pt:function(e){return e},cm:function(e){return e/2.54*72},mm:function(e){return e/25.4*72},in:function(e){return 72*e},px:function(e){return e}},o=/([+-]?[0-9]+\\.?[0-9]*)(.*)/;function s(e){var t=e.data,r=e.defaultValue,n=e.validate;return t&&n(t=t.trim())?t:r}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(t=t||"0",!e)return c(t);var r=e.trim().match(o);if(!r)return c(t);var a=n(r,3),s=a[1],u=a[2],l=parseFloat(s);if(isNaN(l))return c(t);if(0===l)return 0;var f=i[u];return f?f(l):l}var u=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.success=t,this.html=r,this.bbox=n}var t,n,a;return t=e,a=[{key:"success",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new e(!0,t,r)}}],(n=null)&&r(t.prototype,n),a&&r(t,a),e}();t.HTMLResult=u,u.FAILURE=new u(!1,null,null),u.EMPTY=new u(!0,null,null)},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamespaceIds=t.$buildXFAObject=void 0;var r=Symbol();t.$buildXFAObject=r,t.NamespaceIds={config:{id:0,check:function(e){return e.startsWith("http://www.xfa.org/schema/xci/")}},connectionSet:{id:1,check:function(e){return e.startsWith("http://www.xfa.org/schema/xfa-connection-set/")}},datasets:{id:2,check:function(e){return e.startsWith("http://www.xfa.org/schema/xfa-data/")}},form:{id:3,check:function(e){return e.startsWith("http://www.xfa.org/schema/xfa-form/")}},localeSet:{id:4,check:function(e){return e.startsWith("http://www.xfa.org/schema/xfa-locale-set/")}},pdf:{id:5,check:function(e){return"http://ns.adobe.com/xdp/pdf/"===e}},signature:{id:6,check:function(e){return"http://www.w3.org/2000/09/xmldsig#"===e}},sourceSet:{id:7,check:function(e){return e.startsWith("http://www.xfa.org/schema/xfa-source-set/")}},stylesheet:{id:8,check:function(e){return"http://www.w3.org/1999/XSL/Transform"===e}},template:{id:9,check:function(e){return e.startsWith("http://www.xfa.org/schema/xfa-template/")}},xdc:{id:10,check:function(e){return e.startsWith("http://www.xfa.org/schema/xdc/")}},xdp:{id:11,check:function(e){return"http://ns.adobe.com/xdp/"===e}},xfdf:{id:12,check:function(e){return"http://ns.adobe.com/xfdf/"===e}},xhtml:{id:13,check:function(e){return"http://www.w3.org/1999/xhtml"===e}},xmpmeta:{id:14,check:function(e){return"http://ns.adobe.com/xmpmeta/"===e}}}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binder=void 0;var n=r(176),a=r(180),i=r(183),o=r(178),s=r(4);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function l(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){var t=new a.Text({});return t[n.$content]=e,t}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=t,this.datasets=t.datasets,t.datasets&&t.datasets.data?(this.emptyMerge=!1,this.data=t.datasets.data):(this.emptyMerge=!0,this.data=new n.XmlObject(o.NamespaceIds.datasets.id,"data")),this.root.form=this.form=t.template[n.$clone]()}var t,r,l;return t=e,(r=[{key:"_isConsumeData",value:function(){return!this.emptyMerge&&this._mergeMode}},{key:"_isMatchTemplate",value:function(){return!this._isConsumeData()}},{key:"bind",value:function(){return this._bindElement(this.form,this.data),this.form}},{key:"getData",value:function(){return this.data}},{key:"_bindValue",value:function(e,t,r){if(e[n.$hasSettableValue]())if(t[n.$isDataValue]()){var i=t[n.$getDataValue]();e[n.$setValue](d(i)),e[n.$data]=t}else if(e instanceof a.Field&&e.ui&&e.ui.choiceList&&"multiSelect"===e.ui.choiceList.open){var o=t[n.$getChildren]().map((function(e){return e[n.$content].trim()})).join("\\n");e[n.$setValue](d(o)),e[n.$data]=t}else this._isConsumeData()&&(0,s.warn)("XFA - Nodes haven't the same type.");else!t[n.$isDataValue]()||this._isMatchTemplate()?(this._bindElement(e,t),e[n.$data]=t):(0,s.warn)("XFA - Nodes haven't the same type.")}},{key:"_findDataByNameToConsume",value:function(e,t,r,a){if(!e)return null;for(var i,s,c=0;c<3;c++){for(i=r[n.$getRealChildrenByNameIt](e,!1,!0);s=i.next().value;)if(t===s[n.$isDataValue]())return s;if(r[n.$namespaceId]===o.NamespaceIds.datasets.id&&"data"===r[n.$nodeName])break;r=r[n.$getParent]()}if(!a)return null;for(i=this.data[n.$getRealChildrenByNameIt](e,!1,!1);s=i.next().value;)if(s[n.$global])return s;return(s=(i=this.data[n.$getAttributeIt](e,!0)).next().value)&&s[n.$isDataValue]()?s:null}},{key:"_setProperties",value:function(e,t){if(e.hasOwnProperty("setProperty")){var r,o=u(e.setProperty.children);try{for(o.s();!(r=o.n()).done;){var l=r.value,f=l.ref,h=l.target;if(!l.connection&&f){var d=c((0,i.searchNode)(this.root,t,f,!1,!1),1)[0];if(d)if(d[n.$isDescendent](this.data)){var p=c((0,i.searchNode)(this.root,e,h,!1,!1),1)[0];if(p)if(p[n.$isDescendent](e)){var g=p[n.$getParent]();if(p instanceof a.SetProperty||g instanceof a.SetProperty)(0,s.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");else if(p instanceof a.BindItems||g instanceof a.BindItems)(0,s.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");else{var m=d[n.$text](),v=p[n.$nodeName];if(p instanceof n.XFAAttribute){var y=Object.create(null);y[v]=m;var b=Reflect.construct(Object.getPrototypeOf(g).constructor,[y]);g[v]=b[v]}else p.hasOwnProperty(n.$content)?(p[n.$data]=d,p[n.$content]=m,p[n.$finalize]()):(0,s.warn)("XFA - Invalid node to use in setProperty")}}else(0,s.warn)("XFA - Invalid target: must be a property or subproperty.");else(0,s.warn)("XFA - Invalid target: ".concat(h,"."))}else(0,s.warn)("XFA - Invalid node: must be a data node.");else(0,s.warn)("XFA - Invalid reference: ".concat(f,"."))}}}catch(e){o.e(e)}finally{o.f()}}}},{key:"_bindItems",value:function(e,t){if(e.hasOwnProperty("items")&&e.hasOwnProperty("bindItems")&&!e.bindItems.isEmpty()){var r,o=u(e.items.children);try{for(o.s();!(r=o.n()).done;){var l=r.value;e[n.$removeChild](l)}}catch(e){o.e(e)}finally{o.f()}e.items.clear();var f=new a.Items({}),h=new a.Items({});e[n.$appendChild](f),e.items.push(f),e[n.$appendChild](h),e.items.push(h);var p,g=u(e.bindItems.children);try{for(g.s();!(p=g.n()).done;){var m=p.value,v=m.ref,y=m.labelRef,b=m.valueRef;if(!m.connection&&v){var w=(0,i.searchNode)(this.root,t,v,!1,!1);if(w){var k,S=u(w);try{for(S.s();!(k=S.n()).done;){var x=k.value;if(x[n.$isDescendent](this.datasets)){var A=c((0,i.searchNode)(this.root,x,y,!0,!1),1)[0];if(A)if(A[n.$isDescendent](this.datasets)){var O=c((0,i.searchNode)(this.root,x,b,!0,!1),1)[0];if(O)if(O[n.$isDescendent](this.datasets)){var C=d(A[n.$text]()),T=d(O[n.$text]());f[n.$appendChild](C),f.text.push(C),h[n.$appendChild](T),h.text.push(T)}else(0,s.warn)("XFA - Invalid value: must be a datasets child.");else(0,s.warn)("XFA - Invalid value: ".concat(b,"."))}else(0,s.warn)("XFA - Invalid label: must be a datasets child.");else(0,s.warn)("XFA - Invalid label: ".concat(y,"."))}else(0,s.warn)("XFA - Invalid ref (".concat(v,"): must be a datasets child."))}}catch(e){S.e(e)}finally{S.f()}}else(0,s.warn)("XFA - Invalid reference: ".concat(v,"."))}}}catch(e){g.e(e)}finally{g.f()}}}},{key:"_bindOccurrences",value:function(e,t,r){var a;if(t.length>1&&(a=e[n.$clone]()),this._bindValue(e,t[0],r),this._setProperties(e,t[0]),this._bindItems(e,t[0]),1!==t.length)for(var i=e[n.$getParent](),o=e[n.$nodeName],s=i[n.$indexOf](e),c=1,u=t.length;c<u;c++){var l=t[c],f=a[n.$clone]();f.occur.min=1,f.occur.max=1,f.occur.initial=1,i[o].push(f),i[n.$insertAt](s+c,f),this._bindValue(f,l,r),this._setProperties(f,l),this._bindItems(f,l)}}},{key:"_createOccurrences",value:function(e){if(this.emptyMerge){var t=e.occur;if(t&&!(t.initial<=1))for(var r=e[n.$getParent](),a=e[n.$nodeName],i=0,o=t.initial;i<o;i++){var s=e[n.$clone]();s.occur.min=1,s.occur.max=1,s.occur.initial=1,r[a].push(s),r[n.$appendChild](s)}}}},{key:"_getOccurInfo",value:function(e){var t=e.occur,r=e.name;if(!t||!r)return[1,1];var n=-1===t.max?1/0:t.max;return[t.min,n]}},{key:"_bindElement",value:function(e,t){var r=[];this._createOccurrences(e);var a,o=u(e[n.$getChildren]());try{for(o.s();!(a=o.n()).done;){var l=a.value;if(!l[n.$data]){void 0===this._mergeMode&&"subform"===l[n.$nodeName]&&(this._mergeMode="consumeData"===l.mergeMode);var f=!1,h=null,d=null,p=null;if(l.bind){switch(l.bind.match){case"none":this._bindElement(l,t);continue;case"global":f=!0;break;case"dataRef":if(!l.bind.ref){(0,s.warn)("XFA - ref is empty in node ".concat(l[n.$nodeName],".")),this._bindElement(l,t);continue}d=l.bind.ref}l.bind.picture&&(h=l.bind.picture[n.$content])}var g=c(this._getOccurInfo(l),2),m=g[0],v=g[1];if(d)null===(p=(0,i.searchNode)(this.root,t,d,!0,!1))?(p=(0,i.createDataNode)(this.data,t,d),this._isConsumeData()&&(p[n.$consumed]=!0),p=[p]):(this._isConsumeData()&&(p=p.filter((function(e){return!e[n.$consumed]}))),p.length>v?p=p.slice(0,v):0===p.length&&(p=null),p&&this._isConsumeData()&&p.forEach((function(e){e[n.$consumed]=!0})));else{if(!l.name){this._bindElement(l,t);continue}if(this._isConsumeData()){for(var y=[];y.length<v;){var b=this._findDataByNameToConsume(l.name,l[n.$hasSettableValue](),t,f);if(!b)break;b[n.$consumed]=!0,y.push(b)}p=y.length>0?y:null}else(p=t[n.$getRealChildrenByNameIt](l.name,!1,!1).next().value)||(p=new n.XmlObject(t[n.$namespaceId],l.name),t[n.$appendChild](p)),p=[p]}if(p){if(p.length<m){(0,s.warn)("XFA - Must have at least ".concat(m," occurrences: ").concat(e[n.$nodeName],"."));continue}this._bindOccurrences(l,p,h)}else m>0?(this._setProperties(l,t),this._bindItems(l,t),this._bindElement(l,t)):r.push(l)}}}catch(e){o.e(e)}finally{o.f()}r.forEach((function(e){return e[n.$getParent]()[n.$removeChild](e)}))}}])&&h(t.prototype,r),l&&h(t,l),e}();t.Binder=p},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Value=t.Text=t.TemplateNamespace=t.Template=t.SetProperty=t.Items=t.Field=t.BindItems=void 0;var a=r(176),i=r(178),o=r(181),s=r(182),c=r(177),u=r(4),l=r(183);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var a=S(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var x=i.NamespaceIds.template.id;function A(e,t){if(!e.value){var r=new _t({});e[a.$appendChild](r),e.value=r}e.value[a.$setValue](t)}function O(e){for(var t=e[a.$getParent]();!(t instanceof wt);)t=t[a.$getParent]();return t}function C(e,t){if(""!==e.w&&Math.round(e.w+e.x-t.width)>1){var r=O(e)[a.$extra].currentContentArea;return e.w+e.x>r.w?0:1}if(""!==e.h&&Math.round(e.h+e.y-t.height)>1){var n=O(e)[a.$extra].currentContentArea;return e.h+e.y>n.h?0:1}return 2}var T=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"appearanceFilter")).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),F=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"arc",!0)).circular=(0,c.getInteger)({data:e.circular,defaultValue:0,validate:function(e){return 1===e}}),n.hand=(0,c.getStringOption)(e.hand,["even","left","right"]),n.id=e.id||"",n.startAngle=(0,c.getFloat)({data:e.startAngle,defaultValue:0,validate:function(e){return!0}}),n.sweepAngle=(0,c.getFloat)({data:e.sweepAngle,defaultValue:360,validate:function(e){return!0}}),n.use=e.use||"",n.usehref=e.usehref||"",n.edge=null,n.fill=null,n}return r}(a.XFAObject),P=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"area",!0)).colSpan=(0,c.getInteger)({data:e.colSpan,defaultValue:1,validate:function(e){return e>=1||-1===e}}),n.id=e.id||"",n.name=e.name||"",n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.x=(0,c.getMeasurement)(e.x,"0pt"),n.y=(0,c.getMeasurement)(e.y,"0pt"),n.desc=null,n.extras=null,n.area=new a.XFAObjectArray,n.draw=new a.XFAObjectArray,n.exObject=new a.XFAObjectArray,n.exclGroup=new a.XFAObjectArray,n.field=new a.XFAObjectArray,n.subform=new a.XFAObjectArray,n.subformSet=new a.XFAObjectArray,n}return m(r,[{key:a.$isTransparent,value:function(){return!0}},{key:a.$addHTML,value:function(e,t){var r=h(t,4),n=r[0],i=r[1],o=r[2],s=r[3];this[a.$extra].width=Math.max(this[a.$extra].width,n+o),this[a.$extra].height=Math.max(this[a.$extra].height,i+s),this[a.$extra].children.push(e)}},{key:a.$getAvailableSpace,value:function(){return this[a.$extra].availableSpace}},{key:a.$toHTML,value:function(e){var t=(0,o.toStyle)(this,"position"),r={style:t,id:this[a.$uid],class:"xfaArea"};this.name&&(r.xfaName=this.name);var n=[];if(this[a.$extra]={children:n,width:0,height:0,availableSpace:e},!this[a.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0}))return delete this[a.$extra],c.HTMLResult.empty;t.width=(0,o.measureToString)(this[a.$extra].width),t.height=(0,o.measureToString)(this[a.$extra].height);var i={name:"div",attributes:r,children:n},s=[this.x,this.y,this[a.$extra].width,this[a.$extra].height];return delete this[a.$extra],c.HTMLResult.success(i,s)}}]),r}(a.XFAObject),_=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"assist",!0)).id=e.id||"",n.role=e.role||"",n.use=e.use||"",n.usehref=e.usehref||"",n.speak=null,n.toolTip=null,n}return r}(a.XFAObject),I=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"barcode",!0)).charEncoding=(0,c.getKeyword)({data:e.charEncoding?e.charEncoding.toLowerCase():"",defaultValue:"",validate:function(e){return["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(e)||e.match(/iso-8859-[0-9]{2}/)}}),n.checksum=(0,c.getStringOption)(e.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),n.dataColumnCount=(0,c.getInteger)({data:e.dataColumnCount,defaultValue:-1,validate:function(e){return e>=0}}),n.dataLength=(0,c.getInteger)({data:e.dataLength,defaultValue:-1,validate:function(e){return e>=0}}),n.dataPrep=(0,c.getStringOption)(e.dataPrep,["none","flateCompress"]),n.dataRowCount=(0,c.getInteger)({data:e.dataRowCount,defaultValue:-1,validate:function(e){return e>=0}}),n.endChar=e.endChar||"",n.errorCorrectionLevel=(0,c.getInteger)({data:e.errorCorrectionLevel,defaultValue:-1,validate:function(e){return e>=0&&e<=8}}),n.id=e.id||"",n.moduleHeight=(0,c.getMeasurement)(e.moduleHeight,"5mm"),n.moduleWidth=(0,c.getMeasurement)(e.moduleWidth,"0.25mm"),n.printCheckDigit=(0,c.getInteger)({data:e.printCheckDigit,defaultValue:0,validate:function(e){return 1===e}}),n.rowColumnRatio=(0,c.getRatio)(e.rowColumnRatio),n.startChar=e.startChar||"",n.textLocation=(0,c.getStringOption)(e.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),n.truncate=(0,c.getInteger)({data:e.truncate,defaultValue:0,validate:function(e){return 1===e}}),n.type=(0,c.getStringOption)(e.type?e.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),n.upsMode=(0,c.getStringOption)(e.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),n.use=e.use||"",n.usehref=e.usehref||"",n.wideNarrowRatio=(0,c.getRatio)(e.wideNarrowRatio),n.encrypt=null,n.extras=null,n}return r}(a.XFAObject),E=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"bind",!0)).match=(0,c.getStringOption)(e.match,["once","dataRef","global","none"]),n.ref=e.ref||"",n.picture=null,n}return r}(a.XFAObject),j=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"bindItems")).connection=e.connection||"",n.labelRef=e.labelRef||"",n.ref=e.ref||"",n.valueRef=e.valueRef||"",n}return r}(a.XFAObject);t.BindItems=j;var R=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"bookend")).id=e.id||"",n.leader=e.leader||"",n.trailer=e.trailer||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),M=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"boolean")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$toHTML,value:function(e){return c.HTMLResult.success(1===this[a.$content])}}]),r}(a.Option01),N=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"border",!0)).break=(0,c.getStringOption)(e.break,["close","open"]),n.hand=(0,c.getStringOption)(e.hand,["even","left","right"]),n.id=e.id||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.corner=new a.XFAObjectArray(4),n.edge=new a.XFAObjectArray(4),n.extras=null,n.fill=null,n.margin=null,n}return m(r,[{key:a.$toStyle,value:function(e,t){var r=this.edge.children.slice();if(r.length<4)for(var n=r[r.length-1]||new se({}),i=r.length;i<4;i++)r.push(n);e=e||[0,0,0,0];for(var s=0;s<4;s++)e[s]=r[s].thickness;t=t||[0,0,0,0];var c,u=r.map((function(e){var t=e[a.$toStyle]();return t.color=t.color||"#000000",t}));this.margin?(c=this.margin[a.$toStyle](),t[0]=this.margin.topInset,t[1]=this.margin.rightInset,t[2]=this.margin.bottomInset,t[3]=this.margin.leftInset):c=Object.create(null);var l=!1,f=this[a.$getParent]();(f?f[a.$getParent]():null)instanceof Ft&&(l=!0),this.fill&&Object.assign(c,this.fill[a.$toStyle]());var h=!1;if(this.corner.children.some((function(e){return 0!==e.radius}))){var d=this.corner.children.map((function(e){return e[a.$toStyle]()}));if(2===d.length||3===d.length)for(var p=d[d.length-1],g=d.length;g<4;g++)d.push(p);c.borderRadius=d.map((function(e){return e.radius})).join(" "),h=!0}var m=u[0];if(!h&&(this.edge.children.length<=1||u.every((function(e){return e.style===m.style&&e.width===m.width&&e.color===m.color}))&&t.every((function(e){return e===t[0]})))){var v;switch(this.presence){case"invisible":case"hidden":v="";break;case"inactive":v="none";break;default:v=m.style}c.outline="".concat(m.width," ").concat(m.color," ").concat(v);var y=r[0].thickness+t[0];c.outlineOffset="-".concat((0,o.measureToString)(y)),l&&(c.padding="".concat((0,o.measureToString)(y+1)))}else{switch(this.presence){case"invisible":case"hidden":c.borderStyle="";break;case"inactive":c.borderStyle="none";break;default:c.borderStyle=u.map((function(e){return e.style})).join(" ")}c.borderWidth=u.map((function(e){return e.width})).join(" "),c.borderColor=u.map((function(e){return e.color})).join(" ")}return c}}]),r}(a.XFAObject),B=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"break",!0)).after=(0,c.getStringOption)(e.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),n.afterTarget=e.afterTarget||"",n.before=(0,c.getStringOption)(e.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),n.beforeTarget=e.beforeTarget||"",n.bookendLeader=e.bookendLeader||"",n.bookendTrailer=e.bookendTrailer||"",n.id=e.id||"",n.overflowLeader=e.overflowLeader||"",n.overflowTarget=e.overflowTarget||"",n.overflowTrailer=e.overflowTrailer||"",n.startNew=(0,c.getInteger)({data:e.startNew,defaultValue:0,validate:function(e){return 1===e}}),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return r}(a.XFAObject),D=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"breakAfter",!0)).id=e.id||"",n.leader=e.leader||"",n.startNew=(0,c.getInteger)({data:e.startNew,defaultValue:0,validate:function(e){return 1===e}}),n.target=e.target||"",n.targetType=(0,c.getStringOption)(e.targetType,["auto","contentArea","pageArea","pageEven","pageOdd"]),n.trailer=e.trailer||"",n.use=e.use||"",n.usehref=e.usehref||"",n.script=null,n}return r}(a.XFAObject),L=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"breakBefore",!0)).id=e.id||"",n.leader=e.leader||"",n.startNew=(0,c.getInteger)({data:e.startNew,defaultValue:0,validate:function(e){return 1===e}}),n.target=e.target||"",n.targetType=(0,c.getStringOption)(e.targetType,["auto","contentArea","pageArea","pageEven","pageOdd"]),n.trailer=e.trailer||"",n.use=e.use||"",n.usehref=e.usehref||"",n.script=null,n}return m(r,[{key:a.$toHTML,value:function(e){return this[a.$extra]={},c.HTMLResult.FAILURE}}]),r}(a.XFAObject),U=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"button",!0)).highlight=(0,c.getStringOption)(e.highlight,["inverted","none","outline","push"]),n.id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return m(r,[{key:a.$toHTML,value:function(e){return c.HTMLResult.success({name:"button",attributes:{class:"xfaButton",style:{}},children:[]})}}]),r}(a.XFAObject),q=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"calculate",!0)).id=e.id||"",n.override=(0,c.getStringOption)(e.override,["disabled","error","ignore","warning"]),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.message=null,n.script=null,n}return r}(a.XFAObject),X=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"caption",!0)).id=e.id||"",n.placement=(0,c.getStringOption)(e.placement,["left","bottom","inline","right","top"]),n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.reserve=(0,c.getMeasurement)(e.reserve),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.font=null,n.margin=null,n.para=null,n.value=null,n}return m(r,[{key:a.$setValue,value:function(e){A(this,e)}},{key:a.$toHTML,value:function(e){if(!this.value)return c.HTMLResult.EMPTY;var t=this.value[a.$toHTML](e).html;if(!t)return c.HTMLResult.EMPTY;var r=[];"string"==typeof t?r.push({name:"#text",value:t}):r.push(t);var n=(0,o.toStyle)(this,"font","margin","para","visibility");switch(this.placement){case"left":case"right":this.reserve>0?n.width=(0,o.measureToString)(this.reserve):n.minWidth=(0,o.measureToString)(this.reserve);break;case"top":case"bottom":this.reserve>0?n.height=(0,o.measureToString)(this.reserve):n.minHeight=(0,o.measureToString)(this.reserve)}return c.HTMLResult.success({name:"div",attributes:{style:n,class:"xfaCaption"},children:r})}}]),r}(a.XFAObject),H=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"certificate")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),$=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"certificates",!0)).credentialServerPolicy=(0,c.getStringOption)(e.credentialServerPolicy,["optional","required"]),n.id=e.id||"",n.url=e.url||"",n.urlPolicy=e.urlPolicy||"",n.use=e.use||"",n.usehref=e.usehref||"",n.encryption=null,n.issuers=null,n.keyUsage=null,n.oids=null,n.signing=null,n.subjectDNs=null,n}return r}(a.XFAObject),z=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"checkButton",!0)).id=e.id||"",n.mark=(0,c.getStringOption)(e.mark,["default","check","circle","cross","diamond","square","star"]),n.shape=(0,c.getStringOption)(e.shape,["square","round"]),n.size=(0,c.getMeasurement)(e.size,"10pt"),n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.extras=null,n.margin=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t,r,n=(0,o.toStyle)(this,"border","margin"),i=(0,o.measureToString)(this.size);if(n.width=n.height=i,"square"===this.shape?(t="",r="10%"):(t="",r="50%"),n.borderRadius||(n.borderRadius=r),"default"!==this.mark)switch(this.mark){case"check":t="";break;case"circle":t="";break;case"cross":t="";break;case"diamond":t="";break;case"square":t="";break;case"star":t=""}"10px"!==i&&(n.fontSize=i,n.lineHeight=i,n.width=i,n.height=i);var s=this[a.$getParent]()[a.$getParent]()[a.$uid],u={name:"input",attributes:{class:"xfaCheckbox",fieldId:s,type:"radio",id:"".concat(s,"-radio")}},l=this[a.$getParent]()[a.$getParent]()[a.$getParent]();return l instanceof ye&&(u.attributes.name=l[a.$uid]),c.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[u,{name:"span",attributes:{class:"xfaCheckboxMark",mark:t,style:n}}]})}}]),r}(a.XFAObject),G=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"choiceList",!0)).commitOn=(0,c.getStringOption)(e.commitOn,["select","exit"]),n.id=e.id||"",n.open=(0,c.getStringOption)(e.open,["userControl","always","multiSelect","onEntry"]),n.textEntry=(0,c.getInteger)({data:e.textEntry,defaultValue:0,validate:function(e){return 1===e}}),n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.extras=null,n.margin=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t=(0,o.toStyle)(this,"border","margin"),r=this[a.$getParent]()[a.$getParent](),n=[];if(r.items.children.length>0)for(var i=r.items.children[0][a.$toHTML]().html,s=r.items.children[1]?r.items.children[1][a.$toHTML]().html:[],u=0,l=i.length;u<l;u++)n.push({name:"option",attributes:{value:s[u]||i[u]},value:i[u]});var f={class:"xfaSelect",fieldId:this[a.$getParent]()[a.$getParent]()[a.$uid],style:t};return"multiSelect"===this.open&&(f.multiple=!0),c.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[{name:"select",children:n,attributes:f}]})}}]),r}(a.XFAObject),W=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"color",!0)).cSpace=(0,c.getStringOption)(e.cSpace,["SRGB"]),n.id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.value=e.value?(0,c.getColor)(e.value):"",n.extras=null,n}return m(r,[{key:a.$hasSettableValue,value:function(){return!1}},{key:a.$toStyle,value:function(){return this.value?u.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}]),r}(a.XFAObject),V=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"comb")).id=e.id||"",n.numberOfCells=(0,c.getInteger)({data:e.numberOfCells,defaultValue:0,validate:function(e){return e>=0}}),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),K=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"connect",!0)).connection=e.connection||"",n.id=e.id||"",n.ref=e.ref||"",n.usage=(0,c.getStringOption)(e.usage,["exportAndImport","exportOnly","importOnly"]),n.use=e.use||"",n.usehref=e.usehref||"",n.picture=null,n}return r}(a.XFAObject),Y=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"contentArea",!0)).h=(0,c.getMeasurement)(e.h),n.id=e.id||"",n.name=e.name||"",n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.w=(0,c.getMeasurement)(e.w),n.x=(0,c.getMeasurement)(e.x,"0pt"),n.y=(0,c.getMeasurement)(e.y,"0pt"),n.desc=null,n.extras=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t={position:"absolute",left:(0,o.measureToString)(this.x),top:(0,o.measureToString)(this.y),width:(0,o.measureToString)(this.w),height:(0,o.measureToString)(this.h)};return c.HTMLResult.success({name:"div",children:[],attributes:{style:t,class:"xfaContentarea",id:this[a.$uid]}})}}]),r}(a.XFAObject),J=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"corner",!0)).id=e.id||"",n.inverted=(0,c.getInteger)({data:e.inverted,defaultValue:0,validate:function(e){return 1===e}}),n.join=(0,c.getStringOption)(e.join,["square","round"]),n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.radius=(0,c.getMeasurement)(e.radius),n.stroke=(0,c.getStringOption)(e.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),n.thickness=(0,c.getMeasurement)(e.thickness,"0.5pt"),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(){var e=(0,o.toStyle)(this,"visibility");return e.radius=(0,o.measureToString)(this.radius),e}}]),r}(a.XFAObject),Z=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"date")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){this[a.$content]=new Date(this[a.$content].trim())}},{key:a.$toHTML,value:function(e){return c.HTMLResult.success(this[a.$content].toString())}}]),r}(a.ContentObject),Q=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"dateTime")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){this[a.$content]=new Date(this[a.$content].trim())}},{key:a.$toHTML,value:function(e){return c.HTMLResult.success(this[a.$content].toString())}}]),r}(a.ContentObject),ee=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"dateTimeEdit",!0)).hScrollPolicy=(0,c.getStringOption)(e.hScrollPolicy,["auto","off","on"]),n.id=e.id||"",n.picker=(0,c.getStringOption)(e.picker,["host","none"]),n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.comb=null,n.extras=null,n.margin=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t=(0,o.toStyle)(this,"border","font","margin"),r={name:"input",attributes:{type:"text",fieldId:this[a.$getParent]()[a.$getParent]()[a.$uid],class:"xfaTextfield",style:t}};return c.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[r]})}}]),r}(a.XFAObject),te=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"decimal")).fracDigits=(0,c.getInteger)({data:e.fracDigits,defaultValue:2,validate:function(e){return!0}}),n.id=e.id||"",n.leadDigits=(0,c.getInteger)({data:e.leadDigits,defaultValue:-1,validate:function(e){return!0}}),n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){var e=parseFloat(this[a.$content].trim());this[a.$content]=isNaN(e)?null:e}},{key:a.$toHTML,value:function(e){return c.HTMLResult.success(null!==this[a.$content]?this[a.$content].toString():"")}}]),r}(a.ContentObject),re=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"defaultUi",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return r}(a.XFAObject),ne=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"desc",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.boolean=new a.XFAObjectArray,n.date=new a.XFAObjectArray,n.dateTime=new a.XFAObjectArray,n.decimal=new a.XFAObjectArray,n.exData=new a.XFAObjectArray,n.float=new a.XFAObjectArray,n.image=new a.XFAObjectArray,n.integer=new a.XFAObjectArray,n.text=new a.XFAObjectArray,n.time=new a.XFAObjectArray,n}return r}(a.XFAObject),ae=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"])).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.OptionObject),ie=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"digestMethods",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.digestMethod=new a.XFAObjectArray,n}return r}(a.XFAObject),oe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"draw",!0)).anchorType=(0,c.getStringOption)(e.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),n.colSpan=(0,c.getInteger)({data:e.colSpan,defaultValue:1,validate:function(e){return e>=1||-1===e}}),n.h=e.h?(0,c.getMeasurement)(e.h):"",n.hAlign=(0,c.getStringOption)(e.hAlign,["left","center","justify","justifyAll","radix","right"]),n.id=e.id||"",n.locale=e.locale||"",n.maxH=(0,c.getMeasurement)(e.maxH,"0pt"),n.maxW=(0,c.getMeasurement)(e.maxW,"0pt"),n.minH=(0,c.getMeasurement)(e.minH,"0pt"),n.minW=(0,c.getMeasurement)(e.minW,"0pt"),n.name=e.name||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.relevant=(0,c.getRelevant)(e.relevant),n.rotate=(0,c.getInteger)({data:e.rotate,defaultValue:0,validate:function(e){return e%90==0}}),n.use=e.use||"",n.usehref=e.usehref||"",n.w=e.w?(0,c.getMeasurement)(e.w):"",n.x=(0,c.getMeasurement)(e.x,"0pt"),n.y=(0,c.getMeasurement)(e.y,"0pt"),n.assist=null,n.border=null,n.caption=null,n.desc=null,n.extras=null,n.font=null,n.keep=null,n.margin=null,n.para=null,n.traversal=null,n.ui=null,n.value=null,n.setProperty=new a.XFAObjectArray,n}return m(r,[{key:a.$setValue,value:function(e){A(this,e)}},{key:a.$toHTML,value:function(e){if("hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return c.HTMLResult.EMPTY;if((0,o.fixDimensions)(this),""!==this.w&&""===this.h&&this.value){var t=this.value[a.$text]();if(t){var r=(0,o.layoutText)(t,this.font.size,{width:this.w,height:1/0}).height;this.h=r||""}}switch(C(this,e)){case 0:return c.HTMLResult.EMPTY;case 1:return c.HTMLResult.FAILURE}var n=(0,o.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","borderMarginPadding"),i=["xfaDraw"];this.font&&i.push("xfaFont");var s={style:n,id:this[a.$uid],class:i.join(" ")};this.name&&(s.xfaName=this.name);var u={name:"div",attributes:s,children:[]},l=(0,o.addExtraDivForBorder)(u),f=(0,o.computeBbox)(this,u,e),d=this.value?this.value[a.$toHTML](e).html:null;if(null===d)return c.HTMLResult.success(l,f);if(u.children.push(d),"xfaRich"===d.attributes.class&&(""===this.h&&(n.height="auto"),""===this.w&&(n.width="auto"),this.para)){switch(s.style.display="flex",s.style.flexDirection="column",this.para.vAlign){case"top":s.style.justifyContent="start";break;case"bottom":s.style.justifyContent="end";break;case"middle":s.style.justifyContent="center"}var p=this.para[a.$toStyle]();if(d.attributes.style)for(var g=0,m=Object.entries(p);g<m.length;g++){var v=h(m[g],2),y=v[0],b=v[1];y in d.attributes.style||(d.attributes.style[y]=b)}else d.attributes.style=p}return c.HTMLResult.success(l,f)}}]),r}(a.XFAObject),se=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"edge",!0)).cap=(0,c.getStringOption)(e.cap,["square","butt","round"]),n.id=e.id||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.stroke=(0,c.getStringOption)(e.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),n.thickness=Math.max(1,Math.round((0,c.getMeasurement)(e.thickness,"0.5pt"))),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(){var e=(0,o.toStyle)(this,"visibility");if(Object.assign(e,{linecap:this.cap,width:(0,o.measureToString)(Math.max(1,Math.round(this.thickness))),color:this.color?this.color[a.$toStyle]():"#000000",style:""}),"visible"!==this.presence)e.style="none";else switch(this.stroke){case"solid":e.style="solid";break;case"dashDot":case"dashDotDot":case"dashed":e.style="dashed";break;case"dotted":e.style="dotted";break;case"embossed":e.style="ridge";break;case"etched":e.style="groove";break;case"lowered":e.style="inset";break;case"raised":e.style="outset"}return e}}]),r}(a.XFAObject),ce=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"])).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.OptionObject),ue=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encodings",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.encoding=new a.XFAObjectArray,n}return r}(a.XFAObject),le=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encrypt",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.certificate=null,n}return r}(a.XFAObject),fe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encryptData",!0)).id=e.id||"",n.operation=(0,c.getStringOption)(e.operation,["encrypt","decrypt"]),n.target=e.target||"",n.use=e.use||"",n.usehref=e.usehref||"",n.filter=null,n.manifest=null,n}return r}(a.XFAObject),he=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encryption",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.certificate=new a.XFAObjectArray,n}return r}(a.XFAObject),de=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"])).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.OptionObject),pe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encryptionMethods",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.encryptionMethod=new a.XFAObjectArray,n}return r}(a.XFAObject),ge=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"event",!0)).activity=(0,c.getStringOption)(e.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),n.id=e.id||"",n.listen=(0,c.getStringOption)(e.listen,["refOnly","refAndDescendents"]),n.name=e.name||"",n.ref=e.ref||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.encryptData=null,n.execute=null,n.script=null,n.signData=null,n.submit=null,n}return r}(a.XFAObject),me=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"exData")).contentType=e.contentType||"",n.href=e.href||"",n.id=e.id||"",n.maxLength=(0,c.getInteger)({data:e.maxLength,defaultValue:-1,validate:function(e){return e>=-1}}),n.name=e.name||"",n.rid=e.rid||"",n.transferEncoding=(0,c.getStringOption)(e.transferEncoding,["none","base64","package"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$onChild,value:function(e){return("text/html"===this.contentType&&e[a.$namespaceId]===i.NamespaceIds.xhtml.id||"text/xml"===this.contentType)&&(this[a.$content]=e,!0)}},{key:a.$toHTML,value:function(e){return"text/html"===this.contentType&&this[a.$content]?this[a.$content][a.$toHTML](e):c.HTMLResult.EMPTY}}]),r}(a.ContentObject),ve=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"exObject",!0)).archive=e.archive||"",n.classId=e.classId||"",n.codeBase=e.codeBase||"",n.codeType=e.codeType||"",n.id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.boolean=new a.XFAObjectArray,n.date=new a.XFAObjectArray,n.dateTime=new a.XFAObjectArray,n.decimal=new a.XFAObjectArray,n.exData=new a.XFAObjectArray,n.exObject=new a.XFAObjectArray,n.float=new a.XFAObjectArray,n.image=new a.XFAObjectArray,n.integer=new a.XFAObjectArray,n.text=new a.XFAObjectArray,n.time=new a.XFAObjectArray,n}return r}(a.XFAObject),ye=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"exclGroup",!0)).access=(0,c.getStringOption)(e.access,["open","nonInteractive","protected","readOnly"]),n.accessKey=e.accessKey||"",n.anchorType=(0,c.getStringOption)(e.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),n.colSpan=(0,c.getInteger)({data:e.colSpan,defaultValue:1,validate:function(e){return e>=1||-1===e}}),n.h=e.h?(0,c.getMeasurement)(e.h):"",n.hAlign=(0,c.getStringOption)(e.hAlign,["left","center","justify","justifyAll","radix","right"]),n.id=e.id||"",n.layout=(0,c.getStringOption)(e.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),n.maxH=(0,c.getMeasurement)(e.maxH,"0pt"),n.maxW=(0,c.getMeasurement)(e.maxW,"0pt"),n.minH=(0,c.getMeasurement)(e.minH,"0pt"),n.minW=(0,c.getMeasurement)(e.minW,"0pt"),n.name=e.name||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.w=e.w?(0,c.getMeasurement)(e.w):"",n.x=(0,c.getMeasurement)(e.x,"0pt"),n.y=(0,c.getMeasurement)(e.y,"0pt"),n.assist=null,n.bind=null,n.border=null,n.calculate=null,n.caption=null,n.desc=null,n.extras=null,n.margin=null,n.para=null,n.traversal=null,n.validate=null,n.connect=new a.XFAObjectArray,n.event=new a.XFAObjectArray,n.field=new a.XFAObjectArray,n.setProperty=new a.XFAObjectArray,n}return m(r,[{key:a.$hasSettableValue,value:function(){return!0}},{key:a.$setValue,value:function(e){var t,r=f(this.field.children);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!n.value){var i=new _t({});n[a.$appendChild](i),n.value=i}var o=new M({});o[a.$content]=0;var s,c=f(n.items.children);try{for(c.s();!(s=c.n()).done;)if(s.value[a.$hasItem](e)){o[a.$content]=1;break}}catch(e){c.e(e)}finally{c.f()}n.value[a.$setValue](o)}}catch(e){r.e(e)}finally{r.f()}}},{key:a.$flushHTML,value:function(){return(0,s.flushHTML)(this)}},{key:a.$addHTML,value:function(e,t){(0,s.addHTML)(this,e,t)}},{key:a.$getAvailableSpace,value:function(){return(0,s.getAvailableSpace)(this)}},{key:a.$toHTML,value:function(e){if("hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return c.HTMLResult.EMPTY;(0,o.fixDimensions)(this);var t=[],r={id:this[a.$uid]};switch(this[a.$extra]||(this[a.$extra]=Object.create(null)),Object.assign(this[a.$extra],{children:t,attributes:r,attempt:0,availableSpace:e,width:0,height:0,prevHeight:0,currentWidth:0}),C(this,e)){case 0:return c.HTMLResult.EMPTY;case 1:return c.HTMLResult.FAILURE}e={width:""===this.w?e.width:this.w,height:""===this.h?e.height:this.h};var n=new Set(["field"]);if("row"===this.layout){var i=this[a.$getParent]().columnWidths;Array.isArray(i)&&i.length>0&&(this[a.$extra].columnWidths=i,this[a.$extra].currentColumn=0)}var s,u=(0,o.toStyle)(this,"anchorType","dimensions","position","presence","borderMarginPadding","hAlign"),l=["xfaExclgroup"],f=(0,o.layoutClass)(this);if(f&&l.push(f),r.style=u,r.class=l.join(" "),this.name&&(r.xfaName=this.name),"lr-tb"===this.layout||"rl-tb"===this.layout){for(;this[a.$extra].attempt<2&&!this[a.$childrenToHTML]({filter:n,include:!0});this[a.$extra].attempt++);s=2===this[a.$extra].attempt}else s=!this[a.$childrenToHTML]({filter:n,include:!0});if(s)return c.HTMLResult.FAILURE;var h=0,d=0;this.margin&&(h=this.margin.leftInset+this.margin.rightInset,d=this.margin.topInset+this.margin.bottomInset),""===this.w&&(u.width=(0,o.measureToString)(this[a.$extra].width+h)),""===this.h&&(u.height=(0,o.measureToString)(this[a.$extra].height+d));var p,g={name:"div",attributes:r,children:t};if(g=(0,o.addExtraDivForBorder)(g),""!==this.w&&""!==this.h)p=[this.x,this.y,this.w,this.h];else{var m=""===this.w?h+this[a.$extra].width:this.w,v=""===this.h?d+this[a.$extra].height:this.h;p=[this.x,this.y,m,v]}return delete this[a.$extra],c.HTMLResult.success(g,p)}}]),r}(a.XFAObject),be=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"execute")).connection=e.connection||"",n.executeType=(0,c.getStringOption)(e.executeType,["import","remerge"]),n.id=e.id||"",n.runAt=(0,c.getStringOption)(e.runAt,["client","both","server"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),we=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"extras",!0)).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n.boolean=new a.XFAObjectArray,n.date=new a.XFAObjectArray,n.dateTime=new a.XFAObjectArray,n.decimal=new a.XFAObjectArray,n.exData=new a.XFAObjectArray,n.extras=new a.XFAObjectArray,n.float=new a.XFAObjectArray,n.image=new a.XFAObjectArray,n.integer=new a.XFAObjectArray,n.text=new a.XFAObjectArray,n.time=new a.XFAObjectArray,n}return r}(a.XFAObject),ke=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"field",!0)).access=(0,c.getStringOption)(e.access,["open","nonInteractive","protected","readOnly"]),n.accessKey=e.accessKey||"",n.anchorType=(0,c.getStringOption)(e.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),n.colSpan=(0,c.getInteger)({data:e.colSpan,defaultValue:1,validate:function(e){return e>=1||-1===e}}),n.h=e.h?(0,c.getMeasurement)(e.h):"",n.hAlign=(0,c.getStringOption)(e.hAlign,["left","center","justify","justifyAll","radix","right"]),n.id=e.id||"",n.locale=e.locale||"",n.maxH=(0,c.getMeasurement)(e.maxH,"0pt"),n.maxW=(0,c.getMeasurement)(e.maxW,"0pt"),n.minH=(0,c.getMeasurement)(e.minH,"0pt"),n.minW=(0,c.getMeasurement)(e.minW,"0pt"),n.name=e.name||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.relevant=(0,c.getRelevant)(e.relevant),n.rotate=(0,c.getInteger)({data:e.rotate,defaultValue:0,validate:function(e){return e%90==0}}),n.use=e.use||"",n.usehref=e.usehref||"",n.w=e.w?(0,c.getMeasurement)(e.w):"",n.x=(0,c.getMeasurement)(e.x,"0pt"),n.y=(0,c.getMeasurement)(e.y,"0pt"),n.assist=null,n.bind=null,n.border=null,n.calculate=null,n.caption=null,n.desc=null,n.extras=null,n.font=null,n.format=null,n.items=new a.XFAObjectArray(2),n.keep=null,n.margin=null,n.para=null,n.traversal=null,n.ui=null,n.validate=null,n.value=null,n.bindItems=new a.XFAObjectArray,n.connect=new a.XFAObjectArray,n.event=new a.XFAObjectArray,n.setProperty=new a.XFAObjectArray,n}return m(r,[{key:a.$setValue,value:function(e){A(this,e)}},{key:a.$toHTML,value:function(e){if(!this.ui||"hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return c.HTMLResult.EMPTY;switch((0,o.fixDimensions)(this),C(this,e)){case 0:return c.HTMLResult.EMPTY;case 1:return c.HTMLResult.FAILURE}var t=(0,o.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","borderMarginPadding","hAlign"),r=["xfaField"];this.font&&r.push("xfaFont");var n={style:t,id:this[a.$uid],class:r.join(" ")};this.name&&(n.xfaName=this.name);var i=[],s={name:"div",attributes:n,children:i},u=(0,o.computeBbox)(this,s,e);s=(0,o.addExtraDivForBorder)(s);var l=this.ui?this.ui[a.$toHTML]().html:null;if(!l)return c.HTMLResult.success(s,u);if(l.attributes.style||(l.attributes.style=Object.create(null)),i.push(l),this.value)if(this.ui.imageEdit)l.children.push(this.value[a.$toHTML]().html);else if("button"!==l.name){var f=this.value[a.$toHTML]().html;f&&("textarea"===l.children[0].name?l.children[0].attributes.textContent=f.value:l.children[0].attributes.value=f.value)}var h=this.caption?this.caption[a.$toHTML]().html:null;if(!h)return c.HTMLResult.success(s,u);if("button"===l.name)return l.attributes.style.background=t.background,delete t.background,"div"===h.name&&(h.name="span"),l.children.push(h),c.HTMLResult.success(s,u);switch(l.children.splice(0,0,h),this.caption.placement){case"left":l.attributes.style.flexDirection="row";break;case"right":l.attributes.style.flexDirection="row-reverse";break;case"top":l.attributes.style.alignItems="start",l.attributes.style.flexDirection="column";break;case"bottom":l.attributes.style.alignItems="start",l.attributes.style.flexDirection="column-reverse";break;case"inline":delete l.attributes.class,h.attributes.style.float="left"}return c.HTMLResult.success(s,u)}}]),r}(a.XFAObject);t.Field=ke;var Se=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"fill",!0)).id=e.id||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n.linear=null,n.pattern=null,n.radial=null,n.solid=null,n.stipple=null,n}return m(r,[{key:a.$toStyle,value:function(){var e="color";this[a.$getParent]()instanceof N&&(e="background");var t,r=Object.create(null),n=f(Object.getOwnPropertyNames(this));try{for(n.s();!(t=n.n()).done;){var i=t.value;if("extras"!==i&&"color"!==i){var o=this[i];if(o instanceof a.XFAObject)return r[e]=o[a.$toStyle](this.color),r}}}catch(e){n.e(e)}finally{n.f()}return this.color&&(r[e]=this.color[a.$toStyle]()),r}}]),r}(a.XFAObject),xe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"filter",!0)).addRevocationInfo=(0,c.getStringOption)(e.addRevocationInfo,["","required","optional","none"]),n.id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n.version=(0,c.getInteger)({data:n.version,defaultValue:5,validate:function(e){return e>=1&&e<=5}}),n.appearanceFilter=null,n.certificates=null,n.digestMethods=null,n.encodings=null,n.encryptionMethods=null,n.handler=null,n.lockDocument=null,n.mdp=null,n.reasons=null,n.timeStamp=null,n}return r}(a.XFAObject),Ae=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"float")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){var e=parseFloat(this[a.$content].trim());this[a.$content]=isNaN(e)?null:e}},{key:a.$toHTML,value:function(e){return c.HTMLResult.success(null!==this[a.$content]?this[a.$content].toString():"")}}]),r}(a.ContentObject),Oe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"font",!0)).baselineShift=(0,c.getMeasurement)(e.baselineShift),n.fontHorizontalScale=(0,c.getFloat)({data:e.fontHorizontalScale,defaultValue:100,validate:function(e){return e>=0}}),n.fontVerticalScale=(0,c.getFloat)({data:e.fontVerticalScale,defaultValue:100,validate:function(e){return e>=0}}),n.id=e.id||"",n.kerningMode=(0,c.getStringOption)(e.kerningMode,["none","pair"]),n.letterSpacing=(0,c.getMeasurement)(e.letterSpacing,"0"),n.lineThrough=(0,c.getInteger)({data:e.lineThrough,defaultValue:0,validate:function(e){return 1===e||2===e}}),n.lineThroughPeriod=(0,c.getStringOption)(e.lineThroughPeriod,["all","word"]),n.overline=(0,c.getInteger)({data:e.overline,defaultValue:0,validate:function(e){return 1===e||2===e}}),n.overlinePeriod=(0,c.getStringOption)(e.overlinePeriod,["all","word"]),n.posture=(0,c.getStringOption)(e.posture,["normal","italic"]),n.size=(0,c.getMeasurement)(e.size,"10pt"),n.typeface=e.typeface||"",n.underline=(0,c.getInteger)({data:e.underline,defaultValue:0,validate:function(e){return 1===e||2===e}}),n.underlinePeriod=(0,c.getStringOption)(e.underlinePeriod,["all","word"]),n.use=e.use||"",n.usehref=e.usehref||"",n.weight=(0,c.getStringOption)(e.weight,["normal","bold"]),n.extras=null,n.fill=null,n}return m(r,[{key:a.$toStyle,value:function(){var e=(0,o.toStyle)(this,"fill"),t=e.color;t&&("#000000"===t?delete e.color:t.startsWith("#")||(e.background=t,e.backgroundClip="text",e.color="transparent")),this.baselineShift&&(e.verticalAlign=(0,o.measureToString)(this.baselineShift)),"none"!==this.kerningMode&&(e.fontKerning="normal"),this.letterSpacing&&(e.letterSpacing=(0,o.measureToString)(this.letterSpacing)),0!==this.lineThrough&&(e.textDecoration="line-through",2===this.lineThrough&&(e.textDecorationStyle="double")),0!==this.overline&&(e.textDecoration="overline",2===this.overline&&(e.textDecorationStyle="double")),"normal"!==this.posture&&(e.fontStyle=this.posture);var r=(0,o.measureToString)(.99*this.size);return"10px"!==r&&(e.fontSize=r),e.fontFamily=(0,o.getFonts)(this.typeface),0!==this.underline&&(e.textDecoration="underline",2===this.underline&&(e.textDecorationStyle="double")),"normal"!==this.weight&&(e.fontWeight=this.weight),e}}]),r}(a.XFAObject),Ce=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"format",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.picture=null,n}return r}(a.XFAObject),Te=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"handler")).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),Fe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"hyphenation")).excludeAllCaps=(0,c.getInteger)({data:e.excludeAllCaps,defaultValue:0,validate:function(e){return 1===e}}),n.excludeInitialCap=(0,c.getInteger)({data:e.excludeInitialCap,defaultValue:0,validate:function(e){return 1===e}}),n.hyphenate=(0,c.getInteger)({data:e.hyphenate,defaultValue:0,validate:function(e){return 1===e}}),n.id=e.id||"",n.pushCharacterCount=(0,c.getInteger)({data:e.pushCharacterCount,defaultValue:3,validate:function(e){return e>=0}}),n.remainCharacterCount=(0,c.getInteger)({data:e.remainCharacterCount,defaultValue:3,validate:function(e){return e>=0}}),n.use=e.use||"",n.usehref=e.usehref||"",n.wordCharacterCount=(0,c.getInteger)({data:e.wordCharacterCount,defaultValue:7,validate:function(e){return e>=0}}),n}return r}(a.XFAObject),Pe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"image")).aspect=(0,c.getStringOption)(e.aspect,["fit","actual","height","none","width"]),n.contentType=e.contentType||"",n.href=e.href||"",n.id=e.id||"",n.name=e.name||"",n.transferEncoding=(0,c.getStringOption)(e.transferEncoding,["base64","none","package"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$toHTML,value:function(){if(this.href||!this[a.$content])return c.HTMLResult.EMPTY;if("base64"===this.transferEncoding){var e=(0,u.stringToBytes)(atob(this[a.$content])),t=new Blob([e],{type:this.contentType});return c.HTMLResult.success({name:"img",attributes:{class:"xfaImage",style:{},src:URL.createObjectURL(t)}})}return c.HTMLResult.EMPTY}}]),r}(a.StringObject),_e=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"imageEdit",!0)).data=(0,c.getStringOption)(e.data,["link","embed"]),n.id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.extras=null,n.margin=null,n}return m(r,[{key:a.$toHTML,value:function(e){return"embed"===this.data?c.HTMLResult.success({name:"div",children:[],attributes:{}}):c.HTMLResult.EMPTY}}]),r}(a.XFAObject),Ie=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"integer")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){var e=parseInt(this[a.$content].trim(),10);this[a.$content]=isNaN(e)?null:e}},{key:a.$toHTML,value:function(e){return c.HTMLResult.success(null!==this[a.$content]?this[a.$content].toString():"")}}]),r}(a.ContentObject),Ee=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"issuers",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.certificate=new a.XFAObjectArray,n}return r}(a.XFAObject),je=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"items",!0)).id=e.id||"",n.name=e.name||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.ref=e.ref||"",n.save=(0,c.getInteger)({data:e.save,defaultValue:0,validate:function(e){return 1===e}}),n.use=e.use||"",n.usehref=e.usehref||"",n.boolean=new a.XFAObjectArray,n.date=new a.XFAObjectArray,n.dateTime=new a.XFAObjectArray,n.decimal=new a.XFAObjectArray,n.exData=new a.XFAObjectArray,n.float=new a.XFAObjectArray,n.image=new a.XFAObjectArray,n.integer=new a.XFAObjectArray,n.text=new a.XFAObjectArray,n.time=new a.XFAObjectArray,n}return m(r,[{key:a.$hasItem,value:function(e){return this.hasOwnProperty(e[a.$nodeName])&&this[e[a.$nodeName]].children.some((function(t){return t[a.$content]===e[a.$content]}))}},{key:a.$toHTML,value:function(){var e,t=[],r=f(this[a.$getChildren]());try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n[a.$text]())}}catch(e){r.e(e)}finally{r.f()}return c.HTMLResult.success(t)}}]),r}(a.XFAObject);t.Items=je;var Re=function(e){y(r,e);var t=w(r);function r(e){var n;v(this,r),(n=t.call(this,x,"keep",!0)).id=e.id||"";var a=["none","contentArea","pageArea"];return n.intact=(0,c.getStringOption)(e.intact,a),n.next=(0,c.getStringOption)(e.next,a),n.previous=(0,c.getStringOption)(e.previous,a),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return r}(a.XFAObject),Me=function(e){y(r,e);var t=w(r);function r(e){var n;v(this,r);var a=["","yes","no"];return(n=t.call(this,x,"keyUsage")).crlSign=(0,c.getStringOption)(e.crlSign,a),n.dataEncipherment=(0,c.getStringOption)(e.dataEncipherment,a),n.decipherOnly=(0,c.getStringOption)(e.decipherOnly,a),n.digitalSignature=(0,c.getStringOption)(e.digitalSignature,a),n.encipherOnly=(0,c.getStringOption)(e.encipherOnly,a),n.id=e.id||"",n.keyAgreement=(0,c.getStringOption)(e.keyAgreement,a),n.keyCertSign=(0,c.getStringOption)(e.keyCertSign,a),n.keyEncipherment=(0,c.getStringOption)(e.keyEncipherment,a),n.nonRepudiation=(0,c.getStringOption)(e.nonRepudiation,a),n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),Ne=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"line",!0)).hand=(0,c.getStringOption)(e.hand,["even","left","right"]),n.id=e.id||"",n.slope=(0,c.getStringOption)(e.slope,["\\\\","/"]),n.use=e.use||"",n.usehref=e.usehref||"",n.edge=null,n}return r}(a.XFAObject),Be=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"linear",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["toRight","toBottom","toLeft","toTop"]),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(e){e=e?e[a.$toStyle]():"#FFFFFF";var t=this.type.replace(/([RBLT])/," $1").toLowerCase(),r=this.color?this.color[a.$toStyle]():"#000000";return"linear-gradient(".concat(t,", ").concat(e,", ").concat(r,")")}}]),r}(a.XFAObject),De=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"lockDocument")).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){this[a.$content]=(0,c.getStringOption)(this[a.$content],["auto","0","1"])}}]),r}(a.ContentObject),Le=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"manifest",!0)).action=(0,c.getStringOption)(e.action,["include","all","exclude"]),n.id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.ref=new a.XFAObjectArray,n}return r}(a.XFAObject),Ue=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"margin",!0)).bottomInset=(0,c.getMeasurement)(e.bottomInset,"0"),n.id=e.id||"",n.leftInset=(0,c.getMeasurement)(e.leftInset,"0"),n.rightInset=(0,c.getMeasurement)(e.rightInset,"0"),n.topInset=(0,c.getMeasurement)(e.topInset,"0"),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(){return{margin:(0,o.measureToString)(this.topInset)+" "+(0,o.measureToString)(this.rightInset)+" "+(0,o.measureToString)(this.bottomInset)+" "+(0,o.measureToString)(this.leftInset)}}}]),r}(a.XFAObject),qe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"mdp")).id=e.id||"",n.permissions=(0,c.getInteger)({data:e.permissions,defaultValue:2,validate:function(e){return 1===e||3===e}}),n.signatureType=(0,c.getStringOption)(e.signatureType,["filler","author"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),Xe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"medium")).id=e.id||"",n.imagingBBox=(0,c.getBBox)(e.imagingBBox),n.long=(0,c.getMeasurement)(e.long),n.orientation=(0,c.getStringOption)(e.orientation,["portrait","landscape"]),n.short=(0,c.getMeasurement)(e.short),n.stock=e.stock||"",n.trayIn=(0,c.getStringOption)(e.trayIn,["auto","delegate","pageFront"]),n.trayOut=(0,c.getStringOption)(e.trayOut,["auto","delegate"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),He=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"message",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.text=new a.XFAObjectArray,n}return r}(a.XFAObject),$e=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"numericEdit",!0)).hScrollPolicy=(0,c.getStringOption)(e.hScrollPolicy,["auto","off","on"]),n.id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.comb=null,n.extras=null,n.margin=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t=(0,o.toStyle)(this,"border","font","margin"),r={name:"input",attributes:{type:"text",fieldId:this[a.$getParent]()[a.$getParent]()[a.$uid],class:"xfaTextfield",style:t}};return c.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[r]})}}]),r}(a.XFAObject),ze=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"occur",!0)).id=e.id||"",n.initial=(0,c.getInteger)({data:e.initial,defaultValue:1,validate:function(e){return!0}}),n.max=(0,c.getInteger)({data:e.max,defaultValue:1,validate:function(e){return!0}}),n.min=(0,c.getInteger)({data:e.min,defaultValue:1,validate:function(e){return!0}}),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return r}(a.XFAObject),Ge=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"oid")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),We=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"oids",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.oid=new a.XFAObjectArray,n}return r}(a.XFAObject),Ve=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"overflow")).id=e.id||"",n.leader=e.leader||"",n.target=e.target||"",n.trailer=e.trailer||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),Ke=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"pageArea",!0)).blankOrNotBlank=(0,c.getStringOption)(e.blankOrNotBlank,["any","blank","notBlank"]),n.id=e.id||"",n.initialNumber=(0,c.getInteger)({data:e.initialNumber,defaultValue:1,validate:function(e){return!0}}),n.name=e.name||"",n.numbered=(0,c.getInteger)({data:e.numbered,defaultValue:1,validate:function(e){return!0}}),n.oddOrEven=(0,c.getStringOption)(e.oddOrEven,["any","even","odd"]),n.pagePosition=(0,c.getStringOption)(e.pagePosition,["any","first","last","only","rest"]),n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.desc=null,n.extras=null,n.medium=null,n.occur=null,n.area=new a.XFAObjectArray,n.contentArea=new a.XFAObjectArray,n.draw=new a.XFAObjectArray,n.exclGroup=new a.XFAObjectArray,n.field=new a.XFAObjectArray,n.subform=new a.XFAObjectArray,n}return m(r,[{key:a.$getNextPage,value:function(){this[a.$extra]||(this[a.$extra]={numberOfUse:1});var e=this[a.$getParent]();return"orderedOccurrence"===e.relation&&this.occur&&(-1===this.occur.max||this[a.$extra].numberOfUse<this.occur.max)?(this[a.$extra].numberOfUse+=1,this):(delete this[a.$extra],e[a.$getNextPage]())}},{key:a.$getAvailableSpace,value:function(){return{width:1/0,height:1/0}}},{key:a.$toHTML,value:function(){this[a.$extra]||(this[a.$extra]={numberOfUse:1});var e=[];this[a.$extra].children=e;var t=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(t.width=(0,o.measureToString)(this.medium.short),t.height=(0,o.measureToString)(this.medium.long),"landscape"===this.medium.orientation){var r=t.width;t.width=t.height,t.height=r}}else(0,u.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[a.$childrenToHTML]({filter:new Set(["area","draw","field","subform","contentArea"]),include:!0}),c.HTMLResult.success({name:"div",children:e,attributes:{id:this[a.$uid],style:t}})}}]),r}(a.XFAObject),Ye=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"pageSet",!0)).duplexImposition=(0,c.getStringOption)(e.duplexImposition,["longEdge","shortEdge"]),n.id=e.id||"",n.name=e.name||"",n.relation=(0,c.getStringOption)(e.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.occur=null,n.pageArea=new a.XFAObjectArray,n.pageSet=new a.XFAObjectArray,n}return m(r,[{key:a.$getNextPage,value:function(){if(this[a.$extra]||(this[a.$extra]={numberOfUse:1,currentIndex:-1}),"orderedOccurrence"===this.relation){if(this[a.$extra].currentIndex+1<this.pageArea.children.length)return this[a.$extra].currentIndex+=1,this.pageArea.children[this[a.$extra].currentIndex];if(this[a.$extra].currentIndex+1<this.pageSet.children.length)return this[a.$extra].currentIndex+=1,this.pageSet.children[this[a.$extra].currentIndex];if(this.occur&&(-1===this.occur.max||this[a.$extra].numberOfUse<this.occur.max))return this[a.$extra].numberOfUse+=1,this[a.$extra].currentIndex=0,this.pageArea.children.length>0?this.pageArea.children[0]:this.pageSet.children[0][a.$getNextPage]();delete this[a.$extra];var e=this[a.$getParent]();return e instanceof r?e[a.$getNextPage]():this[a.$getNextPage]()}var t=O(this)[a.$extra].pageNumber,n=t%2==0?"even":"odd",i=0===t?"first":"rest",o=this.pageArea.children.find((function(e){return e.oddOrEven===n&&e.pagePosition===i}));return o||((o=this.pageArea.children.find((function(e){return"any"===e.oddOrEven&&e.pagePosition===i})))?o:(o=this.pageArea.children.find((function(e){return"any"===e.oddOrEven&&"any"===e.pagePosition})))||this.pageArea.children[0])}}]),r}(a.XFAObject),Je=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"para",!0)).hAlign=(0,c.getStringOption)(e.hAlign,["left","center","justify","justifyAll","radix","right"]),n.id=e.id||"",n.lineHeight=e.lineHeight?(0,c.getMeasurement)(e.lineHeight,"0pt"):"",n.marginLeft=e.marginLeft?(0,c.getMeasurement)(e.marginLeft,"0pt"):"",n.marginRight=e.marginRight?(0,c.getMeasurement)(e.marginRight,"0pt"):"",n.orphans=(0,c.getInteger)({data:e.orphans,defaultValue:0,validate:function(e){return e>=0}}),n.preserve=e.preserve||"",n.radixOffset=e.radixOffset?(0,c.getMeasurement)(e.radixOffset,"0pt"):"",n.spaceAbove=e.spaceAbove?(0,c.getMeasurement)(e.spaceAbove,"0pt"):"",n.spaceBelow=e.spaceBelow?(0,c.getMeasurement)(e.spaceBelow,"0pt"):"",n.tabDefault=e.tabDefault?(0,c.getMeasurement)(n.tabDefault):"",n.tabStops=(e.tabStops||"").trim().split(/\\s+/).map((function(e,t){return t%2==1?(0,c.getMeasurement)(e):e})),n.textIndent=e.textIndent?(0,c.getMeasurement)(e.textIndent,"0pt"):"",n.use=e.use||"",n.usehref=e.usehref||"",n.vAlign=(0,c.getStringOption)(e.vAlign,["top","bottom","middle"]),n.widows=(0,c.getInteger)({data:e.widows,defaultValue:0,validate:function(e){return e>=0}}),n.hyphenation=null,n}return m(r,[{key:a.$toStyle,value:function(){var e=(0,o.toStyle)(this,"hAlign");return""!==this.marginLeft&&(e.marginLeft=(0,o.measureToString)(this.marginLeft)),""!==this.marginRight&&(e.marginRight=(0,o.measureToString)(this.marginRight)),""!==this.spaceAbove&&(e.marginTop=(0,o.measureToString)(this.spaceAbove)),""!==this.spaceBelow&&(e.marginBottom=(0,o.measureToString)(this.spaceBelow)),""!==this.textIndent&&(e.textIndent=(0,o.measureToString)(this.textIndent),(0,o.fixTextIndent)(e)),this.lineHeight>0&&(e.lineHeight=(0,o.measureToString)(this.lineHeight)),""!==this.tabDefault&&(e.tabSize=(0,o.measureToString)(this.tabDefault)),this.tabStops.length,this.hyphenatation&&Object.assign(e,this.hyphenatation[a.$toStyle]()),e}}]),r}(a.XFAObject),Ze=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"passwordEdit",!0)).hScrollPolicy=(0,c.getStringOption)(e.hScrollPolicy,["auto","off","on"]),n.id=e.id||"",n.passwordChar=e.passwordChar||"*",n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.extras=null,n.margin=null,n}return r}(a.XFAObject),Qe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"pattern",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(e){e=e?e[a.$toStyle]():"#FFFFFF";var t=this.color?this.color[a.$toStyle]():"#000000",r="repeating-linear-gradient",n="".concat(e,",").concat(e," ").concat(5,"px,").concat(t," ").concat(5,"px,").concat(t," ").concat(10,"px");switch(this.type){case"crossHatch":return"".concat(r,"(to top,").concat(n,") ").concat(r,"(to right,").concat(n,")");case"crossDiagonal":return"".concat(r,"(45deg,").concat(n,") ").concat(r,"(-45deg,").concat(n,")");case"diagonalLeft":return"".concat(r,"(45deg,").concat(n,")");case"diagonalRight":return"".concat(r,"(-45deg,").concat(n,")");case"horizontal":return"".concat(r,"(to top,").concat(n,")");case"vertical":return"".concat(r,"(to right,").concat(n,")")}return""}}]),r}(a.XFAObject),et=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"picture")).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),tt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"proto",!0)).appearanceFilter=new a.XFAObjectArray,n.arc=new a.XFAObjectArray,n.area=new a.XFAObjectArray,n.assist=new a.XFAObjectArray,n.barcode=new a.XFAObjectArray,n.bindItems=new a.XFAObjectArray,n.bookend=new a.XFAObjectArray,n.boolean=new a.XFAObjectArray,n.border=new a.XFAObjectArray,n.break=new a.XFAObjectArray,n.breakAfter=new a.XFAObjectArray,n.breakBefore=new a.XFAObjectArray,n.button=new a.XFAObjectArray,n.calculate=new a.XFAObjectArray,n.caption=new a.XFAObjectArray,n.certificate=new a.XFAObjectArray,n.certificates=new a.XFAObjectArray,n.checkButton=new a.XFAObjectArray,n.choiceList=new a.XFAObjectArray,n.color=new a.XFAObjectArray,n.comb=new a.XFAObjectArray,n.connect=new a.XFAObjectArray,n.contentArea=new a.XFAObjectArray,n.corner=new a.XFAObjectArray,n.date=new a.XFAObjectArray,n.dateTime=new a.XFAObjectArray,n.dateTimeEdit=new a.XFAObjectArray,n.decimal=new a.XFAObjectArray,n.defaultUi=new a.XFAObjectArray,n.desc=new a.XFAObjectArray,n.digestMethod=new a.XFAObjectArray,n.digestMethods=new a.XFAObjectArray,n.draw=new a.XFAObjectArray,n.edge=new a.XFAObjectArray,n.encoding=new a.XFAObjectArray,n.encodings=new a.XFAObjectArray,n.encrypt=new a.XFAObjectArray,n.encryptData=new a.XFAObjectArray,n.encryption=new a.XFAObjectArray,n.encryptionMethod=new a.XFAObjectArray,n.encryptionMethods=new a.XFAObjectArray,n.event=new a.XFAObjectArray,n.exData=new a.XFAObjectArray,n.exObject=new a.XFAObjectArray,n.exclGroup=new a.XFAObjectArray,n.execute=new a.XFAObjectArray,n.extras=new a.XFAObjectArray,n.field=new a.XFAObjectArray,n.fill=new a.XFAObjectArray,n.filter=new a.XFAObjectArray,n.float=new a.XFAObjectArray,n.font=new a.XFAObjectArray,n.format=new a.XFAObjectArray,n.handler=new a.XFAObjectArray,n.hyphenation=new a.XFAObjectArray,n.image=new a.XFAObjectArray,n.imageEdit=new a.XFAObjectArray,n.integer=new a.XFAObjectArray,n.issuers=new a.XFAObjectArray,n.items=new a.XFAObjectArray,n.keep=new a.XFAObjectArray,n.keyUsage=new a.XFAObjectArray,n.line=new a.XFAObjectArray,n.linear=new a.XFAObjectArray,n.lockDocument=new a.XFAObjectArray,n.manifest=new a.XFAObjectArray,n.margin=new a.XFAObjectArray,n.mdp=new a.XFAObjectArray,n.medium=new a.XFAObjectArray,n.message=new a.XFAObjectArray,n.numericEdit=new a.XFAObjectArray,n.occur=new a.XFAObjectArray,n.oid=new a.XFAObjectArray,n.oids=new a.XFAObjectArray,n.overflow=new a.XFAObjectArray,n.pageArea=new a.XFAObjectArray,n.pageSet=new a.XFAObjectArray,n.para=new a.XFAObjectArray,n.passwordEdit=new a.XFAObjectArray,n.pattern=new a.XFAObjectArray,n.picture=new a.XFAObjectArray,n.radial=new a.XFAObjectArray,n.reason=new a.XFAObjectArray,n.reasons=new a.XFAObjectArray,n.rectangle=new a.XFAObjectArray,n.ref=new a.XFAObjectArray,n.script=new a.XFAObjectArray,n.setProperty=new a.XFAObjectArray,n.signData=new a.XFAObjectArray,n.signature=new a.XFAObjectArray,n.signing=new a.XFAObjectArray,n.solid=new a.XFAObjectArray,n.speak=new a.XFAObjectArray,n.stipple=new a.XFAObjectArray,n.subform=new a.XFAObjectArray,n.subformSet=new a.XFAObjectArray,n.subjectDN=new a.XFAObjectArray,n.subjectDNs=new a.XFAObjectArray,n.submit=new a.XFAObjectArray,n.text=new a.XFAObjectArray,n.textEdit=new a.XFAObjectArray,n.time=new a.XFAObjectArray,n.timeStamp=new a.XFAObjectArray,n.toolTip=new a.XFAObjectArray,n.traversal=new a.XFAObjectArray,n.traverse=new a.XFAObjectArray,n.ui=new a.XFAObjectArray,n.validate=new a.XFAObjectArray,n.value=new a.XFAObjectArray,n.variables=new a.XFAObjectArray,n}return r}(a.XFAObject),rt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"radial",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["toEdge","toCenter"]),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(e){e=e?e[a.$toStyle]():"#FFFFFF";var t=this.color?this.color[a.$toStyle]():"#000000",r="toEdge"===this.type?"".concat(e,",").concat(t):"".concat(t,",").concat(e);return"radial-gradient(circle to center, ".concat(r,")")}}]),r}(a.XFAObject),nt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"reason")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),at=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"reasons",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.reason=new a.XFAObjectArray,n}return r}(a.XFAObject),it=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"rectangle",!0)).hand=(0,c.getStringOption)(e.hand,["even","left","right"]),n.id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.corner=new a.XFAObjectArray(4),n.edge=new a.XFAObjectArray(4),n.fill=null,n}return r}(a.XFAObject),ot=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"ref")).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),st=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"script")).binding=e.binding||"",n.contentType=e.contentType||"",n.id=e.id||"",n.name=e.name||"",n.runAt=(0,c.getStringOption)(e.runAt,["client","both","server"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),ct=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"setProperty")).connection=e.connection||"",n.ref=e.ref||"",n.target=e.target||"",n}return r}(a.XFAObject);t.SetProperty=ct;var ut=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"signData",!0)).id=e.id||"",n.operation=(0,c.getStringOption)(e.operation,["sign","clear","verify"]),n.ref=e.ref||"",n.target=e.target||"",n.use=e.use||"",n.usehref=e.usehref||"",n.filter=null,n.manifest=null,n}return r}(a.XFAObject),lt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"signature",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["PDF1.3","PDF1.6"]),n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.extras=null,n.filter=null,n.manifest=null,n.margin=null,n}return r}(a.XFAObject),ft=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"signing",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.certificate=new a.XFAObjectArray,n}return r}(a.XFAObject),ht=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"solid",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(e){return e?e[a.$toStyle]():"#FFFFFF"}}]),r}(a.XFAObject),dt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"speak")).disable=(0,c.getInteger)({data:e.disable,defaultValue:0,validate:function(e){return 1===e}}),n.id=e.id||"",n.priority=(0,c.getStringOption)(e.priority,["custom","caption","name","toolTip"]),n.rid=e.rid||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),pt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"stipple",!0)).id=e.id||"",n.rate=(0,c.getInteger)({data:e.rate,defaultValue:50,validate:function(e){return e>=0&&e<=100}}),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(e){var t=this.rate/100;return u.Util.makeHexColor(Math.round(e.value.r*(1-t)+this.value.r*t),Math.round(e.value.g*(1-t)+this.value.g*t),Math.round(e.value.b*(1-t)+this.value.b*t))}}]),r}(a.XFAObject),gt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"subform",!0)).access=(0,c.getStringOption)(e.access,["open","nonInteractive","protected","readOnly"]),n.allowMacro=(0,c.getInteger)({data:e.allowMacro,defaultValue:0,validate:function(e){return 1===e}}),n.anchorType=(0,c.getStringOption)(e.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),n.colSpan=(0,c.getInteger)({data:e.colSpan,defaultValue:1,validate:function(e){return e>=1||-1===e}}),n.columnWidths=(e.columnWidths||"").trim().split(/\\s+/).map((function(e){return"-1"===e?-1:(0,c.getMeasurement)(e)})),n.h=e.h?(0,c.getMeasurement)(e.h):"",n.hAlign=(0,c.getStringOption)(e.hAlign,["left","center","justify","justifyAll","radix","right"]),n.id=e.id||"",n.layout=(0,c.getStringOption)(e.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),n.locale=e.locale||"",n.maxH=(0,c.getMeasurement)(e.maxH,"0pt"),n.maxW=(0,c.getMeasurement)(e.maxW,"0pt"),n.mergeMode=(0,c.getStringOption)(e.mergeMode,["consumeData","matchTemplate"]),n.minH=(0,c.getMeasurement)(e.minH,"0pt"),n.minW=(0,c.getMeasurement)(e.minW,"0pt"),n.name=e.name||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.relevant=(0,c.getRelevant)(e.relevant),n.restoreState=(0,c.getStringOption)(e.restoreState,["manual","auto"]),n.scope=(0,c.getStringOption)(e.scope,["name","none"]),n.use=e.use||"",n.usehref=e.usehref||"",n.w=e.w?(0,c.getMeasurement)(e.w):"",n.x=(0,c.getMeasurement)(e.x,"0pt"),n.y=(0,c.getMeasurement)(e.y,"0pt"),n.assist=null,n.bind=null,n.bookend=null,n.border=null,n.break=null,n.calculate=null,n.desc=null,n.extras=null,n.keep=null,n.margin=null,n.occur=null,n.overflow=null,n.pageSet=null,n.para=null,n.traversal=null,n.validate=null,n.variables=null,n.area=new a.XFAObjectArray,n.breakAfter=new a.XFAObjectArray,n.breakBefore=new a.XFAObjectArray,n.connect=new a.XFAObjectArray,n.draw=new a.XFAObjectArray,n.event=new a.XFAObjectArray,n.exObject=new a.XFAObjectArray,n.exclGroup=new a.XFAObjectArray,n.field=new a.XFAObjectArray,n.proto=new a.XFAObjectArray,n.setProperty=new a.XFAObjectArray,n.subform=new a.XFAObjectArray,n.subformSet=new a.XFAObjectArray,n}return m(r,[{key:a.$flushHTML,value:function(){return(0,s.flushHTML)(this)}},{key:a.$addHTML,value:function(e,t){(0,s.addHTML)(this,e,t)}},{key:a.$getAvailableSpace,value:function(){return(0,s.getAvailableSpace)(this)}},{key:a.$toHTML,value:function(e){if("helpText"===this.name)return c.HTMLResult.EMPTY;if(this[a.$extra]&&this[a.$extra].afterBreakAfter){var t=this[a.$extra].afterBreakAfter;return delete this[a.$extra],t}if("hidden"===this.presence||"inactive"===this.presence)return c.HTMLResult.EMPTY;(this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,u.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),(0,o.fixDimensions)(this);var r=[],n={id:this[a.$uid]};if(this[a.$extra]||(this[a.$extra]=Object.create(null)),Object.assign(this[a.$extra],{children:r,attributes:n,attempt:0,availableSpace:e,width:0,height:0,prevHeight:0,currentWidth:0}),this.breakBefore.children.length>=1){var i=this.breakBefore.children[0];if(!i[a.$extra])return i[a.$extra]=!0,O(this)[a.$break](i),c.HTMLResult.FAILURE}switch(C(this,e)){case 0:return c.HTMLResult.EMPTY;case 1:return c.HTMLResult.FAILURE}var s=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){var l=this[a.$getParent]().columnWidths;Array.isArray(l)&&l.length>0&&(this[a.$extra].columnWidths=l,this[a.$extra].currentColumn=0)}var f,h=(0,o.toStyle)(this,"anchorType","dimensions","position","presence","borderMarginPadding","hAlign"),d=["xfaSubform"],p=(0,o.layoutClass)(this);if(p&&d.push(p),n.style=h,n.class=d.join(" "),this.name&&(n.xfaName=this.name),"lr-tb"===this.layout||"rl-tb"===this.layout){for(;this[a.$extra].attempt<2&&!this[a.$childrenToHTML]({filter:s,include:!0});this[a.$extra].attempt++);f=2===this[a.$extra].attempt}else f=!this[a.$childrenToHTML]({filter:s,include:!0});if(f)return c.HTMLResult.FAILURE;var g=0,m=0;this.margin&&(g=this.margin.leftInset+this.margin.rightInset,m=this.margin.topInset+this.margin.bottomInset),""===this.w&&(h.width=(0,o.measureToString)(this[a.$extra].width+g)),""===this.h&&(h.height=(0,o.measureToString)(this[a.$extra].height+m));var v,y={name:"div",attributes:n,children:r};if(y=(0,o.addExtraDivForBorder)(y),""!==this.w&&""!==this.h)v=[this.x,this.y,this.w,this.h];else{var b=""===this.w?g+this[a.$extra].width:this.w,w=""===this.h?m+this[a.$extra].height:this.h;v=[this.x,this.y,b,w]}if(this.breakAfter.children.length>=1){var k=this.breakAfter.children[0];return O(this)[a.$break](k),this[a.$extra].afterBreakAfter=c.HTMLResult.success(y,v),c.HTMLResult.FAILURE}return delete this[a.$extra],c.HTMLResult.success(y,v)}}]),r}(a.XFAObject),mt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"subformSet",!0)).id=e.id||"",n.name=e.name||"",n.relation=(0,c.getStringOption)(e.relation,["ordered","choice","unordered"]),n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.bookend=null,n.break=null,n.desc=null,n.extras=null,n.occur=null,n.overflow=null,n.breakAfter=new a.XFAObjectArray,n.breakBefore=new a.XFAObjectArray,n.subform=new a.XFAObjectArray,n.subformSet=new a.XFAObjectArray,n}return m(r,[{key:a.$toHTML,value:function(){var e=[];return this[a.$extra]||(this[a.$extra]=Object.create(null)),this[a.$extra].children=e,this[a.$childrenToHTML]({filter:new Set(["subform","subformSet"]),include:!0}),c.HTMLResult.success({name:"div",children:e,attributes:{id:this[a.$uid]}})}}]),r}(a.XFAObject),vt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"subjectDN")).delimiter=e.delimiter||",",n.id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){this[a.$content]=new Map(this[a.$content].split(this.delimiter).map((function(e){return(e=e.split("=",2))[0]=e[0].trim(),e})))}}]),r}(a.ContentObject),yt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"subjectDNs",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.subjectDN=new a.XFAObjectArray,n}return r}(a.XFAObject),bt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"submit",!0)).embedPDF=(0,c.getInteger)({data:e.embedPDF,defaultValue:0,validate:function(e){return 1===e}}),n.format=(0,c.getStringOption)(e.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),n.id=e.id||"",n.target=e.target||"",n.textEncoding=(0,c.getKeyword)({data:e.textEncoding?e.textEncoding.toLowerCase():"",defaultValue:"",validate:function(e){return["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(e)||e.match(/iso-8859-[0-9]{2}/)}}),n.use=e.use||"",n.usehref=e.usehref||"",n.xdpContent=e.xdpContent||"",n.encrypt=null,n.encryptData=new a.XFAObjectArray,n.signData=new a.XFAObjectArray,n}return r}(a.XFAObject),wt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"template",!0)).baseProfile=(0,c.getStringOption)(e.baseProfile,["full","interactiveForms"]),n.extras=null,n.subform=new a.XFAObjectArray,n}return m(r,[{key:a.$finalize,value:function(){0===this.subform.children.length&&(0,u.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,u.warn)("XFA - Several subforms in template node: please file a bug.")}},{key:a.$break,value:function(e){this[a.$extra].breakingNode=e}},{key:a.$searchNode,value:function(e,t){return e.startsWith("#")?[this[a.$ids].get(e.slice(1))]:(0,l.searchNode)(this,t,e,!0,!0)}},{key:a.$toHTML,value:function(){if(!this.subform.children.length)return c.HTMLResult.success({name:"div",children:[]});this[a.$extra]={breakingNode:null,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank"};var e=this.subform.children[0],t=e.pageSet.pageArea.children,r={name:"div",children:[]},n=null,i=null,o=null;if(e.breakBefore.children.length>=1?o=(i=e.breakBefore.children[0]).target:e.subform.children.length>=1&&e.subform.children[0].breakBefore.children.length>=1?o=(i=e.subform.children[0].breakBefore.children[0]).target:e.break&&e.break.beforeTarget?o=(i=e.break).beforeTarget:e.subform.children.length>=1&&e.subform.children[0].break&&e.subform.children[0].break.beforeTarget&&(o=(i=e.subform.children[0].break).beforeTarget),i){var s=this[a.$searchNode](o,i[a.$getParent]());s instanceof Ke&&(n=s,i[a.$extra]={})}n||(n=t[0]);var u,l=n[a.$getParent]();l[a.$extra]={numberOfUse:1,currentIndex:l.pageArea.children.indexOf(n)};for(var f=null,h=null;;){u=null;var d=n[a.$toHTML]().html;r.children.push(d),f&&(d.children.push(f[a.$toHTML](d[a.$extra].space).html),f=null),h&&(d.children.push(h[a.$toHTML](d[a.$extra].space).html),h=null);for(var p=n.contentArea.children,g=d.children.filter((function(e){return"xfaContentarea"===e.attributes.class})),m=0,v=p.length;m<v;m++){var y=this[a.$extra].currentContentArea=p[m],b={width:y.w,height:y.h};f&&(g[m].children.push(f[a.$toHTML](b).html),f=null),h&&(g[m].children.push(h[a.$toHTML](b).html),h=null);var w=e[a.$toHTML](b);if(w.success)return w.html&&g[m].children.push(w.html),r;var k=!1;if(this[a.$extra].breakingNode){var S=this[a.$extra].breakingNode;if(this[a.$extra].breakingNode=null,"auto"===S.targetType){m--;continue}var x=1===S.startNew;S.leader&&(f=(f=this[a.$searchNode](S.leader,S[a.$getParent]()))?f[0]:null),S.trailer&&(h=(h=this[a.$searchNode](S.trailer,S[a.$getParent]()))?h[0]:null);var A=null;if(S.target&&(A=(A=this[a.$searchNode](S.target,S[a.$getParent]()))?A[0]:A),"pageArea"===S.targetType)if(x)k=!0;else{if(!(A!==n&&A instanceof Ke)){m--;continue}u=A,k=!0}else if("contentArea"===A||!(A instanceof Y)){m--;continue}}if((w=e[a.$flushHTML]())&&g[m].children.push(w),k)break}this[a.$extra].pageNumber+=1,n=u||n[a.$getNextPage]()}}}]),r}(a.XFAObject);t.Template=wt;var kt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"text")).id=e.id||"",n.maxChars=(0,c.getInteger)({data:e.maxChars,defaultValue:0,validate:function(e){return e>=0}}),n.name=e.name||"",n.rid=e.rid||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$onChild,value:function(e){return e[a.$namespaceId]===i.NamespaceIds.xhtml.id?(this[a.$content]=e,!0):((0,u.warn)("XFA - Invalid content in Text: ".concat(e[a.$nodeName],".")),!1)}},{key:a.$toHTML,value:function(e){if("string"==typeof this[a.$content]){var t={name:"span",attributes:{class:"xfaRich",style:{}},value:this[a.$content]};return this[a.$content].includes("\\u2029")?(t.name="div",t.children=[],this[a.$content].split("\\u2029").map((function(e){return e.split(/[\\u2028\\n]/).reduce((function(e,t){return e.push({name:"span",value:t},{name:"br"}),e}),[])})).forEach((function(e){t.children.push({name:"p",children:e})}))):/[\\u2028\\n]/.test(this[a.$content])&&(t.name="div",t.children=[],this[a.$content].split(/[\\u2028\\n]/).forEach((function(e){t.children.push({name:"span",value:e},{name:"br"})}))),c.HTMLResult.success(t)}return this[a.$content][a.$toHTML](e)}}]),r}(a.ContentObject);t.Text=kt;var St=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"textEdit",!0)).allowRichText=(0,c.getInteger)({data:e.allowRichText,defaultValue:0,validate:function(e){return 1===e}}),n.hScrollPolicy=(0,c.getStringOption)(e.hScrollPolicy,["auto","off","on"]),n.id=e.id||"",n.multiLine=(0,c.getInteger)({data:e.multiLine,defaultValue:1,validate:function(e){return 0===e}}),n.use=e.use||"",n.usehref=e.usehref||"",n.vScrollPolicy=(0,c.getStringOption)(e.vScrollPolicy,["auto","off","on"]),n.border=null,n.comb=null,n.extras=null,n.margin=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t,r=(0,o.toStyle)(this,"border","font","margin");return t=1===this.multiLine?{name:"textarea",attributes:{fieldId:this[a.$getParent]()[a.$getParent]()[a.$uid],class:"xfaTextfield",style:r}}:{name:"input",attributes:{type:"text",fieldId:this[a.$getParent]()[a.$getParent]()[a.$uid],class:"xfaTextfield",style:r}},c.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[t]})}}]),r}(a.XFAObject),xt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"time")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){this[a.$content]=new Date(this[a.$content])}},{key:a.$toHTML,value:function(e){return c.HTMLResult.success(this[a.$content].toString())}}]),r}(a.StringObject),At=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"timeStamp")).id=e.id||"",n.server=e.server||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),Ot=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"toolTip")).id=e.id||"",n.rid=e.rid||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),Ct=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"traversal",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.traverse=new a.XFAObjectArray,n}return r}(a.XFAObject),Tt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"traverse",!0)).id=e.id||"",n.operation=(0,c.getStringOption)(e.operation,["next","back","down","first","left","right","up"]),n.ref=e.ref||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.script=null,n}return m(r,[{key:"name",get:function(){return this.operation}},{key:a.$isTransparent,value:function(){return!1}}]),r}(a.XFAObject),Ft=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"ui",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.picture=null,n.barcode=null,n.button=null,n.checkButton=null,n.choiceList=null,n.dateTimeEdit=null,n.defaultUi=null,n.imageEdit=null,n.numericEdit=null,n.passwordEdit=null,n.signature=null,n.textEdit=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t,r=f(Object.getOwnPropertyNames(this));try{for(r.s();!(t=r.n()).done;){var n=t.value;if("extras"!==n&&"picture"!==n){var i=this[n];if(i instanceof a.XFAObject)return i[a.$toHTML](e)}}}catch(e){r.e(e)}finally{r.f()}return c.HTMLResult.EMPTY}}]),r}(a.XFAObject),Pt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"validate",!0)).formatTest=(0,c.getStringOption)(e.formatTest,["warning","disabled","error"]),n.id=e.id||"",n.nullTest=(0,c.getStringOption)(e.nullTest,["disabled","error","warning"]),n.scriptTest=(0,c.getStringOption)(e.scriptTest,["error","disabled","warning"]),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.message=null,n.picture=null,n.script=null,n}return r}(a.XFAObject),_t=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"value",!0)).id=e.id||"",n.override=(0,c.getInteger)({data:e.override,defaultValue:0,validate:function(e){return 1===e}}),n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.arc=null,n.boolean=null,n.date=null,n.dateTime=null,n.decimal=null,n.exData=null,n.float=null,n.image=null,n.integer=null,n.line=null,n.rectangle=null,n.text=null,n.time=null,n}return m(r,[{key:a.$setValue,value:function(e){var t=this[a.$getParent]();if(t instanceof ke&&t.ui&&t.ui.imageEdit)return this.image||(this.image=new Pe({})),void(this.image[a.$content]=e[a.$content]);var r=e[a.$nodeName];if(null===this[r]){var n,i=f(Object.getOwnPropertyNames(this));try{for(i.s();!(n=i.n()).done;){var o=n.value,s=this[o];s instanceof a.XFAObject&&(this[o]=null,this[a.$removeChild](s))}}catch(e){i.e(e)}finally{i.f()}this[e[a.$nodeName]]=e,this[a.$appendChild](e)}else this[r][a.$content]=e[a.$content]}},{key:a.$text,value:function(){if(this.exData)return this.exData[a.$content][a.$text]().trim();var e,t=f(Object.getOwnPropertyNames(this));try{for(t.s();!(e=t.n()).done;){var r=e.value;if("image"!==r){var n=this[r];if(n instanceof a.XFAObject)return(n[a.$content]||"").toString().trim()}}}catch(e){t.e(e)}finally{t.f()}return null}},{key:a.$toHTML,value:function(e){var t,r=f(Object.getOwnPropertyNames(this));try{for(r.s();!(t=r.n()).done;){var n=this[t.value];if(n instanceof a.XFAObject)return n[a.$toHTML](e)}}catch(e){r.e(e)}finally{r.f()}return c.HTMLResult.EMPTY}}]),r}(a.XFAObject);t.Value=_t;var It=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"variables",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.boolean=new a.XFAObjectArray,n.date=new a.XFAObjectArray,n.dateTime=new a.XFAObjectArray,n.decimal=new a.XFAObjectArray,n.exData=new a.XFAObjectArray,n.float=new a.XFAObjectArray,n.image=new a.XFAObjectArray,n.integer=new a.XFAObjectArray,n.manifest=new a.XFAObjectArray,n.script=new a.XFAObjectArray,n.text=new a.XFAObjectArray,n.time=new a.XFAObjectArray,n}return m(r,[{key:a.$isTransparent,value:function(){return!0}}]),r}(a.XFAObject),Et=function(){function e(){v(this,e)}return m(e,null,[{key:i.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t)){var n=e[t](r);return n[a.$setSetAttributes](r),n}}},{key:"appearanceFilter",value:function(e){return new T(e)}},{key:"arc",value:function(e){return new F(e)}},{key:"area",value:function(e){return new P(e)}},{key:"assist",value:function(e){return new _(e)}},{key:"barcode",value:function(e){return new I(e)}},{key:"bind",value:function(e){return new E(e)}},{key:"bindItems",value:function(e){return new j(e)}},{key:"bookend",value:function(e){return new R(e)}},{key:"boolean",value:function(e){return new M(e)}},{key:"border",value:function(e){return new N(e)}},{key:"break",value:function(e){return new B(e)}},{key:"breakAfter",value:function(e){return new D(e)}},{key:"breakBefore",value:function(e){return new L(e)}},{key:"button",value:function(e){return new U(e)}},{key:"calculate",value:function(e){return new q(e)}},{key:"caption",value:function(e){return new X(e)}},{key:"certificate",value:function(e){return new H(e)}},{key:"certificates",value:function(e){return new $(e)}},{key:"checkButton",value:function(e){return new z(e)}},{key:"choiceList",value:function(e){return new G(e)}},{key:"color",value:function(e){return new W(e)}},{key:"comb",value:function(e){return new V(e)}},{key:"connect",value:function(e){return new K(e)}},{key:"contentArea",value:function(e){return new Y(e)}},{key:"corner",value:function(e){return new J(e)}},{key:"date",value:function(e){return new Z(e)}},{key:"dateTime",value:function(e){return new Q(e)}},{key:"dateTimeEdit",value:function(e){return new ee(e)}},{key:"decimal",value:function(e){return new te(e)}},{key:"defaultUi",value:function(e){return new re(e)}},{key:"desc",value:function(e){return new ne(e)}},{key:"digestMethod",value:function(e){return new ae(e)}},{key:"digestMethods",value:function(e){return new ie(e)}},{key:"draw",value:function(e){return new oe(e)}},{key:"edge",value:function(e){return new se(e)}},{key:"encoding",value:function(e){return new ce(e)}},{key:"encodings",value:function(e){return new ue(e)}},{key:"encrypt",value:function(e){return new le(e)}},{key:"encryptData",value:function(e){return new fe(e)}},{key:"encryption",value:function(e){return new he(e)}},{key:"encryptionMethod",value:function(e){return new de(e)}},{key:"encryptionMethods",value:function(e){return new pe(e)}},{key:"event",value:function(e){return new ge(e)}},{key:"exData",value:function(e){return new me(e)}},{key:"exObject",value:function(e){return new ve(e)}},{key:"exclGroup",value:function(e){return new ye(e)}},{key:"execute",value:function(e){return new be(e)}},{key:"extras",value:function(e){return new we(e)}},{key:"field",value:function(e){return new ke(e)}},{key:"fill",value:function(e){return new Se(e)}},{key:"filter",value:function(e){return new xe(e)}},{key:"float",value:function(e){return new Ae(e)}},{key:"font",value:function(e){return new Oe(e)}},{key:"format",value:function(e){return new Ce(e)}},{key:"handler",value:function(e){return new Te(e)}},{key:"hyphenation",value:function(e){return new Fe(e)}},{key:"image",value:function(e){return new Pe(e)}},{key:"imageEdit",value:function(e){return new _e(e)}},{key:"integer",value:function(e){return new Ie(e)}},{key:"issuers",value:function(e){return new Ee(e)}},{key:"items",value:function(e){return new je(e)}},{key:"keep",value:function(e){return new Re(e)}},{key:"keyUsage",value:function(e){return new Me(e)}},{key:"line",value:function(e){return new Ne(e)}},{key:"linear",value:function(e){return new Be(e)}},{key:"lockDocument",value:function(e){return new De(e)}},{key:"manifest",value:function(e){return new Le(e)}},{key:"margin",value:function(e){return new Ue(e)}},{key:"mdp",value:function(e){return new qe(e)}},{key:"medium",value:function(e){return new Xe(e)}},{key:"message",value:function(e){return new He(e)}},{key:"numericEdit",value:function(e){return new $e(e)}},{key:"occur",value:function(e){return new ze(e)}},{key:"oid",value:function(e){return new Ge(e)}},{key:"oids",value:function(e){return new We(e)}},{key:"overflow",value:function(e){return new Ve(e)}},{key:"pageArea",value:function(e){return new Ke(e)}},{key:"pageSet",value:function(e){return new Ye(e)}},{key:"para",value:function(e){return new Je(e)}},{key:"passwordEdit",value:function(e){return new Ze(e)}},{key:"pattern",value:function(e){return new Qe(e)}},{key:"picture",value:function(e){return new et(e)}},{key:"proto",value:function(e){return new tt(e)}},{key:"radial",value:function(e){return new rt(e)}},{key:"reason",value:function(e){return new nt(e)}},{key:"reasons",value:function(e){return new at(e)}},{key:"rectangle",value:function(e){return new it(e)}},{key:"ref",value:function(e){return new ot(e)}},{key:"script",value:function(e){return new st(e)}},{key:"setProperty",value:function(e){return new ct(e)}},{key:"signData",value:function(e){return new ut(e)}},{key:"signature",value:function(e){return new lt(e)}},{key:"signing",value:function(e){return new ft(e)}},{key:"solid",value:function(e){return new ht(e)}},{key:"speak",value:function(e){return new dt(e)}},{key:"stipple",value:function(e){return new pt(e)}},{key:"subform",value:function(e){return new gt(e)}},{key:"subformSet",value:function(e){return new mt(e)}},{key:"subjectDN",value:function(e){return new vt(e)}},{key:"subjectDNs",value:function(e){return new yt(e)}},{key:"submit",value:function(e){return new bt(e)}},{key:"template",value:function(e){return new wt(e)}},{key:"text",value:function(e){return new kt(e)}},{key:"textEdit",value:function(e){return new St(e)}},{key:"time",value:function(e){return new xt(e)}},{key:"timeStamp",value:function(e){return new At(e)}},{key:"toolTip",value:function(e){return new Ot(e)}},{key:"traversal",value:function(e){return new Ct(e)}},{key:"traverse",value:function(e){return new Tt(e)}},{key:"ui",value:function(e){return new Ft(e)}},{key:"validate",value:function(e){return new Pt(e)}},{key:"value",value:function(e){return new _t(e)}},{key:"variables",value:function(e){return new It(e)}}]),e}();t.TemplateNamespace=Et},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addExtraDivForBorder=function(e){for(var t=e.attributes.style,r=t.borderData,n=[],a={class:"xfaWrapper",style:Object.create(null)},i=0,s=["top","left"];i<s.length;i++){var c=s[i];void 0!==t[c]&&(a.style[c]=t[c])}if(delete t.top,delete t.left,"absolute"===t.position?a.style.position="absolute":a.style.position="relative",delete t.position,t.justifyContent&&(a.style.justifyContent=t.justifyContent,delete t.justifyContent),r){var u;delete t.borderData,r.margin?(u=r.margin.split(" "),delete r.margin):u=["0px","0px","0px","0px"];var l="100%",f=l;"0px"===u[1]&&"0px"===u[3]||(l="calc(100% - ".concat(parseInt(u[1])+parseInt(u[3]),"px")),"0px"===u[0]&&"0px"===u[2]||(f="calc(100% - ".concat(parseInt(u[0])+parseInt(u[2]),"px"));for(var h={top:u[0],left:u[3],width:l,height:f},d=0,p=Object.entries(r);d<p.length;d++){var g=(b=p[d],w=2,function(e){if(Array.isArray(e))return e}(b)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(b,w)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(b,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=g[0],v=g[1];h[m]=v}t.transform&&(h.transform=t.transform);var y={name:"div",attributes:{class:"xfaBorderDiv",style:h}};n.push(y)}var b,w;return n.push(e),{name:"div",attributes:a,children:n}},t.computeBbox=function(e,t,r){var a;if(""!==e.w&&""!==e.h)a=[e.x,e.y,e.w,e.h];else{if(!r)return null;var i=e.w;if(""===i){if(0===e.maxW){var o=e[n.$getParent]();i="position"===o.layout&&""!==o.w?0:e.minW}else i=Math.min(e.maxW,r.width);t.attributes.style.width=u(i)}var s=e.h;if(""===s){if(0===e.maxH){var c=e[n.$getParent]();s="position"===c.layout&&""!==c.h?0:e.minH}else s=Math.min(e.maxH,r.height);t.attributes.style.height=u(s)}a=[e.x,e.y,i,s]}return a},t.fixDimensions=function(e){var t=e[n.$getParent]();if(t.layout&&t.layout.includes("row")){var r,a=t[n.$extra],i=e.colSpan;r=-1===i?a.columnWidths.slice(a.currentColumn).reduce((function(e,t){return e+t}),0):a.columnWidths.slice(a.currentColumn,a.currentColumn+i).reduce((function(e,t){return e+t}),0),isNaN(r)||(e.w=r)}t.w&&e.w&&(e.w=Math.min(t.w,e.w)),t.h&&e.h&&(e.h=Math.min(t.h,e.h)),t.layout&&"position"!==t.layout&&(e.x=e.y=0,"tb"===t.layout&&""!==t.w&&(""===e.w||0===e.w||e.w>t.w)&&(e.w=t.w)),"position"===e.layout?(e.minW=e.minH=0,e.maxW=e.maxH=1/0):"table"===e.layout&&""===e.w&&Array.isArray(e.columnWidths)&&(e.w=e.columnWidths.reduce((function(e,t){return e+t}),0))},t.fixTextIndent=function(e){var t=(0,a.getMeasurement)(e.textIndent,"0px");if(!(t>=0)){var r=e.textAlign||"left";if("left"===r||"right"===r){var n="margin"+("left"===r?"Left":"Right"),i=(0,a.getMeasurement)(e[n],"0px");e[n]="".concat(i-t,"pt")}}},t.getFonts=function(e){e.startsWith("'")?e='"'.concat(e.slice(1,e.length-1),'"'):e.includes(" ")&&!e.startsWith('"')&&(e='"'.concat(e,'"'));var t=[e];switch(e){case'"Myriad Pro"':t.push('"Roboto Condensed"','"Ubuntu Condensed"','"Microsoft Sans Serif"','"Apple Symbols"',"Helvetica",'"sans serif"');break;case"Arial":t.push("Helvetica",'"Liberation Sans"',"Arimo",'"sans serif"')}return t.join(",")},t.layoutClass=function(e){switch(e.layout){case"position":default:return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb"}},t.layoutText=function(e,t,r){for(var n=0,a=0,i=0,o=1.5*t,u=.4*t,l=Math.floor(r.width/u),f=e.match(s),h=0,d=0,p=f[0];p;){var g=p.length*u;if(n+g<=r.width)n+=g,h+=p.length,p=f[d++];else if(!c.test(p)||p.length>l){var m=Math.floor((r.width-n)/u);if(p=p.slice(m),h+=m,a+o>r.height)return{width:0,height:0,splitPos:h};i=Math.max(n,i),n=0,a+=o}else{if(a+o>r.height)return{width:0,height:0,splitPos:h};i=Math.max(n,i),n=g,a+=o,p=f[d++]}}return 0===i&&(i=n),0!==i&&(a+=o),{width:i,height:a,splitPos:-1}},t.measureToString=u,t.toStyle=function(e){for(var t=Object.create(null),r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];for(var s=0,c=a;s<c.length;s++){var u=c[s],f=e[u];if(null!==f)if(f instanceof n.XFAObject){var h=f[n.$toStyle]();h?Object.assign(t,h):(0,i.warn)("(DEBUG) - XFA - style for ".concat(u," not implemented yet"))}else l.hasOwnProperty(u)&&l[u](e,t)}return t};var n=r(176),a=r(177),i=r(4);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=new RegExp("([\\\\p{N}\\\\p{L}\\\\p{M}]+)|([^\\\\p{N}\\\\p{L}\\\\p{M}]+)","gu"),c=new RegExp("^[\\\\p{N}\\\\p{L}\\\\p{M}]","u");function u(e){return"string"==typeof e?"0px":Number.isInteger(e)?"".concat(e,"px"):"".concat(e.toFixed(2),"px")}var l={anchorType:function(e,t){var r=e[n.$getParent]();if(r&&(!r.layout||"position"===r.layout))switch("transform"in t||(t.transform=""),e.anchorType){case"bottomCenter":t.transform+="translate(-50%, -100%)";break;case"bottomLeft":t.transform+="translate(0,-100%)";break;case"bottomRight":t.transform+="translate(-100%,-100%)";break;case"middleCenter":t.transform+="translate(-50%,-50%)";break;case"middleLeft":t.transform+="translate(0,-50%)";break;case"middleRight":t.transform+="translate(-100%,-50%)";break;case"topCenter":t.transform+="translate(-50%,0)";break;case"topRight":t.transform+="translate(-100%,0)"}},dimensions:function(e,t){var r=e[n.$getParent](),a=e.w,i=e.h;if(r.layout&&r.layout.includes("row")){var o,s=r[n.$extra],c=e.colSpan;-1===c?(o=s.columnWidths.slice(s.currentColumn).reduce((function(e,t){return e+t}),0),s.currentColumn=0):(o=s.columnWidths.slice(s.currentColumn,s.currentColumn+c).reduce((function(e,t){return e+t}),0),s.currentColumn=(s.currentColumn+e.colSpan)%s.columnWidths.length),isNaN(o)||(a=e.w=o)}""!==a?t.width=u(a):(t.width="auto",e.maxW>0&&(t.maxWidth=u(e.maxW)),"position"===r.layout&&(t.minWidth=u(e.minW))),""!==i?t.height=u(i):(t.height="auto",e.maxH>0&&(t.maxHeight=u(e.maxH)),"position"===r.layout&&(t.minHeight=u(e.minH)))},position:function(e,t){var r=e[n.$getParent]();r&&r.layout&&"position"!==r.layout||(t.position="absolute",t.left=u(e.x),t.top=u(e.y))},rotate:function(e,t){e.rotate&&("transform"in t||(t.transform=""),t.transform+="rotate(-".concat(e.rotate,"deg)"),t.transformOrigin="top left")},presence:function(e,t){switch(e.presence){case"invisible":t.visibility="hidden";break;case"hidden":case"inactive":t.display="none"}},hAlign:function(e,t){if("para"===e[n.$nodeName])switch(e.hAlign){case"justifyAll":t.textAlign="justify-all";break;case"radix":t.textAlign="left";break;default:t.textAlign=e.hAlign}else switch(e.hAlign){case"right":case"center":t.justifyContent=e.hAlign}},borderMarginPadding:function(e,t){var r,a=[0,0,0,0],i=e.margin?[e.margin.topInset,e.margin.rightInset,e.margin.bottomInset,e.margin.leftInset]:[0,0,0,0];if(e.border&&(Object.assign(t,e.border[n.$toStyle](a,[0,0,0,0])),r=t.margin,delete t.margin),a.every((function(e){return 0===e}))){if(i.every((function(e){return 0===e})))return;return Object.assign(t,e.margin[n.$toStyle]()),t.padding=t.margin,delete t.margin,delete t.outline,void delete t.outlineOffset}e.margin&&(Object.assign(t,e.margin[n.$toStyle]()),t.padding=t.margin,delete t.margin),t.borderWidth&&(t.borderData={borderWidth:t.borderWidth,borderColor:t.borderColor,borderStyle:t.borderStyle,margin:r},delete t.borderWidth,delete t.borderColor,delete t.borderStyle)}}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addHTML=function(e,t,r){var s=e[n.$extra],c=s.availableSpace;switch(e.layout){case"position":var u=i(r,4),l=u[0],f=u[1],h=u[2],d=u[3];s.width=Math.max(s.width,l+h),s.height=Math.max(s.height,f+d),s.children.push(t);break;case"lr-tb":case"rl-tb":if(s.line&&1!==s.attempt||(s.line={name:"div",attributes:{class:"lr-tb"===e.layout?"xfaLr":"xfaRl"},children:[]},s.children.push(s.line)),s.line.children.push(t),0===s.attempt){var p=i(r,4),g=p[2],m=p[3];s.currentWidth+=g,s.height=Math.max(s.height,s.prevHeight+m)}else{var v=i(r,4),y=v[2],b=v[3];s.width=Math.max(s.width,s.currentWidth),s.currentWidth=y,s.prevHeight=s.height,s.height+=b,s.attempt=0}break;case"rl-row":case"row":s.children.push(t);var w=i(r,4),k=w[2],S=w[3];s.width+=k,s.height=Math.max(s.height,S);var x,A=(0,a.measureToString)(s.height),O=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}(s.children);try{for(O.s();!(x=O.n()).done;){var C=x.value;"xfaWrapper"===C.attributes.class?C.children[C.children.length-1].attributes.style.height=A:C.attributes.style.height=A}}catch(e){O.e(e)}finally{O.f()}break;case"table":var T=i(r,4),F=T[2],P=T[3];s.width=Math.min(c.width,Math.max(s.width,F)),s.height+=P,s.children.push(t);break;case"tb":var _=i(r,4)[3];s.width=c.width,s.height+=_,s.children.push(t)}},t.flushHTML=function(e){var t={name:"div",attributes:e[n.$extra].attributes,children:e[n.$extra].children};if(e[n.$extra].failingNode){var r=e[n.$extra].failingNode[n.$flushHTML]();r&&t.children.push(r)}return 0===t.children.length?null:(e[n.$extra].children=[],delete e[n.$extra].line,t)},t.getAvailableSpace=function(e){var t=e[n.$extra].availableSpace;switch(e.layout){case"lr-tb":case"rl-tb":switch(e[n.$extra].attempt){case 0:return{width:t.width-e[n.$extra].currentWidth,height:t.height-e[n.$extra].prevHeight};case 1:return{width:t.width,height:t.height-e[n.$extra].height};default:return{width:1/0,height:t.height-e[n.$extra].prevHeight}}case"rl-row":case"row":return{width:e[n.$extra].columnWidths.slice(e[n.$extra].currentColumn).reduce((function(e,t){return e+t})),height:t.height};case"table":case"tb":return{width:t.width,height:t.height-e[n.$extra].height};default:return t}};var n=r(176),a=r(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDataNode=function(e,t,r){var i=b(r);if(!i)return null;if(i.some((function(e){return e.operator===d})))return null;var o=v.get(i[0].name),s=0;o?(e=o(e,t),s=1):e=t||e;for(var c=i.length;s<c;s++){var u=i[s],l=u.name,f=u.operator,g=u.index;if(!isFinite(g))return i[s].index=0,w(e,i.slice(s));var m=void 0;switch(f){case h:m=e[n.$getChildrenByName](l,!1);break;case d:m=e[n.$getChildrenByName](l,!0);break;case p:m=(m=e[n.$getChildrenByClass](l))instanceof n.XFAObjectArray?m.children:[m]}if(0===m.length)return w(e,i.slice(s));if(!(g<m.length))return i[s].index=m.length-g,w(e,i.slice(s));var y=m[g];if(!(y instanceof n.XFAObject))return(0,a.warn)("XFA - Cannot create a node."),null;e=y}return null},t.searchNode=function(e,t,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=b(r,a);if(!c)return null;var u,l=v.get(c[0].name),f=0;l?(u=!0,e=[l(e,t)],f=1):(u=null===t,e=[t||e]);for(var g=function(r){var a,o=c[f],l=o.name,g=o.cacheName,m=o.operator,v=o.index,b=[],w=i(e);try{for(w.s();!(a=w.n()).done;){var k=a.value;if(k instanceof n.XFAObject){var S=void 0,x=void 0;if(s&&((x=y.get(k))||(x=new Map,y.set(k,x)),S=x.get(g)),!S){switch(m){case h:S=k[n.$getChildrenByName](l,!1);break;case d:S=k[n.$getChildrenByName](l,!0);break;case p:S=(S=k[n.$getChildrenByClass](l))instanceof n.XFAObjectArray?S.children:[S]}s&&x.set(g,S)}S.length>0&&b.push(S)}}}catch(e){w.e(e)}finally{w.f()}if(0===b.length&&!u&&0===f){var A=t[n.$getParent]();return(t=A)?(f=-1,e=[t],"continue"):{v:null}}e=isFinite(v)?b.filter((function(e){return v<e.length})).map((function(e){return e[v]})):b.reduce((function(e,t){return e.concat(t)}),[])},m=c.length;f<m;f++){var w=g(m);if("continue"!==w&&"object"===o(w))return w.v}return 0===e.length?null:e};var n=r(176),a=r(4);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=/^[^.[]+/,f=/^[^\\]]+/,h=0,d=1,p=2,g=3,m=4,v=new Map([["$data",function(e,t){return e.datasets.data}],["$template",function(e,t){return e.template}],["$connectionSet",function(e,t){return e.connectionSet}],["$form",function(e,t){return e.form}],["$layout",function(e,t){return e.layout}],["$host",function(e,t){return e.host}],["$dataWindow",function(e,t){return e.dataWindow}],["$event",function(e,t){return e.event}],["!",function(e,t){return e.datasets}],["$xfa",function(e,t){return e}],["xfa",function(e,t){return e}],["$",function(e,t){return t}]]),y=new WeakMap;function b(e,t){var r=e.match(l);if(!r)return null;for(var n,i=s(r,1)[0],o=[{name:i,cacheName:"."+i,index:0,js:null,formCalc:null,operator:h}],c=i.length;c<e.length;){var u=c;if("["!==e.charAt(c++)){var v=void 0;switch(e.charAt(c)){case".":if(!t)return null;c++,v=d;break;case"#":c++,v=p;break;case"[":v=g;break;case"(":v=m;break;default:v=h}if(!(r=e.slice(c).match(l)))break;c+=(i=s(r,1)[0]).length,o.push({name:i,cacheName:e.slice(u,c),operator:v,index:0,js:null,formCalc:null})}else{if(!(r=e.slice(c).match(f)))return(0,a.warn)("XFA - Invalid index in SOM expression"),null;o[o.length-1].index="*"===(n=(n=r[0]).trim())?1/0:parseInt(n,10)||0,c+=r[0].length+1}}return o}function w(e,t){var r,a=null,o=i(t);try{for(o.s();!(r=o.n()).done;){for(var s=r.value,c=s.name,u=s.index,l=0;l<=u;l++)a=new n.XmlObject(e[n.$namespaceId],c),e[n.$appendChild](a);e=a}}catch(e){o.e(e)}finally{o.f()}return a}},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XFAParser=void 0;var a=r(176),i=r(169),o=r(185),s=r(4);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var a=g(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(p,e);var t,r,n,l=d(p);function p(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=l.call(this))._builder=new o.Builder,e._stack=[],e._ids=new Map,e._current=e._builder.buildRoot(e._ids),e._errorCode=i.XMLParserErrorCode.NoError,e._whiteRegex=/^\\s+$/,e._nbsps=/\\xa0+/g,e}return t=p,(r=[{key:"parse",value:function(e){if(this.parseXml(e),this._errorCode===i.XMLParserErrorCode.NoError)return this._current[a.$finalize](),this._current.element}},{key:"onText",value:function(e){e=e.replace(this._nbsps,(function(e){return e.slice(1)+" "})),this._current[a.$acceptWhitespace]()?this._current[a.$onText](e):this._whiteRegex.test(e)||this._current[a.$onText](e.trim())}},{key:"onCdata",value:function(e){this._current[a.$onText](e)}},{key:"_mkAttributes",value:function(e,t){var r,n=null,i=null,o=Object.create({}),c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}(e);try{for(c.s();!(r=c.n()).done;){var l=r.value,f=l.name,h=l.value;if("xmlns"===f)n?(0,s.warn)("XFA - multiple namespace definition in <".concat(t,">")):n=h;else if(f.startsWith("xmlns:")){var d=f.substring("xmlns:".length);i||(i=[]),i.push({prefix:d,value:h})}else{var p=f.indexOf(":");if(-1===p)o[f]=h;else{var g=o[a.$nsAttributes];g||(g=o[a.$nsAttributes]=Object.create(null));var m=[f.slice(0,p),f.slice(p+1)],v=m[0],y=m[1],b=g[v];b||(b=g[v]=Object.create(null)),b[y]=h}}}}catch(e){c.e(e)}finally{c.f()}return[n,i,o]}},{key:"_getNameAndPrefix",value:function(e){var t=e.indexOf(":");return-1===t?[e,null]:[e.substring(t+1),e.substring(0,t)]}},{key:"onBeginElement",value:function(e,t,r){var n=c(this._mkAttributes(t,e),3),i=n[0],o=n[1],s=n[2],u=c(this._getNameAndPrefix(e),2),l=u[0],f=u[1],h=this._builder.build({nsPrefix:f,name:l,attributes:s,namespace:i,prefixes:o});if(r)return h[a.$finalize](),this._current[a.$onChild](h)&&h[a.$setId](this._ids),void h[a.$clean](this._builder);this._stack.push(this._current),this._current=h}},{key:"onEndElement",value:function(e){var t=this._current;t[a.$finalize](),this._current=this._stack.pop(),this._current[a.$onChild](t)&&t[a.$setId](this._ids),t[a.$clean](this._builder)}},{key:"onError",value:function(e){this._errorCode=e}}])&&f(t.prototype,r),n&&f(t,n),p}(i.XMLParserBase);t.XFAParser=m},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Builder=void 0;var a=r(178),i=r(176),o=r(186),s=r(180),c=r(195),u=r(4);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}function v(e,t,r){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}},v(e,t,r||e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var a=S(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var x=function(e){y(r,e);var t=w(r);function r(e){var n;return p(this,r),(n=t.call(this,-1,"root",Object.create(null))).element=null,n[i.$ids]=e,n}return m(r,[{key:i.$onChild,value:function(e){return this.element=e,!0}},{key:i.$finalize,value:function(){v(S(r.prototype),i.$finalize,this).call(this),this.element.template instanceof s.Template&&(this.element.template[i.$resolvePrototypes](this[i.$ids]),this.element.template[i.$ids]=this[i.$ids])}}]),r}(i.XFAObject),A=function(e){y(r,e);var t=w(r);function r(){return p(this,r),t.call(this,-1,"",Object.create(null))}return m(r,[{key:i.$onChild,value:function(e){return!1}}]),r}(i.XFAObject),O=function(){function e(){p(this,e),this._namespaceStack=[],this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max.apply(Math,f(Object.values(a.NamespaceIds).map((function(e){return e.id})))),this._currentNamespace=new c.UnknownNamespace(++this._nextNsId)}return m(e,[{key:"buildRoot",value:function(e){return new x(e)}},{key:"build",value:function(e){var t=e.nsPrefix,r=e.name,n=e.attributes,s=e.namespace,c=e.prefixes,u=null!==s;if(u&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(s)),c&&this._addNamespacePrefix(c),n.hasOwnProperty(i.$nsAttributes)){for(var f=o.NamespaceSetUp.datasets,h=n[i.$nsAttributes],d=null,p=0,g=Object.entries(h);p<g.length;p++){var m=l(g[p],2),v=m[0],y=m[1];if(this._getNamespaceToUse(v)===f){d={xfa:y};break}}d?n[i.$nsAttributes]=d:delete n[i.$nsAttributes]}var b=this._getNamespaceToUse(t),w=b&&b[a.$buildXFAObject](r,n)||new A;return(u||c)&&(w[i.$cleanup]={hasNamespace:u,prefixes:c}),w}},{key:"_searchNamespace",value:function(e){var t=this._namespaces.get(e);if(t)return t;for(var r=0,n=Object.entries(a.NamespaceIds);r<n.length;r++){var i=l(n[r],2),s=i[0];if((0,i[1].check)(e)){if(t=o.NamespaceSetUp[s])return this._namespaces.set(e,t),t;break}}return t=new c.UnknownNamespace(++this._nextNsId),this._namespaces.set(e,t),t}},{key:"_addNamespacePrefix",value:function(e){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.prefix,i=n.value,o=this._searchNamespace(i),s=this._namespacePrefixes.get(a);s||(s=[],this._namespacePrefixes.set(a,s)),s.push(o)}}catch(e){r.e(e)}finally{r.f()}}},{key:"_getNamespaceToUse",value:function(e){if(!e)return this._currentNamespace;var t=this._namespacePrefixes.get(e);return t&&t.length>0?t[t.length-1]:((0,u.warn)("Unknown namespace prefix: ".concat(e,".")),null)}},{key:"clean",value:function(e){var t=this,r=e.hasNamespace,n=e.prefixes;r&&(this._currentNamespace=this._namespaceStack.pop()),n&&n.forEach((function(e){var r=e.prefix;t._namespacePrefixes.get(r).pop()}))}}]),e}();t.Builder=O},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamespaceSetUp=void 0;var n=r(187),a=r(188),i=r(189),o=r(190),s=r(191),c=r(192),u=r(180),l=r(193),f=r(194),h={config:n.ConfigNamespace,connection:a.ConnectionSetNamespace,datasets:i.DatasetsNamespace,localeSet:o.LocaleSetNamespace,signature:s.SignatureNamespace,stylesheet:c.StylesheetNamespace,template:u.TemplateNamespace,xdp:l.XdpNamespace,xhtml:f.XhtmlNamespace};t.NamespaceSetUp=h},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigNamespace=void 0;var a=r(178),i=r(176),o=r(177),s=r(4);function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var a=v(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var y=a.NamespaceIds.config.id,b=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"acrobat",!0)).acrobat7=null,n.autoSave=null,n.common=null,n.validate=null,n.validateApprovalSignatures=null,n.submitUrl=new i.XFAObjectArray,n}return r}(i.XFAObject),w=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"acrobat7",!0)).dynamicRender=null,n}return r}(i.XFAObject),k=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"ADBE_JSConsole",["delegate","Enable","Disable"])}return r}(i.OptionObject),S=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"ADBE_JSDebugger",["delegate","Enable","Disable"])}return r}(i.OptionObject),x=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"addSilentPrint")}return r}(i.Option01),A=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"addViewerPreferences")}return r}(i.Option01),O=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"adjustData")}return r}(i.Option10),C=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"adobeExtensionLevel",0,(function(e){return e>=1&&e<=8}))}return r}(i.IntegerObject),T=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"agent",!0)).name=e.name?e.name.trim():"",n.common=new i.XFAObjectArray,n}return r}(i.XFAObject),F=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"alwaysEmbed")}return r}(i.ContentObject),P=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"amd")}return r}(i.StringObject),_=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"area")).level=(0,o.getInteger)({data:e.level,defaultValue:0,validate:function(e){return e>=1&&e<=3}}),n.name=(0,o.getStringOption)(e.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"]),n}return r}(i.XFAObject),I=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"attributes",["preserve","delegate","ignore"])}return r}(i.OptionObject),E=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"autoSave",["disabled","enabled"])}return r}(i.OptionObject),j=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"base")}return r}(i.StringObject),R=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"batchOutput")).format=(0,o.getStringOption)(e.format,["none","concat","zip","zipCompress"]),n}return r}(i.XFAObject),M=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"behaviorOverride")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=new Map(this[i.$content].trim().split(/\\s+/).filter((function(e){return!!e&&e.include(":")})).map((function(e){return e.split(":",2)})))}}]),r}(i.ContentObject),N=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"cache",!0)).templateCache=null,n}return r}(i.XFAObject),B=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"change")}return r}(i.Option01),D=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"common",!0)).data=null,n.locale=null,n.localeSet=null,n.messaging=null,n.suppressBanner=null,n.template=null,n.validationMessaging=null,n.versionControl=null,n.log=new i.XFAObjectArray,n}return r}(i.XFAObject),L=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"compress")).scope=(0,o.getStringOption)(e.scope,["imageOnly","document"]),n}return r}(i.XFAObject),U=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"compressLogicalStructure")}return r}(i.Option01),q=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"compressObjectStream")}return r}(i.Option10),X=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"compression",!0)).compressLogicalStructure=null,n.compressObjectStream=null,n.level=null,n.type=null,n}return r}(i.XFAObject),H=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"config",!0)).acrobat=null,n.present=null,n.trace=null,n.agent=new i.XFAObjectArray,n}return r}(i.XFAObject),$=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"conformance",["A","B"])}return r}(i.OptionObject),z=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"contentCopy")}return r}(i.Option01),G=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"copies",1,(function(e){return e>=1}))}return r}(i.IntegerObject),W=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"creator")}return r}(i.StringObject),V=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"currentPage",0,(function(e){return e>=0}))}return r}(i.IntegerObject),K=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"data",!0)).adjustData=null,n.attributes=null,n.incrementalLoad=null,n.outputXSL=null,n.range=null,n.record=null,n.startNode=null,n.uri=null,n.window=null,n.xsl=null,n.excludeNS=new i.XFAObjectArray,n.transform=new i.XFAObjectArray,n}return r}(i.XFAObject),Y=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"debug",!0)).uri=null,n}return r}(i.XFAObject),J=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"defaultTypeface")).writingScript=(0,o.getStringOption)(e.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"]),n}return r}(i.ContentObject),Z=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"destination",["pdf","pcl","ps","webClient","zpl"])}return r}(i.OptionObject),Q=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"documentAssembly")}return r}(i.Option01),ee=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"driver",!0)).name=e.name?e.name.trim():"",n.fontInfo=null,n.xdc=null,n}return r}(i.XFAObject),te=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}return r}(i.OptionObject),re=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"dynamicRender",["forbidden","required"])}return r}(i.OptionObject),ne=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"embed")}return r}(i.Option01),ae=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"encrypt")}return r}(i.Option01),ie=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"encryption",!0)).encrypt=null,n.encryptionLevel=null,n.permissions=null,n}return r}(i.XFAObject),oe=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"encryptionLevel",["40bit","128bit"])}return r}(i.OptionObject),se=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"enforce")}return r}(i.StringObject),ce=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"equate")).force=(0,o.getInteger)({data:e.force,defaultValue:1,validate:function(e){return 0===e}}),n.from=e.from||"",n.to=e.to||"",n}return r}(i.XFAObject),ue=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"equateRange")).from=e.from||"",n.to=e.to||"",n._unicodeRange=e.unicodeRange||"",n}return f(r,[{key:"unicodeRange",get:function(){var e,t=[],r=/U\\+([0-9a-fA-F]+)/,n=c(this._unicodeRange.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})));try{for(n.s();!(e=n.n()).done;){var a=e.value;1===(a=a.split("-",2).map((function(e){var t=e.match(r);return t?parseInt(t[1],16):0}))).length&&a.push(a[0]),t.push(a)}}catch(e){n.e(e)}finally{n.f()}return(0,s.shadow)(this,"unicodeRange",t)}}]),r}(i.XFAObject),le=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"exclude")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=this[i.$content].trim().split(/\\s+/).filter((function(e){return e&&["calculate","close","enter","exit","initialize","ready","validate"].includes(e)}))}}]),r}(i.ContentObject),fe=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"excludeNS")}return r}(i.StringObject),he=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"flipLabel",["usePrinterSetting","on","off"])}return r}(i.OptionObject),de=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"fontInfo",!0)).embed=null,n.map=null,n.subsetBelow=null,n.alwaysEmbed=new i.XFAObjectArray,n.defaultTypeface=new i.XFAObjectArray,n.neverEmbed=new i.XFAObjectArray,n}return r}(i.XFAObject),pe=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"formFieldFilling")}return r}(i.Option01),ge=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"groupParent")}return r}(i.StringObject),me=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}return r}(i.OptionObject),ve=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"includeXDPContent")}return r}(i.StringObject),ye=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"incrementalLoad",["none","forwardOnly"])}return r}(i.OptionObject),be=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"incrementalMerge")}return r}(i.Option01),we=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"interactive")}return r}(i.Option01),ke=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"jog",["usePrinterSetting","none","pageSet"])}return r}(i.OptionObject),Se=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"labelPrinter",!0)).name=(0,o.getStringOption)(e.name,["zpl","dpl","ipl","tcpl"]),n.batchOutput=null,n.flipLabel=null,n.fontInfo=null,n.xdc=null,n}return r}(i.XFAObject),xe=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"layout",["paginate","panel"])}return r}(i.OptionObject),Ae=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"level",0,(function(e){return e>0}))}return r}(i.IntegerObject),Oe=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"linearized")}return r}(i.Option01),Ce=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"locale")}return r}(i.StringObject),Te=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"localeSet")}return r}(i.StringObject),Fe=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"log",!0)).mode=null,n.threshold=null,n.to=null,n.uri=null,n}return r}(i.XFAObject),Pe=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"map",!0)).equate=new i.XFAObjectArray,n.equateRange=new i.XFAObjectArray,n}return r}(i.XFAObject),_e=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"mediumInfo",!0)).map=null,n}return r}(i.XFAObject),Ie=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"message",!0)).msgId=null,n.severity=null,n}return r}(i.XFAObject),Ee=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"messaging",!0)).message=new i.XFAObjectArray,n}return r}(i.XFAObject),je=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"mode",["append","overwrite"])}return r}(i.OptionObject),Re=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"modifyAnnots")}return r}(i.Option01),Me=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"msgId",1,(function(e){return e>=1}))}return r}(i.IntegerObject),Ne=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"nameAttr")}return r}(i.StringObject),Be=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"neverEmbed")}return r}(i.ContentObject),De=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"numberOfCopies",null,(function(e){return e>=2&&e<=5}))}return r}(i.IntegerObject),Le=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"openAction",!0)).destination=null,n}return r}(i.XFAObject),Ue=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"output",!0)).to=null,n.type=null,n.uri=null,n}return r}(i.XFAObject),qe=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"outputBin")}return r}(i.StringObject),Xe=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"outputXSL",!0)).uri=null,n}return r}(i.XFAObject),He=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"overprint",["none","both","draw","field"])}return r}(i.OptionObject),$e=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"packets")}return f(r,[{key:i.$finalize,value:function(){"*"!==this[i.$content]&&(this[i.$content]=this[i.$content].trim().split(/\\s+/).filter((function(e){return["config","datasets","template","xfdf","xslt"].includes(e)})))}}]),r}(i.StringObject),ze=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"pageOffset")).x=(0,o.getInteger)({data:e.x,defaultValue:"useXDCSetting",validate:function(e){return!0}}),n.y=(0,o.getInteger)({data:e.y,defaultValue:"useXDCSetting",validate:function(e){return!0}}),n}return r}(i.XFAObject),Ge=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"pageRange")}return f(r,[{key:i.$finalize,value:function(){for(var e=this[i.$content].trim().split(/\\s+/).map((function(e){return parseInt(e,10)})),t=[],r=0,n=e.length;r<n;r+=2)t.push(e.slice(r,r+2));this[i.$content]=t}}]),r}(i.StringObject),We=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}return r}(i.OptionObject),Ve=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}return r}(i.OptionObject),Ke=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"part",1,(function(e){return!1}))}return r}(i.IntegerObject),Ye=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"pcl",!0)).name=e.name||"",n.batchOutput=null,n.fontInfo=null,n.jog=null,n.mediumInfo=null,n.outputBin=null,n.pageOffset=null,n.staple=null,n.xdc=null,n}return r}(i.XFAObject),Je=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"pdf",!0)).name=e.name||"",n.adobeExtensionLevel=null,n.batchOutput=null,n.compression=null,n.creator=null,n.encryption=null,n.fontInfo=null,n.interactive=null,n.linearized=null,n.openAction=null,n.pdfa=null,n.producer=null,n.renderPolicy=null,n.scriptModel=null,n.silentPrint=null,n.submitFormat=null,n.tagged=null,n.version=null,n.viewerPreferences=null,n.xdc=null,n}return r}(i.XFAObject),Ze=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"pdfa",!0)).amd=null,n.conformance=null,n.includeXDPContent=null,n.part=null,n}return r}(i.XFAObject),Qe=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"permissions",!0)).accessibleContent=null,n.change=null,n.contentCopy=null,n.documentAssembly=null,n.formFieldFilling=null,n.modifyAnnots=null,n.plaintextMetadata=null,n.print=null,n.printHighQuality=null,n}return r}(i.XFAObject),et=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"pickTrayByPDFSize")}return r}(i.Option01),tt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"picture")}return r}(i.StringObject),rt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"plaintextMetadata")}return r}(i.Option01),nt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}return r}(i.OptionObject),at=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"present",!0)).behaviorOverride=null,n.cache=null,n.common=null,n.copies=null,n.destination=null,n.incrementalMerge=null,n.layout=null,n.output=null,n.overprint=null,n.pagination=null,n.paginationOverride=null,n.script=null,n.validate=null,n.xdp=null,n.driver=new i.XFAObjectArray,n.labelPrinter=new i.XFAObjectArray,n.pcl=new i.XFAObjectArray,n.pdf=new i.XFAObjectArray,n.ps=new i.XFAObjectArray,n.submitUrl=new i.XFAObjectArray,n.webClient=new i.XFAObjectArray,n.zpl=new i.XFAObjectArray,n}return r}(i.XFAObject),it=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"print")}return r}(i.Option01),ot=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"printHighQuality")}return r}(i.Option01),st=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"printScaling",["appdefault","noScaling"])}return r}(i.OptionObject),ct=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"printerName")}return r}(i.StringObject),ut=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"producer")}return r}(i.StringObject),lt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"ps",!0)).name=e.name||"",n.batchOutput=null,n.fontInfo=null,n.jog=null,n.mediumInfo=null,n.outputBin=null,n.staple=null,n.xdc=null,n}return r}(i.XFAObject),ft=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"range")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=this[i.$content].trim().split(/\\s*,\\s*/,2).map((function(e){return e.split("-").map((function(e){return parseInt(e.trim(),10)}))})).filter((function(e){return e.every((function(e){return!isNaN(e)}))})).map((function(e){return 1===e.length&&e.push(e[0]),e}))}}]),r}(i.ContentObject),ht=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"record")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=this[i.$content].trim();var e=parseInt(this[i.$content],10);!isNaN(e)&&e>=0&&(this[i.$content]=e)}}]),r}(i.ContentObject),dt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"relevant")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=this[i.$content].trim().split(/\\s+/)}}]),r}(i.ContentObject),pt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"rename")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=this[i.$content].trim(),(this[i.$content].toLowerCase().startsWith("xml")||this[i.$content].match(new RegExp("[\\\\p{L}_][\\\\p{L}\\\\d._\\\\p{M}-]*","u")))&&(0,s.warn)("XFA - Rename: invalid XFA name")}}]),r}(i.ContentObject),gt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"renderPolicy",["server","client"])}return r}(i.OptionObject),mt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"runScripts",["both","client","none","server"])}return r}(i.OptionObject),vt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"script",!0)).currentPage=null,n.exclude=null,n.runScripts=null,n}return r}(i.XFAObject),yt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"scriptModel",["XFA","none"])}return r}(i.OptionObject),bt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"severity",["ignore","error","information","trace","warning"])}return r}(i.OptionObject),wt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"silentPrint",!0)).addSilentPrint=null,n.printerName=null,n}return r}(i.XFAObject),kt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"staple")).mode=(0,o.getStringOption)(e.mode,["usePrinterSetting","on","off"]),n}return r}(i.XFAObject),St=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"startNode")}return r}(i.StringObject),xt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"startPage",0,(function(e){return!0}))}return r}(i.IntegerObject),At=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"submitFormat",["html","delegate","fdf","xml","pdf"])}return r}(i.OptionObject),Ot=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"submitUrl")}return r}(i.StringObject),Ct=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"subsetBelow",100,(function(e){return e>=0&&e<=100}))}return r}(i.IntegerObject),Tt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"suppressBanner")}return r}(i.Option01),Ft=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"tagged")}return r}(i.Option01),Pt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"template",!0)).base=null,n.relevant=null,n.startPage=null,n.uri=null,n.xsl=null,n}return r}(i.XFAObject),_t=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"threshold",["trace","error","information","warning"])}return r}(i.OptionObject),It=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"to",["null","memory","stderr","stdout","system","uri"])}return r}(i.OptionObject),Et=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"templateCache")).maxEntries=(0,o.getInteger)({data:e.maxEntries,defaultValue:5,validate:function(e){return e>=0}}),n}return r}(i.XFAObject),jt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"trace",!0)).area=new i.XFAObjectArray,n}return r}(i.XFAObject),Rt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"transform",!0)).groupParent=null,n.ifEmpty=null,n.nameAttr=null,n.picture=null,n.presence=null,n.rename=null,n.whitespace=null,n}return r}(i.XFAObject),Mt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}return r}(i.OptionObject),Nt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"uri")}return r}(i.StringObject),Bt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"validate",["preSubmit","prePrint","preExecute","preSave"])}return r}(i.OptionObject),Dt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"validateApprovalSignatures")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=this[i.$content].trim().split(/\\s+/).filter((function(e){return["docReady","postSign"].includes(e)}))}}]),r}(i.ContentObject),Lt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}return r}(i.OptionObject),Ut=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}return r}(i.OptionObject),qt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"VersionControl")).outputBelow=(0,o.getStringOption)(e.outputBelow,["warn","error","update"]),n.sourceAbove=(0,o.getStringOption)(e.sourceAbove,["warn","error"]),n.sourceBelow=(0,o.getStringOption)(e.sourceBelow,["update","maintain"]),n}return r}(i.XFAObject),Xt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"viewerPreferences",!0)).ADBE_JSConsole=null,n.ADBE_JSDebugger=null,n.addViewerPreferences=null,n.duplexOption=null,n.enforce=null,n.numberOfCopies=null,n.pageRange=null,n.pickTrayByPDFSize=null,n.printScaling=null,n}return r}(i.XFAObject),Ht=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"webClient",!0)).name=e.name?e.name.trim():"",n.fontInfo=null,n.xdc=null,n}return r}(i.XFAObject),$t=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}return r}(i.OptionObject),zt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"window")}return f(r,[{key:i.$finalize,value:function(){var e=this[i.$content].trim().split(/\\s*,\\s*/,2).map((function(e){return parseInt(e,10)}));e.some((function(e){return isNaN(e)}))?this[i.$content]=[0,0]:(1===e.length&&e.push(e[0]),this[i.$content]=e)}}]),r}(i.ContentObject),Gt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"xdc",!0)).uri=new i.XFAObjectArray,n.xsl=new i.XFAObjectArray,n}return r}(i.XFAObject),Wt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"xdp",!0)).packets=null,n}return r}(i.XFAObject),Vt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"xsl",!0)).debug=null,n.uri=null,n}return r}(i.XFAObject),Kt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"zpl",!0)).name=e.name?e.name.trim():"",n.batchOutput=null,n.flipLabel=null,n.fontInfo=null,n.xdc=null,n}return r}(i.XFAObject),Yt=function(){function e(){h(this,e)}return f(e,null,[{key:a.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"acrobat",value:function(e){return new b(e)}},{key:"acrobat7",value:function(e){return new w(e)}},{key:"ADBE_JSConsole",value:function(e){return new k(e)}},{key:"ADBE_JSDebugger",value:function(e){return new S(e)}},{key:"addSilentPrint",value:function(e){return new x(e)}},{key:"addViewerPreferences",value:function(e){return new A(e)}},{key:"adjustData",value:function(e){return new O(e)}},{key:"adobeExtensionLevel",value:function(e){return new C(e)}},{key:"agent",value:function(e){return new T(e)}},{key:"alwaysEmbed",value:function(e){return new F(e)}},{key:"amd",value:function(e){return new P(e)}},{key:"area",value:function(e){return new _(e)}},{key:"attributes",value:function(e){return new I(e)}},{key:"autoSave",value:function(e){return new E(e)}},{key:"base",value:function(e){return new j(e)}},{key:"batchOutput",value:function(e){return new R(e)}},{key:"behaviorOverride",value:function(e){return new M(e)}},{key:"cache",value:function(e){return new N(e)}},{key:"change",value:function(e){return new B(e)}},{key:"common",value:function(e){return new D(e)}},{key:"compress",value:function(e){return new L(e)}},{key:"compressLogicalStructure",value:function(e){return new U(e)}},{key:"compressObjectStream",value:function(e){return new q(e)}},{key:"compression",value:function(e){return new X(e)}},{key:"config",value:function(e){return new H(e)}},{key:"conformance",value:function(e){return new $(e)}},{key:"contentCopy",value:function(e){return new z(e)}},{key:"copies",value:function(e){return new G(e)}},{key:"creator",value:function(e){return new W(e)}},{key:"currentPage",value:function(e){return new V(e)}},{key:"data",value:function(e){return new K(e)}},{key:"debug",value:function(e){return new Y(e)}},{key:"defaultTypeface",value:function(e){return new J(e)}},{key:"destination",value:function(e){return new Z(e)}},{key:"documentAssembly",value:function(e){return new Q(e)}},{key:"driver",value:function(e){return new ee(e)}},{key:"duplexOption",value:function(e){return new te(e)}},{key:"dynamicRender",value:function(e){return new re(e)}},{key:"embed",value:function(e){return new ne(e)}},{key:"encrypt",value:function(e){return new ae(e)}},{key:"encryption",value:function(e){return new ie(e)}},{key:"encryptionLevel",value:function(e){return new oe(e)}},{key:"enforce",value:function(e){return new se(e)}},{key:"equate",value:function(e){return new ce(e)}},{key:"equateRange",value:function(e){return new ue(e)}},{key:"exclude",value:function(e){return new le(e)}},{key:"excludeNS",value:function(e){return new fe(e)}},{key:"flipLabel",value:function(e){return new he(e)}},{key:"fontInfo",value:function(e){return new de(e)}},{key:"formFieldFilling",value:function(e){return new pe(e)}},{key:"groupParent",value:function(e){return new ge(e)}},{key:"ifEmpty",value:function(e){return new me(e)}},{key:"includeXDPContent",value:function(e){return new ve(e)}},{key:"incrementalLoad",value:function(e){return new ye(e)}},{key:"incrementalMerge",value:function(e){return new be(e)}},{key:"interactive",value:function(e){return new we(e)}},{key:"jog",value:function(e){return new ke(e)}},{key:"labelPrinter",value:function(e){return new Se(e)}},{key:"layout",value:function(e){return new xe(e)}},{key:"level",value:function(e){return new Ae(e)}},{key:"linearized",value:function(e){return new Oe(e)}},{key:"locale",value:function(e){return new Ce(e)}},{key:"localeSet",value:function(e){return new Te(e)}},{key:"log",value:function(e){return new Fe(e)}},{key:"map",value:function(e){return new Pe(e)}},{key:"mediumInfo",value:function(e){return new _e(e)}},{key:"message",value:function(e){return new Ie(e)}},{key:"messaging",value:function(e){return new Ee(e)}},{key:"mode",value:function(e){return new je(e)}},{key:"modifyAnnots",value:function(e){return new Re(e)}},{key:"msgId",value:function(e){return new Me(e)}},{key:"nameAttr",value:function(e){return new Ne(e)}},{key:"neverEmbed",value:function(e){return new Be(e)}},{key:"numberOfCopies",value:function(e){return new De(e)}},{key:"openAction",value:function(e){return new Le(e)}},{key:"output",value:function(e){return new Ue(e)}},{key:"outputBin",value:function(e){return new qe(e)}},{key:"outputXSL",value:function(e){return new Xe(e)}},{key:"overprint",value:function(e){return new He(e)}},{key:"packets",value:function(e){return new $e(e)}},{key:"pageOffset",value:function(e){return new ze(e)}},{key:"pageRange",value:function(e){return new Ge(e)}},{key:"pagination",value:function(e){return new We(e)}},{key:"paginationOverride",value:function(e){return new Ve(e)}},{key:"part",value:function(e){return new Ke(e)}},{key:"pcl",value:function(e){return new Ye(e)}},{key:"pdf",value:function(e){return new Je(e)}},{key:"pdfa",value:function(e){return new Ze(e)}},{key:"permissions",value:function(e){return new Qe(e)}},{key:"pickTrayByPDFSize",value:function(e){return new et(e)}},{key:"picture",value:function(e){return new tt(e)}},{key:"plaintextMetadata",value:function(e){return new rt(e)}},{key:"presence",value:function(e){return new nt(e)}},{key:"present",value:function(e){return new at(e)}},{key:"print",value:function(e){return new it(e)}},{key:"printHighQuality",value:function(e){return new ot(e)}},{key:"printScaling",value:function(e){return new st(e)}},{key:"printerName",value:function(e){return new ct(e)}},{key:"producer",value:function(e){return new ut(e)}},{key:"ps",value:function(e){return new lt(e)}},{key:"range",value:function(e){return new ft(e)}},{key:"record",value:function(e){return new ht(e)}},{key:"relevant",value:function(e){return new dt(e)}},{key:"rename",value:function(e){return new pt(e)}},{key:"renderPolicy",value:function(e){return new gt(e)}},{key:"runScripts",value:function(e){return new mt(e)}},{key:"script",value:function(e){return new vt(e)}},{key:"scriptModel",value:function(e){return new yt(e)}},{key:"severity",value:function(e){return new bt(e)}},{key:"silentPrint",value:function(e){return new wt(e)}},{key:"staple",value:function(e){return new kt(e)}},{key:"startNode",value:function(e){return new St(e)}},{key:"startPage",value:function(e){return new xt(e)}},{key:"submitFormat",value:function(e){return new At(e)}},{key:"submitUrl",value:function(e){return new Ot(e)}},{key:"subsetBelow",value:function(e){return new Ct(e)}},{key:"suppressBanner",value:function(e){return new Tt(e)}},{key:"tagged",value:function(e){return new Ft(e)}},{key:"template",value:function(e){return new Pt(e)}},{key:"templateCache",value:function(e){return new Et(e)}},{key:"threshold",value:function(e){return new _t(e)}},{key:"to",value:function(e){return new It(e)}},{key:"trace",value:function(e){return new jt(e)}},{key:"transform",value:function(e){return new Rt(e)}},{key:"type",value:function(e){return new Mt(e)}},{key:"uri",value:function(e){return new Nt(e)}},{key:"validate",value:function(e){return new Bt(e)}},{key:"validateApprovalSignatures",value:function(e){return new Dt(e)}},{key:"validationMessaging",value:function(e){return new Lt(e)}},{key:"version",value:function(e){return new Ut(e)}},{key:"versionControl",value:function(e){return new qt(e)}},{key:"viewerPreferences",value:function(e){return new Xt(e)}},{key:"webClient",value:function(e){return new Ht(e)}},{key:"whitespace",value:function(e){return new $t(e)}},{key:"window",value:function(e){return new zt(e)}},{key:"xdc",value:function(e){return new Gt(e)}},{key:"xdp",value:function(e){return new Wt(e)}},{key:"xsl",value:function(e){return new Vt(e)}},{key:"zpl",value:function(e){return new Kt(e)}}]),e}();t.ConfigNamespace=Yt},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionSetNamespace=void 0;var a=r(178),i=r(176);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=a.NamespaceIds.connectionSet.id,p=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"connectionSet",!0)).wsdlConnection=new i.XFAObjectArray,n.xmlConnection=new i.XFAObjectArray,n.xsdConnection=new i.XFAObjectArray,n}return r}(i.XFAObject),g=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"effectiveInputPolicy")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.XFAObject),m=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"effectiveOutputPolicy")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.XFAObject),v=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"operation")).id=e.id||"",n.input=e.input||"",n.name=e.name||"",n.output=e.output||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.StringObject),y=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"rootElement")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.StringObject),b=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"soapAction")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.StringObject),w=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"soapAddress")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.StringObject),k=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"uri")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.StringObject),S=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"wsdlAddress")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.StringObject),x=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"wsdlConnection",!0)).dataDescription=e.dataDescription||"",n.name=e.name||"",n.effectiveInputPolicy=null,n.effectiveOutputPolicy=null,n.operation=null,n.soapAction=null,n.soapAddress=null,n.wsdlAddress=null,n}return r}(i.XFAObject),A=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"xmlConnection",!0)).dataDescription=e.dataDescription||"",n.name=e.name||"",n.uri=null,n}return r}(i.XFAObject),O=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"xsdConnection",!0)).dataDescription=e.dataDescription||"",n.name=e.name||"",n.rootElement=null,n.uri=null,n}return r}(i.XFAObject),C=function(){function e(){s(this,e)}var t,r,n;return t=e,r=null,n=[{key:a.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"connectionSet",value:function(e){return new p(e)}},{key:"effectiveInputPolicy",value:function(e){return new g(e)}},{key:"effectiveOutputPolicy",value:function(e){return new m(e)}},{key:"operation",value:function(e){return new v(e)}},{key:"rootElement",value:function(e){return new y(e)}},{key:"soapAction",value:function(e){return new b(e)}},{key:"soapAddress",value:function(e){return new w(e)}},{key:"uri",value:function(e){return new k(e)}},{key:"wsdlAddress",value:function(e){return new S(e)}},{key:"wsdlConnection",value:function(e){return new x(e)}},{key:"xmlConnection",value:function(e){return new A(e)}},{key:"xsdConnection",value:function(e){return new O(e)}}],r&&o(t.prototype,r),n&&o(t,n),e}();t.ConnectionSetNamespace=C},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetsNamespace=void 0;var a=r(176),i=r(178);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=i.NamespaceIds.datasets.id,g=function(e){u(r,e);var t=f(r);function r(e){return c(this,r),t.call(this,p,"data",e)}return r}(a.XmlObject),m=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"datasets",!0)).data=null,n.Signature=null,n}return s(r,[{key:a.$onChild,value:function(e){var t=e[a.$nodeName];"data"===t&&e[a.$namespaceId]===p||"Signature"===t&&e[a.$namespaceId]===i.NamespaceIds.signature.id?this[t]=e:e[a.$global]=!0,this[a.$appendChild](e)}}]),r}(a.XFAObject),v=function(){function e(){c(this,e)}return s(e,null,[{key:i.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"datasets",value:function(e){return new m(e)}},{key:"data",value:function(e){return new g(e)}}]),e}();t.DatasetsNamespace=v},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.LocaleSetNamespace=void 0;var a=r(178),i=r(176),o=r(177);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=a.NamespaceIds.localeSet.id,g=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"calendarSymbols",!0)).name="gregorian",n.dayNames=new i.XFAObjectArray(2),n.eraNames=null,n.meridiemNames=null,n.monthNames=new i.XFAObjectArray(2),n}return r}(i.XFAObject),m=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"currencySymbol")).name=(0,o.getStringOption)(e.name,["symbol","isoname","decimal"]),n}return r}(i.StringObject),v=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"currencySymbols",!0)).currencySymbol=new i.XFAObjectArray(3),n}return r}(i.XFAObject),y=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"datePattern")).name=(0,o.getStringOption)(e.name,["full","long","med","short"]),n}return r}(i.StringObject),b=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"datePatterns",!0)).datePattern=new i.XFAObjectArray(4),n}return r}(i.XFAObject),w=function(e){u(r,e);var t=f(r);function r(e){return c(this,r),t.call(this,p,"dateTimeSymbols")}return r}(i.ContentObject),k=function(e){u(r,e);var t=f(r);function r(e){return c(this,r),t.call(this,p,"day")}return r}(i.StringObject),S=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"dayNames",!0)).abbr=(0,o.getInteger)({data:e.abbr,defaultValue:0,validate:function(e){return 1===e}}),n.day=new i.XFAObjectArray(7),n}return r}(i.XFAObject),x=function(e){u(r,e);var t=f(r);function r(e){return c(this,r),t.call(this,p,"era")}return r}(i.StringObject),A=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"eraNames",!0)).era=new i.XFAObjectArray(2),n}return r}(i.XFAObject),O=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"locale",!0)).desc=e.desc||"",n.name="isoname",n.calendarSymbols=null,n.currencySymbols=null,n.datePatterns=null,n.dateTimeSymbols=null,n.numberPatterns=null,n.numberSymbols=null,n.timePatterns=null,n.typeFaces=null,n}return r}(i.XFAObject),C=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"localeSet",!0)).locale=new i.XFAObjectArray,n}return r}(i.XFAObject),T=function(e){u(r,e);var t=f(r);function r(e){return c(this,r),t.call(this,p,"meridiem")}return r}(i.StringObject),F=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"meridiemNames",!0)).meridiem=new i.XFAObjectArray(2),n}return r}(i.XFAObject),P=function(e){u(r,e);var t=f(r);function r(e){return c(this,r),t.call(this,p,"month")}return r}(i.StringObject),_=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"monthNames",!0)).abbr=(0,o.getInteger)({data:e.abbr,defaultValue:0,validate:function(e){return 1===e}}),n.month=new i.XFAObjectArray(12),n}return r}(i.XFAObject),I=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"numberPattern")).name=(0,o.getStringOption)(e.name,["full","long","med","short"]),n}return r}(i.StringObject),E=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"numberPatterns",!0)).numberPattern=new i.XFAObjectArray(4),n}return r}(i.XFAObject),j=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"numberSymbol")).name=(0,o.getStringOption)(e.name,["decimal","grouping","percent","minus","zero"]),n}return r}(i.StringObject),R=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"numberSymbols",!0)).numberSymbol=new i.XFAObjectArray(5),n}return r}(i.XFAObject),M=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"timePattern")).name=(0,o.getStringOption)(e.name,["full","long","med","short"]),n}return r}(i.StringObject),N=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"timePatterns",!0)).timePattern=new i.XFAObjectArray(4),n}return r}(i.XFAObject),B=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"typeFace",!0)).name=""|e.name,n}return r}(i.XFAObject),D=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"typeFaces",!0)).typeFace=new i.XFAObjectArray,n}return r}(i.XFAObject),L=function(){function e(){c(this,e)}var t,r,n;return t=e,r=null,n=[{key:a.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"calendarSymbols",value:function(e){return new g(e)}},{key:"currencySymbol",value:function(e){return new m(e)}},{key:"currencySymbols",value:function(e){return new v(e)}},{key:"datePattern",value:function(e){return new y(e)}},{key:"datePatterns",value:function(e){return new b(e)}},{key:"dateTimeSymbols",value:function(e){return new w(e)}},{key:"day",value:function(e){return new k(e)}},{key:"dayNames",value:function(e){return new S(e)}},{key:"era",value:function(e){return new x(e)}},{key:"eraNames",value:function(e){return new A(e)}},{key:"locale",value:function(e){return new O(e)}},{key:"localeSet",value:function(e){return new C(e)}},{key:"meridiem",value:function(e){return new T(e)}},{key:"meridiemNames",value:function(e){return new F(e)}},{key:"month",value:function(e){return new P(e)}},{key:"monthNames",value:function(e){return new _(e)}},{key:"numberPattern",value:function(e){return new I(e)}},{key:"numberPatterns",value:function(e){return new E(e)}},{key:"numberSymbol",value:function(e){return new j(e)}},{key:"numberSymbols",value:function(e){return new R(e)}},{key:"timePattern",value:function(e){return new M(e)}},{key:"timePatterns",value:function(e){return new N(e)}},{key:"typeFace",value:function(e){return new B(e)}},{key:"typeFaces",value:function(e){return new D(e)}}],r&&s(t.prototype,r),n&&s(t,n),e}();t.LocaleSetNamespace=L},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureNamespace=void 0;var a=r(178),i=r(176);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=a.NamespaceIds.signature.id,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,e);var t=u(r);function r(e){return s(this,r),t.call(this,h,"signature",!0)}return r}(i.XFAObject),p=function(){function e(){s(this,e)}var t,r,n;return t=e,r=null,n=[{key:a.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"signature",value:function(e){return new d(e)}}],r&&o(t.prototype,r),n&&o(t,n),e}();t.SignatureNamespace=p},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.StylesheetNamespace=void 0;var a=r(178),i=r(176);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=a.NamespaceIds.stylesheet.id,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,e);var t=u(r);function r(e){return s(this,r),t.call(this,h,"stylesheet",!0)}return r}(i.XFAObject),p=function(){function e(){s(this,e)}var t,r,n;return t=e,r=null,n=[{key:a.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"stylesheet",value:function(e){return new d(e)}}],r&&o(t.prototype,r),n&&o(t,n),e}();t.StylesheetNamespace=p},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XdpNamespace=void 0;var a=r(178),i=r(176);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=a.NamespaceIds.xdp.id,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,e);var t=l(r);function r(e){var n;return o(this,r),(n=t.call(this,d,"xdp",!0)).uuid=e.uuid||"",n.timeStamp=e.timeStamp||"",n.config=null,n.connectionSet=null,n.datasets=null,n.localeSet=null,n.stylesheet=new i.XFAObjectArray,n.template=null,n}return c(r,[{key:i.$onChildCheck,value:function(e){var t=a.NamespaceIds[e[i.$nodeName]];return t&&e[i.$namespaceId]===t.id}}]),r}(i.XFAObject),g=function(){function e(){o(this,e)}return c(e,null,[{key:a.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"xdp",value:function(e){return new p(e)}}]),e}();t.XdpNamespace=g},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XhtmlNamespace=void 0;var a=r(176),i=r(178),o=r(181),s=r(177);function c(e,t,r){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}},c(e,t,r||e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=i.NamespaceIds.xhtml.id,k=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),S=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",function(e){return"none"===e?"none":"normal"}],["xfa-font-horizontal-scale",function(e){return"scaleX(".concat(Math.max(0,Math.min(parseInt(e)/100)).toFixed(2),")")}],["xfa-font-vertical-scale",function(e){return"scaleY(".concat(Math.max(0,Math.min(parseInt(e)/100)).toFixed(2),")")}],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",function(e){return(0,o.measureToString)(1*(0,s.getMeasurement)(e))}],["letter-spacing",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["line-height",function(e){return(0,o.measureToString)(.99*(0,s.getMeasurement)(e))}],["margin",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["margin-bottom",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["margin-left",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["margin-right",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["margin-top",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["text-indent",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["font-family",function(e){return(0,o.getFonts)(e)}]]),x=/\\s+/g,A=/[\\r\\n]+/g;function O(e){var t=Object.create(null);if(!e)return t;var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}(e.split(";").map((function(e){return e.split(":",2)})));try{for(n.s();!(r=n.n()).done;){var a=v(r.value,2),i=a[0],s=a[1],c=S.get(i);if(""!==c){var u=s;c&&(u="string"==typeof c?c:c(s)),i.endsWith("scale")?t.transform?t.transform="".concat(t[i]," ").concat(u):t.transform=u:t[i.replaceAll(/-([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}))]=u}}}catch(e){n.e(e)}finally{n.f()}return(0,o.fixTextIndent)(t),t}var C=new Set(["body","html"]),T=function(e){h(r,e);var t=p(r);function r(e,n){var a,i;return u(this,r),(a=t.call(this,w,n)).style=(i=e.style)?i.trim().split(/\\s*;\\s*/).filter((function(e){return!!e})).map((function(e){return e.split(/\\s*:\\s*/,2)})).filter((function(e){var t=v(e,1)[0];return k.has(t)})).map((function(e){return e.join(":")})).join(";"):"",a}return f(r,[{key:a.$acceptWhitespace,value:function(){return!C.has(this[a.$nodeName])}},{key:a.$onText,value:function(e){e=e.replace(A,""),this.style.includes("xfa-spacerun:yes")||(e=e.replace(x," ")),e&&(this[a.$content]+=e)}},{key:a.$toHTML,value:function(e){var t=[];return this[a.$extra]={children:t},this[a.$childrenToHTML]({}),0!==t.length||this[a.$content]?s.HTMLResult.success({name:this[a.$nodeName],attributes:{href:this.href,style:O(this.style)},children:t,value:this[a.$content]||""}):s.HTMLResult.EMPTY}}]),r}(a.XmlObject),F=function(e){h(r,e);var t=p(r);function r(e){var n;return u(this,r),(n=t.call(this,e,"a")).href=e.href||"",n}return r}(T),P=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"b")}return r}(T),_=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"body")}return f(r,[{key:a.$toHTML,value:function(e){var t=c(m(r.prototype),a.$toHTML,this).call(this,e),n=t.html;return n?(n.name="div",n.attributes.class="xfaRich",t):s.HTMLResult.EMPTY}}]),r}(T),I=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"br")}return f(r,[{key:a.$text,value:function(){return"\\n"}},{key:a.$toHTML,value:function(e){return s.HTMLResult.success({name:"br"})}}]),r}(T),E=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"html")}return f(r,[{key:a.$toHTML,value:function(e){var t=[];if(this[a.$extra]={children:t},this[a.$childrenToHTML]({}),0===t.length)return s.HTMLResult.success({name:"div",attributes:{class:"xfaRich",style:{}},value:this[a.$content]||""});if(1===t.length){var r=t[0];if(r.attributes&&"xfaRich"===r.attributes.class)return s.HTMLResult.success(r)}return s.HTMLResult.success({name:"div",attributes:{class:"xfaRich",style:{}},children:t})}}]),r}(T),j=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"i")}return r}(T),R=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"li")}return r}(T),M=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"ol")}return r}(T),N=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"p")}return f(r,[{key:a.$text,value:function(){return c(m(r.prototype),a.$text,this).call(this)+"\\n"}}]),r}(T),B=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"span")}return r}(T),D=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"sub")}return r}(T),L=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"sup")}return r}(T),U=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"ul")}return r}(T),q=function(){function e(){u(this,e)}return f(e,null,[{key:i.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"a",value:function(e){return new F(e)}},{key:"b",value:function(e){return new P(e)}},{key:"body",value:function(e){return new _(e)}},{key:"br",value:function(e){return new I(e)}},{key:"html",value:function(e){return new E(e)}},{key:"i",value:function(e){return new j(e)}},{key:"li",value:function(e){return new R(e)}},{key:"ol",value:function(e){return new M(e)}},{key:"p",value:function(e){return new N(e)}},{key:"span",value:function(e){return new B(e)}},{key:"sub",value:function(e){return new D(e)}},{key:"sup",value:function(e){return new L(e)}},{key:"ul",value:function(e){return new U(e)}}]),e}();t.XhtmlNamespace=q},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownNamespace=void 0;var n=r(178),a=r(176);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.namespaceId=t}var t,r,o;return t=e,(r=[{key:n.$buildXFAObject,value:function(e,t){return new a.XmlObject(this.namespaceId,e,t)}}])&&i(t.prototype,r),o&&i(t,o),e}();t.UnknownNamespace=o},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XRef=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4),o=r(113),s=r(125),c=r(117),u=r(173);function l(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){l(i,n,a,o,s,"next",e)}function s(e){l(i,n,a,o,s,"throw",e)}o(void 0)}))}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stream=t,this.pdfManager=r,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this.stats={streamTypes:Object.create(null),fontTypes:Object.create(null)},this._newRefNum=null}var t,r,n,l,d;return t=e,r=[{key:"getNewRef",value:function(){return null===this._newRefNum&&(this._newRefNum=this.entries.length),o.Ref.get(this._newRefNum++,0)}},{key:"resetNewRef",value:function(){this._newRefNum=null}},{key:"setStartXRef",value:function(e){this.startXRefQueue=[e]}},{key:"parse",value:function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n?((0,i.warn)("Indexing all PDF objects"),e=this.indexObjects()):e=this.readXRef(),e.assignXref(this),this.trailer=e;try{t=e.get("Encrypt")}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.warn)('XRef.parse - Invalid "Encrypt" reference: "'.concat(e,'".'))}if((0,o.isDict)(t)){var a=e.get("ID"),s=a&&a.length?a[0]:"";t.suppressEncryption=!0,this.encrypt=new u.CipherTransformFactory(t,s,this.pdfManager.password)}try{r=e.get("Root")}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.warn)('XRef.parse - Invalid "Root" reference: "'.concat(e,'".'))}if(!(0,o.isDict)(r)||!r.has("Pages")){if(!n)throw new c.XRefParseException;throw new i.FormatError("Invalid root reference")}this.root=r}},{key:"processXRefTable",value:function(e){"tableState"in this||(this.tableState={entryNum:0,streamPos:e.lexer.stream.pos,parserBuf1:e.buf1,parserBuf2:e.buf2});var t=this.readXRefTable(e);if(!(0,o.isCmd)(t,"trailer"))throw new i.FormatError("Invalid XRef table: could not find trailer dictionary");var r=e.getObj();if(!(0,o.isDict)(r)&&r.dict&&(r=r.dict),!(0,o.isDict)(r))throw new i.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,r}},{key:"readXRefTable",value:function(e){var t,r=e.lexer.stream,n=this.tableState;for(r.pos=n.streamPos,e.buf1=n.parserBuf1,e.buf2=n.parserBuf2;;){if(!("firstEntryNum"in n)||!("entryCount"in n)){if((0,o.isCmd)(t=e.getObj(),"trailer"))break;n.firstEntryNum=t,n.entryCount=e.getObj()}var a=n.firstEntryNum,s=n.entryCount;if(!Number.isInteger(a)||!Number.isInteger(s))throw new i.FormatError("Invalid XRef table: wrong types in subsection header");for(var c=n.entryNum;c<s;c++){n.streamPos=r.pos,n.entryNum=c,n.parserBuf1=e.buf1,n.parserBuf2=e.buf2;var u={};u.offset=e.getObj(),u.gen=e.getObj();var l=e.getObj();if(l instanceof o.Cmd)switch(l.cmd){case"f":u.free=!0;break;case"n":u.uncompressed=!0}if(!Number.isInteger(u.offset)||!Number.isInteger(u.gen)||!u.free&&!u.uncompressed)throw new i.FormatError("Invalid entry in XRef subsection: ".concat(a,", ").concat(s));0===c&&u.free&&1===a&&(a=0),this.entries[c+a]||(this.entries[c+a]=u)}n.entryNum=0,n.streamPos=r.pos,n.parserBuf1=e.buf1,n.parserBuf2=e.buf2,delete n.firstEntryNum,delete n.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new i.FormatError("Invalid XRef table: unexpected first object");return t}},{key:"processXRefStream",value:function(e){if(!("streamState"in this)){var t=e.dict,r=t.get("W"),n=t.get("Index");n||(n=[0,t.get("Size")]),this.streamState={entryRanges:n,byteWidths:r,entryNum:0,streamPos:e.pos}}return this.readXRefStream(e),delete this.streamState,e.dict}},{key:"readXRefStream",value:function(e){var t,r,n=this.streamState;e.pos=n.streamPos;for(var a=n.byteWidths,o=a[0],s=a[1],c=a[2],u=n.entryRanges;u.length>0;){var l=u[0],f=u[1];if(!Number.isInteger(l)||!Number.isInteger(f))throw new i.FormatError("Invalid XRef range fields: ".concat(l,", ").concat(f));if(!Number.isInteger(o)||!Number.isInteger(s)||!Number.isInteger(c))throw new i.FormatError("Invalid XRef entry fields length: ".concat(l,", ").concat(f));for(t=n.entryNum;t<f;++t){n.entryNum=t,n.streamPos=e.pos;var h=0,d=0,p=0;for(r=0;r<o;++r)h=h<<8|e.getByte();for(0===o&&(h=1),r=0;r<s;++r)d=d<<8|e.getByte();for(r=0;r<c;++r)p=p<<8|e.getByte();var g={};switch(g.offset=d,g.gen=p,h){case 0:g.free=!0;break;case 1:g.uncompressed=!0;break;case 2:break;default:throw new i.FormatError("Invalid XRef entry type: ".concat(h))}this.entries[l+t]||(this.entries[l+t]=g)}n.entryNum=0,n.streamPos=e.pos,u.splice(0,2)}}},{key:"indexObjects",value:function(){function e(e,t){for(var r="",n=e[t];10!==n&&13!==n&&60!==n&&!(++t>=e.length);)r+=String.fromCharCode(n),n=e[t];return r}function t(e,t,r){for(var n=r.length,a=e.length,i=0;t<a;){for(var o=0;o<n&&e[t+o]===r[o];)++o;if(o>=n)break;t++,i++}return i}var r=/^(\\d+)\\s+(\\d+)\\s+obj\\b/,n=/\\bendobj[\\b\\s]$/,a=/\\s+(\\d+\\s+\\d+\\s+obj[\\b\\s<])$/,c=new Uint8Array([116,114,97,105,108,101,114]),u=new Uint8Array([115,116,97,114,116,120,114,101,102]),l=new Uint8Array([111,98,106]),f=new Uint8Array([47,88,82,101,102]);this.entries.length=0;var h=this.stream;h.pos=0;for(var d,p=h.getBytes(),g=p.length,m=h.start,v=[],y=[];m<g;){var b=p[m];if(9!==b&&10!==b&&13!==b&&32!==b)if(37!==b){var w=e(p,m),k=void 0;if(w.startsWith("xref")&&(4===w.length||/\\s/.test(w[4])))m+=t(p,m,c),v.push(m),m+=t(p,m,u);else if(k=r.exec(w)){var S=0|k[1],x=0|k[2];this.entries[S]&&this.entries[S].gen!==x||(this.entries[S]={offset:m-h.start,gen:x,uncompressed:!0});for(var A=void 0,O=m+w.length;O<p.length;){var C=O+t(p,O,l)+4;A=C-m;var T=Math.max(C-25,O),F=(0,i.bytesToString)(p.subarray(T,C));if(n.test(F))break;var P=a.exec(F);if(P&&P[1]){(0,i.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),A-=P[1].length;break}O=C}var _=p.subarray(m,m+A),I=t(_,0,f);I<A&&_[I+5]<64&&(y.push(m-h.start),this.xrefstms[m-h.start]=1),m+=A}else w.startsWith("trailer")&&(7===w.length||/\\s/.test(w[7]))?(v.push(m),m+=t(p,m,u)):m+=w.length+1}else do{if(++m>=g)break;b=p[m]}while(10!==b&&13!==b);else++m}for(var E=0,j=y.length;E<j;++E)this.startXRefQueue.push(y[E]),this.readXRef(!0);for(var R=0,M=v.length;R<M;++R){h.pos=v[R];var N=new s.Parser({lexer:new s.Lexer(h),xref:this,allowStreams:!0,recoveryMode:!0}),B=N.getObj();if((0,o.isCmd)(B,"trailer")){var D=N.getObj();if((0,o.isDict)(D)){try{var L=D.get("Root");if(!(L instanceof o.Dict))continue;var U=L.get("Pages");if(!(U instanceof o.Dict))continue;var q=U.get("Count");if(!Number.isInteger(q))continue}catch(e){continue}if(D.has("ID"))return D;d=D}}}if(d)return d;throw new i.InvalidPDFException("Invalid PDF structure.")}},{key:"readXRef",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.stream,r=new Set;try{for(;this.startXRefQueue.length;){var n=this.startXRefQueue[0];if(r.has(n))(0,i.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();else{r.add(n),t.pos=n+t.start;var a=new s.Parser({lexer:new s.Lexer(t),xref:this,allowStreams:!0}),u=a.getObj(),l=void 0;if((0,o.isCmd)(u,"xref")){if(l=this.processXRefTable(a),this.topDict||(this.topDict=l),u=l.get("XRefStm"),Number.isInteger(u)){var f=u;f in this.xrefstms||(this.xrefstms[f]=1,this.startXRefQueue.push(f))}}else{if(!Number.isInteger(u))throw new i.FormatError("Invalid XRef stream header");if(!Number.isInteger(a.getObj())||!(0,o.isCmd)(a.getObj(),"obj")||!(0,o.isStream)(u=a.getObj()))throw new i.FormatError("Invalid XRef stream");if(l=this.processXRefStream(u),this.topDict||(this.topDict=l),!l)throw new i.FormatError("Failed to read XRef stream")}u=l.get("Prev"),Number.isInteger(u)?this.startXRefQueue.push(u):(0,o.isRef)(u)&&this.startXRefQueue.push(u.num),this.startXRefQueue.shift()}}return this.topDict}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.info)("(while reading XRef): "+e)}if(!e)throw new c.XRefParseException}},{key:"getEntry",value:function(e){var t=this.entries[e];return t&&!t.free&&t.offset?t:null}},{key:"fetchIfRef",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e instanceof o.Ref?this.fetch(e,t):e}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof o.Ref))throw new Error("ref object is not a reference");var r=e.num,n=this._cacheMap.get(r);if(void 0!==n)return n instanceof o.Dict&&!n.objId&&(n.objId=e.toString()),n;var a=this.getEntry(r);return null===a?(this._cacheMap.set(r,a),a):(a=a.uncompressed?this.fetchUncompressed(e,a,t):this.fetchCompressed(e,a,t),(0,o.isDict)(a)?a.objId=e.toString():(0,o.isStream)(a)&&(a.dict.objId=e.toString()),a)}},{key:"fetchUncompressed",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.gen,a=e.num;if(t.gen!==n)throw new c.XRefEntryException("Inconsistent generation in XRef: ".concat(e));var i=this.stream.makeSubStream(t.offset+this.stream.start),u=new s.Parser({lexer:new s.Lexer(i),xref:this,allowStreams:!0}),l=u.getObj(),f=u.getObj(),h=u.getObj();if(l!==a||f!==n||!(h instanceof o.Cmd))throw new c.XRefEntryException("Bad (uncompressed) XRef entry: ".concat(e));if("obj"!==h.cmd){if(h.cmd.startsWith("obj")&&(a=parseInt(h.cmd.substring(3),10),!Number.isNaN(a)))return a;throw new c.XRefEntryException("Bad (uncompressed) XRef entry: ".concat(e))}return t=this.encrypt&&!r?u.getObj(this.encrypt.createCipherTransform(a,n)):u.getObj(),(0,o.isStream)(t)||this._cacheMap.set(a,t),t}},{key:"fetchCompressed",value:function(e,t){var r=t.offset,n=this.fetch(o.Ref.get(r,0));if(!(0,o.isStream)(n))throw new i.FormatError("bad ObjStm stream");var a=n.dict.get("First"),u=n.dict.get("N");if(!Number.isInteger(a)||!Number.isInteger(u))throw new i.FormatError("invalid first and n parameters for ObjStm stream");for(var l=new s.Parser({lexer:new s.Lexer(n),xref:this,allowStreams:!0}),f=new Array(u),h=new Array(u),d=0;d<u;++d){var p=l.getObj();if(!Number.isInteger(p))throw new i.FormatError("invalid object number in the ObjStm stream: ".concat(p));var g=l.getObj();if(!Number.isInteger(g))throw new i.FormatError("invalid object offset in the ObjStm stream: ".concat(g));f[d]=p,h[d]=g}for(var m=(n.start||0)+a,v=new Array(u),y=0;y<u;++y){var b=y<u-1?h[y+1]-h[y]:void 0;if(b<0)throw new i.FormatError("Invalid offset in the ObjStm stream.");var w=(l=new s.Parser({lexer:new s.Lexer(n.makeSubStream(m+h[y],b,n.dict)),xref:this,allowStreams:!0})).getObj();if(v[y]=w,!(0,o.isStream)(w)){var k=f[y],S=this.entries[k];S&&S.offset===r&&S.gen===y&&this._cacheMap.set(k,w)}}if(void 0===(t=v[t.gen]))throw new c.XRefEntryException("Bad (compressed) XRef entry: ".concat(e));return t}},{key:"fetchIfRefAsync",value:(d=f(a.default.mark((function e(t,r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof o.Ref)){e.next=2;break}return e.abrupt("return",this.fetchAsync(t,r));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"fetchAsync",value:(l=f(a.default.mark((function e(t,r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.fetch(t,r));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof c.MissingDataException){e.next=8;break}throw e.t0;case 8:return e.next=10,this.pdfManager.requestRange(e.t0.begin,e.t0.end);case 10:return e.abrupt("return",this.fetchAsync(t,r));case 11:case"end":return e.stop()}}),e,this,[[0,4]])}))),function(e,t){return l.apply(this,arguments)})},{key:"getCatalogObj",value:function(){return this.root}}],r&&h(t.prototype,r),n&&h(t,n),e}();t.XRef=d},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4);function o(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var u=1,l=2,f=1,h=2,d=3,p=4,g=5,m=6,v=7,y=8;function b(e){if("object"!==c(e)||null===e)return e;switch(e.name){case"AbortException":return new i.AbortException(e.message);case"MissingPDFException":return new i.MissingPDFException(e.message);case"UnexpectedResponseException":return new i.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new i.UnknownErrorException(e.message,e.details);default:return new i.UnknownErrorException(e.message,e.toString())}}var w=function(){function e(t,r,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceName=t,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===a.sourceName)if(t.stream)a._processStreamMessage(t);else if(t.callback){var r=t.callbackId,i=a.callbackCapabilities[r];if(!i)throw new Error("Cannot resolve callback ".concat(r));if(delete a.callbackCapabilities[r],t.callback===u)i.resolve(t.data);else{if(t.callback!==l)throw new Error("Unexpected callback case");i.reject(b(t.reason))}}else{var o=a.actionHandler[t.action];if(!o)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var s=a.sourceName,c=t.sourceName;new Promise((function(e){e(o(t.data))})).then((function(e){n.postMessage({sourceName:s,targetName:c,callback:u,callbackId:t.callbackId,data:e})}),(function(e){n.postMessage({sourceName:s,targetName:c,callback:l,callbackId:t.callbackId,reason:b(e)})}))}else t.streamId?a._createStreamSink(t):o(t.data)}},n.addEventListener("message",this._onComObjOnMessage)}var t,r,n,c,w;return t=e,r=[{key:"on",value:function(e,t){var r=this.actionHandler;if(r[e])throw new Error('There is already an actionName called "'.concat(e,'"'));r[e]=t}},{key:"send",value:function(e,t,r){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}},{key:"sendWithPromise",value:function(e,t,r){var n=this.callbackId++,a=(0,i.createPromiseCapability)();this.callbackCapabilities[n]=a;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:n,data:t},r)}catch(e){a.reject(e)}return a.promise}},{key:"sendWithStream",value:function(e,t,r,n){var a=this,o=this.streamId++,s=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:function(r){var u=(0,i.createPromiseCapability)();return a.streamControllers[o]={controller:r,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},a._postMessage({sourceName:s,targetName:c,action:e,streamId:o,data:t,desiredSize:r.desiredSize},n),u.promise},pull:function(e){var t=(0,i.createPromiseCapability)();return a.streamControllers[o].pullCall=t,u.postMessage({sourceName:s,targetName:c,stream:m,streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,i.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,i.createPromiseCapability)();return a.streamControllers[o].cancelCall=t,a.streamControllers[o].isClosed=!0,u.postMessage({sourceName:s,targetName:c,stream:f,streamId:o,reason:b(e)}),t.promise}},r)}},{key:"_createStreamSink",value:function(e){var t=this,r=this.actionHandler[e.action],n=e.streamId,a=this.sourceName,o=e.sourceName,s=this.comObj,c={enqueue:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var c=this.desiredSize;this.desiredSize-=r,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:a,targetName:o,stream:p,streamId:n,chunk:e},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:a,targetName:o,stream:d,streamId:n}),delete t.streamSinks[n])},error:function(e){(0,i.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:a,targetName:o,stream:g,streamId:n,reason:b(e)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,new Promise((function(t){t(r(e.data,c))})).then((function(){s.postMessage({sourceName:a,targetName:o,stream:y,streamId:n,success:!0})}),(function(e){s.postMessage({sourceName:a,targetName:o,stream:y,streamId:n,reason:b(e)})}))}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,r=this.sourceName,n=e.sourceName,a=this.comObj;switch(e.stream){case y:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(b(e.reason));break;case v:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(b(e.reason));break;case m:if(!this.streamSinks[t]){a.postMessage({sourceName:r,targetName:n,stream:v,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;var o=this.streamSinks[e.streamId].onPull;new Promise((function(e){e(o&&o())})).then((function(){a.postMessage({sourceName:r,targetName:n,stream:v,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:r,targetName:n,stream:v,streamId:t,reason:b(e)})}));break;case p:if((0,i.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case d:if((0,i.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case g:(0,i.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(b(e.reason)),this._deleteStreamController(t);break;case h:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(b(e.reason)),this._deleteStreamController(t);break;case f:if(!this.streamSinks[t])break;var s=this.streamSinks[e.streamId].onCancel;new Promise((function(t){t(s&&s(b(e.reason)))})).then((function(){a.postMessage({sourceName:r,targetName:n,stream:h,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:r,targetName:n,stream:h,streamId:t,reason:b(e)})})),this.streamSinks[t].sinkCapability.reject(b(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(c=a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(e){return e&&e.promise})));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}}),e,this)})),w=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=c.apply(e,t);function i(e){o(a,r,n,i,s,"next",e)}function s(e){o(a,r,n,i,s,"throw",e)}i(void 0)}))},function(e){return w.apply(this,arguments)})},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}],r&&s(t.prototype,r),n&&s(t,n),e}();t.MessageHandler=w},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFWorkerStream=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4);function o(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){o(i,n,a,s,c,"next",e)}function c(e){o(i,n,a,s,c,"throw",e)}s(void 0)}))}}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}var d=function(){function e(t){l(this,e),this._msgHandler=t,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}return h(e,[{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new p(this._msgHandler),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var r=new g(e,t,this._msgHandler);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t,r=c(this._rangeRequestReaders.slice(0));try{for(r.s();!(t=r.n()).done;)t.value.cancel(e)}catch(e){r.e(e)}finally{r.f()}}}]),e}();t.PDFWorkerStream=d;var p=function(){function e(t){var r=this;l(this,e),this._msgHandler=t,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;var n=this._msgHandler.sendWithStream("GetReader");this._reader=n.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then((function(e){r._isStreamingSupported=e.isStreamingSupported,r._isRangeSupported=e.isRangeSupported,r._contentLength=e.contentLength}))}var t;return h(e,[{key:"headersReady",get:function(){return this._headersReady}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"read",value:(t=s(a.default.mark((function e(){var t,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._reader.read();case 2:if(t=e.sent,r=t.value,!t.done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return e.abrupt("return",{value:r.buffer,done:!1});case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader.cancel(e)}}]),e}(),g=function(){function e(t,r,n){l(this,e),this._msgHandler=n,this.onProgress=null;var a=this._msgHandler.sendWithStream("GetRangeReader",{begin:t,end:r});this._reader=a.getReader()}var t;return h(e,[{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(t=s(a.default.mark((function e(){var t,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._reader.read();case 2:if(t=e.sent,r=t.value,!t.done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return e.abrupt("return",{value:r.buffer,done:!1});case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader.cancel(e)}}]),e}()}],t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var a={};return(()=>{"use strict";var e=a;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"WorkerMessageHandler",{enumerable:!0,get:function(){return t.WorkerMessageHandler}});var t=n(1)})(),a})()},e.exports=n()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();r(636)})();`,"Worker",void 0,void 0)};const ve={name:"VuePdfEmbed",props:{disableAnnotationLayer:Boolean,disableTextLayer:Boolean,height:[Number,String],id:String,imageResourcesPath:String,page:Number,rotation:{type:[Number,String],default:0,validator:function(re){if(re%90!=0)throw new Error("Rotation must be 0 or a multiple of 90.");return!0}},scale:Number,source:{type:[Object,String,URL,Uint8Array],required:!0},width:[Number,String]},data:function(){return{document:null,pageCount:null,pageNums:[]}},computed:{linkService:function(){var re=this;if(!this.document||this.disableAnnotationLayer)return null;var Ae=new f.PDFLinkService;return Ae.setDocument(this.document),Ae.setViewer({scrollPageIntoView:function(_){var d=_.pageNumber;re.$emit("internal-link-clicked",d)}}),Ae}},created:function(){var re=this;this.$watch(function(){return[re.source,re.disableAnnotationLayer,re.disableTextLayer,re.height,re.page,re.rotation,re.width]},function(){var Ae=we(regeneratorRuntime.mark(function _(d,g){var de,m,Oe,Be;return regeneratorRuntime.wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(de=$e(d,1),m=de[0],Oe=$e(g,1),Be=Oe[0],m===Be){Me.next=6;break}return Le(re.$el),Me.next=6,re.load();case 6:re.render();case 7:case"end":return Me.stop()}},_)}));return function(_,d){return Ae.apply(this,arguments)}}())},mounted:function(){var re=this;return we(regeneratorRuntime.mark(function Ae(){return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,re.load();case 2:re.render();case 3:case"end":return _.stop()}},Ae)}))()},beforeDestroy:function(){var re;Le(this.$el),(re=this.document)===null||re===void 0||re.destroy()},beforeUnmount:function(){var re;Le(this.$el),(re=this.document)===null||re===void 0||re.destroy()},methods:{getPageDimensions:function(re){var Ae,_;return this.height&&!this.width?Ae=(_=this.height)/re:_=(Ae=this.width||this.$el.clientWidth)*re,[Ae,_]},load:function(){var re=this;return we(regeneratorRuntime.mark(function Ae(){var _;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(re.source){d.next=2;break}return d.abrupt("return");case 2:if(d.prev=2,!re.source._pdfInfo){d.next=7;break}re.document=re.source,d.next=13;break;case 7:return(_=s.getDocument(re.source)).onProgress=function(g){re.$emit("progress",g)},_.onPassword=function(g,de){var m=de===s.PasswordResponses.INCORRECT_PASSWORD;re.$emit("password-requested",g,m)},d.next=12,_.promise;case 12:re.document=d.sent;case 13:re.pageCount=re.document.numPages,re.$emit("loaded",re.document),d.next=23;break;case 17:d.prev=17,d.t0=d.catch(2),re.document=null,re.pageCount=null,re.pageNums=[],re.$emit("loading-failed",d.t0);case 23:case"end":return d.stop()}},Ae,null,[[2,17]])}))()},print:function(){var re=arguments,Ae=this;return we(regeneratorRuntime.mark(function _(){var d,g,de,m,Oe,Be,Me,Fe,$,ee;return regeneratorRuntime.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:if(d=re.length>0&&re[0]!==void 0?re[0]:300,g=re.length>1&&re[1]!==void 0?re[1]:"",de=re.length>2&&re[2]!==void 0&&re[2],Ae.document){ke.next=5;break}return ke.abrupt("return");case 5:return m=d/72,Oe=96/72,ke.prev=7,(Be=document.createElement("div")).style.display="none",window.document.body.appendChild(Be),ke.next=13,Se(Be);case 13:return Me=ke.sent,$=Ae.page&&!de?[Ae.page]:We(Array(Ae.document.numPages+1).keys()).slice(1),ke.next=17,Promise.all($.map(function(){var je=we(regeneratorRuntime.mark(function He(qe,ze){var at,et,tt,Ze,st,ut;return regeneratorRuntime.wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.next=2,Ae.document.getPage(qe);case 2:return at=Je.sent,et=at.getViewport({scale:1,rotation:0}),ze===0&&(tt=et.width*m/Oe,Ze=et.height*m/Oe,L(Me,tt,Ze)),(st=document.createElement("canvas")).width=et.width*m,st.height=et.height*m,Be.appendChild(st),ut=st.cloneNode(),Me.contentWindow.document.body.appendChild(ut),Je.next=13,at.render({canvasContext:st.getContext("2d"),intent:"print",transform:[m,0,0,m,0,0],viewport:et}).promise;case 13:ut.getContext("2d").drawImage(st,0,0);case 14:case"end":return Je.stop()}},He)}));return function(He,qe){return je.apply(this,arguments)}}()));case 17:g&&(Fe=window.document.title,window.document.title=g),Me.contentWindow.focus(),Me.contentWindow.print(),ke.next=25;break;case 22:ke.prev=22,ke.t0=ke.catch(7),Ae.$emit("printing-failed",ke.t0);case 25:return ke.prev=25,Fe&&(window.document.title=Fe),Le(Be),(ee=Be.parentNode)===null||ee===void 0||ee.removeChild(Be),ke.finish(25);case 30:case"end":return ke.stop()}},_,null,[[7,22,25,30]])}))()},render:function(){var re=this;return we(regeneratorRuntime.mark(function Ae(){return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(re.document){_.next=2;break}return _.abrupt("return");case 2:return _.prev=2,re.pageNums=re.page?[re.page]:We(Array(re.document.numPages+1).keys()).slice(1),_.next=6,Promise.all(re.pageNums.map(function(){var d=we(regeneratorRuntime.mark(function g(de,m){var Oe,Be,Me,Fe,$,ee,ke,je,He,qe;return regeneratorRuntime.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return ze.next=2,re.document.getPage(de);case 2:return Oe=ze.sent,Be=re.rotation+Oe.rotate,Me=$e(re.$el.children[m].children,3),Fe=Me[0],$=Me[1],ee=Me[2],ke=re.getPageDimensions(Be/90%2?Oe.view[2]/Oe.view[3]:Oe.view[3]/Oe.view[2]),je=$e(ke,2),He=je[0],qe=je[1],Fe.style.width="".concat(Math.floor(He),"px"),Fe.style.height="".concat(Math.floor(qe),"px"),ze.next=10,re.renderPage(Oe,Fe,He,Be);case 10:if(re.disableTextLayer){ze.next=13;break}return ze.next=13,re.renderPageTextLayer(Oe,$,He,Be);case 13:if(re.disableAnnotationLayer){ze.next=16;break}return ze.next=16,re.renderPageAnnotationLayer(Oe,ee||$,He,Be);case 16:case"end":return ze.stop()}},g)}));return function(g,de){return d.apply(this,arguments)}}()));case 6:re.$emit("rendered"),_.next=15;break;case 9:_.prev=9,_.t0=_.catch(2),re.document=null,re.pageCount=null,re.pageNums=[],re.$emit("rendering-failed",_.t0);case 15:case"end":return _.stop()}},Ae,null,[[2,9]])}))()},renderPage:function(re,Ae,_,d){var g=this;return we(regeneratorRuntime.mark(function de(){var m,Oe,Be;return regeneratorRuntime.wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return Oe=d/90%2?re.view[3]:re.view[2],Be=re.getViewport({scale:(m=g.scale)!==null&&m!==void 0?m:Math.ceil(_/Oe)+1,rotation:d}),Ae.width=Be.width,Ae.height=Be.height,Me.next=6,re.render({canvasContext:Ae.getContext("2d"),viewport:Be}).promise;case 6:case"end":return Me.stop()}},de)}))()},renderPageAnnotationLayer:function(re,Ae,_,d){var g=this;return we(regeneratorRuntime.mark(function de(){var m;return regeneratorRuntime.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return ge(Ae),m=d/90%2?re.view[3]:re.view[2],Oe.t0=s.AnnotationLayer,Oe.next=5,re.getAnnotations();case 5:Oe.t1=Oe.sent,Oe.t2=Ae,Oe.t3=g.linkService,Oe.t4=re,Oe.t5=re.getViewport({scale:_/m,rotation:d}).clone({dontFlip:!0}),Oe.t6=g.imageResourcesPath,Oe.t7={annotations:Oe.t1,div:Oe.t2,linkService:Oe.t3,page:Oe.t4,renderInteractiveForms:!1,viewport:Oe.t5,imageResourcesPath:Oe.t6},Oe.t0.render.call(Oe.t0,Oe.t7);case 13:case"end":return Oe.stop()}},de)}))()},renderPageTextLayer:function(re,Ae,_,d){return we(regeneratorRuntime.mark(function g(){var de;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return ge(Ae),de=d/90%2?re.view[3]:re.view[2],m.t0=s,m.t1=Ae,m.next=6,re.getTextContent();case 6:return m.t2=m.sent,m.t3=re.getViewport({scale:_/de,rotation:d}),m.t4={container:m.t1,textContent:m.t2,viewport:m.t3},m.next=11,m.t0.renderTextLayer.call(m.t0,m.t4).promise;case 11:case"end":return m.stop()}},g)}))()}}};__webpack_require__(18);var Ce=function(re,Ae,_,d,g,de,m,Oe){var Be,Me=typeof re=="function"?re.options:re;if(Ae&&(Me.render=Ae,Me.staticRenderFns=_,Me._compiled=!0),d&&(Me.functional=!0),de&&(Me._scopeId="data-v-"+de),m?(Be=function(ee){(ee=ee||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__>"u"||(ee=__VUE_SSR_CONTEXT__),g&&g.call(this,ee),ee&&ee._registeredComponents&&ee._registeredComponents.add(m)},Me._ssrRegister=Be):g&&(Be=Oe?function(){g.call(this,(Me.functional?this.parent:this).$root.$options.shadowRoot)}:g),Be)if(Me.functional){Me._injectStyles=Be;var Fe=Me.render;Me.render=function(ee,ke){return Be.call(ke),Fe(ee,ke)}}else{var $=Me.beforeCreate;Me.beforeCreate=$?[].concat($,Be):[Be]}return{exports:re,options:Me}}(ve,o,t.staticRenderFns,!1,null,null,null);Ce.options.__file="src/vue-pdf-embed.vue";const Ee=Ce.exports;Ee.getDocument=s.getDocument,typeof window<"u"&&window.Vue&&(window.VuePdfEmbed=Ee);const xe=Ee})(),__webpack_exports__})()})})(vue3PdfEmbed);var vue3PdfEmbedExports=vue3PdfEmbed.exports;const VuePdfEmbed=getDefaultExportFromCjs(vue3PdfEmbedExports),_sfc_main$4={components:{VuePdfEmbed},data(){return{TOKEN:"",publicPath:"/mythreeorg/",magazines:[],imageUrl:"",images:[],array:[],pdfSource:"'https://raw.githubusercontent.com/mozilla/pdf.js/ba2edeae/examples/learning/helloworld.pdf",isLoading:!0}},async created(){await fetchImageURL("logo.png").then(t=>{this.TOKEN=getTokenFromUrl(t)}),await readCollection(MitraRashmiBucket).then(t=>{t.map(e=>{this.magazines.push({title:e.data.title,id:e.id,imageName:getFullUrlPath(MitraRashmiBucket,e.data.imageName,this.TOKEN),linkToMagazine:e.data.linkToMagazine,publishedDate:e.data.publishedDate})}),this.magazines=sortByDateDescending(this.magazines)})},methods:{handleDocumentRender(){this.isLoading=!1},handleClick(t){document.getElementById("modal-id").style.display="block"}}},MitraRashmi_vue_vue_type_style_index_0_scoped_3272a96c_lang="",_withScopeId=t=>(pushScopeId("data-v-3272a96c"),t=t(),popScopeId(),t),_hoisted_1$4=_withScopeId(()=>createBaseVNode("header",{class:"w3-container w3-teal w3-center",style:{padding:"64px 16px"}},[createBaseVNode("h3",{class:"w3-margin w3-jumbo"}," "),createBaseVNode("p",{class:"w3-xlarge"},"   ")],-1)),_hoisted_2$3={class:"w3-row-padding w3-padding-32 w3-container"},_hoisted_3$2=_withScopeId(()=>createBaseVNode("h2",{class:"w3-text-teal w3-center"},"   ?        ",-1)),_hoisted_4$2={class:"w3-third w3-container w3-margin-bottom",style:{"box-shadow":"0 4px 8px rgba(0, 0, 0, 0.1)"}},_hoisted_5$2={class:"w3-image-container",style:{height:"300px",display:"flex","justify-content":"center"}},_hoisted_6$2=["href"],_hoisted_7$2=["src","alt"],_hoisted_8$2={class:"w3-container w3-white w3-center"},_hoisted_9$2=createStaticVNode('<h2 class="w3-text-teal w3-center" data-v-3272a96c> </h2><div class="w3-container w3-padding-16" data-v-3272a96c><p data-v-3272a96c>    ? ,     </p></div><div class="w3-container w3-padding-16" data-v-3272a96c><p class="w3-text-teal" data-v-3272a96c> </p><p data-v-3272a96c> , ,  ,  ,   , ,    ,  ,  ,   ,         ,  ,   , , ,   ,  , , , , , ,  ,   : , , , ,  ,  ,   ,  , , ,    , , ,         .  .  </p></div><div class="w3-container w3-padding-16" data-v-3272a96c><p class="w3-text-teal" data-v-3272a96c>   </p><p data-v-3272a96c>  editormrashmi@gmail.com (-)   9448243724 WhatsApp  </p></div><div class="w3-container w3-padding-16" data-v-3272a96c><p class="w3-text-teal" data-v-3272a96c>  </p><p data-v-3272a96c> -     ,     </p></div><h3 class="w3-text-teal w3-center" data-v-3272a96c> ?   !</h3>',6);function _sfc_render$4(t,e,n,a,i,o){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$4,createBaseVNode("div",_hoisted_2$3,[_hoisted_3$2,(openBlock(!0),createElementBlock(Fragment,null,renderList(i.magazines,s=>(openBlock(),createElementBlock("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$2,[createBaseVNode("a",{href:`${s.linkToMagazine}`,target:"_blank"},[createBaseVNode("img",{src:`${s.imageName}`,alt:`${s.title}`,style:{"max-width":"100%","max-height":"100%"}},null,8,_hoisted_7$2)],8,_hoisted_6$2)]),createBaseVNode("div",_hoisted_8$2,[createBaseVNode("p",null,[createBaseVNode("b",null,toDisplayString(s.title),1)])])]))),256)),_hoisted_9$2])],64)}const MitraRashmi=_export_sfc(_sfc_main$4,[["render",_sfc_render$4],["__scopeId","data-v-3272a96c"]]),_sfc_main$3={props:{title:{type:String,required:!0},folderName:{type:String,required:!0}},data(){return{TOKEN:"",publicPath:"/mythreeorg/",allImages:[],displayedImages:[],selectedImageUrl:"",currentIndex:0,stepCount:10}},async created(){await fetchImageURL("logo.png").then(t=>{this.TOKEN=getTokenFromUrl(t)}),await fetchFileNames(this.folderName).then(t=>{t.sort((e,n)=>e.toLowerCase().localeCompare(n.toLowerCase())).forEach(e=>{let n=getFullUrlPath(this.folderName,e,this.TOKEN);this.allImages.push(n)}),this.loadImages()})},methods:{handleClick(t){this.selectedImageUrl=t,document.getElementById("modal-id").style.display="block"},loadImages(){for(let t=this.currentIndex;t<Math.min(this.currentIndex+this.stepCount,this.allImages.length);t++)this.displayedImages.push(this.allImages[t]);this.currentIndex+=this.stepCount}}},_hoisted_1$3={class:"w3-container w3-teal w3-center",style:{padding:"64px 16px"}},_hoisted_2$2={class:"w3-margin w3-jumbo"},_hoisted_3$1={class:"w3-row-padding w3-padding-32 w3-container",style:{"padding-bottom":"0px!important"}},_hoisted_4$1={key:0,class:"w3-center"},_hoisted_5$1={key:1,class:"w3-center"},_hoisted_6$1={class:"w3-third w3-container w3-margin-bottom",style:{"box-shadow":"0 4px 8px rgba(0, 0, 0, 0.1)"}},_hoisted_7$1={class:"w3-image-container",style:{height:"300px",display:"flex","align-items":"center","justify-content":"center"}},_hoisted_8$1=["src","onClick"],_hoisted_9$1={class:"w3-padding-small w3-center"},_hoisted_10$1={id:"modal-id",class:"w3-modal"},_hoisted_11$1={class:"w3-modal-content"},_hoisted_12$1={class:"w3-container"},_hoisted_13$1=createBaseVNode("span",{onclick:"document.getElementById('modal-id').style.display='none'",class:"w3-button w3-display-topright w3-padding-large w3-xxlarge"},"",-1),_hoisted_14$1={class:"w3-image-container",style:{height:"500px",display:"flex","justify-content":"center"}},_hoisted_15=["src"];function _sfc_render$3(t,e,n,a,i,o){return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("header",_hoisted_1$3,[createBaseVNode("h3",_hoisted_2$2,toDisplayString(n.title),1)]),createBaseVNode("div",_hoisted_3$1,[i.allImages.length==0?(openBlock(),createElementBlock("h2",_hoisted_4$1,"Loading...")):(openBlock(),createElementBlock("p",_hoisted_5$1,"Displaying "+toDisplayString(i.displayedImages.length)+" of "+toDisplayString(i.allImages.length)+" images",1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(i.displayedImages,s=>(openBlock(),createElementBlock("div",_hoisted_6$1,[createBaseVNode("div",_hoisted_7$1,[createBaseVNode("img",{src:`${s}`,alt:"image",style:{"max-width":"100%","max-height":"100%"},onClick:u=>o.handleClick(s)},null,8,_hoisted_8$1)])]))),256))]),createBaseVNode("div",_hoisted_9$1,[i.currentIndex<i.allImages.length?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"w3-button w3-teal w3-padding-large w3-large",onClick:e[0]||(e[0]=(...s)=>o.loadImages&&o.loadImages(...s))},"Load more...")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_10$1,[createBaseVNode("div",_hoisted_11$1,[createBaseVNode("div",_hoisted_12$1,[_hoisted_13$1,createBaseVNode("div",_hoisted_14$1,[createBaseVNode("img",{src:`${i.selectedImageUrl}`,alt:"image",style:{"max-width":"100%","max-height":"100%"}},null,8,_hoisted_15)])])])])],64)}const DailyArticle=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),_sfc_main$2={data(){return{publicPath:"/mythreeorg/",events:[],groups:[],groupedEvents:{},TOKEN:""}},async created(){await fetchImageURL("logo.png").then(t=>{this.TOKEN=getTokenFromUrl(t)}),await readCollection(GroupsBucket).then(t=>{t.map(e=>{this.groups.push({id:e.id,title:e.data.title,orderId:e.data.orderId})})}),await readCollection(EventsBucket).then(t=>{t.map(e=>{this.events.push({description:e.data.description,details:e.data.details,id:e.id,imageName:getFullUrlPath(EventsBucket,e.data.imageName,this.TOKEN),joiningLink:e.data.joiningLink,name:e.data.name,groupId:e.data.groupId,orderId:e.data.orderId})})}).then(()=>{let t=groupBy("groupId")(this.events);this.groupedEvents=Object.entries(t).sort(([e,n],[a,i])=>{const o=this.groups.find(u=>u.id===e),s=this.groups.find(u=>u.id===a);return o&&s?Number(o.orderId)-Number(s.orderId):0}).reduce((e,[n,a])=>(e[n]=a,e),{})})},methods:{getGroupName(t){var e;return(e=this.groups.find(n=>n.id==t))==null?void 0:e.title},getGroupOrderId(t){var e;return(e=this.groups.find(n=>n.id==t))==null?void 0:e.orderId},sortByOrderId(t){return t.sort((e,n)=>e.orderId===void 0&&n.orderId===void 0?0:e.orderId===void 0?-1:n.orderId===void 0?1:Number(e.orderId)-Number(n.orderId))}}},_hoisted_1$2=createBaseVNode("header",{class:"w3-container w3-teal w3-center",style:{padding:"64px 16px"}},[createBaseVNode("h3",{class:"w3-margin w3-jumbo"},""),createBaseVNode("p",{class:"w3-xlarge"},"   ")],-1),_hoisted_2$1={class:"w3-row-padding w3-padding-32 w3-container"},_hoisted_3=createBaseVNode("h2",{class:"w3-center"},"     ",-1),_hoisted_4={class:"w3-container"},_hoisted_5={class:"w3-text-teal w3-center"},_hoisted_6={class:"w3-third w3-container w3-margin-bottom",style:{"box-shadow":"0 4px 8px rgba(0, 0, 0, 0.1)"}},_hoisted_7={class:"w3-image-container",style:{height:"300px",display:"flex","align-items":"center","justify-content":"center"}},_hoisted_8=["href"],_hoisted_9=["src","alt"],_hoisted_10={class:"w3-container w3-white w3-center"},_hoisted_11={style:{margin:"0px"}},_hoisted_12={style:{margin:"0px"}},_hoisted_13={style:{margin:"0px"}},_hoisted_14=createBaseVNode("div",{class:"w3-container w3-black w3-center w3-opacity w3-padding-64"},[createBaseVNode("h1",{class:"w3-margin w3-xlarge"}," Link     74835 86269  WhatsApp  .   ")],-1);function _sfc_render$2(t,e,n,a,i,o){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$2,createBaseVNode("div",_hoisted_2$1,[_hoisted_3,(openBlock(!0),createElementBlock(Fragment,null,renderList(i.groupedEvents,(s,u)=>(openBlock(),createElementBlock("div",_hoisted_4,[createBaseVNode("h3",_hoisted_5,toDisplayString(o.getGroupName(u)),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.sortByOrderId(s),c=>(openBlock(),createElementBlock("div",_hoisted_6,[createBaseVNode("div",_hoisted_7,[createBaseVNode("a",{href:`${c.joiningLink}`,target:"_blank"},[createBaseVNode("img",{src:`${c.imageName}`,alt:`${c.name}`,style:{"max-width":"100%","max-height":"300px",padding:"5px"}},null,8,_hoisted_9)],8,_hoisted_8)]),createBaseVNode("div",_hoisted_10,[createBaseVNode("h4",_hoisted_11,[createBaseVNode("b",null,toDisplayString(c.name),1)]),createBaseVNode("p",_hoisted_12,[createBaseVNode("b",null,toDisplayString(c.details),1)]),createBaseVNode("p",_hoisted_13,toDisplayString(c.description),1)])]))),256))]))),256))]),_hoisted_14],64)}const Events=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),Articles_vue_vue_type_style_index_0_scoped_5b9de616_lang="",_sfc_main$1={},_hoisted_1$1=createStaticVNode('<header class="w3-container w3-teal w3-center" style="padding:64px 16px;" data-v-5b9de616><h3 class="w3-margin w3-jumbo" data-v-5b9de616>Links Page</h3><p class="w3-xlarge" data-v-5b9de616>Here are some links grouped by categories.</p></header><div class="w3-row-padding w3-padding-32 w3-container" data-v-5b9de616><div class="w3-col s12 m6 l4 link-group w3-responsive" data-v-5b9de616><h3 data-v-5b9de616>Social Media</h3><ul data-v-5b9de616><li data-v-5b9de616><a href="https://www.facebook.com/" data-v-5b9de616>Facebook</a></li><li data-v-5b9de616><a href="https://www.twitter.com/" data-v-5b9de616>Twitter</a></li><li data-v-5b9de616><a href="https://www.instagram.com/" data-v-5b9de616>Instagram</a></li><li data-v-5b9de616><a href="https://www.linkedin.com/" data-v-5b9de616>LinkedIn</a></li></ul></div><div class="w3-col s12 m6 l4 link-group w3-responsive" data-v-5b9de616><h3 data-v-5b9de616>News</h3><ul data-v-5b9de616><li data-v-5b9de616><a href="https://www.bbc.com/" data-v-5b9de616>BBC</a></li><li data-v-5b9de616><a href="https://www.cnn.com/" data-v-5b9de616>CNN</a></li><li data-v-5b9de616><a href="https://www.nytimes.com/" data-v-5b9de616>New York Times</a></li><li data-v-5b9de616><a href="https://www.thehindu.com/" data-v-5b9de616>The Hindu</a></li></ul></div><div class="w3-col s12 m6 l4 link-group w3-responsive" data-v-5b9de616><h3 data-v-5b9de616>Entertainment</h3><ul data-v-5b9de616><li data-v-5b9de616><a href="https://www.netflix.com/" data-v-5b9de616>Netflix</a></li><li data-v-5b9de616><a href="https://www.youtube.com/" data-v-5b9de616>YouTube</a></li><li data-v-5b9de616><a href="https://www.spotify.com/" data-v-5b9de616>Spotify</a></li><li data-v-5b9de616><a href="https://www.imdb.com/" data-v-5b9de616>IMDb</a></li></ul></div></div>',2);function _sfc_render$1(t,e){return _hoisted_1$1}const Articles=_export_sfc(_sfc_main$1,[["render",_sfc_render$1],["__scopeId","data-v-5b9de616"]]),_sfc_main={},_hoisted_1=createBaseVNode("div",{class:"w3-container w3-black w3-center w3-opacity w3-padding-64"},[createBaseVNode("h1",{class:"w3-margin w3-xlarge"},"          . 50/-   9448243724  PhonePay  ")],-1),_hoisted_2=createBaseVNode("div",{class:"iframe-container"},[createBaseVNode("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSfx3c5267Pc-emHYswdDSmoKC7PUgB9MB6tcWZZ9jA1-zYvGg/viewform?embedded=true",width:"750",height:"1685",frameborder:"0",marginheight:"0",marginwidth:"0"},"Loading")],-1);function _sfc_render(t,e){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1,_hoisted_2],64)}const OrderBooksFormVue=_export_sfc(_sfc_main,[["render",_sfc_render]]),router$1=createRouter({history:createWebHistory("/mythreeorg/"),scrollBehavior(){return{top:0,left:0}},routes:[{path:"/:pathMatch(.*)*",redirect:{name:"home"}},{path:"/",name:"home",component:LayoutHome},{path:"/books",name:"books",component:Publication},{path:"/mitrarashmi",name:"mitrarashmi",component:MitraRashmi},{path:"/events",name:"events",component:Events},{path:"/articles",name:"articles",component:Articles},{path:"/purchase",name:"purchase",component:OrderBooksFormVue},{path:"/admin",name:"admin",component:Admin},{path:"/arogyasubashita",name:"arogyasubashita",component:DailyArticle,props:{title:" ",folderName:"arogya_subashita"}},{path:"/nityasubashita",name:"nityasubashita",component:DailyArticle,props:{title:" ",folderName:"nitya_subashita"}},{path:"/suvachana",name:"suvachana",component:DailyArticle,props:{title:"",folderName:"suvachana"}}]});function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(a){_defineProperty(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var load=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(a,i){if(!(typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");if(s.async=!0,s.src=e,s.defer=n.defer,n.preconnectOrigin){var u=document.createElement("link");u.href=n.preconnectOrigin,u.rel="preconnect",o.appendChild(u)}o.appendChild(s),s.onload=a,s.onerror=i}})},mergeDeep=function t(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];if(!a.length)return e;var o=a.shift();if(!(!isPlainObject(e)||!isPlainObject(o))){for(var s in o)isPlainObject(o[s])?(e[s]||Object.assign(e,_defineProperty({},s,{})),t(e[s],o[s])):Object.assign(e,_defineProperty({},s,o[s]));return t.apply(void 0,[e].concat(a))}},isBrowser=function t(){return!(typeof window>"u"||typeof document>"u")},warn=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;isBrowser()},validateScreenviewShape=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return warn('Missing "appName" property inside the plugin options.',e.app_name==null),warn('Missing "name" property in the route.',e.screen_name==null),e};function getPathWithBase(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.split("/"),a=e.split("/");return n[0]===""&&e[e.length-1]==="/"&&n.shift(),a.join("/")+n.join("/")}var getDefaultParams=function t(){return{bootstrap:!0,onReady:null,onError:null,onBeforeTrack:null,onAfterTrack:null,pageTrackerTemplate:null,customResourceURL:"https://www.googletagmanager.com/gtag/js",customPreconnectOrigin:"https://www.googletagmanager.com",deferScriptLoad:!1,pageTrackerExcludedRoutes:[],pageTrackerEnabled:!0,enabled:!0,disableScriptLoad:!1,pageTrackerScreenviewEnabled:!1,appName:null,pageTrackerUseFullPath:!1,pageTrackerPrependBase:!0,pageTrackerSkipSamePath:!0,globalDataLayerName:"dataLayer",globalObjectName:"gtag",defaultGroupName:"default",includes:null,config:{id:null,params:{send_page_view:!1}}}},params={},setOptions=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=getDefaultParams();params=mergeDeep(n,e)},getOptions=function t(){return params},query=function(){var t,e=getOptions(),n=e.globalObjectName;!isBrowser()||typeof window[n]>"u"||(t=window)[n].apply(t,arguments)},config=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=getOptions(),i=a.config,o=a.includes;query.apply(void 0,["config",i.id].concat(e)),Array.isArray(o)&&o.forEach(function(s){query.apply(void 0,["config",s.id].concat(e))})},assignGlobalProperty=function t(e,n){isBrowser()&&(window["ga-disable-".concat(e)]=n)},disable=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=getOptions(),n=e.config,a=e.includes;assignGlobalProperty(n.id,t),Array.isArray(a)&&a.forEach(function(i){return assignGlobalProperty(i.id,t)})},optOut=function(){disable(!0)},optIn=function(){disable(!1)},router,setRouter=function t(e){router=e},getRouter=function t(){return router},event=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=getOptions(),a=n.includes,i=n.defaultGroupName;e.send_to==null&&Array.isArray(a)&&a.length&&(e.send_to=a.map(function(o){return o.id}).concat(i)),query("event",t,e)},pageview=function(t){if(isBrowser()){var e;if(typeof t=="string")e={page_path:t};else if(t.path||t.fullPath){var n=getOptions(),a=n.pageTrackerUseFullPath,i=n.pageTrackerPrependBase,o=getRouter(),s=o&&o.options.base,u=a?t.fullPath:t.path;e=_objectSpread2(_objectSpread2({},t.name&&{page_title:t.name}),{},{page_path:i?getPathWithBase(u,s):u})}else e=t;e.page_location==null&&(e.page_location=window.location.href),e.send_page_view==null&&(e.send_page_view=!0),event("page_view",e)}},screenview=function(t){var e=getOptions(),n=e.appName;if(t){var a;typeof t=="string"?a={screen_name:t}:a=t,a.app_name=a.app_name||n,event("screen_view",a)}},exception=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];event.apply(void 0,["exception"].concat(e))},linker=function(t){config("linker",t)},time=function(t){event("timing_complete",t)},set=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];query.apply(void 0,["set"].concat(e))},refund=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];event.apply(void 0,["refund"].concat(e))},purchase=function(t){event("purchase",t)},customMap=function(t){config({custom_map:t})},api=Object.freeze({__proto__:null,query,config,optOut,optIn,pageview,screenview,exception,linker,time,set,refund,purchase,customMap,event}),attachApi=function t(e){e.config.globalProperties.$gtag=api},registerGlobals=function(){if(isBrowser()){var t=getOptions(),e=t.enabled,n=t.globalObjectName,a=t.globalDataLayerName;return window[n]==null&&(window[a]=window[a]||[],window[n]=function(){window[a].push(arguments)}),window[n]("js",new Date),e||optOut(),window[n]}},mergeDefaultParams=function t(e){return _objectSpread2({send_page_view:!1},e)},addConfiguration=function(){var t=getOptions(),e=t.config,n=t.includes;query("config",e.id,mergeDefaultParams(e.params)),Array.isArray(n)&&n.forEach(function(a){query("config",a.id,mergeDefaultParams(a.params))})},track=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=getOptions(),a=n.appName,i=n.pageTrackerTemplate,o=n.pageTrackerScreenviewEnabled,s=n.pageTrackerSkipSamePath;if(!(s&&t.path===e.path)){var u=t;if(isFunction(i)?u=i(t,e):o&&(u=validateScreenviewShape({app_name:a,screen_name:t.name})),o){screenview(u);return}pageview(u)}},isRouteExcluded=function t(e){var n=getOptions(),a=n.pageTrackerExcludedRoutes;return a.includes(e.path)||a.includes(e.name)},addRoutesTracker=function(){var t=getOptions(),e=t.onBeforeTrack,n=t.onAfterTrack,a=getRouter();a.isReady().then(function(){nextTick().then(function(){var i=a.currentRoute;addConfiguration(),!isRouteExcluded(i.value)&&track(i.value)}),a.afterEach(function(i,o){nextTick().then(function(){isRouteExcluded(i)||(isFunction(e)&&e(i,o),track(i,o),isFunction(n)&&n(i,o))})})})},bootstrap=function(){var t=getOptions(),e=t.onReady,n=t.onError,a=t.globalObjectName,i=t.globalDataLayerName,o=t.config,s=t.customResourceURL,u=t.customPreconnectOrigin,c=t.deferScriptLoad,f=t.pageTrackerEnabled,L=t.disableScriptLoad,Se=!!(f&&getRouter());if(registerGlobals(),Se?addRoutesTracker():addConfiguration(),!L)return load("".concat(s,"?id=").concat(o.id,"&l=").concat(i),{preconnectOrigin:u,defer:c}).then(function(){e&&e(window[a])}).catch(function(ge){return n&&n(ge),ge})},install=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;attachApi(e),setOptions(n),setRouter(a),getOptions().bootstrap&&bootstrap()};const app=createApp(_sfc_main$8);app.use(router$1);app.use(install,{config:{id:"G-9SZFX4XJTW"}},router$1);app.mount("#app");
